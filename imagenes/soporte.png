itor.wordHighlightBorder",{light:null,dark:null,hcDark:A.activeContrastBorder,hcLight:A.activeContrastBorder},b.localize("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),k=(0,A.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:A.activeContrastBorder,hcLight:A.activeContrastBorder},b.localize("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),x=(0,A.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},b.localize("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),D=(0,A.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},b.localize("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),T=new v.RawContextKey("hasWordHighlights",!1);function M(e,t,i,n){const o=e.ordered(t);return(0,a.first)(o.map((e=>()=>Promise.resolve(e.provideDocumentHighlights(t,i,n)).then(void 0,l.onUnexpectedExternalError))),s.isNonEmptyArray)}t.getOccurrencesAtPosition=M;class B{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,a.createCancelablePromise)((e=>this._compute(this._model,this._selection,this._wordSeparators,e)))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new h.Range(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const n=t.startLineNumber,o=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(s));for(let e=0,t=i.length;!a&&e<t;e++){const t=i.getRange(e);t&&t.startLineNumber===n&&t.startColumn<=o&&t.endColumn>=r&&(a=!0)}return a}cancel(){this.result.cancel()}}class I extends B{constructor(e,t,i,n){super(e,t,i),this._providers=n}_compute(e,t,i,n){return M(this._providers,e,t.getPosition(),n).then((e=>e||[]))}}class L extends B{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return(0,a.timeout)(250,n).then((()=>{if(!t.isEmpty())return[];const n=e.getWordAtPosition(t.getPosition());return!n||n.word.length>1e3?[]:e.findMatches(n.word,!0,!1,!0,i,!1).map((e=>({range:e.range,kind:m.DocumentHighlightKind.Text})))}))}isValid(e,t,i){const n=t.isEmpty();return this._selectionIsEmpty===n&&super.isValid(e,t,i)}}(0,u.registerModelAndPositionCommand)("_executeDocumentHighlights",((e,t,i)=>M(e.get(C.ILanguageFeaturesService).documentHighlightProvider,t,i,c.CancellationToken.None)));class P{constructor(e,t,i){this.toUnhook=new d.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=T.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(73),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{const t=this.editor.getOption(73);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(h.Range.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))+1)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){const o=this.editor.getModel().getLineContent(i.startLineNumber);(0,r.alert)(`${o}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))-1+e.length)%e.length,i=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(i.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(i);const n=this._getWord();if(n){const o=this.editor.getModel().getLineContent(i.startLineNumber);(0,r.alert)(`${o}, ${t+1} of ${e.length} for '${n.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){const e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();const t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i)return void this._stopAll();const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),o)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(r=this.providers,s=this.model,a=this.editor.getSelection(),c=this.editor.getOption(119),r.has(s)?new I(s,a,c,r):new L(s,a,c)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),l.onUnexpectedError)}var r,s,a,c}_beginRenderDecorations(){const e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:P._getDecorationOptions(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===m.DocumentHighlightKind.Write?this._WRITE_OPTIONS:e===m.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}P._WRITE_OPTIONS=f.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,y.themeColorFromId)(D),position:g.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(A.minimapSelectionOccurrenceHighlight),position:g.MinimapPosition.Inline}}),P._TEXT_OPTIONS=f.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,y.themeColorFromId)(A.overviewRulerSelectionHighlightForeground),position:g.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(A.minimapSelectionOccurrenceHighlight),position:g.MinimapPosition.Inline}}),P._REGULAR_OPTIONS=f.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,y.themeColorFromId)(x),position:g.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(A.minimapSelectionOccurrenceHighlight),position:g.MinimapPosition.Inline}});let O=class e extends d.Disposable{static get(t){return t.getContribution(e.ID)}constructor(e,t,i){super(),this.wordHighlighter=null;const n=()=>{e.hasModel()&&(this.wordHighlighter=new P(e,i.documentHighlightProvider,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()}))),n()}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){var e;null===(e=this.wordHighlighter)||void 0===e||e.moveNext()}moveBack(){var e;null===(e=this.wordHighlighter)||void 0===e||e.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};O.ID="editor.contrib.wordHighlighter",O=n([o(1,v.IContextKeyService),o(2,C.ILanguageFeaturesService)],O);class R extends u.EditorAction{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=O.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class N extends u.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:b.localize("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:T.toNegated(),kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=O.get(t);n&&n.restoreViewState(!0)}}(0,u.registerEditorContribution)(O.ID,O),(0,u.registerEditorAction)(class extends R{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:b.localize("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:T,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}),(0,u.registerEditorAction)(class extends R{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:b.localize("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:T,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}),(0,u.registerEditorAction)(N),(0,y.registerThemingParticipant)(((e,t)=>{const i=e.getColor(A.editorSelectionHighlight);i&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${i}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`));const n=e.getColor(_);n&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const o=e.getColor(S);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const r=e.getColor(A.editorSelectionHighlightBorder);r&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,w.isHighContrast)(e.type)?"dotted":"solid"} ${r}; box-sizing: border-box; }`);const s=e.getColor(E);s&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,w.isHighContrast)(e.type)?"dashed":"solid"} ${s}; box-sizing: border-box; }`);const a=e.getColor(k);a&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,w.isHighContrast)(e.type)?"dashed":"solid"} ${a}; box-sizing: border-box; }`)}))},92389:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteInsideWord=t.DeleteWordRight=t.DeleteWordEndRight=t.DeleteWordStartRight=t.DeleteWordLeft=t.DeleteWordEndLeft=t.DeleteWordStartLeft=t.DeleteWordRightCommand=t.DeleteWordLeftCommand=t.DeleteWordCommand=t.CursorWordAccessibilityRightSelect=t.CursorWordAccessibilityRight=t.CursorWordRightSelect=t.CursorWordEndRightSelect=t.CursorWordStartRightSelect=t.CursorWordRight=t.CursorWordEndRight=t.CursorWordStartRight=t.CursorWordAccessibilityLeftSelect=t.CursorWordAccessibilityLeft=t.CursorWordLeftSelect=t.CursorWordEndLeftSelect=t.CursorWordStartLeftSelect=t.CursorWordLeft=t.CursorWordEndLeft=t.CursorWordStartLeft=t.WordRightCommand=t.WordLeftCommand=t.MoveWordCommand=void 0;const n=i(98149),o=i(67653),r=i(99741),s=i(60142),a=i(35424),c=i(19249),l=i(27783),d=i(18170),u=i(47521),h=i(36402),p=i(39422),g=i(9147),f=i(10474),m=i(83913),b=i(94826);class v extends n.EditorCommand{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=(0,c.getMapForWordSeparators)(t.getOption(119)),o=t.getModel(),r=t.getSelections().map((e=>{const t=new l.Position(e.positionLineNumber,e.positionColumn),i=this._move(n,o,t,this._wordNavigationType);return this._moveTo(e,i,this._inSelectionMode)}));if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,r.map((e=>s.CursorState.fromModelSelection(e)))),1===r.length){const e=new l.Position(r[0].positionLineNumber,r[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,i){return i?new u.Selection(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new u.Selection(t.lineNumber,t.column,t.lineNumber,t.column)}}t.MoveWordCommand=v;class A extends v{_move(e,t,i,n){return a.WordOperations.moveWordLeft(e,t,i,n)}}t.WordLeftCommand=A;class y extends v{_move(e,t,i,n){return a.WordOperations.moveWordRight(e,t,i,n)}}t.WordRightCommand=y;class C extends A{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}t.CursorWordStartLeft=C;class w extends A{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}t.CursorWordEndLeft=w;class _ extends A{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:m.ContextKeyExpr.and(h.EditorContextKeys.textInputFocus,null===(e=m.ContextKeyExpr.and(f.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}t.CursorWordLeft=_;class S extends A{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}t.CursorWordStartLeftSelect=S;class E extends A{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}t.CursorWordEndLeftSelect=E;class k extends A{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:m.ContextKeyExpr.and(h.EditorContextKeys.textInputFocus,null===(e=m.ContextKeyExpr.and(f.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}t.CursorWordLeftSelect=k;class x extends A{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.getMapForWordSeparators)(r.EditorOptions.wordSeparators.defaultValue),t,i,n)}}t.CursorWordAccessibilityLeft=x;class D extends A{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.getMapForWordSeparators)(r.EditorOptions.wordSeparators.defaultValue),t,i,n)}}t.CursorWordAccessibilityLeftSelect=D;class T extends y{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}t.CursorWordStartRight=T;class M extends y{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:m.ContextKeyExpr.and(h.EditorContextKeys.textInputFocus,null===(e=m.ContextKeyExpr.and(f.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}t.CursorWordEndRight=M;class B extends y{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}t.CursorWordRight=B;class I extends y{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}t.CursorWordStartRightSelect=I;class L extends y{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:m.ContextKeyExpr.and(h.EditorContextKeys.textInputFocus,null===(e=m.ContextKeyExpr.and(f.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}t.CursorWordEndRightSelect=L;class P extends y{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}t.CursorWordRightSelect=P;class O extends y{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.getMapForWordSeparators)(r.EditorOptions.wordSeparators.defaultValue),t,i,n)}}t.CursorWordAccessibilityRight=O;class R extends y{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.getMapForWordSeparators)(r.EditorOptions.wordSeparators.defaultValue),t,i,n)}}t.CursorWordAccessibilityRightSelect=R;class N extends n.EditorCommand{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const n=e.get(p.ILanguageConfigurationService);if(!t.hasModel())return;const r=(0,c.getMapForWordSeparators)(t.getOption(119)),s=t.getModel(),a=t.getSelections(),l=t.getOption(5),d=t.getOption(8),u=n.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),h=t._getViewModel(),g=a.map((e=>{const i=this._delete({wordSeparators:r,model:s,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:l,autoClosingQuotes:d,autoClosingPairs:u,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new o.ReplaceCommand(i,"")}));t.pushUndoStop(),t.executeCommands(this.id,g),t.pushUndoStop()}}t.DeleteWordCommand=N;class F extends N{_delete(e,t){return a.WordOperations.deleteWordLeft(e,t)||new d.Range(1,1,1,1)}}t.DeleteWordLeftCommand=F;class j extends N{_delete(e,t){const i=a.WordOperations.deleteWordRight(e,t);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new d.Range(n,o,n,o)}}t.DeleteWordRightCommand=j;class W extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:h.EditorContextKeys.writable})}}t.DeleteWordStartLeft=W;class z extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:h.EditorContextKeys.writable})}}t.DeleteWordEndLeft=z;class U extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:h.EditorContextKeys.writable,kbOpts:{kbExpr:h.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}t.DeleteWordLeft=U;class H extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:h.EditorContextKeys.writable})}}t.DeleteWordStartRight=H;class V extends j{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:h.EditorContextKeys.writable})}}t.DeleteWordEndRight=V;class K extends j{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:h.EditorContextKeys.writable,kbOpts:{kbExpr:h.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}t.DeleteWordRight=K;class G extends n.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:h.EditorContextKeys.writable,label:g.localize("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const n=(0,c.getMapForWordSeparators)(t.getOption(119)),r=t.getModel(),s=t.getSelections().map((e=>{const t=a.WordOperations.deleteInsideWord(n,r,e);return new o.ReplaceCommand(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}t.DeleteInsideWord=G,(0,n.registerEditorCommand)(new C),(0,n.registerEditorCommand)(new w),(0,n.registerEditorCommand)(new _),(0,n.registerEditorCommand)(new S),(0,n.registerEditorCommand)(new E),(0,n.registerEditorCommand)(new k),(0,n.registerEditorCommand)(new T),(0,n.registerEditorCommand)(new M),(0,n.registerEditorCommand)(new B),(0,n.registerEditorCommand)(new I),(0,n.registerEditorCommand)(new L),(0,n.registerEditorCommand)(new P),(0,n.registerEditorCommand)(new x),(0,n.registerEditorCommand)(new D),(0,n.registerEditorCommand)(new O),(0,n.registerEditorCommand)(new R),(0,n.registerEditorCommand)(new W),(0,n.registerEditorCommand)(new z),(0,n.registerEditorCommand)(new U),(0,n.registerEditorCommand)(new H),(0,n.registerEditorCommand)(new V),(0,n.registerEditorCommand)(new K),(0,n.registerEditorAction)(G)},915:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CursorWordPartRightSelect=t.CursorWordPartRight=t.WordPartRightCommand=t.CursorWordPartLeftSelect=t.CursorWordPartLeft=t.WordPartLeftCommand=t.DeleteWordPartRight=t.DeleteWordPartLeft=void 0;const n=i(98149),o=i(35424),r=i(18170),s=i(36402),a=i(92389),c=i(96249);class l extends a.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){return o.WordPartOperations.deleteWordPartLeft(e)||new r.Range(1,1,1,1)}}t.DeleteWordPartLeft=l;class d extends a.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=o.WordPartOperations.deleteWordPartRight(e);if(i)return i;const n=e.model.getLineCount(),s=e.model.getLineMaxColumn(n);return new r.Range(n,s,n,s)}}t.DeleteWordPartRight=d;class u extends a.MoveWordCommand{_move(e,t,i,n){return o.WordPartOperations.moveWordPartLeft(e,t,i)}}t.WordPartLeftCommand=u;class h extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}t.CursorWordPartLeft=h,c.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class p extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}t.CursorWordPartLeftSelect=p,c.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class g extends a.MoveWordCommand{_move(e,t,i,n){return o.WordPartOperations.moveWordPartRight(e,t,i)}}t.WordPartRightCommand=g;class f extends g{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}t.CursorWordPartRight=f;class m extends g{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}t.CursorWordPartRightSelect=m,(0,n.registerEditorCommand)(new l),(0,n.registerEditorCommand)(new d),(0,n.registerEditorCommand)(new h),(0,n.registerEditorCommand)(new p),(0,n.registerEditorCommand)(new f),(0,n.registerEditorCommand)(new m)},87122:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZoneWidget=t.OverlayWidgetDelegate=t.ViewZoneDelegate=void 0;const n=i(42535),o=i(47302),r=i(50447),s=i(92682),a=i(755),c=i(31281);i(79387);const l=i(18170),d=i(65556),u=new r.Color(new r.RGBA(0,122,204)),h={showArrow:!0,showFrame:!0,className:"",frameColor:u,arrowColor:u,keepEditorSelection:!1};class p{constructor(e,t,i,n,o,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=r}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}t.ViewZoneDelegate=p;class g{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}t.OverlayWidgetDelegate=g;class f{constructor(e){this._editor=e,this._ruleName=f._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),n.removeCSSRulesContainingSelector(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){n.removeCSSRulesContainingSelector(this._ruleName),n.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){1===e.column&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:l.Range.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}f._IdGenerator=new s.IdGenerator(".arrow-decoration-"),t.ZoneWidget=class{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new a.DisposableStore,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=c.deepClone(t),c.mixin(this.options,h,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)})))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null})),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new f(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;if(this.domNode.style.height=`${e}px`,this.container){const t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}null===(t=this._resizeSash)||void 0===t||t.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=l.Range.isIRange(e)?l.Range.lift(e):l.Range.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:d.ModelDecorationOptions.EMPTY}])}hide(){var e;this._viewZone&&(this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),null===(e=this._arrow)||void 0===e||e.hide()}_decoratingElementsHeight(){const e=this.editor.getOption(60);let t=0;return this.options.showArrow&&(t+=2*Math.round(e/3)),this.options.showFrame&&(t+=2*Math.round(e/9)),t}_showImpl(e,t){const i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";const r=document.createElement("div");r.style.overflow="hidden";const s=this.editor.getOption(60),a=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,a);let c=0,l=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(s/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(l=Math.round(s/9)),this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new p(r,i.lineNumber,i.column,t,(e=>this._onViewZoneTop(e)),(e=>this._onViewZoneHeight(e))),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new g("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:l;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}const d=t*s-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,o),this.options.keepEditorSelection||this.editor.setSelection(e);const u=this.editor.getModel();if(u){const t=e.endLineNumber+1;t<=u.getLineCount()?this.revealLine(t,!1):this.revealLine(u.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new o.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(60),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}},4057:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(97819),i(26762),i(17553),i(14112),i(87171),i(18294),i(45737),i(4913),i(29423),i(12943),i(53751),i(80512),i(17996),i(25243),i(59866),i(12316),i(29491),i(11221),i(72906),i(27148),i(92494),i(45360),i(13349),i(33366),i(88871),i(30052),i(45261),i(16997),i(13717),i(48914),i(51754),i(87074),i(2312),i(78914),i(36054),i(29060),i(71312),i(97925),i(39838),i(21254),i(72660),i(12326),i(9918),i(93437),i(21145),i(56727),i(24328),i(75635),i(18855),i(92389),i(915),i(2954),i(79219),i(90405)},73651:(e,t,i)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.languages=t.editor=t.Token=t.Uri=t.MarkerTag=t.MarkerSeverity=t.SelectionDirection=t.Selection=t.Range=t.Position=t.KeyMod=t.KeyCode=t.Emitter=t.CancellationTokenSource=void 0;const o=i(99741),r=i(66423),s=i(58529),a=i(24738),c=i(83489),l=i(74286);o.EditorOptions.wrappingIndent.defaultValue=0,o.EditorOptions.glyphMargin.defaultValue=!1,o.EditorOptions.autoIndent.defaultValue=3,o.EditorOptions.overviewRulerLanes.defaultValue=2,l.FormattingConflicts.setFormatterSelector(((e,t,i)=>Promise.resolve(e[0])));const d=(0,r.createMonacoBaseAPI)();d.editor=(0,s.createMonacoEditorAPI)(),d.languages=(0,a.createMonacoLanguagesAPI)(),t.CancellationTokenSource=d.CancellationTokenSource,t.Emitter=d.Emitter,t.KeyCode=d.KeyCode,t.KeyMod=d.KeyMod,t.Position=d.Position,t.Range=d.Range,t.Selection=d.Selection,t.SelectionDirection=d.SelectionDirection,t.MarkerSeverity=d.MarkerSeverity,t.MarkerTag=d.MarkerTag,t.Uri=d.Uri,t.Token=d.Token,t.editor=d.editor,t.languages=d.languages,((null===(n=c.globals.MonacoEnvironment)||void 0===n?void 0:n.globalAPI)||i.amdO)&&(self.monaco=d),void 0!==self.require&&"function"==typeof self.require.config&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},39539:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),i(4057),i(5522),i(56371),i(35562),i(18480),i(37223),i(75224),i(89140),i(50513),i(32741),o(i(73651),t)},5522:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),i(15304);const r=i(42535),s=i(79920),a=i(41823),c=i(75345),l=i(44094),d=i(755),u=i(83489),h=i(99722),p=i(33662),g=i(98149),f=i(36402),m=i(21145),b=i(83913),v=i(28888),A=i(79999),y=i(45559),C=i(78002),w=i(56090),_=i(79219),S=new b.RawContextKey("accessibilityHelpWidgetVisible",!1);let E=class e extends d.Disposable{static get(t){return t.getContribution(e.ID)}constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(k,this._editor))}show(){this._widget.show()}hide(){this._widget.hide()}};E.ID="editor.contrib.accessibilityHelpController",E=n([o(1,v.IInstantiationService)],E);let k=class e extends l.Widget{constructor(e,t,i,n){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=n,this._editor=e,this._isVisibleKey=S.bindTo(this._contextKeyService),this._domNode=(0,s.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,s.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register(r.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",(e=>{if(this._isVisible&&(e.equals(2083)&&((0,c.alert)(_.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),r.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){(0,c.alert)(_.AccessibilityHelpNLS.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(p.URI.parse(t)),e.preventDefault(),e.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){const n=this._keybindingService.lookupKeybinding(e);return n?h.format(t,n.getAriaLabel()):h.format(i,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let i=0;if(t){const e=this._editor.getModel();e&&t.forEach((t=>{i+=e.getValueLengthInRange(t)}))}let n=function(e,t){return e&&0!==e.length?1===e.length?t?h.format(_.AccessibilityHelpNLS.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):h.format(_.AccessibilityHelpNLS.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?h.format(_.AccessibilityHelpNLS.multiSelectionRange,e.length,t):e.length>0?h.format(_.AccessibilityHelpNLS.multiSelection,e.length):"":_.AccessibilityHelpNLS.noSelection}(t,i);e.get(55)?e.get(82)?n+=_.AccessibilityHelpNLS.readonlyDiffEditor:n+=_.AccessibilityHelpNLS.editableDiffEditor:e.get(82)?n+=_.AccessibilityHelpNLS.readonlyEditor:n+=_.AccessibilityHelpNLS.editableEditor;const o=u.isMacintosh?_.AccessibilityHelpNLS.changeConfigToOnMac:_.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(e.get(2)){case 0:n+="\n\n - "+o;break;case 2:n+="\n\n - "+_.AccessibilityHelpNLS.auto_on;break;case 1:n+="\n\n - "+_.AccessibilityHelpNLS.auto_off,n+=" "+o}e.get(132)?n+="\n\n - "+this._descriptionForCommand(m.ToggleTabFocusModeAction.ID,_.AccessibilityHelpNLS.tabFocusModeOnMsg,_.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):n+="\n\n - "+this._descriptionForCommand(m.ToggleTabFocusModeAction.ID,_.AccessibilityHelpNLS.tabFocusModeOffMsg,_.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb),n+="\n\n - "+(u.isMacintosh?_.AccessibilityHelpNLS.openDocMac:_.AccessibilityHelpNLS.openDocWinLinux),n+="\n\n"+_.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,a.renderFormattedText)(n)),this._contentDomNode.domNode.setAttribute("aria-label",n)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,r.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){const t=this._editor.getLayoutInfo(),i=Math.max(5,Math.min(e.WIDTH,t.width-40)),n=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(i),this._domNode.setHeight(n);const o=Math.round((t.height-n)/2);this._domNode.setTop(o);const r=Math.round((t.width-i)/2);this._domNode.setLeft(r)}};k.ID="editor.contrib.accessibilityHelpWidget",k.WIDTH=500,k.HEIGHT=300,k=n([o(1,b.IContextKeyService),o(2,A.IKeybindingService),o(3,y.IOpenerService)],k);class x extends g.EditorAction{constructor(){super({id:"editor.action.showAccessibilityHelp",label:_.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const i=E.get(t);null==i||i.show()}}(0,g.registerEditorContribution)(E.ID,E),(0,g.registerEditorAction)(x);const D=g.EditorCommand.bindToContribution(E.get);(0,g.registerEditorCommand)(new D({id:"closeAccessibilityHelp",precondition:S,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:f.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,w.registerThemingParticipant)(((e,t)=>{const i=e.getColor(C.editorWidgetBackground);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${i}; }`);const n=e.getColor(C.editorWidgetForeground);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const o=e.getColor(C.widgetShadow);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const r=e.getColor(C.contrastBorder);r&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${r}; }`)}))},26655:function(e,t,i){"use strict";var n,o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Colorizer=void 0;const r=i(99722),s=i(83071),a=i(40215),c=i(38127),l=i(23069),d=i(60130),u=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("standaloneColorizer",{createHTML:e=>e});function h(e,t,i){let n=[];const o=new Uint32Array(2);o[0]=0,o[1]=33587200;for(let r=0,a=e.length;r<a;r++){const a=e[r];o[0]=a.length;const d=new s.LineTokens(o,a,i),u=l.ViewLineRenderingData.isBasicASCII(a,!0),h=l.ViewLineRenderingData.containsRTL(a,u,!0),p=(0,c.renderViewLine2)(new c.RenderLineInput(!1,!0,a,!1,u,h,0,d,[],t,0,0,0,0,-1,"none",!1,!1,null));n=n.concat(p.html),n.push("<br/>")}return n.join("")}t.Colorizer=class{static colorizeElement(e,t,i,n){const o=(n=n||{}).theme||"vs",r=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();const s=t.getLanguageIdByMimeType(r)||r;e.setTheme(o);const a=i.firstChild?i.firstChild.nodeValue:"";return i.className+=" "+o,this.colorize(t,a||"",s,n).then((e=>{var t;const n=null!==(t=null==u?void 0:u.createHTML(e))&&void 0!==t?t:e;i.innerHTML=n}),(e=>console.error(e)))}static colorize(e,t,i,n){return o(this,void 0,void 0,(function*(){const o=e.languageIdCodec;let u=4;n&&"number"==typeof n.tabSize&&(u=n.tabSize),r.startsWithUTF8BOM(t)&&(t=t.substr(1));const p=r.splitLines(t);if(!e.isRegisteredLanguageId(i))return h(p,u,o);const g=yield a.TokenizationRegistry.getOrCreate(i);return g?function(e,t,i,n){return new Promise(((o,r)=>{const a=()=>{const u=function(e,t,i,n){let o=[],r=i.getInitialState();for(let a=0,d=e.length;a<d;a++){const d=e[a],u=i.tokenizeEncoded(d,!0,r);s.LineTokens.convertToEndOffset(u.tokens,d.length);const h=new s.LineTokens(u.tokens,d,n),p=l.ViewLineRenderingData.isBasicASCII(d,!0),g=l.ViewLineRenderingData.containsRTL(d,p,!0),f=(0,c.renderViewLine2)(new c.RenderLineInput(!1,!0,d,!1,p,g,0,h.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));o=o.concat(f.html),o.push("<br/>"),r=u.endState}return o.join("")}(e,t,i,n);if(i instanceof d.MonarchTokenizer){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(a,r)}o(u)};a()}))}(p,u,g,o):h(p,u,o)}))}static colorizeLine(e,t,i,n,o=4){const r=l.ViewLineRenderingData.isBasicASCII(e,t),s=l.ViewLineRenderingData.containsRTL(e,r,i);return(0,c.renderViewLine2)(new c.RenderLineInput(!1,!0,e,!1,r,s,0,n,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){const n=e.getLineContent(t);e.tokenization.forceTokenization(t);const o=e.tokenization.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),o,i)}}},56371:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPadShowKeyboard=void 0,i(82884);const n=i(42535),o=i(755),r=i(98149),s=i(83489);class a extends o.Disposable{constructor(e){super(),this.editor=e,this.widget=null,s.isIOS&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const e=!this.editor.getOption(82);!this.widget&&e?this.widget=new c(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}t.IPadShowKeyboard=a,a.ID="editor.contrib.iPadShowKeyboard";class c extends o.Disposable{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(n.addDisposableListener(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(n.addDisposableListener(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return c.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}c.ID="editor.contrib.ShowKeyboardWidget",(0,r.registerEditorContribution)(a.ID,a)},35562:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),i(16578);const r=i(42535),s=i(50447),a=i(755),c=i(98149),l=i(40215),d=i(3815),u=i(73793),h=i(49659),p=i(85813),g=i(78002),f=i(56090),m=i(79219),b=i(79864);let v=class e extends a.Disposable{static get(t){return t.getContribution(e.ID)}constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel((e=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((e=>this.stop()))),this._register(l.TokenizationRegistry.onDidChange((e=>this.stop()))),this._register(this._editor.onKeyUp((e=>9===e.keyCode&&this.stop())))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new y(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};v.ID="editor.contrib.inspectTokens",v=n([o(1,p.IStandaloneThemeService),o(2,h.ILanguageService)],v);class A extends c.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:m.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=v.get(t);null==i||i.launch()}}class y extends a.Disposable{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(e,t){const i=l.TokenizationRegistry.get(t);if(i)return i;const n=e.encodeLanguageId(t);return{getInitialState:()=>u.NullState,tokenize:(e,i,n)=>(0,u.nullTokenize)(t,n),tokenizeEncoded:(e,t,i)=>(0,u.nullTokenizeEncoded)(n,i)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((e=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return y._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let n=t.tokens1.length-1;n>=0;n--){const o=t.tokens1[n];if(e.column-1>=o.offset){i=n;break}}let n=0;for(let i=t.tokens2.length>>>1;i>=0;i--)if(e.column-1>=t.tokens2[i<<1]){n=i;break}const o=this._model.getLineContent(e.lineNumber);let a="";if(i<t.tokens1.length){const e=t.tokens1[i].offset,n=i+1<t.tokens1.length?t.tokens1[i+1].offset:o.length;a=o.substring(e,n)}(0,r.reset)(this._domNode,(0,r.$)("h2.tm-token",void 0,function(e){let t="";for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);switch(n){case 9:t+="→";break;case 32:t+="·";break;default:t+=String.fromCharCode(n)}}return t}(a),(0,r.$)("span.tm-token-length",void 0,`${a.length} ${1===a.length?"char":"chars"}`))),(0,r.append)(this._domNode,(0,r.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const c=1+(n<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(n<<1)]):null;(0,r.append)(this._domNode,(0,r.$)("table.tm-metadata-table",void 0,(0,r.$)("tbody",void 0,(0,r.$)("tr",void 0,(0,r.$)("td.tm-metadata-key",void 0,"language"),(0,r.$)("td.tm-metadata-value",void 0,`${c?c.languageId:"-?-"}`)),(0,r.$)("tr",void 0,(0,r.$)("td.tm-metadata-key",void 0,"token type"),(0,r.$)("td.tm-metadata-value",void 0,`${c?this._tokenTypeToString(c.tokenType):"-?-"}`)),(0,r.$)("tr",void 0,(0,r.$)("td.tm-metadata-key",void 0,"font style"),(0,r.$)("td.tm-metadata-value",void 0,`${c?this._fontStyleToString(c.fontStyle):"-?-"}`)),(0,r.$)("tr",void 0,(0,r.$)("td.tm-metadata-key",void 0,"foreground"),(0,r.$)("td.tm-metadata-value",void 0,`${c?s.Color.Format.CSS.formatHex(c.foreground):"-?-"}`)),(0,r.$)("tr",void 0,(0,r.$)("td.tm-metadata-key",void 0,"background"),(0,r.$)("td.tm-metadata-value",void 0,`${c?s.Color.Format.CSS.formatHex(c.background):"-?-"}`))))),(0,r.append)(this._domNode,(0,r.$)("hr.tokens-inspect-separator")),i<t.tokens1.length&&(0,r.append)(this._domNode,(0,r.$)("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=l.TokenizationRegistry.getColorMap(),i=d.TokenMetadata.getLanguageId(e),n=d.TokenMetadata.getTokenType(e),o=d.TokenMetadata.getFontStyle(e),r=d.TokenMetadata.getForeground(e),s=d.TokenMetadata.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:n,fontStyle:o,foreground:t[r],background:t[s]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),8&e&&(t+="strikethrough "),0===t.length&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),n=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}y._ID="editor.contrib.inspectTokensWidget",(0,c.registerEditorContribution)(v.ID,v),(0,c.registerEditorAction)(A),(0,f.registerThemingParticipant)(((e,t)=>{const i=e.getColor(g.editorHoverBorder);if(i){const n=(0,b.isHighContrast)(e.type)?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${n}px solid ${i}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${i}; }`)}const n=e.getColor(g.editorHoverBackground);n&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const o=e.getColor(g.editorHoverForeground);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)}))},89140:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GotoLineAction=t.StandaloneCommandsQuickAccessProvider=void 0;const s=i(81437),a=i(41950),c=i(79219),l=i(29045),d=i(76943),u=i(49929),h=i(28888),p=i(79999),g=i(96249),f=i(51304),m=i(69123),b=i(98149),v=i(36402),A=i(71280);let y=class extends d.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){return(0,u.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}constructor(e,t,i,n,o,r){super({showAlias:!1},e,i,n,o,r),this.codeEditorService=t}getCommandPicks(){return r(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};y=n([o(0,h.IInstantiationService),o(1,l.ICodeEditorService),o(2,p.IKeybindingService),o(3,g.ICommandService),o(4,f.ITelemetryService),o(5,m.IDialogService)],y),t.StandaloneCommandsQuickAccessProvider=y;class C extends b.EditorAction{constructor(){super({id:C.ID,label:c.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:v.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(A.IQuickInputService).quickAccess.show(y.PREFIX)}}t.GotoLineAction=C,C.ID="editor.action.quickCommand",(0,b.registerEditorAction)(C),s.Registry.as(a.Extensions.Quickaccess).registerQuickAccessProvider({ctor:y,prefix:y.PREFIX,helpEntries:[{description:c.QuickCommandNLS.quickCommandHelp,commandId:C.ID}]})},37223:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GotoLineAction=t.StandaloneGotoLineQuickAccessProvider=void 0;const r=i(8661),s=i(81437),a=i(41950),c=i(29045),l=i(49929),d=i(79219),u=i(50855),h=i(98149),p=i(36402),g=i(71280);let f=class extends r.AbstractGotoLineQuickAccessProvider{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=u.Event.None}get activeTextEditorControl(){return(0,l.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};f=n([o(0,c.ICodeEditorService)],f),t.StandaloneGotoLineQuickAccessProvider=f;class m extends h.EditorAction{constructor(){super({id:m.ID,label:d.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(g.IQuickInputService).quickAccess.show(f.PREFIX)}}t.GotoLineAction=m,m.ID="editor.action.gotoLine",(0,h.registerEditorAction)(m),s.Registry.as(a.Extensions.Quickaccess).registerQuickAccessProvider({ctor:f,prefix:f.PREFIX,helpEntries:[{description:d.GoToLineNLS.gotoLineActionLabel,commandId:m.ID}]})},75224:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GotoSymbolAction=t.StandaloneGotoSymbolQuickAccessProvider=void 0,i(90405),i(20110);const r=i(31548),s=i(81437),a=i(41950),c=i(29045),l=i(49929),d=i(79219),u=i(50855),h=i(98149),p=i(36402),g=i(71280),f=i(34636),m=i(42763);let b=class extends r.AbstractGotoSymbolQuickAccessProvider{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=u.Event.None}get activeTextEditorControl(){return(0,l.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}};b=n([o(0,c.ICodeEditorService),o(1,m.ILanguageFeaturesService),o(2,f.IOutlineModelService)],b),t.StandaloneGotoSymbolQuickAccessProvider=b;class v extends h.EditorAction{constructor(){super({id:v.ID,label:d.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:p.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(g.IQuickInputService).quickAccess.show(r.AbstractGotoSymbolQuickAccessProvider.PREFIX)}}t.GotoSymbolAction=v,v.ID="editor.action.quickOutline",(0,h.registerEditorAction)(v),s.Registry.as(a.Extensions.Quickaccess).registerQuickAccessProvider({ctor:b,prefix:r.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:d.QuickOutlineNLS.quickOutlineActionLabel,prefix:r.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:v.ID},{description:d.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:r.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})},18480:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(81437),o=i(41950),r=i(79219),s=i(61911);n.Registry.as(o.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:r.QuickHelpNLS.helpQuickAccessActionLabel}]})},46039:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickInputEditorWidget=t.QuickInputEditorContribution=t.StandaloneQuickInputService=t.EditorScopedQuickInputService=void 0,i(26130);const r=i(98149),s=i(56090),a=i(14537),c=i(28888),l=i(83913),d=i(10474),u=i(54921),h=i(29045),p=i(86788),g=i(33914);let f=class extends p.QuickInputService{constructor(e,t,i,n,o,r){super(t,i,n,o,new u.EditorScopedLayoutService(e.getContainerDomNode(),r)),this.host=void 0;const s=b.get(e);if(s){const t=s.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return t.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};f=n([o(1,c.IInstantiationService),o(2,l.IContextKeyService),o(3,s.IThemeService),o(4,d.IAccessibilityService),o(5,h.ICodeEditorService)],f),t.EditorScopedQuickInputService=f;let m=class{get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(f,e);this.mapEditorToService.set(e,t),(0,g.once)(e.onDidDispose)((()=>{i.dispose(),this.mapEditorToService.delete(e)}))}return t}get quickAccess(){return this.activeService.quickAccess}get backButton(){return this.activeService.backButton}get onShow(){return this.activeService.onShow}get onHide(){return this.activeService.onHide}constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}pick(e,t={},i=a.CancellationToken.None){return this.activeService.pick(e,t,i)}input(e,t){return this.activeService.input(e,t)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}focus(){return this.activeService.focus()}toggle(){return this.activeService.toggle()}navigate(e,t){return this.activeService.navigate(e,t)}accept(){return this.activeService.accept()}back(){return this.activeService.back()}cancel(){return this.activeService.cancel()}};m=n([o(0,c.IInstantiationService),o(1,h.ICodeEditorService)],m),t.StandaloneQuickInputService=m;class b{static get(e){return e.getContribution(b.ID)}constructor(e){this.editor=e,this.widget=new v(this.editor)}dispose(){this.widget.dispose()}}t.QuickInputEditorContribution=b,b.ID="editor.controller.quickInput";class v{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return v.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}t.QuickInputEditorWidget=v,v.ID="editor.contrib.quickInputWidget",(0,r.registerEditorContribution)(b.ID,b)},50513:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.StandaloneReferencesController=void 0;const r=i(98149),s=i(29045),a=i(14431),c=i(34673),l=i(83913),d=i(28888),u=i(88669),h=i(56304);let p=class extends a.ReferencesController{constructor(e,t,i,n,o,r,s){super(!0,e,t,i,n,o,r,s)}};p=n([o(1,l.IContextKeyService),o(2,s.ICodeEditorService),o(3,u.INotificationService),o(4,d.IInstantiationService),o(5,h.IStorageService),o(6,c.IConfigurationService)],p),t.StandaloneReferencesController=p,(0,r.registerEditorContribution)(a.ReferencesController.ID,p)},42425:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTextModel=t.StandaloneDiffEditor=t.StandaloneEditor=t.StandaloneCodeEditor=void 0;const r=i(75345),s=i(755),a=i(29045),c=i(26762),l=i(17553),d=i(67271),u=i(65948),h=i(85813),p=i(97559),g=i(96249),f=i(34673),m=i(83913),b=i(48963),v=i(28888),A=i(79999),y=i(88669),C=i(56090),w=i(10474),_=i(79219),S=i(3557),E=i(15409),k=i(64303),x=i(49659),D=i(42299),T=i(61005),M=i(39422),B=i(42763);let I=0,L=!1,P=class extends c.CodeEditorWidget{constructor(e,t,i,n,o,s,a,c,l,d,h,p){const g=Object.assign({},t);g.ariaLabel=g.ariaLabel||_.StandaloneCodeEditorNLS.editorViewAccessibleLabel,g.ariaLabel=g.ariaLabel+";"+_.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(e,g,{},i,n,o,s,c,l,d,h,p),a instanceof u.StandaloneKeybindingService?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,function(e){if(!e){if(L)return;L=!0}r.setARIAContainer(e||document.body)}(g.ariaContainerElement)}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const n="DYNAMIC_"+ ++I,o=m.ContextKeyExpr.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,o),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),s.Disposable.None;const t=e.id,i=e.label,n=m.ContextKeyExpr.and(m.ContextKeyExpr.equals("editorId",this.getId()),m.ContextKeyExpr.deserialize(e.precondition)),o=e.keybindings,r=m.ContextKeyExpr.and(n,m.ContextKeyExpr.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,c=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i)),u=new s.DisposableStore,h=this.getId()+":"+t;if(u.add(g.CommandsRegistry.registerCommand(h,l)),a){const e={command:{id:h,title:i},when:n,group:a,order:c};u.add(p.MenuRegistry.appendMenuItem(p.MenuId.EditorContext,e))}if(Array.isArray(o))for(const e of o)u.add(this._standaloneKeybindingService.addDynamicKeybinding(h,e,l,r));const f=new d.InternalEditorAction(h,i,i,n,l,this._contextKeyService);return this._actions[t]=f,u.add((0,s.toDisposable)((()=>{delete this._actions[t]}))),u}_triggerCommand(e,t){if(this._codeEditorService instanceof D.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};P=n([o(2,v.IInstantiationService),o(3,a.ICodeEditorService),o(4,g.ICommandService),o(5,m.IContextKeyService),o(6,A.IKeybindingService),o(7,C.IThemeService),o(8,y.INotificationService),o(9,w.IAccessibilityService),o(10,M.ILanguageConfigurationService),o(11,B.ILanguageFeaturesService)],P),t.StandaloneCodeEditor=P;let O=class extends P{constructor(e,t,i,n,o,r,s,a,c,l,d,h,p,g,f){const m=Object.assign({},t);(0,u.updateConfigurationService)(l,m,!1);const b=a.registerEditorContainer(e);"string"==typeof m.theme&&a.setTheme(m.theme),void 0!==m.autoDetectHighContrast&&a.setAutoDetectHighContrast(Boolean(m.autoDetectHighContrast));const v=m.model;let A;if(delete m.model,super(e,m,i,n,o,r,s,a,c,d,g,f),this._configurationService=l,this._standaloneThemeService=a,this._register(b),void 0===v){const e=p.getLanguageIdByMimeType(m.language)||m.language||T.PLAINTEXT_LANGUAGE_ID;A=N(h,p,m.value||"",e,void 0),this._ownsModel=!0}else A=v,this._ownsModel=!1;if(this._attachModel(A),A){const e={oldModelUrl:null,newModelUrl:A.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){(0,u.updateConfigurationService)(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};O=n([o(2,v.IInstantiationService),o(3,a.ICodeEditorService),o(4,g.ICommandService),o(5,m.IContextKeyService),o(6,A.IKeybindingService),o(7,h.IStandaloneThemeService),o(8,y.INotificationService),o(9,f.IConfigurationService),o(10,w.IAccessibilityService),o(11,k.IModelService),o(12,x.ILanguageService),o(13,M.ILanguageConfigurationService),o(14,B.ILanguageFeaturesService)],O),t.StandaloneEditor=O;let R=class extends l.DiffEditorWidget{constructor(e,t,i,n,o,r,s,a,c,l,d){const h=Object.assign({},t);(0,u.updateConfigurationService)(a,h,!0);const p=r.registerEditorContainer(e);"string"==typeof h.theme&&r.setTheme(h.theme),void 0!==h.autoDetectHighContrast&&r.setAutoDetectHighContrast(Boolean(h.autoDetectHighContrast)),super(e,h,{},d,n,i,o,r,s,c,l),this._configurationService=a,this._standaloneThemeService=r,this._register(p)}dispose(){super.dispose()}updateOptions(e){(0,u.updateConfigurationService)(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),void 0!==e.autoDetectHighContrast&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(e.autoDetectHighContrast)),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(P,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};function N(e,t,i,n,o){if(i=i||"",!n){const n=i.indexOf("\n");let r=i;return-1!==n&&(r=i.substring(0,n)),F(e,i,t.createByFilepathOrFirstLine(o||null,r),o)}return F(e,i,t.createById(n),o)}function F(e,t,i,n){return e.createModel(t,i,n)}R=n([o(2,v.IInstantiationService),o(3,m.IContextKeyService),o(4,a.ICodeEditorService),o(5,h.IStandaloneThemeService),o(6,y.INotificationService),o(7,f.IConfigurationService),o(8,b.IContextMenuService),o(9,E.IEditorProgressService),o(10,S.IClipboardService)],R),t.StandaloneDiffEditor=R,t.createTextModel=N},42299:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StandaloneCodeEditorService=void 0;const s=i(42535),a=i(61217),c=i(2786),l=i(29045),d=i(83913),u=i(49371),h=i(56090);let p=class extends c.AbstractCodeEditorService{constructor(e,t){super(t),this.onCodeEditorAdd((()=>this._checkContextKey())),this.onCodeEditorRemove((()=>this._checkContextKey())),this._editorIsOpen=e.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler(((e,t,i)=>r(this,void 0,void 0,(function*(){return t?this.doOpenEditor(t,e):null}))))}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===a.Schemas.http||i===a.Schemas.https)return(0,s.windowOpenNoOpener)(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};p=n([o(0,d.IContextKeyService),o(1,h.IThemeService)],p),t.StandaloneCodeEditorService=p,(0,u.registerSingleton)(l.ICodeEditorService,p,!1)},58529:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMonacoEditorAPI=t.registerCommand=t.remeasureFonts=t.setTheme=t.defineTheme=t.tokenize=t.colorizeModelLine=t.colorize=t.colorizeElement=t.createWebWorker=t.onDidChangeModelLanguage=t.onWillDisposeModel=t.onDidCreateModel=t.getModels=t.getModel=t.onDidChangeMarkers=t.getModelMarkers=t.removeAllMarkers=t.setModelMarkers=t.setModelLanguage=t.createModel=t.createDiffNavigator=t.createDiffEditor=t.getDiffEditors=t.getEditors=t.onDidCreateDiffEditor=t.onDidCreateEditor=t.create=void 0,i(65659);const n=i(99722),o=i(4679),r=i(29045),s=i(14112),a=i(99741),c=i(63814),l=i(52195),d=i(85328),u=i(40215),h=i(39422),p=i(73793),g=i(49659),f=i(64303),m=i(78654),b=i(29914),v=i(26655),A=i(42425),y=i(65948),C=i(85813),w=i(96249),_=i(20788);function S(e,t,i){return y.StandaloneServices.initialize(i||{}).createInstance(A.StandaloneEditor,e,t)}function E(e){return y.StandaloneServices.get(r.ICodeEditorService).onCodeEditorAdd((t=>{e(t)}))}function k(e){return y.StandaloneServices.get(r.ICodeEditorService).onDiffEditorAdd((t=>{e(t)}))}function x(){return y.StandaloneServices.get(r.ICodeEditorService).listCodeEditors()}function D(){return y.StandaloneServices.get(r.ICodeEditorService).listDiffEditors()}function T(e,t,i){return y.StandaloneServices.initialize(i||{}).createInstance(A.StandaloneDiffEditor,e,t)}function M(e,t){return new s.DiffNavigator(e,t)}function B(e,t,i){const n=y.StandaloneServices.get(g.ILanguageService),o=n.getLanguageIdByMimeType(t)||t;return(0,A.createTextModel)(y.StandaloneServices.get(f.IModelService),n,e,o,i)}function I(e,t){const i=y.StandaloneServices.get(g.ILanguageService);y.StandaloneServices.get(f.IModelService).setMode(e,i.createById(t))}function L(e,t,i){e&&y.StandaloneServices.get(_.IMarkerService).changeOne(t,e.uri,i)}function P(e){y.StandaloneServices.get(_.IMarkerService).changeAll(e,[])}function O(e){return y.StandaloneServices.get(_.IMarkerService).read(e)}function R(e){return y.StandaloneServices.get(_.IMarkerService).onMarkerChanged(e)}function N(e){return y.StandaloneServices.get(f.IModelService).getModel(e)}function F(){return y.StandaloneServices.get(f.IModelService).getModels()}function j(e){return y.StandaloneServices.get(f.IModelService).onModelAdded(e)}function W(e){return y.StandaloneServices.get(f.IModelService).onModelRemoved(e)}function z(e){return y.StandaloneServices.get(f.IModelService).onModelLanguageChanged((t=>{e({model:t.model,oldLanguage:t.oldLanguageId})}))}function U(e){return(0,m.createWebWorker)(y.StandaloneServices.get(f.IModelService),y.StandaloneServices.get(h.ILanguageConfigurationService),e)}function H(e,t){const i=y.StandaloneServices.get(g.ILanguageService),n=y.StandaloneServices.get(C.IStandaloneThemeService);return n.registerEditorContainer(e),v.Colorizer.colorizeElement(n,i,e,t)}function V(e,t,i){const n=y.StandaloneServices.get(g.ILanguageService);return y.StandaloneServices.get(C.IStandaloneThemeService).registerEditorContainer(document.body),v.Colorizer.colorize(n,e,t,i)}function K(e,t,i=4){return y.StandaloneServices.get(C.IStandaloneThemeService).registerEditorContainer(document.body),v.Colorizer.colorizeModelLine(e,t,i)}function G(e,t){u.TokenizationRegistry.getOrCreate(t);const i=(s=t,u.TokenizationRegistry.get(s)||{getInitialState:()=>p.NullState,tokenize:(e,t,i)=>(0,p.nullTokenize)(s,i)}),o=(0,n.splitLines)(e),r=[];var s;let a=i.getInitialState();for(let e=0,t=o.length;e<t;e++){const t=o[e],n=i.tokenize(t,!0,a);r[e]=n.tokens,a=n.endState}return r}function $(e,t){y.StandaloneServices.get(C.IStandaloneThemeService).defineTheme(e,t)}function q(e){y.StandaloneServices.get(C.IStandaloneThemeService).setTheme(e)}function Y(){o.FontMeasurements.clearAllFontInfos()}function Q(e,t){return w.CommandsRegistry.registerCommand({id:e,handler:t})}t.create=S,t.onDidCreateEditor=E,t.onDidCreateDiffEditor=k,t.getEditors=x,t.getDiffEditors=D,t.createDiffEditor=T,t.createDiffNavigator=M,t.createModel=B,t.setModelLanguage=I,t.setModelMarkers=L,t.removeAllMarkers=P,t.getModelMarkers=O,t.onDidChangeMarkers=R,t.getModel=N,t.getModels=F,t.onDidCreateModel=j,t.onWillDisposeModel=W,t.onDidChangeModelLanguage=z,t.createWebWorker=U,t.colorizeElement=H,t.colorize=V,t.colorizeModelLine=K,t.tokenize=G,t.defineTheme=$,t.setTheme=q,t.remeasureFonts=Y,t.registerCommand=Q,t.createMonacoEditorAPI=function(){return{create:S,getEditors:x,getDiffEditors:D,onDidCreateEditor:E,onDidCreateDiffEditor:k,createDiffEditor:T,createDiffNavigator:M,createModel:B,setModelLanguage:I,setModelMarkers:L,getModelMarkers:O,removeAllMarkers:P,onDidChangeMarkers:R,getModels:F,getModel:N,onDidCreateModel:j,onWillDisposeModel:W,onDidChangeModelLanguage:z,createWebWorker:U,colorizeElement:H,colorize:V,colorizeModelLine:K,tokenize:G,defineTheme:$,setTheme:q,remeasureFonts:Y,registerCommand:Q,AccessibilitySupport:b.AccessibilitySupport,ContentWidgetPositionPreference:b.ContentWidgetPositionPreference,CursorChangeReason:b.CursorChangeReason,DefaultEndOfLine:b.DefaultEndOfLine,EditorAutoIndentStrategy:b.EditorAutoIndentStrategy,EditorOption:b.EditorOption,EndOfLinePreference:b.EndOfLinePreference,EndOfLineSequence:b.EndOfLineSequence,MinimapPosition:b.MinimapPosition,MouseTargetType:b.MouseTargetType,OverlayWidgetPositionPreference:b.OverlayWidgetPositionPreference,OverviewRulerLane:b.OverviewRulerLane,RenderLineNumbersType:b.RenderLineNumbersType,RenderMinimap:b.RenderMinimap,ScrollbarVisibility:b.ScrollbarVisibility,ScrollType:b.ScrollType,TextEditorCursorBlinkingStyle:b.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:b.TextEditorCursorStyle,TrackedRangeStickiness:b.TrackedRangeStickiness,WrappingIndent:b.WrappingIndent,InjectedTextCursorStops:b.InjectedTextCursorStops,PositionAffinity:b.PositionAffinity,ConfigurationChangedEvent:a.ConfigurationChangedEvent,BareFontInfo:c.BareFontInfo,FontInfo:c.FontInfo,TextModelResolvedOptions:d.TextModelResolvedOptions,FindMatch:d.FindMatch,ApplyUpdateResult:a.ApplyUpdateResult,EditorType:l.EditorType,EditorOptions:a.EditorOptions}}},24738:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createMonacoLanguagesAPI=t.registerInlayHintsProvider=t.registerInlineCompletionsProvider=t.registerDocumentRangeSemanticTokensProvider=t.registerDocumentSemanticTokensProvider=t.registerSelectionRangeProvider=t.registerDeclarationProvider=t.registerFoldingRangeProvider=t.registerColorProvider=t.registerCompletionItemProvider=t.registerLinkProvider=t.registerOnTypeFormattingEditProvider=t.registerDocumentRangeFormattingEditProvider=t.registerDocumentFormattingEditProvider=t.registerCodeActionProvider=t.registerCodeLensProvider=t.registerTypeDefinitionProvider=t.registerImplementationProvider=t.registerDefinitionProvider=t.registerLinkedEditingRangeProvider=t.registerDocumentHighlightProvider=t.registerDocumentSymbolProvider=t.registerHoverProvider=t.registerSignatureHelpProvider=t.registerRenameProvider=t.registerReferenceProvider=t.setMonarchTokensProvider=t.setTokensProvider=t.registerTokensProviderFactory=t.setColorMap=t.TokenizationSupportAdapter=t.EncodedTokenizationSupportAdapter=t.setLanguageConfiguration=t.onLanguage=t.getEncodedLanguageId=t.getLanguages=t.register=void 0;const o=i(50447),r=i(18170),s=i(40215),a=i(39422),c=i(61005),l=i(49659),d=i(29914),u=i(65948),h=i(65661),p=i(60130),g=i(85813),f=i(20788),m=i(42763),b=i(34673);function v(e){c.ModesRegistry.registerLanguage(e)}function A(){let e=[];return e=e.concat(c.ModesRegistry.getLanguages()),e}function y(e){return u.StandaloneServices.get(l.ILanguageService).languageIdCodec.encodeLanguageId(e)}function C(e,t){const i=u.StandaloneServices.get(l.ILanguageService).onDidEncounterLanguage((n=>{n===e&&(i.dispose(),t())}));return i}function w(e,t){if(!u.StandaloneServices.get(l.ILanguageService).isRegisteredLanguageId(e))throw new Error(`Cannot set configuration for unknown language ${e}`);return u.StandaloneServices.get(a.ILanguageConfigurationService).register(e,t,100)}t.register=v,t.getLanguages=A,t.getEncodedLanguageId=y,t.onLanguage=C,t.setLanguageConfiguration=w;class _{constructor(e,t){this._languageId=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){if("function"==typeof this._actual.tokenize)return S.adaptTokenize(this._languageId,this._actual,e,i);throw new Error("Not supported!")}tokenizeEncoded(e,t,i){const n=this._actual.tokenizeEncoded(e,i);return new s.EncodedTokenizationResult(n.tokens,n.endState)}}t.EncodedTokenizationSupportAdapter=_;class S{constructor(e,t,i,n){this._languageId=e,this._actual=t,this._languageService=i,this._standaloneThemeService=n}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t){const i=[];let n=0;for(let o=0,r=e.length;o<r;o++){const r=e[o];let a=r.startIndex;0===o?a=0:a<n&&(a=n),i[o]=new s.Token(a,r.scopes,t),n=a}return i}static adaptTokenize(e,t,i,n){const o=t.tokenize(i,n),r=S._toClassicTokens(o.tokens,e);let a;return a=o.endState.equals(n)?n:o.endState,new s.TokenizationResult(r,a)}tokenize(e,t,i){return S.adaptTokenize(this._languageId,this._actual,e,i)}_toBinaryTokens(e,t){const i=e.encodeLanguageId(this._languageId),n=this._standaloneThemeService.getColorTheme().tokenTheme,o=[];let r=0,s=0;for(let e=0,a=t.length;e<a;e++){const a=t[e],c=n.match(i,a.scopes);if(r>0&&o[r-1]===c)continue;let l=a.startIndex;0===e?l=0:l<s&&(l=s),o[r++]=l,o[r++]=c,s=l}const a=new Uint32Array(r);for(let e=0;e<r;e++)a[e]=o[e];return a}tokenizeEncoded(e,t,i){const n=this._actual.tokenize(e,i),o=this._toBinaryTokens(this._languageService.languageIdCodec,n.tokens);let r;return r=n.endState.equals(i)?i:n.endState,new s.EncodedTokenizationResult(o,r)}}function E(e){return e&&"function"==typeof e.then}function k(e){const t=u.StandaloneServices.get(g.IStandaloneThemeService);if(e){const i=[null];for(let t=1,n=e.length;t<n;t++)i[t]=o.Color.fromHex(e[t]);t.setColorMapOverride(i)}else t.setColorMapOverride(null)}function x(e,t){return function(e){return"tokenizeEncoded"in e}(t)?new _(e,t):new S(e,t,u.StandaloneServices.get(l.ILanguageService),u.StandaloneServices.get(g.IStandaloneThemeService))}function D(e,t){const i={createTokenizationSupport:()=>n(this,void 0,void 0,(function*(){const i=yield Promise.resolve(t.create());return i?"function"==typeof i.getInitialState?x(e,i):new p.MonarchTokenizer(u.StandaloneServices.get(l.ILanguageService),u.StandaloneServices.get(g.IStandaloneThemeService),e,(0,h.compile)(e,i),u.StandaloneServices.get(b.IConfigurationService)):null}))};return s.TokenizationRegistry.registerFactory(e,i)}function T(e,t){if(!u.StandaloneServices.get(l.ILanguageService).isRegisteredLanguageId(e))throw new Error(`Cannot set tokens provider for unknown language ${e}`);return E(t)?D(e,{create:()=>t}):s.TokenizationRegistry.register(e,x(e,t))}function M(e,t){return E(t)?D(e,{create:()=>t}):s.TokenizationRegistry.register(e,(t=>new p.MonarchTokenizer(u.StandaloneServices.get(l.ILanguageService),u.StandaloneServices.get(g.IStandaloneThemeService),e,(0,h.compile)(e,t),u.StandaloneServices.get(b.IConfigurationService)))(t))}function B(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).referenceProvider.register(e,t)}function I(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).renameProvider.register(e,t)}function L(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).signatureHelpProvider.register(e,t)}function P(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).hoverProvider.register(e,{provideHover:(e,i,n)=>{const o=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then((e=>{if(e)return!e.range&&o&&(e.range=new r.Range(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),e.range||(e.range=new r.Range(i.lineNumber,i.column,i.lineNumber,i.column)),e}))}})}function O(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).documentSymbolProvider.register(e,t)}function R(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).documentHighlightProvider.register(e,t)}function N(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).linkedEditingRangeProvider.register(e,t)}function F(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).definitionProvider.register(e,t)}function j(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).implementationProvider.register(e,t)}function W(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).typeDefinitionProvider.register(e,t)}function z(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).codeLensProvider.register(e,t)}function U(e,t,i){return u.StandaloneServices.get(m.ILanguageFeaturesService).codeActionProvider.register(e,{providedCodeActionKinds:null==i?void 0:i.providedCodeActionKinds,documentation:null==i?void 0:i.documentation,provideCodeActions:(e,i,n,o)=>{const s=u.StandaloneServices.get(f.IMarkerService).read({resource:e.uri}).filter((e=>r.Range.areIntersectingOrTouching(e,i)));return t.provideCodeActions(e,i,{markers:s,only:n.only,trigger:n.trigger},o)},resolveCodeAction:t.resolveCodeAction})}function H(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).documentFormattingEditProvider.register(e,t)}function V(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(e,t)}function K(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).onTypeFormattingEditProvider.register(e,t)}function G(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).linkProvider.register(e,t)}function $(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).completionProvider.register(e,t)}function q(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).colorProvider.register(e,t)}function Y(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).foldingRangeProvider.register(e,t)}function Q(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).declarationProvider.register(e,t)}function X(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).selectionRangeProvider.register(e,t)}function Z(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).documentSemanticTokensProvider.register(e,t)}function J(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(e,t)}function ee(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).inlineCompletionsProvider.register(e,t)}function te(e,t){return u.StandaloneServices.get(m.ILanguageFeaturesService).inlayHintsProvider.register(e,t)}t.TokenizationSupportAdapter=S,t.setColorMap=k,t.registerTokensProviderFactory=D,t.setTokensProvider=T,t.setMonarchTokensProvider=M,t.registerReferenceProvider=B,t.registerRenameProvider=I,t.registerSignatureHelpProvider=L,t.registerHoverProvider=P,t.registerDocumentSymbolProvider=O,t.registerDocumentHighlightProvider=R,t.registerLinkedEditingRangeProvider=N,t.registerDefinitionProvider=F,t.registerImplementationProvider=j,t.registerTypeDefinitionProvider=W,t.registerCodeLensProvider=z,t.registerCodeActionProvider=U,t.registerDocumentFormattingEditProvider=H,t.registerDocumentRangeFormattingEditProvider=V,t.registerOnTypeFormattingEditProvider=K,t.registerLinkProvider=G,t.registerCompletionItemProvider=$,t.registerColorProvider=q,t.registerFoldingRangeProvider=Y,t.registerDeclarationProvider=Q,t.registerSelectionRangeProvider=X,t.registerDocumentSemanticTokensProvider=Z,t.registerDocumentRangeSemanticTokensProvider=J,t.registerInlineCompletionsProvider=ee,t.registerInlayHintsProvider=te,t.createMonacoLanguagesAPI=function(){return{register:v,getLanguages:A,onLanguage:C,getEncodedLanguageId:y,setLanguageConfiguration:w,setColorMap:k,registerTokensProviderFactory:D,setTokensProvider:T,setMonarchTokensProvider:M,registerReferenceProvider:B,registerRenameProvider:I,registerCompletionItemProvider:$,registerSignatureHelpProvider:L,registerHoverProvider:P,registerDocumentSymbolProvider:O,registerDocumentHighlightProvider:R,registerLinkedEditingRangeProvider:N,registerDefinitionProvider:F,registerImplementationProvider:j,registerTypeDefinitionProvider:W,registerCodeLensProvider:z,registerCodeActionProvider:U,registerDocumentFormattingEditProvider:H,registerDocumentRangeFormattingEditProvider:V,registerOnTypeFormattingEditProvider:K,registerLinkProvider:G,registerColorProvider:q,registerFoldingRangeProvider:Y,registerDeclarationProvider:Q,registerSelectionRangeProvider:X,registerDocumentSemanticTokensProvider:Z,registerDocumentRangeSemanticTokensProvider:J,registerInlineCompletionsProvider:ee,registerInlayHintsProvider:te,DocumentHighlightKind:d.DocumentHighlightKind,CompletionItemKind:d.CompletionItemKind,CompletionItemTag:d.CompletionItemTag,CompletionItemInsertTextRule:d.CompletionItemInsertTextRule,SymbolKind:d.SymbolKind,SymbolTag:d.SymbolTag,IndentAction:d.IndentAction,CompletionTriggerKind:d.CompletionTriggerKind,SignatureHelpTriggerKind:d.SignatureHelpTriggerKind,InlayHintKind:d.InlayHintKind,InlineCompletionTriggerKind:d.InlineCompletionTriggerKind,CodeActionTriggerType:d.CodeActionTriggerType,FoldingRangeKind:s.FoldingRangeKind}}},54921:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorScopedLayoutService=void 0;const r=i(42535),s=i(50855),a=i(82256),c=i(29045),l=i(49371);let d=class{get dimension(){return this._dimension||(this._dimension=r.getClientArea(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}constructor(e){this._codeEditorService=e,this.onDidLayout=s.Event.None,this.offset={top:0,quickPickTop:0}}};d=n([o(0,c.ICodeEditorService)],d);let u=class extends d{get hasContainer(){return!1}get container(){return this._container}constructor(e,t){super(t),this._container=e}};u=n([o(1,c.ICodeEditorService)],u),t.EditorScopedLayoutService=u,(0,l.registerSingleton)(a.ILayoutService,d,!0)},65948:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StandaloneServices=t.updateConfigurationService=t.StandaloneConfigurationService=t.StandaloneKeybindingService=t.StandaloneCommandService=t.StandaloneNotificationService=void 0,i(39422),i(42299),i(54921),i(45578),i(90121);const s=i(99722),a=i(42535),c=i(23679),l=i(50855),d=i(86146),u=i(755),h=i(83489),p=i(89908),g=i(33662),f=i(5993),m=i(588),b=i(29239),v=i(27783),A=i(18170),y=i(64303),C=i(94686),w=i(52427),_=i(96249),S=i(34673),E=i(26859),k=i(83913),x=i(69123),D=i(28888),T=i(26167),M=i(79999),B=i(16393),I=i(80500),L=i(96075),P=i(73086),O=i(14694),R=i(88669),N=i(15409),F=i(51304),j=i(2963),W=i(82256),z=i(79219),U=i(71255),H=i(29045),V=i(5209),K=i(93015),G=i(48963),$=i(26124),q=i(96596),Y=i(80532),Q=i(56090),X=i(49371),Z=i(2570),J=i(45103),ee=i(79777),te=i(49659),ie=i(9681),ne=i(42813),oe=i(6571),re=i(46039),se=i(41825),ae=i(85813),ce=i(31655),le=i(10474),de=i(97559),ue=i(12937),he=i(72923),pe=i(3557),ge=i(95080),fe=i(21520),me=i(13224),be=i(58409),ve=i(40832),Ae=i(20788),ye=i(49739),Ce=i(45559),we=i(71280),_e=i(56304),Se=i(31979);i(93348);const Ee=i(18610);class ke{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new l.Emitter}get onWillDispose(){return this._onWillDispose.event}resolve(){return Promise.resolve()}get textEditorModel(){return this.model}createSnapshot(){return this.model.createSnapshot()}isReadonly(){return!1}dispose(){this.disposed=!0,this._onWillDispose.fire()}isDisposed(){return this.disposed}isResolved(){return!0}getLanguageId(){return this.model.getLanguageId()}}let xe=class{constructor(e){this.modelService=e}createModelReference(e){const t=this.modelService.getModel(e);return t?Promise.resolve(new u.ImmortalReference(new ke(t))):Promise.reject(new Error("Model not found"))}registerTextModelContentProvider(e,t){return{dispose:function(){}}}canHandleResource(e){return!1}};xe=n([o(0,y.IModelService)],xe);class De{show(){return De.NULL_PROGRESS_RUNNER}showWhile(e,t){return r(this,void 0,void 0,(function*(){yield e}))}}De.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Te{constructor(){this.onDidAddNotification=l.Event.None,this.onDidRemoveNotification=l.Event.None,this.onDidChangeDoNotDisturbMode=l.Event.None,this.doNotDisturbMode=!1}info(e){return this.notify({severity:p.default.Info,message:e})}warn(e){return this.notify({severity:p.default.Warning,message:e})}error(e){return this.notify({severity:p.default.Error,message:e})}notify(e){switch(e.severity){case p.default.Error:console.error(e.message);break;case p.default.Warning:console.warn(e.message);break;default:console.log(e.message)}return Te.NO_OP}prompt(e,t,i,n){return Te.NO_OP}status(e,t){return u.Disposable.None}}t.StandaloneNotificationService=Te,Te.NO_OP=new R.NoOpNotification;let Me=class{constructor(e){this._onWillExecuteCommand=new l.Emitter,this._onDidExecuteCommand=new l.Emitter,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=_.CommandsRegistry.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(e){return Promise.reject(e)}}};Me=n([o(0,D.IInstantiationService)],Me),t.StandaloneCommandService=Me;let Be=class extends T.AbstractKeybindingService{constructor(e,t,i,n,o,r){super(e,t,i,n,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const s=e=>{const t=new u.DisposableStore;t.add(a.addDisposableListener(e,a.EventType.KEY_DOWN,(e=>{const t=new c.StandardKeyboardEvent(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))),t.add(a.addDisposableListener(e,a.EventType.KEY_UP,(e=>{const t=new c.StandardKeyboardEvent(e);this._singleModifierDispatch(t,t.target)&&t.preventDefault()}))),this._domNodeListeners.push(new Ie(e,t))},l=e=>{for(let t=0;t<this._domNodeListeners.length;t++){const i=this._domNodeListeners[t];i.domNode===e&&(this._domNodeListeners.splice(t,1),i.dispose())}},d=e=>{e.getOption(55)||s(e.getContainerDomNode())};this._register(r.onCodeEditorAdd(d)),this._register(r.onCodeEditorRemove((e=>{e.getOption(55)||l(e.getContainerDomNode())}))),r.listCodeEditors().forEach(d);const h=e=>{s(e.getContainerDomNode())};this._register(r.onDiffEditorAdd(h)),this._register(r.onDiffEditorRemove((e=>{l(e.getContainerDomNode())}))),r.listDiffEditors().forEach(h)}addDynamicKeybinding(e,t,i,n){const o=(0,d.createKeybinding)(t,h.OS),r=new u.DisposableStore;return o&&(this._dynamicKeybindings.push({keybinding:o.parts,command:e,when:n,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),r.add((0,u.toDisposable)((()=>{for(let t=0;t<this._dynamicKeybindings.length;t++)if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver()})))),r.add(_.CommandsRegistry.registerCommand(e,i)),this.updateResolver(),r}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(I.KeybindingsRegistry.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new B.KeybindingResolver(e,t,(e=>this._log(e)))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){const i=[];let n=0;for(const o of e){const e=o.when||void 0,r=o.keybinding;if(r){const s=P.USLayoutResolvedKeybinding.resolveUserBinding(r,h.OS);for(const r of s)i[n++]=new L.ResolvedKeybindingItem(r,o.command,o.commandArgs,e,t,null,!1)}else i[n++]=new L.ResolvedKeybindingItem(void 0,o.command,o.commandArgs,e,t,null,!1)}return i}resolveKeybinding(e){return[new P.USLayoutResolvedKeybinding(e,h.OS)]}resolveKeyboardEvent(e){const t=new d.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new P.USLayoutResolvedKeybinding(t,h.OS)}resolveUserBinding(e){return[]}_dumpDebugInfo(){return""}_dumpDebugInfoJSON(){return""}registerSchemaContribution(e){}};Be=n([o(0,k.IContextKeyService),o(1,_.ICommandService),o(2,F.ITelemetryService),o(3,R.INotificationService),o(4,V.ILogService),o(5,H.ICodeEditorService)],Be),t.StandaloneKeybindingService=Be;class Ie extends u.Disposable{constructor(e,t){super(),this.domNode=e,this._register(t)}}function Le(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof g.URI)}class Pe{constructor(){this._onDidChangeConfiguration=new l.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new E.Configuration(new Ee.DefaultConfigurationModel,new E.ConfigurationModel,new E.ConfigurationModel,new E.ConfigurationModel)}getValue(e,t){const i="string"==typeof e?e:void 0,n=Le(e)?e:Le(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()},i=[];for(const t of e){const[e,n]=t;this.getValue(e)!==n&&(this._configuration.updateValue(e,n),i.push(e))}if(i.length>0){const e=new E.ConfigurationChangeEvent({keys:i,overrides:[]},t,this._configuration);e.source=8,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}updateValue(e,t,i,n){return this.updateValues([[e,t]])}inspect(e,t={}){return this._configuration.inspect(e,t,void 0)}keys(){return this._configuration.keys(void 0)}reloadConfiguration(){return Promise.resolve(void 0)}getConfigurationData(){const e={contents:{},keys:[],overrides:[]};return{defaults:e,policy:e,application:e,user:e,workspace:e,folders:[]}}}t.StandaloneConfigurationService=Pe;let Oe=class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new l.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this.configurationService.onDidChangeConfiguration((e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})}))}getValue(e,t,i){const n=v.Position.isIPosition(t)&&t?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===n?this.configurationService.getValue():this.configurationService.getValue(n)}updateValue(e,t,i,n){return this.configurationService.updateValue(t,i,{resource:e},n)}};Oe=n([o(0,S.IConfigurationService)],Oe);let Re=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"string"==typeof i&&"auto"!==i?i:h.isLinux||h.isMacintosh?"\n":"\r\n"}};Re=n([o(0,S.IConfigurationService)],Re);class Ne{constructor(){this._onDidChangeWorkspaceName=new l.Emitter,this.onDidChangeWorkspaceName=this._onDidChangeWorkspaceName.event,this._onWillChangeWorkspaceFolders=new l.Emitter,this.onWillChangeWorkspaceFolders=this._onWillChangeWorkspaceFolders.event,this._onDidChangeWorkspaceFolders=new l.Emitter,this.onDidChangeWorkspaceFolders=this._onDidChangeWorkspaceFolders.event,this._onDidChangeWorkbenchState=new l.Emitter,this.onDidChangeWorkbenchState=this._onDidChangeWorkbenchState.event;const e=g.URI.from({scheme:Ne.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new j.WorkspaceFolder({uri:e,name:"",index:0})]}}getCompleteWorkspace(){return Promise.resolve(this.getWorkspace())}getWorkspace(){return this.workspace}getWorkbenchState(){return this.workspace?this.workspace.configuration?3:2:1}getWorkspaceFolder(e){return e&&e.scheme===Ne.SCHEME?this.workspace.folders[0]:null}isInsideWorkspace(e){return e&&e.scheme===Ne.SCHEME}isCurrentWorkspace(e){return!0}}Ne.SCHEME="inmemory",t.updateConfigurationService=function(e,t,i){if(!t)return;if(!(e instanceof Pe))return;const n=[];Object.keys(t).forEach((e=>{(0,m.isEditorConfigurationKey)(e)&&n.push([`editor.${e}`,t[e]]),i&&(0,m.isDiffEditorConfigurationKey)(e)&&n.push([`diffEditor.${e}`,t[e]])})),n.length>0&&e.updateValues(n)};let Fe=class{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}setPreviewHandler(){return u.Disposable.None}apply(e,t){return r(this,void 0,void 0,(function*(){const t=Array.isArray(e)?e:f.ResourceEdit.convert(e),i=new Map;for(const e of t){if(!(e instanceof f.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const t=this._modelService.getModel(e.resource);if(!t)throw new Error("bad edit - model not found");if("number"==typeof e.versionId&&t.getVersionId()!==e.versionId)throw new Error("bad state - model changed in the meantime");let n=i.get(t);n||(n=[],i.set(t,n)),n.push(b.EditOperation.replaceMove(A.Range.lift(e.textEdit.range),e.textEdit.text))}let n=0,o=0;for(const[e,t]of i)e.pushStackElement(),e.pushEditOperations([],t,(()=>[])),e.pushStackElement(),o+=1,n+=t.length;return{ariaSummary:s.format(z.StandaloneServicesNLS.bulkEditServiceSummary,n,o)}}))}};Fe=n([o(0,y.IModelService)],Fe);let je=class extends $.ContextViewService{constructor(e,t){super(e),this._codeEditorService=t}showContextView(e,t,i){if(!t){const e=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();e&&(t=e.getContainerDomNode())}return super.showContextView(e,t,i)}};je=n([o(0,W.ILayoutService),o(1,H.ICodeEditorService)],je);class We extends q.LanguageService{constructor(){super()}}class ze extends V.LogService{constructor(){super(new V.ConsoleLogger)}}let Ue=class extends Y.ContextMenuService{constructor(e,t,i,n,o){super(e,t,i,n,o),this.configure({blockMouse:!1})}};Ue=n([o(0,F.ITelemetryService),o(1,R.INotificationService),o(2,G.IContextViewService),o(3,M.IKeybindingService),o(4,Q.IThemeService)],Ue),(0,X.registerSingleton)(S.IConfigurationService,Pe,!1),(0,X.registerSingleton)(w.ITextResourceConfigurationService,Oe,!1),(0,X.registerSingleton)(w.ITextResourcePropertiesService,Re,!1),(0,X.registerSingleton)(j.IWorkspaceContextService,Ne,!1),(0,X.registerSingleton)(O.ILabelService,class{constructor(){this.onDidChangeFormatters=l.Event.None}getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}getUriBasenameLabel(e){return(0,U.basename)(e)}getWorkspaceLabel(e,t){return""}getSeparator(e,t){return"/"}registerFormatter(e){throw new Error("Not implemented")}registerCachedFormatter(e){return this.registerFormatter(e)}getHostLabel(){return""}getHostTooltip(){}},!1),(0,X.registerSingleton)(F.ITelemetryService,class{constructor(){this.telemetryLevel=(0,Se.staticObservableValue)(0),this.sendErrorTelemetry=!1}setEnabled(e){}setExperimentProperty(e,t){}publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}publicLogError(e,t){return Promise.resolve(void 0)}publicLogError2(e,t){return this.publicLogError(e,t)}getTelemetryInfo(){throw new Error("Not available")}},!1),(0,X.registerSingleton)(x.IDialogService,class{constructor(){this.onWillShowDialog=l.Event.None,this.onDidShowDialog=l.Event.None}confirm(e){return this.doConfirm(e).then((e=>({confirmed:e,checkboxChecked:!1})))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}input(){return Promise.resolve({choice:0})}about(){return Promise.resolve(void 0)}},!1),(0,X.registerSingleton)(R.INotificationService,Te,!1),(0,X.registerSingleton)(Ae.IMarkerService,ye.MarkerService,!1),(0,X.registerSingleton)(te.ILanguageService,We,!1),(0,X.registerSingleton)(ae.IStandaloneThemeService,se.StandaloneThemeService,!1),(0,X.registerSingleton)(V.ILogService,ze,!1),(0,X.registerSingleton)(y.IModelService,oe.ModelService,!1),(0,X.registerSingleton)(ne.IMarkerDecorationsService,ie.MarkerDecorationsService,!1),(0,X.registerSingleton)(k.IContextKeyService,ge.ContextKeyService,!1),(0,X.registerSingleton)(N.IProgressService,class{withProgress(e,t,i){return t({report:()=>{}})}},!1),(0,X.registerSingleton)(N.IEditorProgressService,De,!1),(0,X.registerSingleton)(_e.IStorageService,_e.InMemoryStorageService,!1),(0,X.registerSingleton)(J.IEditorWorkerService,ee.EditorWorkerService,!1),(0,X.registerSingleton)(f.IBulkEditService,Fe,!1),(0,X.registerSingleton)(K.IWorkspaceTrustManagementService,class{constructor(){this._neverEmitter=new l.Emitter,this.onDidChangeTrust=this._neverEmitter.event,this.onDidChangeTrustedFolders=this._neverEmitter.event,this.workspaceResolved=Promise.resolve(),this.workspaceTrustInitialized=Promise.resolve(),this.acceptsOutOfWorkspaceFiles=!0}isWorkspaceTrusted(){return!0}isWorkspaceTrustForced(){return!1}canSetParentFolderTrust(){return!1}setParentFolderTrust(e){return r(this,void 0,void 0,(function*(){}))}canSetWorkspaceTrust(){return!1}setWorkspaceTrust(e){return r(this,void 0,void 0,(function*(){}))}getUriTrustInfo(e){throw new Error("Method not supported.")}setUrisTrust(e,t){return r(this,void 0,void 0,(function*(){}))}getTrustedUris(){return[]}setTrustedUris(e){return r(this,void 0,void 0,(function*(){}))}addWorkspaceTrustTransitionParticipant(e){throw new Error("Method not supported.")}},!1),(0,X.registerSingleton)(C.ITextModelService,xe,!1),(0,X.registerSingleton)(le.IAccessibilityService,ce.AccessibilityService,!1),(0,X.registerSingleton)(ve.IListService,ve.ListService,!1),(0,X.registerSingleton)(_.ICommandService,Me,!1),(0,X.registerSingleton)(M.IKeybindingService,Be,!1),(0,X.registerSingleton)(we.IQuickInputService,re.StandaloneQuickInputService,!1),(0,X.registerSingleton)(G.IContextViewService,je,!1),(0,X.registerSingleton)(Ce.IOpenerService,Z.OpenerService,!1),(0,X.registerSingleton)(pe.IClipboardService,he.BrowserClipboardService,!1),(0,X.registerSingleton)(G.IContextMenuService,Ue,!1),(0,X.registerSingleton)(de.IMenuService,ue.MenuService,!1),function(e){const t=new be.ServiceCollection;for(const[e,i]of(0,X.getSingletonServiceDescriptors)())t.set(e,i);const i=new me.InstantiationService(t,!0);t.set(D.IInstantiationService,i),e.get=function(e){const n=t.get(e);if(!n)throw new Error("Missing service "+e);return n instanceof fe.SyncDescriptor?i.invokeFunction((t=>t.get(e))):n};let n=!1;e.initialize=function(e){if(n)return i;n=!0;for(const[e,i]of(0,X.getSingletonServiceDescriptors)())t.get(e)||t.set(e,i);for(const i in e)if(e.hasOwnProperty(i)){const n=(0,D.createDecorator)(i);t.get(n)instanceof fe.SyncDescriptor&&t.set(n,e[i])}return i}}(t.StandaloneServices||(t.StandaloneServices={}))},41825:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StandaloneThemeService=t.HC_LIGHT_THEME_NAME=t.HC_BLACK_THEME_NAME=t.VS_DARK_THEME_NAME=t.VS_LIGHT_THEME_NAME=void 0;const n=i(42535),o=i(7375),r=i(50447),s=i(50855),a=i(40215),c=i(3815),l=i(49517),d=i(78501),u=i(81437),h=i(78002),p=i(56090),g=i(755),f=i(79864),m=i(84022);t.VS_LIGHT_THEME_NAME="vs",t.VS_DARK_THEME_NAME="vs-dark",t.HC_BLACK_THEME_NAME="hc-black",t.HC_LIGHT_THEME_NAME="hc-light";const b=u.Registry.as(h.Extensions.ColorContribution),v=u.Registry.as(p.Extensions.ThemingContribution);class A{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;const i=t.base;e.length>0?(y(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get label(){return this.themeName}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(const t in this.themeData.colors)e.set(t,r.Color.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){const t=C(this.themeData.base);for(const i in t.colors)e.has(i)||e.set(i,r.Color.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){return this.getColors().get(e)||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=b.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case t.VS_LIGHT_THEME_NAME:return f.ColorScheme.LIGHT;case t.HC_BLACK_THEME_NAME:return f.ColorScheme.HIGH_CONTRAST_DARK;case t.HC_LIGHT_THEME_NAME:return f.ColorScheme.HIGH_CONTRAST_LIGHT;default:return f.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){const i=C(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}const i=this.themeData.colors["editor.foreground"],n=this.themeData.colors["editor.background"];if(i||n){const t={token:""};i&&(t.foreground=i),n&&(t.background=n),e.push(t)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=l.TokenTheme.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,o=c.TokenMetadata.getForeground(n),r=c.TokenMetadata.getFontStyle(n);return{foreground:o,italic:Boolean(1&r),bold:Boolean(2&r),underline:Boolean(4&r),strikethrough:Boolean(8&r)}}get tokenColorMap(){return[]}}function y(e){return e===t.VS_LIGHT_THEME_NAME||e===t.VS_DARK_THEME_NAME||e===t.HC_BLACK_THEME_NAME||e===t.HC_LIGHT_THEME_NAME}function C(e){switch(e){case t.VS_LIGHT_THEME_NAME:return d.vs;case t.VS_DARK_THEME_NAME:return d.vs_dark;case t.HC_BLACK_THEME_NAME:return d.hc_black;case t.HC_LIGHT_THEME_NAME:return d.hc_light}}function w(e){const t=C(e);return new A(e,t)}class _ extends g.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new s.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onFileIconThemeChange=this._register(new s.Emitter),this.onDidFileIconThemeChange=this._onFileIconThemeChange.event,this._onProductIconThemeChange=this._register(new s.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new m.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(t.VS_LIGHT_THEME_NAME,w(t.VS_LIGHT_THEME_NAME)),this._knownThemes.set(t.VS_DARK_THEME_NAME,w(t.VS_DARK_THEME_NAME)),this._knownThemes.set(t.HC_BLACK_THEME_NAME,w(t.HC_BLACK_THEME_NAME)),this._knownThemes.set(t.HC_LIGHT_THEME_NAME,w(t.HC_LIGHT_THEME_NAME));const e=(0,m.getIconsStyleSheet)(this);this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(t.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),e.onDidChange((()=>{this._codiconCSS=e.getCSS(),this._updateCSS()})),(0,o.addMatchMediaChangeListener)("(forced-colors: active)",(()=>{this._onOSSchemeChanged()}))}registerEditorContainer(e){return n.isInShadowDOM(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=n.createStyleSheet(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),g.Disposable.None}_registerShadowDomContainer(e){const t=n.createStyleSheet(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!y(t.base)&&!y(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new A(e,t)),y(e)&&this._knownThemes.forEach((t=>{t.base===e&&t.notifyBaseUpdated()})),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let i;i=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(t.VS_LIGHT_THEME_NAME),this._updateActualTheme(i)}_updateActualTheme(e){e&&this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const e=window.matchMedia("(forced-colors: active)").matches;if(e!==(0,f.isHighContrast)(this._theme.type)){let i;i=(0,f.isDark)(this._theme.type)?e?t.HC_BLACK_THEME_NAME:t.VS_DARK_THEME_NAME:e?t.HC_LIGHT_THEME_NAME:t.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(i))}}}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const e=[],t={},i={addRule:i=>{t[i]||(e.push(i),t[i]=!0)}};v.getThemingParticipants().forEach((e=>e(this._theme,i,this._environment)));const n=[];for(const e of b.getColors()){const t=this._theme.getColor(e.id,!0);t&&n.push(`${(0,h.asCssVariableName)(e.id)}: ${t.toString()};`)}i.addRule(`.monaco-editor { ${n.join("\n")} }`);const o=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule((0,l.generateTokensCSSForColorMap)(o)),this._themeCSS=e.join("\n"),this._updateCSS(),a.TokenizationRegistry.setColorMap(o),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach((e=>e.textContent=this._allCSS))}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}t.StandaloneThemeService=_},32741:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(98149),o=i(85813),r=i(79219),s=i(79864),a=i(41825);class c extends n.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:r.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(o.IStandaloneThemeService),n=i.getColorTheme();(0,s.isHighContrast)(n.type)?(i.setTheme(this._originalThemeName||((0,s.isDark)(n.type)?a.VS_DARK_THEME_NAME:a.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(i.setTheme((0,s.isDark)(n.type)?a.HC_BLACK_THEME_NAME:a.HC_LIGHT_THEME_NAME),this._originalThemeName=n.themeName)}}(0,n.registerEditorAction)(c)},8306:(e,t)=>{"use strict";function i(e){return Array.isArray(e)}function n(e){return"string"==typeof e}function o(e){return!e}function r(e,t){return e.ignoreCase&&t?t.toLowerCase():t}Object.defineProperty(t,"__esModule",{value:!0}),t.stateExists=t.findRules=t.substituteMatches=t.createError=t.log=t.sanitize=t.fixCase=t.empty=t.isIAction=t.isString=t.isFuzzyAction=t.isFuzzyActionArr=void 0,t.isFuzzyActionArr=i,t.isFuzzyAction=function(e){return!i(e)},t.isString=n,t.isIAction=function(e){return!n(e)},t.empty=o,t.fixCase=r,t.sanitize=function(e){return e.replace(/[&<>'"_]/g,"-")},t.log=function(e,t){console.log(`${e.languageId}: ${t}`)},t.createError=function(e,t){return new Error(`${e.languageId}: ${t}`)},t.substituteMatches=function(e,t,i,n,s){let a=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,(function(t,c,l,d,u,h,p,g,f){return o(l)?o(d)?!o(u)&&u<n.length?r(e,n[u]):!o(p)&&e&&"string"==typeof e[p]?e[p]:(null===a&&(a=s.split("."),a.unshift(s)),!o(h)&&h<a.length?r(e,a[h]):""):r(e,i):"$"}))},t.findRules=function(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null},t.stateExists=function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}},65661:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compile=void 0;const n=i(8306);function o(e,t){return"boolean"==typeof e?e:t}function r(e,t){return"string"==typeof e?e:t}function s(e,t=!1){t&&(e=e.map((function(e){return e.toLowerCase()})));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function a(e,t){t=t.replace(/@@/g,"");let i,o=0;do{i=!1,t=t.replace(/@(\w+)/g,(function(o,r){i=!0;let s="";if("string"==typeof e[r])s=e[r];else{if(!(e[r]&&e[r]instanceof RegExp))throw void 0===e[r]?n.createError(e,"language definition does not contain attribute '"+r+"', used at: "+t):n.createError(e,"attribute reference '"+r+"' must be a string, used at: "+t);s=e[r].source}return n.empty(s)?"":"(?:"+s+")"})),o++}while(i&&o<5);t=t.replace(/\x01/g,"@");const r=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,r)}function c(e,t,i,o){let r=-1,c=i,l=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);l&&(l[3]&&(r=parseInt(l[3]),l[2]&&(r+=100)),c=l[4]);let d,u="~",h=c;if(c&&0!==c.length?/^\w*$/.test(h)?u="==":(l=c.match(/^(@|!@|~|!~|==|!=)(.*)$/),l&&(u=l[1],h=l[2])):(u="!=",h=""),"~"!==u&&"!~"!==u||!/^(\w|\|)*$/.test(h))if("@"===u||"!@"===u){const i=e[h];if(!i)throw n.createError(e,"the @ match target '"+h+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const e of t)if("string"!=typeof e)return!1;return!0}(0,i))throw n.createError(e,"the @ match target '"+h+"' must be an array of strings, in rule: "+t);const o=s(i,e.ignoreCase);d=function(e){return"@"===u?o(e):!o(e)}}else if("~"===u||"!~"===u)if(h.indexOf("$")<0){const t=a(e,"^"+h+"$");d=function(e){return"~"===u?t.test(e):!t.test(e)}}else d=function(t,i,o,r){return a(e,"^"+n.substituteMatches(e,h,i,o,r)+"$").test(t)};else if(h.indexOf("$")<0){const t=n.fixCase(e,h);d=function(e){return"=="===u?e===t:e!==t}}else{const t=n.fixCase(e,h);d=function(i,o,r,s,a){const c=n.substituteMatches(e,t,o,r,s);return"=="===u?i===c:i!==c}}else{const t=s(h.split("|"),e.ignoreCase);d=function(e){return"~"===u?t(e):!t(e)}}return-1===r?{name:i,value:o,test:function(e,t,i,n){return d(e,e,t,i,n)}}:{name:i,value:o,test:function(e,t,i,n){const o=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;const e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,r);return d(o||"",e,t,i,n)}}}function l(e,t,i){if(i){if("string"==typeof i)return i;if(i.token||""===i.token){if("string"!=typeof i.token)throw n.createError(e,"a 'token' attribute must be of type string, in rule: "+t);{const o={token:i.token};if(i.token.indexOf("$")>=0&&(o.tokenSubst=!0),"string"==typeof i.bracket)if("@open"===i.bracket)o.bracket=1;else{if("@close"!==i.bracket)throw n.createError(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);o.bracket=-1}if(i.next){if("string"!=typeof i.next)throw n.createError(e,"the next state must be a string value in rule: "+t);{let r=i.next;if(!/^(@pop|@push|@popall)$/.test(r)&&("@"===r[0]&&(r=r.substr(1)),r.indexOf("$")<0&&!n.stateExists(e,n.substituteMatches(e,r,"",[],""))))throw n.createError(e,"the next state '"+i.next+"' is not defined in rule: "+t);o.next=r}}return"number"==typeof i.goBack&&(o.goBack=i.goBack),"string"==typeof i.switchTo&&(o.switchTo=i.switchTo),"string"==typeof i.log&&(o.log=i.log),"string"==typeof i.nextEmbedded&&(o.nextEmbedded=i.nextEmbedded,e.usesEmbedded=!0),o}}if(Array.isArray(i)){const n=[];for(let o=0,r=i.length;o<r;o++)n[o]=l(e,t,i[o]);return{group:n}}if(i.cases){const n=[];for(const o in i.cases)if(i.cases.hasOwnProperty(o)){const r=l(e,t,i.cases[o]);"@default"===o||"@"===o||""===o?n.push({test:void 0,value:r,name:o}):"@eos"===o?n.push({test:function(e,t,i,n){return n},value:r,name:o}):n.push(c(e,t,o,r))}const o=e.defaultToken;return{test:function(e,t,i,r){for(const o of n)if(!o.test||o.test(e,t,i,r))return o.value;return o}}}throw n.createError(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}class d{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw n.createError(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=a(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=l(e,this.name,t)}}t.compile=function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");const i={};i.languageId=e,i.includeLF=o(t.includeLF,!1),i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=o(t.ignoreCase,!1),i.unicode=o(t.unicode,!1),i.tokenPostfix=r(t.tokenPostfix,"."+i.languageId),i.defaultToken=r(t.defaultToken,"source"),i.usesEmbedded=!1;const s=t;function a(e,r,c){for(const l of c){let c=l.include;if(c){if("string"!=typeof c)throw n.createError(i,"an 'include' attribute must be a string at: "+e);if("@"===c[0]&&(c=c.substr(1)),!t.tokenizer[c])throw n.createError(i,"include target '"+c+"' is not defined at: "+e);a(e+"."+c,r,t.tokenizer[c])}else{const t=new d(e);if(Array.isArray(l)&&l.length>=1&&l.length<=3)if(t.setRegex(s,l[0]),l.length>=3)if("string"==typeof l[1])t.setAction(s,{token:l[1],next:l[2]});else{if("object"!=typeof l[1])throw n.createError(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=l[1];e.next=l[2],t.setAction(s,e)}}else t.setAction(s,l[1]);else{if(!l.regex)throw n.createError(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);l.name&&"string"==typeof l.name&&(t.name=l.name),l.matchOnlyAtStart&&(t.matchOnlyAtLineStart=o(l.matchOnlyAtLineStart,!1)),t.setRegex(s,l.regex),t.setAction(s,l.action)}r.push(t)}}}if(s.languageId=e,s.includeLF=i.includeLF,s.ignoreCase=i.ignoreCase,s.unicode=i.unicode,s.noThrow=i.noThrow,s.usesEmbedded=i.usesEmbedded,s.stateNames=t.tokenizer,s.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw n.createError(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(const e in t.tokenizer)if(t.tokenizer.hasOwnProperty(e)){i.start||(i.start=e);const n=t.tokenizer[e];i.tokenizer[e]=new Array,a("tokenizer."+e,i.tokenizer[e],n)}if(i.usesEmbedded=s.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw n.createError(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const c=[];for(const e of t.brackets){let t=e;if(t&&Array.isArray(t)&&3===t.length&&(t={token:t[2],open:t[0],close:t[1]}),t.open===t.close)throw n.createError(i,"open and close brackets in a 'brackets' attribute must be different: "+t.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof t.open||"string"!=typeof t.token||"string"!=typeof t.close)throw n.createError(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");c.push({token:t.token+i.tokenPostfix,open:n.fixCase(i,t.open),close:n.fixCase(i,t.close)})}return i.brackets=c,i.noThrow=!0,i}},60130:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonarchTokenizer=void 0;const r=i(40215),s=i(73793),a=i(8306),c=i(34673);class l{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new d(e,t);let i=d.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new d(e,t),this._entries[i]=n,n)}}l._INSTANCE=new l(5);class d{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return d._equals(this,e)}push(e){return l.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return l.create(this.parent,e)}}class u{constructor(e,t){this.languageId=e,this.state=t}equals(e){return this.languageId===e.languageId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new u(this.languageId,this.state)}}class h{static create(e,t){return this._INSTANCE.create(e,t)}constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}create(e,t){if(null!==t)return new p(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new p(e,t);const i=d.getStackElementId(e);let n=this._entries[i];return n||(n=new p(e,null),this._entries[i]=n,n)}}h._INSTANCE=new h(5);class p{constructor(e,t){this.stack=e,this.embeddedLanguageData=t}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:h.create(this.stack,this.embeddedLanguageData)}equals(e){return e instanceof p&&!!this.stack.equals(e.stack)&&(null===this.embeddedLanguageData&&null===e.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==e.embeddedLanguageData&&this.embeddedLanguageData.equals(e.embeddedLanguageData))}}class g{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(e){this._languageId=e}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=t,this._lastTokenLanguage=this._languageId,this._tokens.push(new r.Token(e,t,this._languageId)))}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,s=i.state,a=r.TokenizationRegistry.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),s;const c=a.tokenize(e,t,s);if(0!==n)for(const e of c.tokens)this._tokens.push(new r.Token(e.offset+n,e.type,e.language));else this._tokens=this._tokens.concat(c.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,c.endState}finalize(e){return new r.TokenizationResult(this._tokens,e)}}class f{constructor(e,t){this._languageService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(e){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(e)}emit(e,t){const i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){const n=null!==e?e.length:0,o=t.length,r=null!==i?i.length:0;if(0===n&&0===o&&0===r)return new Uint32Array(0);if(0===n&&0===o)return i;if(0===o&&0===r)return e;const s=new Uint32Array(n+o+r);null!==e&&s.set(e);for(let e=0;e<o;e++)s[n+e]=t[e];return null!==i&&s.set(i,n+o),s}nestedLanguageTokenize(e,t,i,n){const o=i.languageId,s=i.state,a=r.TokenizationRegistry.get(o);if(!a)return this.enterLanguage(o),this.emit(n,""),s;const c=a.tokenizeEncoded(e,t,s);if(0!==n)for(let e=0,t=c.tokens.length;e<t;e+=2)c.tokens[e]+=n;return this._prependTokens=f._merge(this._prependTokens,this._tokens,c.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,c.endState}finalize(e){return new r.EncodedTokenizationResult(f._merge(this._prependTokens,this._tokens,null),e)}}let m=class e{constructor(e,t,i,n,o){this._configurationService=o,this._languageService=e,this._standaloneThemeService=t,this._languageId=i,this._lexer=n,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let s=!1;this._tokenizationRegistryListener=r.TokenizationRegistry.onDidChange((e=>{if(s)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){const n=e.changedLanguages[i];if(this._embeddedLanguages[n]){t=!0;break}}t&&(s=!0,r.TokenizationRegistry.fire([this._languageId]),s=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const t=[];for(const i in this._embeddedLanguages){const n=r.TokenizationRegistry.get(i);if(n){if(n instanceof e){const e=n.getLoadStatus();!1===e.loaded&&t.push(e.promise)}}else r.TokenizationRegistry.isResolved(i)||t.push(r.TokenizationRegistry.getOrCreate(i))}return 0===t.length?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then((e=>{}))}}getInitialState(){const e=l.create(null,this._lexer.start);return h.create(e,null)}tokenize(e,t,i){if(e.length>=this._maxTokenizationLineLength)return(0,s.nullTokenize)(this._languageId,i);const n=new g,o=this._tokenize(e,t,i,n);return n.finalize(o)}tokenizeEncoded(e,t,i){if(e.length>=this._maxTokenizationLineLength)return(0,s.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),i);const n=new f(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),o=this._tokenize(e,t,i,n);return n.finalize(o)}_tokenize(e,t,i,n){return i.embeddedLanguageData?this._nestedTokenize(e,t,i,0,n):this._myTokenize(e,t,i,0,n)}_findLeavingNestedLanguageOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=a.findRules(this._lexer,t.stack.state),!i))throw a.createError(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,o=!1;for(const t of i){if(!a.isIAction(t.action)||"@pop"!==t.action.nextEmbedded)continue;o=!0;let i=t.regex;const r=t.regex.source;if("^(?:"===r.substr(0,4)&&")"===r.substr(r.length-1,1)){const e=(i.ignoreCase?"i":"")+(i.unicode?"u":"");i=new RegExp(r.substr(4,r.length-5),e)}const s=e.search(i);-1===s||0!==s&&t.matchOnlyAtLineStart||(-1===n||s<n)&&(n=s)}if(!o)throw a.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n,o){const r=this._findLeavingNestedLanguageOffset(e,i);if(-1===r){const r=o.nestedLanguageTokenize(e,t,i.embeddedLanguageData,n);return h.create(i.stack,new u(i.embeddedLanguageData.languageId,r))}const s=e.substring(0,r);s.length>0&&o.nestedLanguageTokenize(s,!1,i.embeddedLanguageData,n);const a=e.substring(r);return this._myTokenize(a,t,i,n+r,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n,o){o.enterLanguage(this._languageId);const r=e.length,s=t&&this._lexer.includeLF?e+"\n":e,c=s.length;let l=i.embeddedLanguageData,d=i.stack,u=0,p=null,g=!0;for(;g||u<c;){const i=u,f=d.depth,m=p?p.groups.length:0,v=d.state;let A=null,y=null,C=null,w=null,_=null;if(p){A=p.matches;const e=p.groups.shift();y=e.matched,C=e.action,w=p.rule,0===p.groups.length&&(p=null)}else{if(!g&&u>=c)break;g=!1;let e=this._lexer.tokenizer[v];if(!e&&(e=a.findRules(this._lexer,v),!e))throw a.createError(this._lexer,"tokenizer state is not defined: "+v);const t=s.substr(u);for(const i of e)if((0===u||!i.matchOnlyAtLineStart)&&(A=t.match(i.regex),A)){y=A[0],C=i.action;break}}if(A||(A=[""],y=""),C||(u<c&&(A=[s.charAt(u)],y=A[0]),C=this._lexer.defaultToken),null===y)break;for(u+=y.length;a.isFuzzyAction(C)&&a.isIAction(C)&&C.test;)C=C.test(y,A,v,u===c);let S=null;if("string"==typeof C||Array.isArray(C))S=C;else if(C.group)S=C.group;else if(null!==C.token&&void 0!==C.token){if(S=C.tokenSubst?a.substituteMatches(this._lexer,C.token,y,A,v):C.token,C.nextEmbedded)if("@pop"===C.nextEmbedded){if(!l)throw a.createError(this._lexer,"cannot pop embedded language if not inside one");l=null}else{if(l)throw a.createError(this._lexer,"cannot enter embedded language from within an embedded language");_=a.substituteMatches(this._lexer,C.nextEmbedded,y,A,v)}if(C.goBack&&(u=Math.max(0,u-C.goBack)),C.switchTo&&"string"==typeof C.switchTo){let e=a.substituteMatches(this._lexer,C.switchTo,y,A,v);if("@"===e[0]&&(e=e.substr(1)),!a.findRules(this._lexer,e))throw a.createError(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));d=d.switchTo(e)}else{if(C.transform&&"function"==typeof C.transform)throw a.createError(this._lexer,"action.transform not supported");if(C.next)if("@push"===C.next){if(d.depth>=this._lexer.maxStack)throw a.createError(this._lexer,"maximum tokenizer stack size reached: ["+d.state+","+d.parent.state+",...]");d=d.push(v)}else if("@pop"===C.next){if(d.depth<=1)throw a.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(w));d=d.pop()}else if("@popall"===C.next)d=d.popall();else{let e=a.substituteMatches(this._lexer,C.next,y,A,v);if("@"===e[0]&&(e=e.substr(1)),!a.findRules(this._lexer,e))throw a.createError(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(w));d=d.push(e)}}C.log&&"string"==typeof C.log&&a.log(this._lexer,this._lexer.languageId+": "+a.substituteMatches(this._lexer,C.log,y,A,v))}if(null===S)throw a.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(w));const E=i=>{const r=this._languageService.getLanguageIdByLanguageName(i)||this._languageService.getLanguageIdByMimeType(i)||i,s=this._getNestedEmbeddedLanguageData(r);if(u<c){const i=e.substr(u);return this._nestedTokenize(i,t,h.create(d,s),n+u,o)}return h.create(d,s)};if(Array.isArray(S)){if(p&&p.groups.length>0)throw a.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(w));if(A.length!==S.length+1)throw a.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(w));let e=0;for(let t=1;t<A.length;t++)e+=A[t].length;if(e!==y.length)throw a.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(w));p={rule:w,matches:A,groups:[]};for(let e=0;e<S.length;e++)p.groups[e]={action:S[e],matched:A[e+1]};u-=y.length}else{{if("@rematch"===S&&(u-=y.length,y="",A=null,S="",null!==_))return E(_);if(0===y.length){if(0===c||f!==d.depth||v!==d.state||(p?p.groups.length:0)!==m)continue;throw a.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(w))}let e=null;if(a.isString(S)&&0===S.indexOf("@brackets")){const t=S.substr(9),i=b(this._lexer,y);if(!i)throw a.createError(this._lexer,"@brackets token returned but no bracket defined as: "+y);e=a.sanitize(i.token+t)}else{const t=""===S?"":S+this._lexer.tokenPostfix;e=a.sanitize(t)}i<r&&o.emit(i+n,e)}if(null!==_)return E(_)}}return h.create(d,l)}_getNestedEmbeddedLanguageData(e){if(!this._languageService.isRegisteredLanguageId(e))return new u(e,s.NullState);e!==this._languageId&&(r.TokenizationRegistry.getOrCreate(e),this._embeddedLanguages[e]=!0);const t=r.TokenizationRegistry.get(e);return new u(e,t?t.getInitialState():s.NullState)}};function b(e,t){if(!t)return null;t=a.fixCase(e,t);const i=e.brackets;for(const e of i){if(e.open===t)return{token:e.token,bracketType:1};if(e.close===t)return{token:e.token,bracketType:-1}}return null}m=n([o(4,c.IConfigurationService)],m),t.MonarchTokenizer=m},85813:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IStandaloneThemeService=void 0;const n=i(28888);t.IStandaloneThemeService=(0,n.createDecorator)("themeService")},78501:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hc_light=t.hc_black=t.vs_dark=t.vs=void 0;const n=i(50271),o=i(78002);t.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[o.editorBackground]:"#FFFFFE",[o.editorForeground]:"#000000",[o.editorInactiveSelection]:"#E5EBF1",[n.editorIndentGuides]:"#D3D3D3",[n.editorActiveIndentGuides]:"#939393",[o.editorSelectionHighlight]:"#ADD6FF4D"}},t.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[o.editorBackground]:"#1E1E1E",[o.editorForeground]:"#D4D4D4",[o.editorInactiveSelection]:"#3A3D41",[n.editorIndentGuides]:"#404040",[n.editorActiveIndentGuides]:"#707070",[o.editorSelectionHighlight]:"#ADD6FF26"}},t.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[o.editorBackground]:"#000000",[o.editorForeground]:"#FFFFFF",[n.editorIndentGuides]:"#FFFFFF",[n.editorActiveIndentGuides]:"#FFFFFF"}},t.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[o.editorBackground]:"#FFFFFF",[o.editorForeground]:"#292929",[n.editorIndentGuides]:"#292929",[n.editorActiveIndentGuides]:"#292929"}}},9147:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.load=t.create=t.setPseudoTranslation=t.getConfiguredDefaultLocale=t.localize=void 0;let n="undefined"!=typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function o(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,((e,i)=>{const n=i[0],o=t[n];let r=e;return"string"==typeof o?r=o:"number"!=typeof o&&"boolean"!=typeof o&&null!=o||(r=String(o)),r})),n&&(i="［"+i.replace(/[aouei]/g,"$&$&")+"］"),i}function r(e){return"/"===e.charAt(e.length-1)?e:e+"/"}function s(e,t,n){return i(this,void 0,void 0,(function*(){const i=r(e)+r(t)+"vscode/"+r(n),o=yield fetch(i);if(o.ok)return yield o.json();throw new Error(`${o.status} - ${o.statusText}`)}))}function a(e){return function(t,i){const n=Array.prototype.slice.call(arguments,2);return o(e[t],n)}}function c(e,t,...i){return o(t,i)}t.localize=c,t.getConfiguredDefaultLocale=function(e){},t.setPseudoTranslation=function(e){n=e},t.create=function(e,t){var i;return{localize:a(t[e]),getConfiguredDefaultLocale:null!==(i=t.getConfiguredDefaultLocale)&&void 0!==i?i:e=>{}}},t.load=function(e,t,n,o){var r;const l=null!==(r=o["vs/nls"])&&void 0!==r?r:{};if(!e||0===e.length)return n({localize:c,getConfiguredDefaultLocale:()=>{var e;return null===(e=l.availableLanguages)||void 0===e?void 0:e["*"]}});const d=l.availableLanguages?function(e,t){let i=e[t];return i||(i=e["*"],i||null)}(l.availableLanguages,e):null,u=null===d||"i-default"===d;let h=".nls";u||(h=h+"."+d);const p=t=>{Array.isArray(t)?t.localize=a(t):t.localize=a(t[e]),t.getConfiguredDefaultLocale=()=>{var e;return null===(e=l.availableLanguages)||void 0===e?void 0:e["*"]},n(t)};"function"==typeof l.loadBundle?l.loadBundle(e,d,((i,n)=>{i?t([e+".nls"],p):p(n)})):l.translationServiceUrl&&!u?(()=>{i(this,void 0,void 0,(function*(){var i;try{const t=yield s(l.translationServiceUrl,d,e);return p(t)}catch(n){if(!d.includes("-"))return console.error(n),t([e+".nls"],p);try{const t=d.split("-")[0],n=yield s(l.translationServiceUrl,t,e);return null!==(i=l.availableLanguages)&&void 0!==i||(l.availableLanguages={}),l.availableLanguages["*"]=t,p(n)}catch(i){return console.error(i),t([e+".nls"],p)}}}))})():t([e+h],p,(i=>{".nls"!==h?(console.error(`Failed to load message bundle for language ${d}. Falling back to the default language:`,i),t([e+".nls"],p)):console.error("Failed trying to load default language strings",i)}))}},31655:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityService=void 0;const r=i(42535),s=i(75345),a=i(50855),c=i(755),l=i(10474),d=i(34673),u=i(83913),h=i(82256);let p=class extends c.Disposable{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new a.Emitter,this._onDidChangeReducedMotion=new a.Emitter,this._accessibilityModeEnabledContext=l.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),e.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())}))),n(),this._register(this.onDidChangeScreenReaderOptimized((()=>n())));const o=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(o)}initReducedMotionListeners(e){if(!this._layoutService.hasContainer)return;this._register((0,r.addDisposableListener)(e,"change",(()=>{this._systemMotionReduced=e.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()})));const t=()=>{const e=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",e),this._layoutService.container.classList.toggle("enable-motion",!e)};t(),this._register(this.onDidChangeReducedMotion((()=>t())))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return"on"===e||"auto"===e&&this._systemMotionReduced}alwaysUnderlineAccessKeys(){return Promise.resolve(!1)}getAccessibilitySupport(){return this._accessibilitySupport}setAccessibilitySupport(e){this._accessibilitySupport!==e&&(this._accessibilitySupport=e,this._onDidChangeScreenReaderOptimized.fire())}alert(e){(0,s.alert)(e)}};p=n([o(0,u.IContextKeyService),o(1,h.ILayoutService),o(2,d.IConfigurationService)],p),t.AccessibilityService=p},10474:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTEXT_ACCESSIBILITY_MODE_ENABLED=t.IAccessibilityService=void 0;const n=i(83913),o=i(28888);t.IAccessibilityService=(0,o.createDecorator)("accessibilityService"),t.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new n.RawContextKey("accessibilityModeEnabled",!1)},70907:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createActionViewItem=t.DropdownWithDefaultActionViewItem=t.SubmenuEntryActionViewItem=t.MenuEntryActionViewItem=t.createAndFillInActionBarActions=t.createAndFillInContextMenuActions=void 0;const s=i(42535),a=i(23679),c=i(85649),l=i(74919),d=i(49549),u=i(86542),h=i(755),p=i(83489);i(67690);const g=i(9147),f=i(97559),m=i(83913),b=i(48963),v=i(28888),A=i(79999),y=i(88669),C=i(56304),w=i(56090),_=i(79864),S=i(49929);function E(e,t,i,n=(e=>"navigation"===e),o=Number.MAX_SAFE_INTEGER,r=(()=>!1),s=!1){let a,c;Array.isArray(t)?(a=t,c=t):(a=t.primary,c=t.secondary);const l=new Set;for(const[t,o]of e){let e;n(t)?(e=a,e.length>0&&s&&e.push(new d.Separator)):(e=c,e.length>0&&e.push(new d.Separator));for(let n of o){i&&(n=n instanceof f.MenuItemAction&&n.alt?n.alt:n);const o=e.push(n);n instanceof d.SubmenuAction&&l.add({group:t,action:n,index:o-1})}}for(const{group:e,action:t,index:i}of l){const s=n(e)?a:c,l=t.actions;(l.length<=1||s.length+l.length-2<=o)&&r(t,e,s.length)&&s.splice(i,1,...l)}if(a!==c&&a.length>o){const e=a.splice(o,a.length-o);c.unshift(...e,new d.Separator)}}t.createAndFillInContextMenuActions=function(e,t,i,n){const o=e.getActions(t),r=s.ModifierKeyEmitter.getInstance();E(o,i,r.keyStatus.altKey||(p.isWindows||p.isLinux)&&r.keyStatus.shiftKey,n?e=>e===n:e=>"navigation"===e)},t.createAndFillInActionBarActions=function(e,t,i,n,o,r,s){E(e.getActions(t),i,!1,"string"==typeof n?e=>e===n:n,o,r,s)};let k=class extends c.ActionViewItem{constructor(e,t,i,n,o,r,a){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable,keybinding:null==t?void 0:t.keybinding,hoverDelegate:null==t?void 0:t.hoverDelegate}),this._keybindingService=i,this._notificationService=n,this._contextKeyService=o,this._themeService=r,this._contextMenuService=a,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new h.MutableDisposable),this._altKey=s.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return r(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(p.isWindows||p.isLinux)&&this._altKey.keyStatus.shiftKey;const n=()=>{var e;const n=t&&i&&!!(null===(e=this._commandAction.alt)||void 0===e?void 0:e.enabled);n!==this._wantsAltCommand&&(this._wantsAltCommand=n,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((e=>{i=e.altKey||(p.isWindows||p.isLinux)&&e.shiftKey,n()}))),this._register((0,s.addDisposableListener)(e,"mouseleave",(e=>{t=!1,n()}))),this._register((0,s.addDisposableListener)(e,"mouseenter",(e=>{t=!0,n()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),i=t&&t.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let o=i?(0,g.localize)("titleAndKb","{0} ({1})",n,i):n;if(!this._wantsAltCommand&&(null===(e=this._menuItemAction.alt)||void 0===e?void 0:e.enabled)){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),i=t&&t.getLabel(),n=i?(0,g.localize)("titleAndKb","{0} ({1})",e,i):e;o=(0,g.localize)("titleAndKbAndAlt","{0}\n[{1}] {2}",o,u.UILabelProvider.modifierLabels[p.OS].altKey,n)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:n}=this;if(!i||!n)return;const o=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(o)if(w.ThemeIcon.isThemeIcon(o)){const e=w.ThemeIcon.asClassNameArray(o);n.classList.add(...e),this._itemClassDispose.value=(0,h.toDisposable)((()=>{n.classList.remove(...e)}))}else n.style.backgroundImage=(0,_.isDark)(this._themeService.getColorTheme().type)?(0,s.asCSSUrl)(o.dark):(0,s.asCSSUrl)(o.light),n.classList.add("icon"),this._itemClassDispose.value=(0,h.combinedDisposable)((0,h.toDisposable)((()=>{n.style.backgroundImage="",n.classList.remove("icon")})),this._themeService.onDidColorThemeChange((()=>{this.updateClass()})))}};k=n([o(2,A.IKeybindingService),o(3,y.INotificationService),o(4,m.IContextKeyService),o(5,w.IThemeService),o(6,b.IContextMenuService)],k),t.MenuEntryActionViewItem=k;let x=class extends l.DropdownMenuActionViewItem{constructor(e,t,i,n){var o,r;const s=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null!==(o=null==t?void 0:t.menuAsChild)&&void 0!==o&&o,classNames:null!==(r=null==t?void 0:t.classNames)&&void 0!==r?r:w.ThemeIcon.isThemeIcon(e.item.icon)?w.ThemeIcon.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},i,s),this._contextMenuService=i,this._themeService=n}render(e){super.render(e),(0,S.assertType)(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!w.ThemeIcon.isThemeIcon(i)){this.element.classList.add("icon");const e=()=>{this.element&&(this.element.style.backgroundImage=(0,_.isDark)(this._themeService.getColorTheme().type)?(0,s.asCSSUrl)(i.dark):(0,s.asCSSUrl)(i.light))};e(),this._register(this._themeService.onDidColorThemeChange((()=>{e()})))}}};x=n([o(2,b.IContextMenuService),o(3,w.IThemeService)],x),t.SubmenuEntryActionViewItem=x;let D=class extends c.BaseActionViewItem{get onDidChangeDropdownVisibility(){return this._dropdown.onDidChangeVisibility}constructor(e,t,i,n,o,r,s,a){var c,u,h;let p;super(null,e),this._keybindingService=i,this._notificationService=n,this._contextMenuService=o,this._menuService=r,this._instaService=s,this._storageService=a,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;const g=a.get(this._storageKey,1);g&&(p=e.actions.find((e=>g===e.id))),p||(p=e.actions[0]),this._defaultAction=this._instaService.createInstance(k,p,{keybinding:this._getDefaultActionKeybindingLabel(p)});const m=Object.assign({},null!=t?t:Object.create(null),{menuAsChild:null===(c=null==t?void 0:t.menuAsChild)||void 0===c||c,classNames:null!==(u=null==t?void 0:t.classNames)&&void 0!==u?u:["codicon","codicon-chevron-down"],actionRunner:null!==(h=null==t?void 0:t.actionRunner)&&void 0!==h?h:new d.ActionRunner});this._dropdown=new l.DropdownMenuActionViewItem(e,e.actions,this._contextMenuService,m),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof f.MenuItemAction&&this.update(e.action)}))}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(k,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends d.ActionRunner{runAction(e,t){return r(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render((0,s.prepend)(this._container,(0,s.$)(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let i;if(null===(t=this._options)||void 0===t?void 0:t.renderKeybindingWithDefaultActionLabel){const t=this._keybindingService.lookupKeybinding(e.id);t&&(i=`(${t.getLabel()})`)}return i}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,s.$)(".action-container");this._defaultAction.render((0,s.append)(this._container,t)),this._register((0,s.addDisposableListener)(t,s.EventType.KEY_DOWN,(e=>{const t=new a.StandardKeyboardEvent(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const i=(0,s.$)(".dropdown-action-container");this._dropdown.render((0,s.append)(this._container,i)),this._register((0,s.addDisposableListener)(i,s.EventType.KEY_DOWN,(e=>{var t;const i=new a.StandardKeyboardEvent(e);i.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),i.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};D=n([o(2,A.IKeybindingService),o(3,y.INotificationService),o(4,b.IContextMenuService),o(5,f.IMenuService),o(6,v.IInstantiationService),o(7,C.IStorageService)],D),t.DropdownWithDefaultActionViewItem=D,t.createActionViewItem=function(e,t,i){return t instanceof f.MenuItemAction?e.createInstance(k,t,i):t instanceof f.SubmenuItemAction?t.item.rememberDefaultAction?e.createInstance(D,t,i):e.createInstance(x,t,i):void 0}},97559:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__rest||function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(i[n[o]]=e[n[o]])}return i};Object.defineProperty(t,"__esModule",{value:!0}),t.registerAction2=t.Action2=t.SyncActionDescriptor=t.MenuItemAction=t.SubmenuItemAction=t.MenuRegistry=t.IMenuService=t.MenuId=t.isISubmenuItem=t.isIMenuItem=void 0;const s=i(49549),a=i(22452),c=i(50855),l=i(755),d=i(56461),u=i(96249),h=i(83913),p=i(21520),g=i(28888),f=i(80500),m=i(56090);function b(e){return void 0!==e.command}t.isIMenuItem=b,t.isISubmenuItem=function(e){return void 0!==e.submenu};class v{static for(e){var t;return null!==(t=v._instances.get(e))&&void 0!==t?t:new v(e)}constructor(e){if(v._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);v._instances.set(e,this),this.id=e}}t.MenuId=v,v._instances=new Map,v.CommandPalette=new v("CommandPalette"),v.DebugBreakpointsContext=new v("DebugBreakpointsContext"),v.DebugCallStackContext=new v("DebugCallStackContext"),v.DebugConsoleContext=new v("DebugConsoleContext"),v.DebugVariablesContext=new v("DebugVariablesContext"),v.DebugWatchContext=new v("DebugWatchContext"),v.DebugToolBar=new v("DebugToolBar"),v.DebugToolBarStop=new v("DebugToolBarStop"),v.EditorContext=new v("EditorContext"),v.SimpleEditorContext=new v("SimpleEditorContext"),v.EditorContent=new v("EditorContent"),v.EditorContextCopy=new v("EditorContextCopy"),v.EditorContextPeek=new v("EditorContextPeek"),v.EditorContextShare=new v("EditorContextShare"),v.EditorTitle=new v("EditorTitle"),v.EditorTitleRun=new v("EditorTitleRun"),v.EditorTitleContext=new v("EditorTitleContext"),v.EmptyEditorGroup=new v("EmptyEditorGroup"),v.EmptyEditorGroupContext=new v("EmptyEditorGroupContext"),v.ExplorerContext=new v("ExplorerContext"),v.ExtensionContext=new v("ExtensionContext"),v.GlobalActivity=new v("GlobalActivity"),v.CommandCenter=new v("CommandCenter"),v.LayoutControlMenuSubmenu=new v("LayoutControlMenuSubmenu"),v.LayoutControlMenu=new v("LayoutControlMenu"),v.MenubarMainMenu=new v("MenubarMainMenu"),v.MenubarAppearanceMenu=new v("MenubarAppearanceMenu"),v.MenubarDebugMenu=new v("MenubarDebugMenu"),v.MenubarEditMenu=new v("MenubarEditMenu"),v.MenubarCopy=new v("MenubarCopy"),v.MenubarFileMenu=new v("MenubarFileMenu"),v.MenubarGoMenu=new v("MenubarGoMenu"),v.MenubarHelpMenu=new v("MenubarHelpMenu"),v.MenubarLayoutMenu=new v("MenubarLayoutMenu"),v.MenubarNewBreakpointMenu=new v("MenubarNewBreakpointMenu"),v.MenubarPanelAlignmentMenu=new v("MenubarPanelAlignmentMenu"),v.MenubarPanelPositionMenu=new v("MenubarPanelPositionMenu"),v.MenubarPreferencesMenu=new v("MenubarPreferencesMenu"),v.MenubarRecentMenu=new v("MenubarRecentMenu"),v.MenubarSelectionMenu=new v("MenubarSelectionMenu"),v.MenubarShare=new v("MenubarShare"),v.MenubarSwitchEditorMenu=new v("MenubarSwitchEditorMenu"),v.MenubarSwitchGroupMenu=new v("MenubarSwitchGroupMenu"),v.MenubarTerminalMenu=new v("MenubarTerminalMenu"),v.MenubarViewMenu=new v("MenubarViewMenu"),v.MenubarHomeMenu=new v("MenubarHomeMenu"),v.OpenEditorsContext=new v("OpenEditorsContext"),v.ProblemsPanelContext=new v("ProblemsPanelContext"),v.SCMChangeContext=new v("SCMChangeContext"),v.SCMResourceContext=new v("SCMResourceContext"),v.SCMResourceFolderContext=new v("SCMResourceFolderContext"),v.SCMResourceGroupContext=new v("SCMResourceGroupContext"),v.SCMSourceControl=new v("SCMSourceControl"),v.SCMTitle=new v("SCMTitle"),v.SearchContext=new v("SearchContext"),v.StatusBarWindowIndicatorMenu=new v("StatusBarWindowIndicatorMenu"),v.StatusBarRemoteIndicatorMenu=new v("StatusBarRemoteIndicatorMenu"),v.TestItem=new v("TestItem"),v.TestItemGutter=new v("TestItemGutter"),v.TestPeekElement=new v("TestPeekElement"),v.TestPeekTitle=new v("TestPeekTitle"),v.TouchBarContext=new v("TouchBarContext"),v.TitleBarContext=new v("TitleBarContext"),v.TitleBarTitleContext=new v("TitleBarTitleContext"),v.TunnelContext=new v("TunnelContext"),v.TunnelPrivacy=new v("TunnelPrivacy"),v.TunnelProtocol=new v("TunnelProtocol"),v.TunnelPortInline=new v("TunnelInline"),v.TunnelTitle=new v("TunnelTitle"),v.TunnelLocalAddressInline=new v("TunnelLocalAddressInline"),v.TunnelOriginInline=new v("TunnelOriginInline"),v.ViewItemContext=new v("ViewItemContext"),v.ViewContainerTitle=new v("ViewContainerTitle"),v.ViewContainerTitleContext=new v("ViewContainerTitleContext"),v.ViewTitle=new v("ViewTitle"),v.ViewTitleContext=new v("ViewTitleContext"),v.CommentThreadTitle=new v("CommentThreadTitle"),v.CommentThreadActions=new v("CommentThreadActions"),v.CommentThreadTitleContext=new v("CommentThreadTitleContext"),v.CommentThreadCommentContext=new v("CommentThreadCommentContext"),v.CommentTitle=new v("CommentTitle"),v.CommentActions=new v("CommentActions"),v.InteractiveToolbar=new v("InteractiveToolbar"),v.InteractiveCellTitle=new v("InteractiveCellTitle"),v.InteractiveCellDelete=new v("InteractiveCellDelete"),v.InteractiveCellExecute=new v("InteractiveCellExecute"),v.InteractiveInputExecute=new v("InteractiveInputExecute"),v.NotebookToolbar=new v("NotebookToolbar"),v.NotebookCellTitle=new v("NotebookCellTitle"),v.NotebookCellDelete=new v("NotebookCellDelete"),v.NotebookCellInsert=new v("NotebookCellInsert"),v.NotebookCellBetween=new v("NotebookCellBetween"),v.NotebookCellListTop=new v("NotebookCellTop"),v.NotebookCellExecute=new v("NotebookCellExecute"),v.NotebookCellExecutePrimary=new v("NotebookCellExecutePrimary"),v.NotebookDiffCellInputTitle=new v("NotebookDiffCellInputTitle"),v.NotebookDiffCellMetadataTitle=new v("NotebookDiffCellMetadataTitle"),v.NotebookDiffCellOutputsTitle=new v("NotebookDiffCellOutputsTitle"),v.NotebookOutputToolbar=new v("NotebookOutputToolbar"),v.NotebookEditorLayoutConfigure=new v("NotebookEditorLayoutConfigure"),v.NotebookKernelSource=new v("NotebookKernelSource"),v.BulkEditTitle=new v("BulkEditTitle"),v.BulkEditContext=new v("BulkEditContext"),v.TimelineItemContext=new v("TimelineItemContext"),v.TimelineTitle=new v("TimelineTitle"),v.TimelineTitleContext=new v("TimelineTitleContext"),v.TimelineFilterSubMenu=new v("TimelineFilterSubMenu"),v.AccountsContext=new v("AccountsContext"),v.PanelTitle=new v("PanelTitle"),v.AuxiliaryBarTitle=new v("AuxiliaryBarTitle"),v.TerminalInstanceContext=new v("TerminalInstanceContext"),v.TerminalEditorInstanceContext=new v("TerminalEditorInstanceContext"),v.TerminalNewDropdownContext=new v("TerminalNewDropdownContext"),v.TerminalTabContext=new v("TerminalTabContext"),v.TerminalTabEmptyAreaContext=new v("TerminalTabEmptyAreaContext"),v.TerminalInlineTabContext=new v("TerminalInlineTabContext"),v.WebviewContext=new v("WebviewContext"),v.InlineCompletionsActions=new v("InlineCompletionsActions"),v.NewFile=new v("NewFile"),v.MergeInput1Toolbar=new v("MergeToolbar1Toolbar"),v.MergeInput2Toolbar=new v("MergeToolbar2Toolbar"),v.MergeBaseToolbar=new v("MergeBaseToolbar"),v.MergeInputResultToolbar=new v("MergeToolbarResultToolbar"),t.IMenuService=(0,g.createDecorator)("menuService");class A{static for(e){let t=this._all.get(e);return t||(t=new A(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof A&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}A._all=new Map,t.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new c.MicrotaskEmitter({merge:A.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(e){return this._commands.set(e.id,e),this._onDidChangeMenu.fire(A.for(v.CommandPalette)),(0,l.toDisposable)((()=>{this._commands.delete(e.id)&&this._onDidChangeMenu.fire(A.for(v.CommandPalette))}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){let i=this._menuItems.get(e);i||(i=new d.LinkedList,this._menuItems.set(e,i));const n=i.push(t);return this._onDidChangeMenu.fire(A.for(e)),(0,l.toDisposable)(n)}appendMenuItems(e){const t=new l.DisposableStore;for(const{id:i,item:n}of e)t.add(this.appendMenuItem(i,n));return t}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===v.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)b(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};class y extends s.SubmenuAction{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}t.SubmenuItemAction=y;let C=class e{constructor(t,i,n,o,r,s){var c,l;if(this.hideActions=o,this._commandService=s,this.id=t.id,this.label=(null==n?void 0:n.renderShortTitle)&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(l="string"==typeof t.tooltip?t.tooltip:null===(c=t.tooltip)||void 0===c?void 0:c.value)&&void 0!==l?l:"",this.enabled=!t.precondition||r.contextMatchesRules(t.precondition),this.checked=void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=r.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=i?new e(i,void 0,n,o,r,s):void 0,this._options=n,m.ThemeIcon.isThemeIcon(t.icon)&&(this.class=a.CSSIcon.asClassName(t.icon))}run(...e){var t,i;let n=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(n=[...n,this._options.arg]),(null===(i=this._options)||void 0===i?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};C=n([o(4,h.IContextKeyService),o(5,u.ICommandService)],C),t.MenuItemAction=C;class w{static create(e,t,i,n,o,r){return new w(e,t,i,n,o,r)}static from(e,t,i,n){return w.create(e,e.ID,e.LABEL,t,i,n)}constructor(e,t,i,n,o,r){this._id=t,this._label=i,this._keybindings=n,this._keybindingContext=o,this._keybindingWeight=r,this._descriptor=new p.SyncDescriptor(e,[this._id,this._label])}get syncDescriptor(){return this._descriptor}get id(){return this._id}get label(){return this._label}get keybindings(){return this._keybindings}get keybindingContext(){return this._keybindingContext}get keybindingWeight(){return this._keybindingWeight}}t.SyncActionDescriptor=w,t.Action2=class{constructor(e){this.desc=e}},t.registerAction2=function(e){const i=new l.DisposableStore,n=new e,o=n.desc,{f1:s,menu:a,keybinding:c,description:d}=o,p=r(o,["f1","menu","keybinding","description"]);if(i.add(u.CommandsRegistry.registerCommand({id:p.id,handler:(e,...t)=>n.run(e,...t),description:d})),Array.isArray(a))for(const e of a)i.add(t.MenuRegistry.appendMenuItem(e.id,Object.assign({command:p},e)));else a&&i.add(t.MenuRegistry.appendMenuItem(a.id,Object.assign({command:p},a)));if(s&&(i.add(t.MenuRegistry.appendMenuItem(v.CommandPalette,{command:p,when:p.precondition})),i.add(t.MenuRegistry.addCommand(p))),Array.isArray(c))for(const e of c)i.add(f.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},e),{id:p.id,when:p.precondition?h.ContextKeyExpr.and(p.precondition,e.when):e.when})));else c&&i.add(f.KeybindingsRegistry.registerKeybindingRule(Object.assign(Object.assign({},c),{id:p.id,when:p.precondition?h.ContextKeyExpr.and(p.precondition,c.when):c.when})));return i}},12937:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MenuService=void 0;const r=i(78456),s=i(50855),a=i(755),c=i(97559),l=i(96249),d=i(83913),u=i(49549),h=i(56304),p=i(37253),g=i(9147);let f=class{constructor(e,t){this._commandService=e,this._hiddenStates=new m(t)}createMenu(e,t,i){return new v(e,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},i),this._commandService,t)}resetHiddenStates(e){this._hiddenStates.reset(e)}};f=n([o(0,l.ICommandService),o(1,h.IStorageService)],f),t.MenuService=f;let m=class e{constructor(t){this._storageService=t,this._disposables=new a.DisposableStore,this._onDidChange=new s.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const i=t.get(e._key,0,"{}");this._data=JSON.parse(i)}catch(e){this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue((i=>{if(i.key===e._key){if(!this._ignoreChangeEvent)try{const i=t.get(e._key,0,"{}");this._data=JSON.parse(i)}catch(e){console.log("FAILED to read storage after UPDATE",e)}this._onDidChange.fire()}})))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(e,t){var i,n;return null!==(n=null===(i=this._data[e.id])||void 0===i?void 0:i.includes(t))&&void 0!==n&&n}updateHidden(e,t,i){const n=this._data[e.id];if(i)n?n.indexOf(t)<0&&n.push(t):this._data[e.id]=[t];else if(n){const i=n.indexOf(t);i>=0&&(0,p.removeFastWithoutKeepingOrder)(n,i),0===n.length&&delete this._data[e.id]}this._persist()}reset(e){if(void 0===e)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(e._key,t,0,0)}finally{this._ignoreChangeEvent=!1}}};m._key="menu.hiddenCommands",m=n([o(0,h.IStorageService)],m);let b=class e{constructor(e,t,i,n,o){this._id=e,this._hiddenStates=t,this._collectContextKeysForSubmenus=i,this._commandService=n,this._contextKeyService=o,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const t=c.MenuRegistry.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._structureContextKeys),(0,c.isIMenuItem)(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._preconditionContextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(i,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&c.MenuRegistry.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}createActionGroups(t){const i=[],n=[];for(const o of this._menuGroups){const[r,s]=o,a=[],l=[];for(const i of s)if(this._contextKeyService.contextMatchesRules(i.when)){const n=(0,c.isIMenuItem)(i),o=A(this._id,n?i.command:i,this._hiddenStates);if(n){const e=i.command._isFakeAction?void 0:o;l.push(new c.MenuItemAction(i.command,i.alt,t,e,this._contextKeyService,this._commandService))}else{const n=new e(i.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(t),r=u.Separator.join(...n.map((e=>e[1])));r.length>0&&l.push(new c.SubmenuItemAction(i,o,r))}}l.length>0&&i.push([r,l]),a.length>0&&n.push(a)}return i}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}static _compareMenuItems(t,i){const n=t.group,o=i.group;if(n!==o){if(!n)return 1;if(!o)return-1;if("navigation"===n)return-1;if("navigation"===o)return 1;const e=n.localeCompare(o);if(0!==e)return e}const r=t.order||0,s=i.order||0;return r<s?-1:r>s?1:e._compareTitles((0,c.isIMenuItem)(t)?t.command.title:t.title,(0,c.isIMenuItem)(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original,n="string"==typeof t?t:t.original;return i.localeCompare(n)}};b=n([o(3,l.ICommandService),o(4,d.IContextKeyService)],b);let v=class{constructor(e,t,i,n,o){this._disposables=new a.DisposableStore,this._menuInfo=new b(e,t,i.emitEventsForSubmenuChanges,n,o);const l=new r.RunOnceScheduler((()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})}),i.eventDebounceDelay);this._disposables.add(l),this._disposables.add(c.MenuRegistry.onDidChangeMenu((t=>{t.has(e)&&l.schedule()})));const d=this._disposables.add(new a.DisposableStore);this._onDidChange=new s.DebounceEmitter({onFirstListenerAdd:()=>{d.add(o.onDidChangeContext((e=>{const t=e.affectsSome(this._menuInfo.structureContextKeys),i=e.affectsSome(this._menuInfo.preconditionContextKeys),n=e.affectsSome(this._menuInfo.toggledContextKeys);(t||i||n)&&this._onDidChange.fire({menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:n})}))),d.add(t.onDidChange((e=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})})))},onLastListenerRemove:d.clear.bind(d),delay:i.eventDebounceDelay,merge:e=>{let t=!1,i=!1,n=!1;for(const o of e)if(t=t||o.isStructuralChange,i=i||o.isEnablementChange,n=n||o.isToggleChange,t&&i&&n)break;return{menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:n}}}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function A(e,t,i){const n=(0,c.isISubmenuItem)(t)?t.submenu.id:t.id,o="string"==typeof t.title?t.title:t.title.value,r=(0,u.toAction)({id:`hide/${e.id}/${n}`,label:(0,g.localize)("hide.label","Hide '{0}'",o),run(){i.updateHidden(e,n,!0)}}),s=(0,u.toAction)({id:`toggle/${e.id}/${n}`,label:o,get checked(){return!i.isHidden(e,n)},run(){const t=!i.isHidden(e,n);i.updateHidden(e,n,t)}});return{hide:r,toggle:s,get isHidden(){return!s.checked}}}v=n([o(3,l.ICommandService),o(4,d.IContextKeyService)],v)},72923:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserClipboardService=void 0;const s=i(7375),a=i(42535),c=i(78456),l=i(755),d=i(82256),u=i(5209);let h=class extends l.Disposable{constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],(s.isSafari||s.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const e=()=>{const e=new c.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=e,navigator.clipboard.write([new ClipboardItem({"text/plain":e.p})]).catch((t=>r(this,void 0,void 0,(function*(){t instanceof Error&&"NotAllowedError"===t.name&&e.isRejected||this.logService.error(t)}))))};this.layoutService.hasContainer&&(this._register((0,a.addDisposableListener)(this.layoutService.container,"click",e)),this._register((0,a.addDisposableListener)(this.layoutService.container,"keydown",e)))}writeText(e,t){return r(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return yield navigator.clipboard.writeText(e)}catch(e){console.error(e)}const i=document.activeElement,n=document.body.appendChild((0,a.$)("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)}))}readText(e){return r(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(e){return console.error(e),""}}))}readFindText(){return r(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return r(this,void 0,void 0,(function*(){this.findText=e}))}writeResources(e){return r(this,void 0,void 0,(function*(){this.resources=e}))}readResources(){return r(this,void 0,void 0,(function*(){return this.resources}))}hasResources(){return r(this,void 0,void 0,(function*(){return this.resources.length>0}))}};h=n([o(0,d.ILayoutService),o(1,u.ILogService)],h),t.BrowserClipboardService=h},3557:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IClipboardService=void 0;const n=i(28888);t.IClipboardService=(0,n.createDecorator)("clipboardService")},96249:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullCommandService=t.CommandsRegistry=t.ICommandService=void 0;const n=i(50855),o=i(5257),r=i(755),s=i(56461),a=i(49929),c=i(28888);t.ICommandService=(0,c.createDecorator)("commandService"),t.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new n.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(const i of e.description.args)t.push(i.constraint);const i=e.handler;e.handler=function(e,...n){return(0,a.validateConstraints)(n,t),i(e,...n)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new s.LinkedList,this._commands.set(i,n));const o=n.unshift(e),c=(0,r.toDisposable)((()=>{o();const e=this._commands.get(i);(null==e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),c}registerCommandAlias(e,i){return t.CommandsRegistry.registerCommand(e,((e,...n)=>e.get(t.ICommandService).executeCommand(i,...n)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return o.Iterable.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}},t.NullCommandService={_serviceBrand:void 0,onWillExecuteCommand:()=>r.Disposable.None,onDidExecuteCommand:()=>r.Disposable.None,executeCommand:()=>Promise.resolve(void 0)},t.CommandsRegistry.registerCommand("noop",(()=>{}))},34673:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageTagSettingPlainKey=t.getMigratedSettingValue=t.merge=t.getConfigurationValue=t.removeFromValueTree=t.addToValueTree=t.toValuesTree=t.ConfigurationTargetToString=t.isConfigurationUpdateOverrides=t.isConfigurationOverrides=t.IConfigurationService=void 0;const n=i(49929),o=i(33662),r=i(28888);function s(e,t,i,n){const o=t.split("."),r=o.pop();let s=e;for(let e=0;e<o.length;e++){const i=o[e];let r=s[i];switch(typeof r){case"undefined":r=s[i]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${o.slice(0,e+1).join(".")} is ${JSON.stringify(r)}`)}s=r}if("object"==typeof s&&null!==s)try{s[r]=i}catch(e){n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}else n(`Ignoring ${t} as ${o.join(".")} is ${JSON.stringify(s)}`)}function a(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!=typeof n||Array.isArray(n)||(a(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}t.IConfigurationService=(0,r.createDecorator)("configurationService"),t.isConfigurationOverrides=function(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof o.URI)},t.isConfigurationUpdateOverrides=function(e){return e&&"object"==typeof e&&(!e.overrideIdentifiers||Array.isArray(e.overrideIdentifiers))&&!e.overrideIdentifier&&(!e.resource||e.resource instanceof o.URI)},t.ConfigurationTargetToString=function(e){switch(e){case 1:return"APPLICATION";case 2:return"USER";case 3:return"USER_LOCAL";case 4:return"USER_REMOTE";case 5:return"WORKSPACE";case 6:return"WORKSPACE_FOLDER";case 7:return"DEFAULT";case 8:return"MEMORY"}},t.toValuesTree=function(e,t){const i=Object.create(null);for(const n in e)s(i,n,e[n],t);return i},t.addToValueTree=s,t.removeFromValueTree=function(e,t){a(e,t.split("."))},t.getConfigurationValue=function(e,t,i){const n=function(e,t){let i=e;for(const e of t){if("object"!=typeof i||null===i)return;i=i[e]}return i}(e,t.split("."));return void 0===n?i:n},t.merge=function e(t,i,o){Object.keys(i).forEach((r=>{"__proto__"!==r&&(r in t?n.isObject(t[r])&&n.isObject(i[r])?e(t[r],i[r],o):o&&(t[r]=i[r]):t[r]=i[r])}))},t.getMigratedSettingValue=function(e,t,i){const n=e.inspect(t),o=e.inspect(i);return void 0!==n.userValue||void 0!==n.workspaceValue||void 0!==n.workspaceFolderValue?n.value:void 0!==o.userValue||void 0!==o.workspaceValue||void 0!==o.workspaceFolderValue?o.value:n.defaultValue},t.getLanguageTagSettingPlainKey=function(e){return e.replace(/[\[\]]/g,"")}},26859:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationChangeEvent=t.mergeChanges=t.Configuration=t.UserSettings=t.ConfigurationModelParser=t.ConfigurationModel=void 0;const o=i(37253),r=i(50855),s=i(22710),a=i(755),c=i(28371),l=i(31281),d=i(49929),u=i(33662),h=i(34673),p=i(6688),g=i(81437);class f{constructor(e={},t=[],i=[],n){this._contents=e,this._keys=t,this._overrides=i,this.raw=n,this.frozen=!1,this.overrideConfigurations=new Map}get rawConfiguration(){var e;if(!this._rawConfiguration)if(null===(e=this.raw)||void 0===e?void 0:e.length){const e=this.raw.map((e=>{if(e instanceof f)return e;const t=new m("");return t.parseRaw(e),t.configurationModel}));this._rawConfiguration=e.reduce(((e,t)=>t===e?t:e.merge(t)),e[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}isFrozen(){return this.frozen}getValue(e){return e?(0,h.getConfigurationValue)(this.contents,e):this.contents}inspect(e,t){const i=this.rawConfiguration.getValue(e);return{value:i,override:t?this.rawConfiguration.getOverrideValue(e,t):void 0,merged:t?this.rawConfiguration.override(t).getValue(e):i}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?(0,h.getConfigurationValue)(i,e):i:void 0}getKeysForOverrideIdentifier(e){const t=[];for(const i of this.overrides)i.identifiers.includes(e)&&t.push(...i.keys);return o.distinct(t)}getAllOverrideIdentifiers(){const e=[];for(const t of this.overrides)e.push(...t.identifiers);return o.distinct(e)}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){var t,i;const n=l.deepClone(this.contents),r=l.deepClone(this.overrides),s=[...this.keys],a=(null===(t=this.raw)||void 0===t?void 0:t.length)?[...this.raw]:[this];for(const t of e)if(a.push(...(null===(i=t.raw)||void 0===i?void 0:i.length)?t.raw:[t]),!t.isEmpty()){this.mergeContents(n,t.contents);for(const e of t.overrides){const[t]=r.filter((t=>o.equals(t.identifiers,e.identifiers)));t?(this.mergeContents(t.contents,e.contents),t.keys.push(...e.keys),t.keys=o.distinct(t.keys)):r.push(l.deepClone(e))}for(const e of t.keys)-1===s.indexOf(e)&&s.push(e)}return new f(n,s,r,a.every((e=>e instanceof f))?void 0:a)}freeze(){return this.frozen=!0,this}clone(){return new f(l.deepClone(this.contents),[...this.keys],l.deepClone(this.overrides))}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;const i={};for(const e of o.distinct([...Object.keys(this.contents),...Object.keys(t)])){let n=this.contents[e];const o=t[e];o&&("object"==typeof n&&"object"==typeof o?(n=l.deepClone(n),this.mergeContents(n,o)):n=o),i[e]=n}return new f(i,this.keys,this.overrides)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&d.isObject(e[i])&&d.isObject(t[i])?this.mergeContents(e[i],t[i]):e[i]=l.deepClone(t[i])}checkAndFreeze(e){return this.frozen&&!Object.isFrozen(e)?l.deepFreeze(e):e}getContentsForOverrideIdentifer(e){let t=null,i=null;const n=e=>{e&&(i?this.mergeContents(i,e):i=l.deepClone(e))};for(const i of this.overrides)o.equals(i.identifiers,[e])?t=i.contents:i.identifiers.includes(e)&&n(i.contents);return n(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),(0,h.addToValueTree)(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&(0,h.removeFromValueTree)(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){const t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}t.ConfigurationModel=f;class m{constructor(e){this._name=e,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[],this._parseErrors=[]}get configurationModel(){return this._configurationModel||new f}get restrictedConfigurations(){return this._restrictedConfigurations}get errors(){return this._parseErrors}parse(e,t){if(!d.isUndefinedOrNull(e)){const i=this.doParseContent(e);this.parseRaw(i,t)}}reparse(e){this._raw&&this.parseRaw(this._raw,e)}parseRaw(e,t){this._raw=e;const{contents:i,keys:n,overrides:o,restricted:r,hasExcludedProperties:s}=this.doParseRaw(e,t);this._configurationModel=new f(i,n,o,s?[e]:void 0),this._restrictedConfigurations=r||[]}doParseContent(e){let t={},i=null,n=[];const o=[],r=[];function a(e){Array.isArray(n)?n.push(e):null!==i&&(n[i]=e)}const c={onObjectBegin:()=>{const e={};a(e),o.push(n),n=e,i=null},onObjectProperty:e=>{i=e},onObjectEnd:()=>{n=o.pop()},onArrayBegin:()=>{const e=[];a(e),o.push(n),n=e,i=null},onArrayEnd:()=>{n=o.pop()},onLiteralValue:a,onError:(e,t,i)=>{r.push({error:e,offset:t,length:i})}};if(e)try{s.visit(e,c),t=n[0]||{}}catch(e){console.error(`Error while parsing settings file ${this._name}: ${e}`),this._parseErrors=[e]}return t}doParseRaw(e,t){const i=g.Registry.as(p.Extensions.Configuration).getConfigurationProperties(),n=this.filter(e,i,!0,t);return e=n.raw,{contents:(0,h.toValuesTree)(e,(e=>console.error(`Conflict in settings file ${this._name}: ${e}`))),keys:Object.keys(e),overrides:this.toOverrides(e,(e=>console.error(`Conflict in settings file ${this._name}: ${e}`))),restricted:n.restricted,hasExcludedProperties:n.hasExcludedProperties}}filter(e,t,i,n){let o=!1;if(!(null==n?void 0:n.scopes)&&!(null==n?void 0:n.skipRestricted))return{raw:e,restricted:[],hasExcludedProperties:o};const r={},s=[];for(const a in e)if(p.OVERRIDE_PROPERTY_REGEX.test(a)&&i){const i=this.filter(e[a],t,!1,n);r[a]=i.raw,o=o||i.hasExcludedProperties,s.push(...i.restricted)}else{const i=t[a],c=i?void 0!==i.scope?i.scope:3:void 0;(null==i?void 0:i.restricted)&&s.push(a),void 0!==c&&void 0!==n.scopes&&!n.scopes.includes(c)||n.skipRestricted&&(null==i?void 0:i.restricted)?o=!0:r[a]=e[a]}return{raw:r,restricted:s,hasExcludedProperties:o}}toOverrides(e,t){const i=[];for(const n of Object.keys(e))if(p.OVERRIDE_PROPERTY_REGEX.test(n)){const o={};for(const t in e[n])o[t]=e[n][t];i.push({identifiers:(0,p.overrideIdentifiersFromKey)(n),keys:Object.keys(o),contents:(0,h.toValuesTree)(o,t)})}return i}}t.ConfigurationModelParser=m;class b extends a.Disposable{constructor(e,t,i,n){super(),this.userSettingsResource=e,this.scopes=t,this.fileService=n,this._onDidChange=this._register(new r.Emitter),this.onDidChange=this._onDidChange.event,this.parser=new m(this.userSettingsResource.toString()),this.parseOptions={scopes:this.scopes},this._register(this.fileService.watch(i.dirname(this.userSettingsResource))),this._register(this.fileService.watch(this.userSettingsResource)),this._register(r.Event.any(r.Event.filter(this.fileService.onDidFilesChange,(e=>e.contains(this.userSettingsResource))),r.Event.filter(this.fileService.onDidRunOperation,(t=>(t.isOperation(0)||t.isOperation(3)||t.isOperation(1)||t.isOperation(4))&&i.isEqual(t.resource,e))))((()=>this._onDidChange.fire())))}loadConfiguration(){return n(this,void 0,void 0,(function*(){try{const e=yield this.fileService.readFile(this.userSettingsResource);return this.parser.parse(e.value.toString()||"{}",this.parseOptions),this.parser.configurationModel}catch(e){return new f}}))}reparse(){return this.parser.reparse(this.parseOptions),this.parser.configurationModel}getRestrictedSettings(){return this.parser.restrictedConfigurations}}t.UserSettings=b;class v{constructor(e,t,i,n,o=new f,r=new f,s=new c.ResourceMap,a=new f,l=new c.ResourceMap,d=!0){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=n,this._remoteUserConfiguration=o,this._workspaceConfiguration=r,this._folderConfigurations=s,this._memoryConfiguration=a,this._memoryConfigurationByResource=l,this._freeze=d,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new c.ResourceMap,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new f,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const n=this.getConsolidatedConfigurationModel(e,t,i),r=this.getFolderConfigurationModelForResource(t.resource,i),s=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,a=this._defaultConfiguration.inspect(e,t.overrideIdentifier),c=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().inspect(e),l=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().inspect(e),d=this.userConfiguration.freeze().inspect(e,t.overrideIdentifier),u=this.localUserConfiguration.freeze().inspect(e,t.overrideIdentifier),h=this.remoteUserConfiguration.freeze().inspect(e,t.overrideIdentifier),p=i?this._workspaceConfiguration.freeze().inspect(e,t.overrideIdentifier):void 0,g=r?r.freeze().inspect(e,t.overrideIdentifier):void 0,f=s.inspect(e,t.overrideIdentifier),m=n.getValue(e),b=o.distinct(n.overrides.map((e=>e.identifiers)).flat()).filter((t=>void 0!==n.getOverrideValue(e,t)));return{defaultValue:a?a.merged:void 0,policyValue:c?c.merged:void 0,applicationValue:l?l.merged:void 0,userValue:d?d.merged:void 0,userLocalValue:u?u.merged:void 0,userRemoteValue:h?h.merged:void 0,workspaceValue:p?p.merged:void 0,workspaceFolderValue:g?g.merged:void 0,memoryValue:f?f.merged:void 0,value:m,default:void 0!==a.value||void 0!==a.override?{value:a.value,override:a.override}:void 0,policy:void 0!==(null==c?void 0:c.value)?{value:c.value}:void 0,application:void 0!==(null==l?void 0:l.value)||void 0!==(null==l?void 0:l.override)?{value:l.value,override:l.override}:void 0,user:void 0!==d.value||void 0!==d.override?{value:d.value,override:d.override}:void 0,userLocal:void 0!==u.value||void 0!==u.override?{value:u.value,override:u.override}:void 0,userRemote:void 0!==h.value||void 0!==h.override?{value:h.value,override:h.override}:void 0,workspace:void 0!==(null==p?void 0:p.value)||void 0!==(null==p?void 0:p.override)?{value:p.value,override:p.override}:void 0,workspaceFolder:void 0!==(null==g?void 0:g.value)||void 0!==(null==g?void 0:g.override)?{value:g.value,override:g.override}:void 0,memory:void 0!==f.value||void 0!==f.override?{value:f.value,override:f.override}:void 0,overrideIdentifiers:b.length?b:void 0}}keys(e){const t=this.getFolderConfigurationModelForResource(void 0,e);return{default:this._defaultConfiguration.freeze().keys,user:this.userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:t?t.freeze().keys:[]}}updateDefaultConfiguration(e){this._defaultConfiguration=e,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updatePolicyConfiguration(e){this._policyConfiguration=e}updateApplicationConfiguration(e){this._applicationConfiguration=e,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateLocalUserConfiguration(e){this._localUserConfiguration=e,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateRemoteUserConfiguration(e){this._remoteUserConfiguration=e,this._userConfiguration=null,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateWorkspaceConfiguration(e){this._workspaceConfiguration=e,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations.clear()}updateFolderConfiguration(e,t){this._folderConfigurations.set(e,t),this._foldersConsolidatedConfigurations.delete(e)}deleteFolderConfiguration(e){this.folderConfigurations.delete(e),this._foldersConsolidatedConfigurations.delete(e)}compareAndUpdateDefaultConfiguration(e,t){const i=[];if(!t){const{added:i,updated:n,removed:o}=A(this._defaultConfiguration,e);t=[...i,...n,...o]}for(const n of t)for(const t of(0,p.overrideIdentifiersFromKey)(n)){const n=this._defaultConfiguration.getKeysForOverrideIdentifier(t),o=e.getKeysForOverrideIdentifier(t),r=[...o.filter((e=>-1===n.indexOf(e))),...n.filter((e=>-1===o.indexOf(e))),...n.filter((i=>!l.equals(this._defaultConfiguration.override(t).getValue(i),e.override(t).getValue(i))))];i.push([t,r])}return this.updateDefaultConfiguration(e),{keys:t,overrides:i}}compareAndUpdatePolicyConfiguration(e){const{added:t,updated:i,removed:n}=A(this._policyConfiguration,e),o=[...t,...i,...n];return o.length&&this.updatePolicyConfiguration(e),{keys:o,overrides:[]}}compareAndUpdateApplicationConfiguration(e){const{added:t,updated:i,removed:n,overrides:o}=A(this.applicationConfiguration,e),r=[...t,...i,...n];return r.length&&this.updateApplicationConfiguration(e),{keys:r,overrides:o}}compareAndUpdateLocalUserConfiguration(e){const{added:t,updated:i,removed:n,overrides:o}=A(this.localUserConfiguration,e),r=[...t,...i,...n];return r.length&&this.updateLocalUserConfiguration(e),{keys:r,overrides:o}}compareAndUpdateRemoteUserConfiguration(e){const{added:t,updated:i,removed:n,overrides:o}=A(this.remoteUserConfiguration,e),r=[...t,...i,...n];return r.length&&this.updateRemoteUserConfiguration(e),{keys:r,overrides:o}}compareAndUpdateWorkspaceConfiguration(e){const{added:t,updated:i,removed:n,overrides:o}=A(this.workspaceConfiguration,e),r=[...t,...i,...n];return r.length&&this.updateWorkspaceConfiguration(e),{keys:r,overrides:o}}compareAndUpdateFolderConfiguration(e,t){const i=this.folderConfigurations.get(e),{added:n,updated:o,removed:r,overrides:s}=A(i,t),a=[...n,...o,...r];return!a.length&&i||this.updateFolderConfiguration(e,t),{keys:a,overrides:s}}compareAndDeleteFolderConfiguration(e){const t=this.folderConfigurations.get(e);if(!t)throw new Error("Unknown folder");this.deleteFolderConfiguration(e);const{added:i,updated:n,removed:o,overrides:r}=A(t,void 0);return{keys:[...i,...n,...o],overrides:r}}get defaults(){return this._defaultConfiguration}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}get workspaceConfiguration(){return this._workspaceConfiguration}get folderConfigurations(){return this._folderConfigurations}getConsolidatedConfigurationModel(e,t,i){let n=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(n=n.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(n=n.merge(this._policyConfiguration)),n}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:o}]),e}),[])}}allKeys(){const e=new Set;return this._defaultConfiguration.freeze().keys.forEach((t=>e.add(t))),this.userConfiguration.freeze().keys.forEach((t=>e.add(t))),this._workspaceConfiguration.freeze().keys.forEach((t=>e.add(t))),this._folderConfigurations.forEach((t=>t.freeze().keys.forEach((t=>e.add(t))))),[...e.values()]}allOverrideIdentifiers(){const e=new Set;return this._defaultConfiguration.freeze().getAllOverrideIdentifiers().forEach((t=>e.add(t))),this.userConfiguration.freeze().getAllOverrideIdentifiers().forEach((t=>e.add(t))),this._workspaceConfiguration.freeze().getAllOverrideIdentifiers().forEach((t=>e.add(t))),this._folderConfigurations.forEach((t=>t.freeze().getAllOverrideIdentifiers().forEach((t=>e.add(t))))),[...e.values()]}getAllKeysForOverrideIdentifier(e){const t=new Set;return this._defaultConfiguration.getKeysForOverrideIdentifier(e).forEach((e=>t.add(e))),this.userConfiguration.getKeysForOverrideIdentifier(e).forEach((e=>t.add(e))),this._workspaceConfiguration.getKeysForOverrideIdentifier(e).forEach((e=>t.add(e))),this._folderConfigurations.forEach((i=>i.getKeysForOverrideIdentifier(e).forEach((e=>t.add(e))))),[...t.values()]}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.policy),n=this.parseConfigurationModel(e.application),o=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),s=e.folders.reduce(((e,t)=>(e.set(u.URI.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new c.ResourceMap);return new v(t,i,n,o,new f,r,s,new f,new c.ResourceMap,!1)}static parseConfigurationModel(e){return new f(e.contents,e.keys,e.overrides).freeze()}}function A(e,t){const{added:i,removed:n,updated:o}=y(t,e),r=[],s=(null==e?void 0:e.getAllOverrideIdentifiers())||[],a=(null==t?void 0:t.getAllOverrideIdentifiers())||[];if(t){const e=a.filter((e=>!s.includes(e)));for(const i of e)r.push([i,t.getKeysForOverrideIdentifier(i)])}if(e){const t=s.filter((e=>!a.includes(e)));for(const i of t)r.push([i,e.getKeysForOverrideIdentifier(i)])}if(t&&e)for(const i of s)if(a.includes(i)){const n=y({contents:e.getOverrideValue(void 0,i)||{},keys:e.getKeysForOverrideIdentifier(i)},{contents:t.getOverrideValue(void 0,i)||{},keys:t.getKeysForOverrideIdentifier(i)});r.push([i,[...n.added,...n.removed,...n.updated]])}return{added:i,removed:n,updated:o,overrides:r}}function y(e,t){const i=e?t?e.keys.filter((e=>-1===t.keys.indexOf(e))):[...e.keys]:[],n=t?e?t.keys.filter((t=>-1===e.keys.indexOf(t))):[...t.keys]:[],o=[];if(e&&t)for(const i of t.keys)if(-1!==e.keys.indexOf(i)){const n=(0,h.getConfigurationValue)(t.contents,i),r=(0,h.getConfigurationValue)(e.contents,i);l.equals(n,r)||o.push(i)}return{added:i,removed:n,updated:o}}t.Configuration=v,t.mergeChanges=function(...e){if(0===e.length)return{keys:[],overrides:[]};if(1===e.length)return e[0];const t=new Set,i=new Map;for(const n of e)n.keys.forEach((e=>t.add(e))),n.overrides.forEach((([e,t])=>{const n=(0,c.getOrSet)(i,e,new Set);t.forEach((e=>n.add(e)))}));const n=[];return i.forEach(((e,t)=>n.push([t,[...e.values()]]))),{keys:[...t.values()],overrides:n}},t.ConfigurationChangeEvent=class{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach((e=>o.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>o.add(e))))),this.affectedKeys=[...o.values()];const r=new f;this.affectedKeys.forEach((e=>r.setValue(e,{}))),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=v.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,o=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!l.equals(n,o)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=(0,h.toValuesTree)({[t]:!0},(()=>{}));for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}},6688:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScopes=t.validateProperty=t.getDefaultValue=t.keyFromOverrideIdentifiers=t.overrideIdentifiersFromKey=t.OVERRIDE_PROPERTY_REGEX=t.OVERRIDE_PROPERTY_PATTERN=t.configurationDefaultsSchemaId=t.resourceLanguageSettingsSchemaId=t.resourceSettings=t.windowSettings=t.machineOverridableSettings=t.machineSettings=t.applicationSettings=t.allSettings=t.Extensions=t.EditPresentationTypes=void 0;const n=i(37253),o=i(50855),r=i(49929),s=i(9147),a=i(34673),c=i(81749),l=i(81437);var d;(d=t.EditPresentationTypes||(t.EditPresentationTypes={})).Multiline="multilineText",d.Singleline="singlelineText",t.Extensions={Configuration:"base.contributions.configuration"},t.allSettings={properties:{},patternProperties:{}},t.applicationSettings={properties:{},patternProperties:{}},t.machineSettings={properties:{},patternProperties:{}},t.machineOverridableSettings={properties:{},patternProperties:{}},t.windowSettings={properties:{},patternProperties:{}},t.resourceSettings={properties:{},patternProperties:{}},t.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage",t.configurationDefaultsSchemaId="vscode://schemas/settings/configurationDefaults";const u=l.Registry.as(c.Extensions.JSONContribution),h="\\[([^\\]]+)\\]",p=new RegExp(h,"g");function g(e){const i=[];if(t.OVERRIDE_PROPERTY_REGEX.test(e)){let t=p.exec(e);for(;null==t?void 0:t.length;){const n=t[1].trim();n&&i.push(n),t=p.exec(e)}}return(0,n.distinct)(i)}function f(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}t.OVERRIDE_PROPERTY_PATTERN=`^(${h})+$`,t.OVERRIDE_PROPERTY_REGEX=new RegExp(t.OVERRIDE_PROPERTY_PATTERN),t.overrideIdentifiersFromKey=g,t.keyFromOverrideIdentifiers=function(e){return e.reduce(((e,t)=>`${e}[${t}]`),"")},t.getDefaultValue=f;const m=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new o.Emitter,this.onDidSchemaChange=this._onDidSchemaChange.event,this._onDidUpdateConfiguration=new o.Emitter,this.onDidUpdateConfiguration=this._onDidUpdateConfiguration.event,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:s.localize("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},u.registerSchema(t.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,i=!0){const n=this.doRegisterConfigurations(e,i);u.registerSchema(t.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}deregisterConfigurations(e){const i=this.doDeregisterConfigurations(e);u.registerSchema(t.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}updateConfigurations({add:e,remove:i}){const o=[];o.push(...this.doDeregisterConfigurations(i)),o.push(...this.doRegisterConfigurations(e,!1)),u.registerSchema(t.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:(0,n.distinct)(o)})}registerDefaultConfigurations(e){var i;const n=[],o=[];for(const{overrides:c,source:l}of e)for(const e in c)if(n.push(e),t.OVERRIDE_PROPERTY_REGEX.test(e)){const n=this.configurationDefaultsOverrides.get(e),d=null!==(i=null==n?void 0:n.valuesSources)&&void 0!==i?i:new Map;if(l)for(const t of Object.keys(c[e]))d.set(t,l);const u=Object.assign(Object.assign({},(null==n?void 0:n.value)||{}),c[e]);this.configurationDefaultsOverrides.set(e,{source:l,value:u,valuesSources:d});const h=(0,a.getLanguageTagSettingPlainKey)(e),p={type:"object",default:u,description:s.localize("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",h),$ref:t.resourceLanguageSettingsSchemaId,defaultDefaultValue:u,source:r.isString(l)?void 0:l,defaultValueSource:l};o.push(...g(e)),this.configurationProperties[e]=p,this.defaultLanguageConfigurationOverridesNode.properties[e]=p}else{this.configurationDefaultsOverrides.set(e,{value:c[e],source:l});const t=this.configurationProperties[e];t&&(this.updatePropertyDefaultValue(e,t),this.updateSchema(e,t))}this.registerOverrideIdentifiers(o),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:!0})}deregisterDefaultConfigurations(e){var i;const n=[];for(const{overrides:o,source:s}of e)for(const e in o){const o=this.configurationDefaultsOverrides.get(e);if((r.isString(s)?s:null==s?void 0:s.id)===(r.isString(null==o?void 0:o.source)?null==o?void 0:o.source:null===(i=null==o?void 0:o.source)||void 0===i?void 0:i.id))if(n.push(e),this.configurationDefaultsOverrides.delete(e),t.OVERRIDE_PROPERTY_REGEX.test(e))delete this.configurationProperties[e],delete this.defaultLanguageConfigurationOverridesNode.properties[e];else{const t=this.configurationProperties[e];t&&(this.updatePropertyDefaultValue(e,t),this.updateSchema(e,t))}}this.updateOverridePropertyPatternKey(),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n,defaultsOverrides:!0})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t){const i=[];return e.forEach((e=>{i.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),i}doDeregisterConfigurations(e){const t=[],i=e=>{var n,o;if(e.properties)for(const i in e.properties){t.push(i);const o=this.configurationProperties[i];(null===(n=null==o?void 0:o.policy)||void 0===n?void 0:n.name)&&this.policyConfigurations.delete(o.policy.name),delete this.configurationProperties[i],this.removeFromSchema(i,e.properties[i])}null===(o=e.allOf)||void 0===o||o.forEach((e=>i(e)))};for(const t of e){i(t);const e=this.configurationContributors.indexOf(t);-1!==e&&this.configurationContributors.splice(e,1)}return t}validateAndRegisterProperties(e,i=!0,n,o,s=3){var a;s=r.isUndefinedOrNull(e.scope)?s:e.scope;const c=[],l=e.properties;if(l)for(const e in l){const d=l[e];i&&b(e,d)?delete l[e]:(d.source=n,d.defaultDefaultValue=l[e].default,this.updatePropertyDefaultValue(e,d),t.OVERRIDE_PROPERTY_REGEX.test(e)?d.scope=void 0:(d.scope=r.isUndefinedOrNull(d.scope)?s:d.scope,d.restricted=r.isUndefinedOrNull(d.restricted)?!!(null==o?void 0:o.includes(e)):d.restricted),!l[e].hasOwnProperty("included")||l[e].included?(this.configurationProperties[e]=l[e],(null===(a=l[e].policy)||void 0===a?void 0:a.name)&&this.policyConfigurations.set(l[e].policy.name,e),!l[e].deprecationMessage&&l[e].markdownDeprecationMessage&&(l[e].deprecationMessage=l[e].markdownDeprecationMessage),c.push(e)):(this.excludedConfigurationProperties[e]=l[e],delete l[e]))}const d=e.allOf;if(d)for(const e of d)c.push(...this.validateAndRegisterProperties(e,i,n,o,s));return c}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getConfigurationDefaultsOverrides(){return this.configurationDefaultsOverrides}registerJSONConfiguration(e){const t=e=>{const i=e.properties;if(i)for(const e in i)this.updateSchema(e,i[e]);const n=e.allOf;null==n||n.forEach(t)};t(e)}updateSchema(e,i){switch(t.allSettings.properties[e]=i,i.scope){case 1:t.applicationSettings.properties[e]=i;break;case 2:t.machineSettings.properties[e]=i;break;case 6:t.machineOverridableSettings.properties[e]=i;break;case 3:t.windowSettings.properties[e]=i;break;case 4:t.resourceSettings.properties[e]=i;break;case 5:t.resourceSettings.properties[e]=i,this.resourceLanguageSettingsSchema.properties[e]=i}}removeFromSchema(e,i){switch(delete t.allSettings.properties[e],i.scope){case 1:delete t.applicationSettings.properties[e];break;case 2:delete t.machineSettings.properties[e];break;case 6:delete t.machineOverridableSettings.properties[e];break;case 3:delete t.windowSettings.properties[e];break;case 4:case 5:delete t.resourceSettings.properties[e],delete this.resourceLanguageSettingsSchema.properties[e]}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const i=`[${e}]`,n={type:"object",description:s.localize("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:s.localize("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:t.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(i,n),t.allSettings.properties[i]=n,t.applicationSettings.properties[i]=n,t.machineSettings.properties[i]=n,t.machineOverridableSettings.properties[i]=n,t.windowSettings.properties[i]=n,t.resourceSettings.properties[i]=n}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const e={type:"object",description:s.localize("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:s.localize("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:t.resourceLanguageSettingsSchemaId};t.allSettings.patternProperties[t.OVERRIDE_PROPERTY_PATTERN]=e,t.applicationSettings.patternProperties[t.OVERRIDE_PROPERTY_PATTERN]=e,t.machineSettings.patternProperties[t.OVERRIDE_PROPERTY_PATTERN]=e,t.machineOverridableSettings.patternProperties[t.OVERRIDE_PROPERTY_PATTERN]=e,t.windowSettings.patternProperties[t.OVERRIDE_PROPERTY_PATTERN]=e,t.resourceSettings.patternProperties[t.OVERRIDE_PROPERTY_PATTERN]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e);let n=null==i?void 0:i.value,o=null==i?void 0:i.source;r.isUndefined(n)&&(n=t.defaultDefaultValue,o=void 0),r.isUndefined(n)&&(n=f(t.type)),t.default=n,t.defaultValueSource=o}};function b(e,i){var n,o,r,a;return e.trim()?t.OVERRIDE_PROPERTY_REGEX.test(e)?s.localize("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==m.getConfigurationProperties()[e]?s.localize("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):(null===(n=i.policy)||void 0===n?void 0:n.name)&&void 0!==m.getPolicyConfigurations().get(null===(o=i.policy)||void 0===o?void 0:o.name)?s.localize("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,null===(r=i.policy)||void 0===r?void 0:r.name,m.getPolicyConfigurations().get(null===(a=i.policy)||void 0===a?void 0:a.name)):null:s.localize("config.property.empty","Cannot register an empty property")}l.Registry.add(t.Extensions.Configuration,m),t.validateProperty=b,t.getScopes=function(){const e=[],t=m.getConfigurationProperties();for(const i of Object.keys(t))e.push([i,t[i].scope]);return e.push(["launch",4]),e.push(["task",4]),e}},18610:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PolicyConfiguration=t.NullPolicyConfiguration=t.DefaultConfigurationModel=t.DefaultConfiguration=void 0;const s=i(37253),a=i(50855),c=i(755),l=i(31281),d=i(49929),u=i(34673),h=i(26859),p=i(6688),g=i(5209),f=i(81101),m=i(81437);class b extends c.Disposable{constructor(){super(...arguments),this._onDidChangeConfiguration=this._register(new a.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event}get configurationModel(){return this._configurationModel||(this._configurationModel=new v(this.getConfigurationDefaultOverrides())),this._configurationModel}initialize(){return r(this,void 0,void 0,(function*(){return this._configurationModel=void 0,this._register(m.Registry.as(p.Extensions.Configuration).onDidUpdateConfiguration((({properties:e,defaultsOverrides:t})=>this.onDidUpdateConfiguration(e,t)))),this.configurationModel}))}reload(){return this._configurationModel=void 0,this.configurationModel}onDidUpdateConfiguration(e,t){this._configurationModel=void 0,this._onDidChangeConfiguration.fire({defaults:this.configurationModel,properties:e})}getConfigurationDefaultOverrides(){return{}}}t.DefaultConfiguration=b;class v extends h.ConfigurationModel{constructor(e={}){const t=m.Registry.as(p.Extensions.Configuration).getConfigurationProperties(),i=Object.keys(t),n=Object.create(null),o=[];for(const i in t){const o=e[i],r=void 0!==o?o:t[i].default;(0,u.addToValueTree)(n,i,r,(e=>console.error(`Conflict in default settings: ${e}`)))}for(const e of Object.keys(n))p.OVERRIDE_PROPERTY_REGEX.test(e)&&o.push({identifiers:(0,p.overrideIdentifiersFromKey)(e),keys:Object.keys(n[e]),contents:(0,u.toValuesTree)(n[e],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(n,i,o)}}t.DefaultConfigurationModel=v,t.NullPolicyConfiguration=class{constructor(){this.onDidChangeConfiguration=a.Event.None,this.configurationModel=new h.ConfigurationModel}initialize(){return r(this,void 0,void 0,(function*(){return this.configurationModel}))}};let A=class extends c.Disposable{get configurationModel(){return this._configurationModel}constructor(e,t,i){super(),this.defaultConfiguration=e,this.policyService=t,this.logService=i,this._onDidChangeConfiguration=this._register(new a.Emitter),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configurationModel=new h.ConfigurationModel}initialize(){return r(this,void 0,void 0,(function*(){return this.update(yield this.registerPolicyDefinitions(this.defaultConfiguration.configurationModel.keys),!1),this._register(this.policyService.onDidChange((e=>this.onDidChangePolicies(e)))),this._register(this.defaultConfiguration.onDidChangeConfiguration((({properties:e})=>r(this,void 0,void 0,(function*(){return this.update(yield this.registerPolicyDefinitions(e),!0)}))))),this._configurationModel}))}registerPolicyDefinitions(e){return r(this,void 0,void 0,(function*(){const t={},i=[],n=m.Registry.as(p.Extensions.Configuration).getConfigurationProperties();for(const o of e){const e=n[o];if(e){if(e.policy){if("string"!==e.type&&"number"!==e.type){this.logService.warn(`Policy ${e.policy.name} has unsupported type ${e.type}`);continue}i.push(o),t[e.policy.name]={type:e.type}}}else i.push(o)}return(0,d.isEmptyObject)(t)||(yield this.policyService.registerPolicyDefinitions(t)),i}))}onDidChangePolicies(e){const t=m.Registry.as(p.Extensions.Configuration).getPolicyConfigurations(),i=(0,s.coalesce)(e.map((e=>t.get(e))));this.update(i,!0)}update(e,t){var i,n;const o=m.Registry.as(p.Extensions.Configuration).getConfigurationProperties(),r=[],s=this._configurationModel.isEmpty();for(const t of e){const e=null===(n=null===(i=o[t])||void 0===i?void 0:i.policy)||void 0===n?void 0:n.name;if(e){const i=this.policyService.getPolicyValue(e);(s?void 0===i:(0,l.equals)(this._configurationModel.getValue(t),i))||r.push([t,i])}else void 0!==this._configurationModel.getValue(t)&&r.push([t,void 0])}if(r.length){const e=this._configurationModel;this._configurationModel=new h.ConfigurationModel;for(const t of e.keys)this._configurationModel.setValue(t,e.getValue(t));for(const[e,t]of r)void 0===t?this._configurationModel.removeValue(e):this._configurationModel.setValue(e,t);t&&this._onDidChangeConfiguration.fire(this._configurationModel)}}};A=n([o(1,f.IPolicyService),o(2,g.ILogService)],A),t.PolicyConfiguration=A},95080:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.setContext=t.ContextKeyService=t.AbstractContextKeyService=t.Context=void 0;const r=i(50855),s=i(5257),a=i(755),c=i(28371),l=i(31281),d=i(33662),u=i(9147),h=i(96249),p=i(34673),g=i(83913),f="data-keybinding-context";class m{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return Object.assign({},this._value)}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}updateParent(e){this._parent=e}collectAllValues(){let e=this._parent?this._parent.collectAllValues():Object.create(null);return e=Object.assign(Object.assign({},e),this._value),delete e._contextId,e}}t.Context=m;class b extends m{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}collectAllValues(){return Object.create(null)}}b.INSTANCE=new b;class v extends m{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=c.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(7===e.source){const e=Array.from(s.Iterable.map(this._values,(([e])=>e)));this._values.clear(),i.fire(new C(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`,n=this._values.findSuperstr(e);void 0!==n&&(t.push(...s.Iterable.map(n,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new C(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(v._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(v._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}collectAllValues(){const e=Object.create(null);return this._values.forEach(((t,i)=>e[i]=t)),Object.assign(Object.assign({},e),super.collectAllValues())}}v._keyPrefix="config.";class A{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class y{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class C{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every((t=>e.has(t)))}}class w{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every((t=>t.allKeysContainedIn(e)))}}class _{constructor(e){this._onDidChangeContext=new r.PauseableEmitter({merge:e=>new w(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}get contextId(){return this._myContextId}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new A(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new E(this,e)}createOverlay(e=s.Iterable.empty()){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new x(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new y(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new y(e))}getContext(e){return this._isDisposed?b.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(f)){const t=e.getAttribute(f);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}t.AbstractContextKeyService=_;let S=class extends _{constructor(e){super(0),this._contexts=new Map,this._toDispose=new a.DisposableStore,this._lastContextId=0;const t=new v(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?b.INSTANCE:this._contexts.get(e)||b.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new m(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}updateParent(e){throw new Error("Cannot update parent of root ContextKeyService")}};S=n([o(0,p.IConfigurationService)],S),t.ContextKeyService=S;class E extends _{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new a.MutableDisposable,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(f)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute(f,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((e=>{var t;t=this._parent.getContextValuesContainer(this._myContextId).value,e.allKeysContainedIn(new Set(Object.keys(t)))||this._onDidChangeContext.fire(e)}))}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(f),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?b.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}updateParent(e){const t=this._parent.getContextValuesContainer(this._myContextId),i=t.collectAllValues();this._parent=e,this._updateParentChangeListener();const n=this._parent.getContextValuesContainer(this._parent.contextId);t.updateParent(n);const o=t.collectAllValues(),r=Object.assign(Object.assign({},(0,l.distinct)(i,o)),(0,l.distinct)(o,i)),s=Object.keys(r);this._onDidChangeContext.fire(new C(s))}}class k{constructor(e,t){this.parent=e,this.overlay=t}getValue(e){return this.overlay.has(e)?this.overlay.get(e):this.parent.getValue(e)}}class x{get contextId(){return this.parent.contextId}get onDidChangeContext(){return this.parent.onDidChangeContext}constructor(e,t){this.parent=e,this.overlay=new Map(t)}bufferChangeEvents(e){this.parent.bufferChangeEvents(e)}createKey(){throw new Error("Not supported.")}getContext(e){return new k(this.parent.getContext(e),this.overlay)}getContextValuesContainer(e){const t=this.parent.getContextValuesContainer(e);return new k(t,this.overlay)}contextMatchesRules(e){const t=this.getContextValuesContainer(this.contextId);return!e||e.evaluate(t)}getContextKeyValue(e){return this.overlay.has(e)?this.overlay.get(e):this.parent.getContextKeyValue(e)}createScoped(){throw new Error("Not supported.")}createOverlay(e=s.Iterable.empty()){return new x(this,e)}updateParent(){throw new Error("Not supported.")}dispose(){}}function D(e,t,i){e.get(g.IContextKeyService).createKey(String(t),function(e){return(0,l.cloneAndChange)(e,(e=>"object"==typeof e&&1===e.$mid?d.URI.revive(e).toString():e instanceof d.URI?e.toString():void 0))}(i))}t.setContext=D,h.CommandsRegistry.registerCommand(g.SET_CONTEXT_COMMAND_ID,D),h.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler:()=>[...g.RawContextKey.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:(0,u.localize)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),h.CommandsRegistry.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(const i of g.RawContextKey.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}))},83913:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.implies=t.SET_CONTEXT_COMMAND_ID=t.IContextKeyService=t.RawContextKey=t.ContextKeyNotRegexExpr=t.ContextKeyRegexExpr=t.ContextKeySmallerEqualsExpr=t.ContextKeySmallerExpr=t.ContextKeyGreaterEqualsExpr=t.ContextKeyGreaterExpr=t.ContextKeyNotExpr=t.ContextKeyNotEqualsExpr=t.ContextKeyNotInExpr=t.ContextKeyInExpr=t.ContextKeyEqualsExpr=t.ContextKeyDefinedExpr=t.ContextKeyTrueExpr=t.ContextKeyFalseExpr=t.expressionsAreEqualWithConstantSubstitution=t.ContextKeyExpr=void 0;const n=i(83489),o=i(99722),r=i(28888),s=new Map;s.set("false",!1),s.set("true",!0),s.set("isMac",n.isMacintosh),s.set("isLinux",n.isLinux),s.set("isWindows",n.isWindows),s.set("isWeb",n.isWeb),s.set("isMacNative",n.isMacintosh&&!n.isWeb),s.set("isEdge",n.isEdge),s.set("isFirefox",n.isFirefox),s.set("isChrome",n.isChrome),s.set("isSafari",n.isSafari);const a=Object.prototype.hasOwnProperty;function c(e,t){return e.cmp(t)}t.ContextKeyExpr=class{static false(){return l.INSTANCE}static true(){return d.INSTANCE}static has(e){return u.create(e)}static equals(e,t){return h.create(e,t)}static notEquals(e,t){return f.create(e,t)}static regex(e,t){return w.create(e,t)}static in(e,t){return p.create(e,t)}static notIn(e,t){return g.create(e,t)}static not(e){return m.create(e)}static and(...e){return E.create(e,null)}static or(...e){return k.create(e,null,!0)}static greater(e,t){return v.create(e,t)}static greaterEquals(e,t){return A.create(e,t)}static smaller(e,t){return y.create(e,t)}static smallerEquals(e,t){return C.create(e,t)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){const i=e.split("||");return k.create(i.map((e=>this._deserializeAndExpression(e,t))),null,!0)}static _deserializeAndExpression(e,t){const i=e.split("&&");return E.create(i.map((e=>this._deserializeOne(e,t))),null)}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){const i=e.split("!=");return f.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){const i=e.split("==");return h.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){const i=e.split("=~");return w.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" not in ")>=0){const t=e.split(" not in ");return g.create(t[0].trim(),t[1].trim())}if(e.indexOf(" in ")>=0){const t=e.split(" in ");return p.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return A.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return v.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return C.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return y.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?m.create(e.substr(1).trim()):u.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;const i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if((0,o.isFalsyOrWhitespace)(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}const r=e.slice(i+1,n),s="i"===e[n+1]?"i":"";try{return new RegExp(r,s)}catch(i){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${i}`);return console.warn(`bad regexp-value '${e}', parse error: ${i}`),null}}},t.expressionsAreEqualWithConstantSubstitution=function(e,t){const i=e?e.substituteConstants():void 0,n=t?t.substituteConstants():void 0;return!i&&!n||!(!i||!n)&&i.equals(n)};class l{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return d.INSTANCE}}t.ContextKeyFalseExpr=l,l.INSTANCE=new l;class d{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return l.INSTANCE}}t.ContextKeyTrueExpr=d,d.INSTANCE=new d;class u{static create(e,t=null){const i=s.get(e);return"boolean"==typeof i?i?d.INSTANCE:l.INSTANCE:new u(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:D(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=s.get(this.key);return"boolean"==typeof e?e?d.INSTANCE:l.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=m.create(this.key,this)),this.negated}}t.ContextKeyDefinedExpr=u;class h{static create(e,t,i=null){if("boolean"==typeof t)return t?u.create(e,i):m.create(e,i);const n=s.get(e);return"boolean"==typeof n?t===(n?"true":"false")?d.INSTANCE:l.INSTANCE:new h(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){const e=s.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?d.INSTANCE:l.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=f.create(this.key,this.value,this)),this.negated}}t.ContextKeyEqualsExpr=h;class p{static create(e,t){return new p(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&this.key===e.key&&this.valueKey===e.valueKey}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):"string"==typeof i&&"object"==typeof t&&null!==t&&a.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=g.create(this.key,this.valueKey)),this.negated}}t.ContextKeyInExpr=p;class g{static create(e,t){return new g(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=p.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}}t.ContextKeyNotInExpr=g;class f{static create(e,t,i=null){if("boolean"==typeof t)return t?m.create(e,i):u.create(e,i);const n=s.get(e);return"boolean"==typeof n?t===(n?"true":"false")?l.INSTANCE:d.INSTANCE:new f(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){const e=s.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?l.INSTANCE:d.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=h.create(this.key,this.value,this)),this.negated}}t.ContextKeyNotEqualsExpr=f;class m{static create(e,t=null){const i=s.get(e);return"boolean"==typeof i?i?l.INSTANCE:d.INSTANCE:new m(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:D(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=s.get(this.key);return"boolean"==typeof e?e?l.INSTANCE:d.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=u.create(this.key,this)),this.negated}}function b(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):l.INSTANCE}t.ContextKeyNotExpr=m;class v{static create(e,t,i=null){return b(t,(t=>new v(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=C.create(this.key,this.value,this)),this.negated}}t.ContextKeyGreaterExpr=v;class A{static create(e,t,i=null){return b(t,(t=>new A(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}t.ContextKeyGreaterEqualsExpr=A;class y{static create(e,t,i=null){return b(t,(t=>new y(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}t.ContextKeySmallerExpr=y;class C{static create(e,t,i=null){return b(t,(t=>new C(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:T(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}t.ContextKeySmallerEqualsExpr=C;class w{static create(e,t){return new w(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=_.create(this)),this.negated}}t.ContextKeyRegexExpr=w;class _{static create(e){return new _(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}map(e){return new _(this._actual.map(e))}negate(){return this._actual}}function S(e){let t=null;for(let i=0,n=e.length;i<n;i++){const n=e[i].substituteConstants();if(e[i]!==n&&null===t){t=[];for(let n=0;n<i;n++)t[n]=e[n]}null!==t&&(t[i]=n)}return null===t?e:t}t.ContextKeyNotRegexExpr=_;class E{static create(e,t){return E._normalizeArr(e,t)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=c(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=S(this.expr);return e===this.expr?this:E.create(e,this.negated)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t){const i=[];let n=!1;for(const t of e)if(t)if(1!==t.type){if(0===t.type)return l.INSTANCE;6!==t.type?i.push(t):i.push(...t.expr)}else n=!0;if(0===i.length&&n)return d.INSTANCE;if(0!==i.length){if(1===i.length)return i[0];i.sort(c);for(let e=1;e<i.length;e++)i[e-1].equals(i[e])&&(i.splice(e,1),e--);if(1===i.length)return i[0];for(;i.length>1;){const e=i[i.length-1];if(9!==e.type)break;i.pop();const t=i.pop(),n=0===i.length,o=k.create(e.expr.map((e=>E.create([e,t],null))),null,n);o&&(i.push(o),i.sort(c))}return 1===i.length?i[0]:new E(i,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}map(e){return new E(this.expr.map((t=>t.map(e))),null)}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=k.create(e,this,!0)}return this.negated}}class k{static create(e,t,i){return k._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=c(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=S(this.expr);return e===this.expr?this:k.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let n=[],o=!1;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i)if(0!==i.type){if(1===i.type)return d.INSTANCE;9!==i.type?n.push(i):n=n.concat(i.expr)}else o=!0}if(0===n.length&&o)return l.INSTANCE;n.sort(c)}if(0!==n.length){if(1===n.length)return n[0];for(let e=1;e<n.length;e++)n[e-1].equals(n[e])&&(n.splice(e,1),e--);if(1===n.length)return n[0];if(i){for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)M(n[e],n[t])&&(n.splice(t,1),t--);if(1===n.length)return n[0]}return new k(n,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}map(e){return new k(this.expr.map((t=>t.map(e))),null)}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),n=[];for(const e of B(t))for(const t of B(i))n.push(E.create([e,t],null));const o=0===e.length;e.unshift(k.create(n,null,o))}this.negated=e[0]}return this.negated}}class x extends u{static all(){return x._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,"object"==typeof i?x._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&x._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return h.create(this.key,e)}notEqualsTo(e){return f.create(this.key,e)}}function D(e,t){return e<t?-1:e>t?1:0}function T(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}function M(e,t){if(6===t.type&&9!==e.type&&6!==e.type)for(const i of t.expr)if(e.equals(i))return!0;const i=B(e.negate()).concat(B(t));i.sort(c);for(let e=0;e<i.length;e++){const t=i[e].negate();for(let n=e+1;n<i.length;n++){const e=i[n];if(t.equals(e))return!0}}return!1}function B(e){return 9===e.type?e.expr:[e]}t.RawContextKey=x,x._info=[],t.IContextKeyService=(0,r.createDecorator)("contextKeyService"),t.SET_CONTEXT_COMMAND_ID="setContext",t.implies=M},94826:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputFocusedContext=t.InputFocusedContextKey=t.ProductQualityContext=t.IsDevelopmentContext=t.IsMobileContext=t.IsIOSContext=t.IsMacNativeContext=t.IsWebContext=t.IsWindowsContext=t.IsLinuxContext=t.IsMacContext=void 0;const n=i(83489),o=i(9147),r=i(83913);t.IsMacContext=new r.RawContextKey("isMac",n.isMacintosh,(0,o.localize)("isMac","Whether the operating system is macOS")),t.IsLinuxContext=new r.RawContextKey("isLinux",n.isLinux,(0,o.localize)("isLinux","Whether the operating system is Linux")),t.IsWindowsContext=new r.RawContextKey("isWindows",n.isWindows,(0,o.localize)("isWindows","Whether the operating system is Windows")),t.IsWebContext=new r.RawContextKey("isWeb",n.isWeb,(0,o.localize)("isWeb","Whether the platform is a web browser")),t.IsMacNativeContext=new r.RawContextKey("isMacNative",n.isMacintosh&&!n.isWeb,(0,o.localize)("isMacNative","Whether the operating system is macOS on a non-browser platform")),t.IsIOSContext=new r.RawContextKey("isIOS",n.isIOS,(0,o.localize)("isIOS","Whether the operating system is iOS")),t.IsMobileContext=new r.RawContextKey("isMobile",n.isMobile,(0,o.localize)("isMobile","Whether the platform is a mobile web browser")),t.IsDevelopmentContext=new r.RawContextKey("isDevelopment",!1,!0),t.ProductQualityContext=new r.RawContextKey("productQualityType","",(0,o.localize)("productQualityType","Quality type of VS Code")),t.InputFocusedContextKey="inputFocus",t.InputFocusedContext=new r.RawContextKey(t.InputFocusedContextKey,!1,(0,o.localize)("inputFocus","Whether keyboard focus is inside an input box"))},85993:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuHandler=void 0;const n=i(42535),o=i(8547),r=i(79616),s=i(49549),a=i(64317),c=i(755),l=i(52588);t.ContextMenuHandler=class{constructor(e,t,i,n,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;const a=(0,n.isHTMLElement)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:a=>{const d=e.getMenuClassName?e.getMenuClassName():"";d&&(a.className+=" "+d),this.options.blockMouse&&(this.block=a.appendChild((0,n.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,n.addDisposableListener)(this.block,n.EventType.MOUSE_DOWN,(e=>e.stopPropagation())));const u=new c.DisposableStore,h=e.actionRunner||new s.ActionRunner;return h.onWillRun(this.onActionRun,this,u),h.onDidRun(this.onDidActionRun,this,u),i=new r.Menu(a,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:h,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),u.add((0,l.attachMenuStyler)(i,this.themeService)),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,u),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,u),u.add((0,n.addDisposableListener)(window,n.EventType.BLUR,(()=>this.contextViewService.hideContextView(!0)))),u.add((0,n.addDisposableListener)(window,n.EventType.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;const t=new o.StandardMouseEvent(e);let i=t.target;if(!t.rightButton){for(;i;){if(i===a)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),(0,c.combinedDisposable)(u,i)},focus:()=>{null==i||i.focus(!!e.autoSelectFirstItem)},onHide:t=>{var i,n;null===(i=e.onHide)||void 0===i||i.call(e,!!t),this.block&&(this.block.remove(),this.block=null),null===(n=this.focusToReturn)||void 0===n||n.focus()}},a,!!a)}onActionRun(e){var t;this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),null===(t=this.focusToReturn)||void 0===t||t.focus()}onDidActionRun(e){e.error&&!(0,a.isCancellationError)(e.error)&&this.notificationService.error(e.error)}}},80532:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuService=void 0;const r=i(42535),s=i(50855),a=i(755),c=i(79999),l=i(88669),d=i(51304),u=i(56090),h=i(85993),p=i(48963);let g=class extends a.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new h.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService,this.themeService)),this._contextMenuHandler}constructor(e,t,i,n,o){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=n,this.themeService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=new s.Emitter,this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=new s.Emitter,this.onDidHideContextMenu=this._onDidHideContextMenu.event}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},e),{onHide:t=>{var i;null===(i=e.onHide)||void 0===i||i.call(e,t),this._onDidHideContextMenu.fire()}})),r.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};g=n([o(0,d.ITelemetryService),o(1,l.INotificationService),o(2,p.IContextViewService),o(3,c.IKeybindingService),o(4,u.IThemeService)],g),t.ContextMenuService=g},48963:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IContextMenuService=t.IContextViewService=void 0;const n=i(28888);t.IContextViewService=(0,n.createDecorator)("contextViewService"),t.IContextMenuService=(0,n.createDecorator)("contextMenuService")},26124:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextViewService=void 0;const r=i(51539),s=i(755),a=i(82256);let c=class extends s.Disposable{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=s.Disposable.None,this.container=e.hasContainer?e.container:null,this.contextView=this._register(new r.ContextView(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t===this.container&&this.shadowRoot===i||(this.container=t,this.setContainer(t,i?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=i,this.contextView.show(e);const n=(0,s.toDisposable)((()=>{this.currentViewDisposable===n&&this.hideContextView()}));return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};c=n([o(0,a.ILayoutService)],c),t.ContextViewService=c},69123:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileNamesMessage=t.IFileDialogService=t.IDialogService=void 0;const n=i(71255),o=i(9147),r=i(28888);t.IDialogService=(0,r.createDecorator)("dialogService"),t.IFileDialogService=(0,r.createDecorator)("fileDialogService"),t.getFileNamesMessage=function(e){const t=[];return t.push(...e.slice(0,10).map((e=>"string"==typeof e?e:(0,n.basename)(e)))),e.length>10&&(e.length-10==1?t.push((0,o.localize)("moreFile","...1 additional file not shown")):t.push((0,o.localize)("moreFiles","...{0} additional files not shown",e.length-10))),t.push(""),t.join("\n")}},32378:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=t.containsDragType=t.extractFileListData=t.createDraggedEditorInputFromRawResourcesData=t.extractEditorsAndFilesDropData=t.extractEditorsDropData=t.CodeDataTransfers=void 0;const o=i(76101),r=i(37253),s=i(78456),a=i(74361),c=i(90124),l=i(61217),d=i(83489),u=i(89908),h=i(49929),p=i(33662),g=i(9147),f=i(69123),m=i(35176),b=i(89858),v=i(12387),A=i(28888),y=i(45559),C=i(81437);function w(e){var i;const n=[];if(e.dataTransfer&&e.dataTransfer.types.length>0){const r=e.dataTransfer.getData(t.CodeDataTransfers.EDITORS);if(r)try{n.push(...(0,c.parse)(r))}catch(e){}else try{const t=e.dataTransfer.getData(o.DataTransfers.RESOURCES);n.push(..._(t))}catch(e){}if(null===(i=e.dataTransfer)||void 0===i?void 0:i.files)for(let t=0;t<e.dataTransfer.files.length;t++){const i=e.dataTransfer.files[t];if(i&&i.path)try{n.push({resource:p.URI.file(i.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(e){}}const s=e.dataTransfer.getData(t.CodeDataTransfers.FILES);if(s)try{const e=JSON.parse(s);for(const t of e)n.push({resource:p.URI.file(t),isExternal:!0,allowWorkspaceOpen:!0})}catch(e){}const a=C.Registry.as(t.Extensions.DragAndDropContribution).getAll();for(const t of a){const i=e.dataTransfer.getData(t.dataFormatKey);if(i)try{n.push(...t.getEditorInputs(i))}catch(e){}}}return n}function _(e){const t=[];if(e){const i=JSON.parse(e);for(const e of i)if(e.indexOf(":")>0){const{selection:i,uri:n}=(0,y.extractSelection)(p.URI.parse(e));t.push({resource:n,options:{selection:i}})}}return t}function S(e,t){return n(this,void 0,void 0,(function*(){const i=e.get(f.IDialogService),o=[];for(let e=0;e<t.length;e++){const r=t.item(e);if(r){if(r.size>100*v.ByteSize.MB){i.show(u.default.Warning,(0,g.localize)("fileTooLarge","File is too large to open as untitled editor. Please upload it first into the file explorer and then try again."));continue}const e=new s.DeferredPromise;o.push(e);const t=new FileReader;t.onerror=()=>e.complete(void 0),t.onabort=()=>e.complete(void 0),t.onload=t=>n(this,void 0,void 0,(function*(){var i;const n=r.name,o=(0,h.withNullAsUndefined)(null===(i=t.target)||void 0===i?void 0:i.result);"string"==typeof n&&void 0!==o?e.complete({resource:p.URI.from({scheme:l.Schemas.untitled,path:n}),contents:"string"==typeof o?a.VSBuffer.fromString(o):a.VSBuffer.wrap(new Uint8Array(o))}):e.complete(void 0)})),t.readAsArrayBuffer(r)}}return(0,r.coalesce)(yield Promise.all(o.map((e=>e.p))))}))}function E(e,...t){if(!e.dataTransfer)return!1;const i=e.dataTransfer.types,n=[];for(let e=0;e<i.length;e++)n.push(i[e].toLowerCase());for(const e of t)if(n.indexOf(e.toLowerCase())>=0)return!0;return!1}t.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"},t.extractEditorsDropData=w,t.extractEditorsAndFilesDropData=function(e,t){var i;return n(this,void 0,void 0,(function*(){const a=w(t);if(t.dataTransfer&&d.isWeb&&E(t,o.DataTransfers.FILES)&&t.dataTransfer.items){const o=e.get(A.IInstantiationService),c=yield o.invokeFunction((e=>function(e,t){var i,o;return n(this,void 0,void 0,(function*(){if(b.WebFileSystemAccess.supported(window)){const o=null===(i=t.dataTransfer)||void 0===i?void 0:i.items;if(o)return function(e,t){return n(this,void 0,void 0,(function*(){const i=e.get(v.IFileService).getProvider(l.Schemas.file);if(!(i instanceof m.HTMLFileSystemProvider))return[];const o=[];for(let e=0;e<t.length;e++){const r=t[e];if(r){const e=new s.DeferredPromise;o.push(e),(()=>{n(this,void 0,void 0,(function*(){try{const t=yield r.getAsFileSystemHandle();if(!t)return void e.complete(void 0);b.WebFileSystemAccess.isFileSystemFileHandle(t)?e.complete({resource:yield i.registerFileHandle(t),isDirectory:!1}):b.WebFileSystemAccess.isFileSystemDirectoryHandle(t)?e.complete({resource:yield i.registerDirectoryHandle(t),isDirectory:!0}):e.complete(void 0)}catch(t){e.complete(void 0)}}))})()}}return(0,r.coalesce)(yield Promise.all(o.map((e=>e.p))))}))}(e,o)}const a=null===(o=t.dataTransfer)||void 0===o?void 0:o.files;return a?S(e,a):[]}))}(e,t)));for(const e of c)a.push({resource:e.resource,contents:null===(i=e.contents)||void 0===i?void 0:i.toString(),isExternal:!0,allowWorkspaceOpen:e.isDirectory})}return a}))},t.createDraggedEditorInputFromRawResourcesData=_,t.extractFileListData=S,t.containsDragType=E,t.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},C.Registry.add(t.Extensions.DragAndDropContribution,new class{constructor(){this._contributions=new Map}register(e){if(this._contributions.has(e.dataFormatKey))throw new Error(`A drag and drop contributiont with key '${e.dataFormatKey}' was already registered.`);this._contributions.set(e.dataFormatKey,e)}getAll(){return this._contributions.values()}})},2278:(e,t)=>{"use strict";var i,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.EditorOpenSource=t.EditorResolution=t.EditorActivation=void 0,(o=t.EditorActivation||(t.EditorActivation={}))[o.ACTIVATE=1]="ACTIVATE",o[o.RESTORE=2]="RESTORE",o[o.PRESERVE=3]="PRESERVE",(n=t.EditorResolution||(t.EditorResolution={}))[n.PICK=0]="PICK",n[n.EXCLUSIVE_ONLY=1]="EXCLUSIVE_ONLY",(i=t.EditorOpenSource||(t.EditorOpenSource={}))[i.API=0]="API",i[i.USER=1]="USER"},45386:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INativeEnvironmentService=t.IEnvironmentService=void 0;const n=i(28888);t.IEnvironmentService=(0,n.createDecorator)("environmentService"),t.INativeEnvironmentService=(0,n.refineServiceDecorator)(t.IEnvironmentService)},38891:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IBuiltinExtensionsScannerService=t.isResolverExtension=t.isAuthenticationProviderExtension=t.isLanguagePackExtension=t.isApplicationScopedExtension=t.ExtensionIdentifier=t.EXTENSION_CATEGORIES=t.isIExtensionIdentifier=t.getWorkspaceSupportTypeMessage=t.ALL_EXTENSION_KINDS=t.UNDEFINED_PUBLISHER=t.BUILTIN_MANIFEST_CACHE_FILE=t.USER_MANIFEST_CACHE_FILE=t.MANIFEST_CACHE_FOLDER=void 0;const n=i(99722),o=i(28888),r=i(86122);function s(e){return!(!e.contributes||!e.contributes.localizations)&&e.contributes.localizations.length>0}t.MANIFEST_CACHE_FOLDER="CachedExtensions",t.USER_MANIFEST_CACHE_FILE="user",t.BUILTIN_MANIFEST_CACHE_FILE="builtin",t.UNDEFINED_PUBLISHER="undefined_publisher",t.ALL_EXTENSION_KINDS=["ui","workspace","web"],t.getWorkspaceSupportTypeMessage=function(e){if("object"==typeof e&&null!==e&&!0!==e.supported)return e.description},t.isIExtensionIdentifier=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(!e.uuid||"string"==typeof e.uuid)},t.EXTENSION_CATEGORIES=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"],t.ExtensionIdentifier=class{constructor(e){this.value=e,this._lower=e.toLowerCase()}static equals(e,t){if(null==e)return null==t;if(null==t)return!1;if("string"==typeof e||"string"==typeof t){const i="string"==typeof e?e:e.value,o="string"==typeof t?t:t.value;return n.equalsIgnoreCase(i,o)}return e._lower===t._lower}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}},t.isApplicationScopedExtension=function(e){return s(e)},t.isLanguagePackExtension=s,t.isAuthenticationProviderExtension=function(e){return!(!e.contributes||!e.contributes.authentication)&&e.contributes.authentication.length>0},t.isResolverExtension=function(e,t){var i;if(t){const n=`onResolveRemoteAuthority:${(0,r.getRemoteName)(t)}`;return-1!==(null===(i=e.activationEvents)||void 0===i?void 0:i.indexOf(n))}return!1},t.IBuiltinExtensionsScannerService=(0,o.createDecorator)("IBuiltinExtensionsScannerService")},35176:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,o){!function(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}(n,o,(t=e[i](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLFileSystemProvider=void 0;const r=i(9147),s=i(33662),a=i(74361),c=i(50855),l=i(755),d=i(61217),u=i(77626),h=i(83489),p=i(71255),g=i(35036),f=i(12387),m=i(89858);t.HTMLFileSystemProvider=class{get capabilities(){return this._capabilities||(this._capabilities=18,h.isLinux&&(this._capabilities|=1024)),this._capabilities}constructor(e,t,i){this.indexedDB=e,this.store=t,this.logService=i,this.onDidChangeCapabilities=c.Event.None,this.onDidChangeFile=c.Event.None,this.extUri=h.isLinux?p.extUri:p.extUriIgnorePathCase,this._files=new Map,this._directories=new Map}stat(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.getHandle(e);if(!t)throw this.createFileSystemProviderError(e,"No such file or directory, stat",f.FileSystemProviderErrorCode.FileNotFound);if(m.WebFileSystemAccess.isFileSystemFileHandle(t)){const e=yield t.getFile();return{type:f.FileType.File,mtime:e.lastModified,ctime:0,size:e.size}}return{type:f.FileType.Directory,mtime:0,ctime:0,size:0}}catch(e){throw this.toFileSystemProviderError(e)}}))}readdir(e){var t,i;return n(this,void 0,void 0,(function*(){try{const s=yield this.getDirectoryHandle(e);if(!s)throw this.createFileSystemProviderError(e,"No such file or directory, readdir",f.FileSystemProviderErrorCode.FileNotFound);const a=[];try{for(var n,r=o(s);!(n=yield r.next()).done;){const[e,t]=n.value;a.push([e,m.WebFileSystemAccess.isFileSystemFileHandle(t)?f.FileType.File:f.FileType.Directory])}}catch(e){t={error:e}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(t)throw t.error}}return a}catch(e){throw this.toFileSystemProviderError(e)}}))}readFileStream(e,t,i){const o=(0,g.newWriteableStream)((e=>a.VSBuffer.concat(e.map((e=>a.VSBuffer.wrap(e)))).buffer),{highWaterMark:10});return(()=>{n(this,void 0,void 0,(function*(){try{const n=yield this.getFileHandle(e);if(!n)throw this.createFileSystemProviderError(e,"No such file or directory, readFile",f.FileSystemProviderErrorCode.FileNotFound);const r=yield n.getFile();if("number"==typeof t.length||"number"==typeof t.position){let e=new Uint8Array(yield r.arrayBuffer());"number"==typeof(null==t?void 0:t.position)&&(e=e.slice(t.position)),"number"==typeof(null==t?void 0:t.length)&&(e=e.slice(0,t.length)),o.end(e)}else{const e=r.stream().getReader();let t=yield e.read();for(;!t.done&&!i.isCancellationRequested&&(yield o.write(t.value),!i.isCancellationRequested);)t=yield e.read();o.end(void 0)}}catch(e){o.error(this.toFileSystemProviderError(e)),o.end()}}))})(),o}readFile(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.getFileHandle(e);if(!t)throw this.createFileSystemProviderError(e,"No such file or directory, readFile",f.FileSystemProviderErrorCode.FileNotFound);const i=yield t.getFile();return new Uint8Array(yield i.arrayBuffer())}catch(e){throw this.toFileSystemProviderError(e)}}))}writeFile(e,t,i){return n(this,void 0,void 0,(function*(){try{let n=yield this.getFileHandle(e);if(!i.create||!i.overwrite)if(n){if(!i.overwrite)throw this.createFileSystemProviderError(e,"File already exists, writeFile",f.FileSystemProviderErrorCode.FileExists)}else if(!i.create)throw this.createFileSystemProviderError(e,"No such file, writeFile",f.FileSystemProviderErrorCode.FileNotFound);if(!n){const t=yield this.getDirectoryHandle(this.extUri.dirname(e));if(!t)throw this.createFileSystemProviderError(e,"No such parent directory, writeFile",f.FileSystemProviderErrorCode.FileNotFound);if(n=yield t.getFileHandle(this.extUri.basename(e),{create:!0}),!n)throw this.createFileSystemProviderError(e,"Unable to create file , writeFile",f.FileSystemProviderErrorCode.Unknown)}const o=yield n.createWritable();yield o.write(t),yield o.close()}catch(e){throw this.toFileSystemProviderError(e)}}))}mkdir(e){return n(this,void 0,void 0,(function*(){try{const t=yield this.getDirectoryHandle(this.extUri.dirname(e));if(!t)throw this.createFileSystemProviderError(e,"No such parent directory, mkdir",f.FileSystemProviderErrorCode.FileNotFound);yield t.getDirectoryHandle(this.extUri.basename(e),{create:!0})}catch(e){throw this.toFileSystemProviderError(e)}}))}delete(e,t){return n(this,void 0,void 0,(function*(){try{const i=yield this.getDirectoryHandle(this.extUri.dirname(e));if(!i)throw this.createFileSystemProviderError(e,"No such parent directory, delete",f.FileSystemProviderErrorCode.FileNotFound);return i.removeEntry(this.extUri.basename(e),{recursive:t.recursive})}catch(e){throw this.toFileSystemProviderError(e)}}))}rename(e,t,i){return n(this,void 0,void 0,(function*(){try{if(this.extUri.isEqual(e,t))return;const n=yield this.getFileHandle(e);if(!n)throw this.createFileSystemProviderError(e,(0,r.localize)("fileSystemRenameError","Rename is only supported for files."),f.FileSystemProviderErrorCode.Unavailable);{const o=yield n.getFile(),r=new Uint8Array(yield o.arrayBuffer());yield this.writeFile(t,r,{create:!0,overwrite:i.overwrite,unlock:!1}),yield this.delete(e,{recursive:!1,useTrash:!1})}}catch(e){throw this.toFileSystemProviderError(e)}}))}watch(e,t){return l.Disposable.None}registerFileHandle(e){return this.registerHandle(e,this._files)}registerDirectoryHandle(e){return this.registerHandle(e,this._directories)}get directories(){return this._directories.values()}registerHandle(e,t){var i,o,r;return n(this,void 0,void 0,(function*(){let n=`/${e.name}`;if(t.has(n)&&!(yield null===(i=t.get(n))||void 0===i?void 0:i.isSameEntry(e))){const i=(0,u.extname)(e.name),r=(0,u.basename)(e.name,i);let s=1;do{n=`/${r}-${s++}${i}`}while(t.has(n)&&!(yield null===(o=t.get(n))||void 0===o?void 0:o.isSameEntry(e)))}t.set(n,e);try{yield null===(r=this.indexedDB)||void 0===r?void 0:r.runInTransaction(this.store,"readwrite",(t=>t.put(e,n)))}catch(e){this.logService.error(e)}return s.URI.from({scheme:d.Schemas.file,path:n})}))}getHandle(e){return n(this,void 0,void 0,(function*(){let t=yield this.doGetHandle(e);if(!t){const i=yield this.getDirectoryHandle(this.extUri.dirname(e));if(i){const n=p.extUri.basename(e);try{t=yield i.getFileHandle(n)}catch(e){try{t=yield i.getDirectoryHandle(n)}catch(e){}}}}return t}))}getFileHandle(e){return n(this,void 0,void 0,(function*(){const t=yield this.doGetHandle(e);if(t instanceof FileSystemFileHandle)return t;const i=yield this.getDirectoryHandle(this.extUri.dirname(e));try{return yield null==i?void 0:i.getFileHandle(p.extUri.basename(e))}catch(e){return}}))}getDirectoryHandle(e){return n(this,void 0,void 0,(function*(){const t=yield this.doGetHandle(e);if(t instanceof FileSystemDirectoryHandle)return t;const i=this.extUri.dirname(e);if(this.extUri.isEqual(i,e))return;const n=yield this.getDirectoryHandle(i);try{return yield null==n?void 0:n.getDirectoryHandle(p.extUri.basename(e))}catch(e){return}}))}doGetHandle(e){var t,i;return n(this,void 0,void 0,(function*(){if("/"!==this.extUri.dirname(e).path)return;const n=e.path.replace(/\/$/,""),o=null!==(t=this._files.get(n))&&void 0!==t?t:this._directories.get(n);if(o)return o;const r=yield null===(i=this.indexedDB)||void 0===i?void 0:i.runInTransaction(this.store,"readonly",(e=>e.get(n)));if(m.WebFileSystemAccess.isFileSystemHandle(r)){let e="granted"===(yield r.queryPermission());try{e||(e="granted"===(yield r.requestPermission()))}catch(e){this.logService.error(e)}if(e)return m.WebFileSystemAccess.isFileSystemFileHandle(r)?this._files.set(n,r):m.WebFileSystemAccess.isFileSystemDirectoryHandle(r)&&this._directories.set(n,r),r}throw this.createFileSystemProviderError(e,"No file system handle registered",f.FileSystemProviderErrorCode.Unavailable)}))}toFileSystemProviderError(e){if(e instanceof f.FileSystemProviderError)return e;let t=f.FileSystemProviderErrorCode.Unknown;return"NotAllowedError"===e.name&&(e=new Error((0,r.localize)("fileSystemNotAllowedError","Insufficient permissions. Please retry and allow the operation.")),t=f.FileSystemProviderErrorCode.Unavailable),(0,f.createFileSystemProviderError)(e,t)}createFileSystemProviderError(e,t,i){return(0,f.createFileSystemProviderError)(new Error(`${t} (${(0,u.normalize)(e.path)})`),i)}}},89858:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.WebFileSystemAccess=void 0,(i=t.WebFileSystemAccess||(t.WebFileSystemAccess={})).supported=function(e){return"function"==typeof(null==e?void 0:e.showDirectoryPicker)},i.isFileSystemHandle=function(e){const t=e;return!!t&&"string"==typeof t.kind&&"function"==typeof t.queryPermission&&"function"==typeof t.requestPermission},i.isFileSystemFileHandle=function(e){return"file"===e.kind},i.isFileSystemDirectoryHandle=function(e){return"directory"===e.kind}},12387:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getPlatformLimits=t.ByteSize=t.FALLBACK_MAX_MEMORY_SIZE_MB=t.MIN_MAX_MEMORY_SIZE_MB=t.whenProviderRegistered=t.etag=t.ETAG_DISABLED=t.FileKind=t.FILES_EXCLUDE_CONFIG=t.FILES_ASSOCIATIONS_CONFIG=t.HotExitConfiguration=t.AutoSaveConfiguration=t.NotModifiedSinceFileOperationError=t.FileOperationError=t.isParent=t.FileChangesEvent=t.FileOperationEvent=t.toFileOperationResult=t.toFileSystemProviderErrorCode=t.markAsFileSystemProviderError=t.ensureFileSystemProviderError=t.createFileSystemProviderError=t.FileSystemProviderError=t.FileSystemProviderErrorCode=t.hasFileAtomicReadCapability=t.hasFileReadStreamCapability=t.hasOpenReadWriteCloseCapability=t.hasFileCloneCapability=t.hasFileFolderCopyCapability=t.hasReadWriteCapability=t.FilePermission=t.FileType=t.isFileOpenForWriteOptions=t.IFileService=void 0;const o=i(28371),r=i(77626),s=i(99722),a=i(49929),c=i(33662),l=i(9147),d=i(28888);var u,h,p,g;function f(e){return!!(2&e.capabilities)}t.IFileService=(0,d.createDecorator)("fileService"),t.isFileOpenForWriteOptions=function(e){return!0===e.create},(p=t.FileType||(t.FileType={}))[p.Unknown=0]="Unknown",p[p.File=1]="File",p[p.Directory=2]="Directory",p[p.SymbolicLink=64]="SymbolicLink",(h=t.FilePermission||(t.FilePermission={}))[h.Readonly=1]="Readonly",t.hasReadWriteCapability=f,t.hasFileFolderCopyCapability=function(e){return!!(8&e.capabilities)},t.hasFileCloneCapability=function(e){return!!(32768&e.capabilities)},t.hasOpenReadWriteCloseCapability=function(e){return!!(4&e.capabilities)},t.hasFileReadStreamCapability=function(e){return!!(16&e.capabilities)},t.hasFileAtomicReadCapability=function(e){return!!f(e)&&!!(16384&e.capabilities)},function(e){e.FileExists="EntryExists",e.FileNotFound="EntryNotFound",e.FileNotADirectory="EntryNotADirectory",e.FileIsADirectory="EntryIsADirectory",e.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",e.FileTooLarge="EntryTooLarge",e.FileWriteLocked="EntryWriteLocked",e.NoPermissions="NoPermissions",e.Unavailable="Unavailable",e.Unknown="Unknown"}(u=t.FileSystemProviderErrorCode||(t.FileSystemProviderErrorCode={}));class m extends Error{constructor(e,t){super(e),this.code=t}}function b(e,t){const i=new m(e.toString(),t);return v(i,t),i}function v(e,t){return e.name=t?`${t} (FileSystemError)`:"FileSystemError",e}function A(e){if(!e)return u.Unknown;if(e instanceof m)return e.code;const t=/^(.+) \(FileSystemError\)$/.exec(e.name);if(!t)return u.Unknown;switch(t[1]){case u.FileExists:return u.FileExists;case u.FileIsADirectory:return u.FileIsADirectory;case u.FileNotADirectory:return u.FileNotADirectory;case u.FileNotFound:return u.FileNotFound;case u.FileExceedsMemoryLimit:return u.FileExceedsMemoryLimit;case u.FileTooLarge:return u.FileTooLarge;case u.FileWriteLocked:return u.FileWriteLocked;case u.NoPermissions:return u.NoPermissions;case u.Unavailable:return u.Unavailable}return u.Unknown}t.FileSystemProviderError=m,t.createFileSystemProviderError=b,t.ensureFileSystemProviderError=function(e){return e||b((0,l.localize)("unknownError","Unknown Error"),u.Unknown)},t.markAsFileSystemProviderError=v,t.toFileSystemProviderErrorCode=A,t.toFileOperationResult=function(e){if(e instanceof y)return e.fileOperationResult;switch(A(e)){case u.FileNotFound:return 1;case u.FileIsADirectory:return 0;case u.FileNotADirectory:return 10;case u.FileWriteLocked:return 5;case u.NoPermissions:return 6;case u.FileExists:return 4;case u.FileExceedsMemoryLimit:return 9;case u.FileTooLarge:return 7;default:return 11}},t.FileOperationEvent=class{constructor(e,t,i){this.resource=e,this.operation=t,this.target=i}isOperation(e){return this.operation===e}},t.FileChangesEvent=class{constructor(e,t){this.added=void 0,this.updated=void 0,this.deleted=void 0,this.rawChanges=[],this.rawAdded=[],this.rawUpdated=[],this.rawDeleted=[],this.rawChanges=e;const i=new Map;for(const t of e){const e=i.get(t.type);switch(e?e.push([t.resource,t]):i.set(t.type,[[t.resource,t]]),t.type){case 1:this.rawAdded.push(t.resource);break;case 0:this.rawUpdated.push(t.resource);break;case 2:this.rawDeleted.push(t.resource)}}for(const[e,n]of i)switch(e){case 1:this.added=o.TernarySearchTree.forUris((()=>t)),this.added.fill(n);break;case 0:this.updated=o.TernarySearchTree.forUris((()=>t)),this.updated.fill(n);break;case 2:this.deleted=o.TernarySearchTree.forUris((()=>t)),this.deleted.fill(n)}}contains(e,...t){return this.doContains(e,{includeChildren:!1},...t)}affects(e,...t){return this.doContains(e,{includeChildren:!0},...t)}doContains(e,t,...i){var n,o,r,s,a,c;if(!e)return!1;const l=i.length>0;if(!l||i.includes(1)){if(null===(n=this.added)||void 0===n?void 0:n.get(e))return!0;if(t.includeChildren&&(null===(o=this.added)||void 0===o?void 0:o.findSuperstr(e)))return!0}if(!l||i.includes(0)){if(null===(r=this.updated)||void 0===r?void 0:r.get(e))return!0;if(t.includeChildren&&(null===(s=this.updated)||void 0===s?void 0:s.findSuperstr(e)))return!0}if(!l||i.includes(2)){if(null===(a=this.deleted)||void 0===a?void 0:a.findSubstr(e))return!0;if(t.includeChildren&&(null===(c=this.deleted)||void 0===c?void 0:c.findSuperstr(e)))return!0}return!1}gotAdded(){return!!this.added}gotDeleted(){return!!this.deleted}gotUpdated(){return!!this.updated}},t.isParent=function(e,t,i){return!(!e||!t||e===t)&&!(t.length>e.length)&&(t.charAt(t.length-1)!==r.sep&&(t+=r.sep),i?(0,s.startsWithIgnoreCase)(e,t):0===e.indexOf(t))};class y extends Error{constructor(e,t,i){super(e),this.fileOperationResult=t,this.options=i}}t.FileOperationError=y,t.NotModifiedSinceFileOperationError=class extends y{constructor(e,t,i){super(e,2,i),this.stat=t}},t.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},t.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},t.FILES_ASSOCIATIONS_CONFIG="files.associations",t.FILES_EXCLUDE_CONFIG="files.exclude",(g=t.FileKind||(t.FileKind={}))[g.FILE=0]="FILE",g[g.FOLDER=1]="FOLDER",g[g.ROOT_FOLDER=2]="ROOT_FOLDER",t.ETAG_DISABLED="",t.etag=function(e){if("number"==typeof e.size&&"number"==typeof e.mtime)return e.mtime.toString(29)+e.size.toString(31)},t.whenProviderRegistered=function(e,t){return n(this,void 0,void 0,(function*(){if(!t.hasProvider(c.URI.from({scheme:e.scheme})))return new Promise((i=>{const n=t.onDidChangeFileSystemProviderRegistrations((t=>{t.scheme===e.scheme&&t.added&&(n.dispose(),i())}))}))}))},t.MIN_MAX_MEMORY_SIZE_MB=2048,t.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class C{static formatSize(e){return(0,a.isNumber)(e)||(e=0),e<C.KB?(0,l.localize)("sizeB","{0}B",e.toFixed(0)):e<C.MB?(0,l.localize)("sizeKB","{0}KB",(e/C.KB).toFixed(2)):e<C.GB?(0,l.localize)("sizeMB","{0}MB",(e/C.MB).toFixed(2)):e<C.TB?(0,l.localize)("sizeGB","{0}GB",(e/C.GB).toFixed(2)):(0,l.localize)("sizeTB","{0}TB",(e/C.TB).toFixed(2))}}t.ByteSize=C,C.KB=1024,C.MB=C.KB*C.KB,C.GB=C.MB*C.KB,C.TB=C.GB*C.KB,t.getPlatformLimits=function(e){return{maxFileSize:0===e?300*C.MB:16*C.GB,maxHeapSize:0===e?700*C.MB:1400*C.MB}}},44649:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextScopedReplaceInput=t.ContextScopedFindInput=t.ContextScopedHistoryInputBox=t.registerAndCreateHistoryNavigationContext=t.historyNavigationVisible=void 0;const r=i(64892),s=i(85411),a=i(56326),c=i(83913),l=i(80500),d=i(9147),u=i(755);t.historyNavigationVisible=new c.RawContextKey("suggestWidgetVisible",!1,(0,d.localize)("suggestWidgetVisible","Whether suggestion are visible"));const h="historyNavigationWidgetFocus",p="historyNavigationForwardsEnabled",g="historyNavigationBackwardsEnabled";let f;const m=[];function b(e,t){if(m.includes(t))throw new Error("Cannot register the same widget multiple times");m.push(t);const i=new u.DisposableStore,n=i.add(e.createScoped(t.element)),o=new c.RawContextKey(h,!1).bindTo(n),r=new c.RawContextKey(p,!0).bindTo(n),s=new c.RawContextKey(g,!0).bindTo(n),a=()=>{o.set(!0),f=t},l=()=>{o.set(!1),f===t&&(f=void 0)};return t.element===document.activeElement&&a(),i.add(t.onDidFocus((()=>a()))),i.add(t.onDidBlur((()=>l()))),i.add((0,u.toDisposable)((()=>{m.splice(m.indexOf(t),1),l()}))),{scopedContextKeyService:n,historyNavigationForwardsEnablement:r,historyNavigationBackwardsEnablement:s,dispose(){i.dispose()}}}t.registerAndCreateHistoryNavigationContext=b;let v=class extends a.HistoryInputBox{constructor(e,t,i,n){super(e,t,i),this._register(b(n,this))}};v=n([o(3,c.IContextKeyService)],v),t.ContextScopedHistoryInputBox=v;let A=class extends r.FindInput{constructor(e,t,i,n){super(e,t,i),this._register(b(n,this.inputBox))}};A=n([o(3,c.IContextKeyService)],A),t.ContextScopedFindInput=A;let y=class extends s.ReplaceInput{constructor(e,t,i,n,o=!1){super(e,t,o,i),this._register(b(n,this.inputBox))}};y=n([o(3,c.IContextKeyService)],y),t.ContextScopedReplaceInput=y,l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:c.ContextKeyExpr.and(c.ContextKeyExpr.has(h),c.ContextKeyExpr.equals(g,!0),t.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:e=>{null==f||f.showPreviousValue()}}),l.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:c.ContextKeyExpr.and(c.ContextKeyExpr.has(h),c.ContextKeyExpr.equals(p,!0),t.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:e=>{null==f||f.showNextValue()}})},3766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showHistoryKeybindingHint=void 0,t.showHistoryKeybindingHint=function(e){var t,i;return"Up"===(null===(t=e.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(i=e.lookupKeybinding("history.showNext"))||void 0===i?void 0:i.getElectronAccelerator())}},21520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncDescriptor=void 0,t.SyncDescriptor=class{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}},49371:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSingletonServiceDescriptors=t.registerSingleton=void 0;const n=i(21520),o=[];t.registerSingleton=function(e,t,i){t instanceof n.SyncDescriptor||(t=new n.SyncDescriptor(t,[],Boolean(i))),o.push([e,t])},t.getSingletonServiceDescriptors=function(){return o}},94145:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=t.Node=void 0;class i{constructor(e,t){this.key=e,this.data=t,this.incoming=new Map,this.outgoing=new Map}}t.Node=i,t.Graph=class{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(const t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(n.key,n),n.incoming.set(i.key,i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(const e of this._nodes.values())e.outgoing.delete(t),e.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let n=this._nodes.get(t);return n||(n=new i(t,e),this._nodes.set(t,n)),n}lookup(e){return this._nodes.get(this._hashFn(e))}isEmpty(){return 0===this._nodes.size}toString(){const e=[];for(const[t,i]of this._nodes)e.push(`${t}\n\t(-> incoming)[${[...i.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...i.outgoing.keys()].join(",")}]\n`);return e.join("\n")}findCycleSlow(){for(const[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(const[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}},28888:(e,t)=>{"use strict";var i;function n(e){if(i.serviceIds.has(e))return i.serviceIds.get(e);const t=function(e,n,o){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,n){t[i.DI_TARGET]===t?t[i.DI_DEPENDENCIES].push({id:e,index:n}):(t[i.DI_DEPENDENCIES]=[{id:e,index:n}],t[i.DI_TARGET]=t)}(t,e,o)};return t.toString=()=>e,i.serviceIds.set(e,t),t}Object.defineProperty(t,"__esModule",{value:!0}),t.refineServiceDecorator=t.createDecorator=t.IInstantiationService=t._util=void 0,function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(i=t._util||(t._util={})),t.IInstantiationService=n("instantiationService"),t.createDecorator=n,t.refineServiceDecorator=function(e){return e}},13224:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trace=t.InstantiationService=void 0;const n=i(78456),o=i(64317),r=i(21520),s=i(94145),a=i(28888),c=i(58409);class l extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class d{constructor(e=new c.ServiceCollection,t=!1,i,n=!1){var o;this._services=e,this._strict=t,this._parent=i,this._enableTracing=n,this._activeInstantiations=new Set,this._services.set(a.IInstantiationService,this),this._globalGraph=n?null!==(o=null==i?void 0:i._globalGraph)&&void 0!==o?o:new s.Graph((e=>e)):void 0}createChild(e){return new d(e,this._strict,this,this._enableTracing)}invokeFunction(e,...t){const i=u.traceInvocation(this._enableTracing,e);let n=!1;try{return e({get:e=>{if(n)throw(0,o.illegalState)("service accessor is only valid during the invocation of its target method");const t=this._getOrCreateServiceInstance(e,i);if(!t)throw new Error(`[invokeFunction] unknown service '${e}'`);return t}},...t)}finally{n=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof r.SyncDescriptor?(i=u.traceCreation(this._enableTracing,e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=u.traceCreation(this._enableTracing,e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){const n=a._util.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),o=[];for(const t of n){const n=this._getOrCreateServiceInstance(t.id,i);n||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${t.id}.`,!1),o.push(n)}const r=n.length>0?n[0].index:t.length;if(t.length!==r){console.trace(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);const i=r-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,r)}return new e(...[...t,...o])}_setServiceInstance(e,t){if(this._services.get(e)instanceof r.SyncDescriptor)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){const t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const i=this._getServiceInstanceOrDescriptor(e);return i instanceof r.SyncDescriptor?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){var n;const o=new s.Graph((e=>e.id.toString()));let c=0;const d=[{id:e,desc:t,_trace:i}];for(;d.length;){const t=d.pop();if(o.lookupOrInsertNode(t),c++>1e3)throw new l(o);for(const i of a._util.getServiceDependencies(t.desc.ctor)){const s=this._getServiceInstanceOrDescriptor(i.id);if(s||this._throwIfStrict(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`,!0),null===(n=this._globalGraph)||void 0===n||n.insertEdge(String(t.id),String(i.id)),s instanceof r.SyncDescriptor){const e={id:i.id,desc:s,_trace:t._trace.branch(i.id,!0)};o.insertEdge(t,e),d.push(e)}}}for(;;){const e=o.roots();if(0===e.length){if(!o.isEmpty())throw new l(o);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof r.SyncDescriptor){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}o.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,o){if(this._services.get(e)instanceof r.SyncDescriptor)return this._createServiceInstance(e,t,i,n,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t,i=[],o,r){if(o){const o=new d(void 0,this._strict,this,this._enableTracing);o._globalGraphImplicitDependency=String(e);const s=new n.IdleValue((()=>o._createInstance(t,i,r)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];const i=s.value;let n=i[t];return"function"!=typeof n||(n=n.bind(i),e[t]=n),n},set:(e,t,i)=>(s.value[t]=i,!0)})}return this._createInstance(t,i,r)}_throwIfStrict(e,t){if(t&&console.warn(e),this._strict)throw new Error(e)}}t.InstantiationService=d;class u{static traceInvocation(e,t){return e?new u(1,t.name||(new Error).stack.split("\n").slice(3,4).join("\n")):u._None}static traceCreation(e,t){return e?new u(0,t.name):u._None}constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}branch(e,t){const i=new u(2,e.toString());return this._dep.push([e,t,i]),i}stop(){const e=Date.now()-this._start;u._totals+=e;let t=!1;const i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(i,n){const o=[],r=new Array(i+1).join("\t");for(const[s,a,c]of n._dep)if(a&&c){t=!0,o.push(`${r}CREATES -> ${s}`);const n=e(i+1,c);n&&o.push(n)}else o.push(`${r}uses -> ${s}`);return o.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${u._totals.toFixed(2)}ms)`];(e>2||t)&&u.all.add(i.join("\n"))}}t.Trace=u,u.all=new Set,u._None=new class extends u{constructor(){super(-1,null)}stop(){}branch(){return this}},u._totals=0},58409:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceCollection=void 0,t.ServiceCollection=class{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}},81749:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;const n=i(50855),o=i(81437);t.Extensions={JSONContribution:"base.contributions.json"};const r=new class{constructor(){this._onDidChangeSchema=new n.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}};o.Registry.add(t.Extensions.JSONContribution,r)},26167:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractKeybindingService=void 0;const n=i(37253),o=i(78456),r=i(50855),s=i(755),a=i(9147),c=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class l extends s.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:r.Event.None}get inChordMode(){return!!this._currentChord}constructor(e,t,i,n,s){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=s,this._onDidUpdateKeybindings=this._register(new r.Emitter),this._currentChord=null,this._currentChordChecker=new o.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=d.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new o.TimeoutTimer,this._logging=!1}dispose(){super.dispose()}getDefaultKeybindingsContent(){return""}toggleLogging(){return this._logging=!this._logging,this._logging}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getDefaultKeybindings(){return this._getResolver().getDefaultKeybindings()}getKeybindings(){return this._getResolver().getKeybindings()}customKeybindingsCount(){return 0}lookupKeybindings(e){return n.coalesce(this._getResolver().lookupKeybindings(e).map((e=>e.resolvedKeybinding)))}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){this._log("/ Soft dispatching keyboard event");const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return this._log("\\ Keyboard event cannot be dispatched"),null;const o=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,r,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(a.localize("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}dispatchByUserSettingsLabel(e,t){this._log(`/ Dispatching keybinding triggered via menu entry accelerator - ${e}`);const i=this.resolveUserBinding(e);0===i.length?this._log(`\\ Could not resolve - ${e}`):this._doDispatch(i[0],t,!1)}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();if(n)return this._ignoreSingleModifiers.has(n)?(this._log(`+ Ignoring single modifier ${n} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=d.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=d.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[o]=i.getParts();return this._ignoreSingleModifiers=new d(o),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(e,t,i=!1){let n=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,r=null;if(i){const[t]=e.getSingleModifierDispatchParts();o=t,r=t}else[o]=e.getDispatchParts(),r=this._currentChord?this._currentChord.keypress:null;if(null===o)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),n;const s=this._contextKeyService.getContext(t),l=e.getLabel(),d=this._getResolver().resolve(s,r,o);return this._logService.trace("KeybindingService#dispatch",l,null==d?void 0:d.commandId),d&&d.enterChord?(n=!0,this._enterChordMode(o,l),this._log("+ Entering chord mode..."),n):(this._currentChord&&(d&&d.commandId||(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${l}".`),this._notificationService.status(a.localize("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:1e4}),n=!0)),this._leaveChordMode(),d&&d.commandId&&(d.bubble||(n=!0),this._log(`+ Invoking command ${d.commandId}.`),void 0===d.commandArgs?this._commandService.executeCommand(d.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(d.commandId,d.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),c.test(d.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:"keybinding"})),n)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}t.AbstractKeybindingService=l;class d{constructor(e){this._ctrlKey=!!e&&e.ctrlKey,this._shiftKey=!!e&&e.shiftKey,this._altKey=!!e&&e.altKey,this._metaKey=!!e&&e.metaKey}has(e){switch(e){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}d.EMPTY=new d(null)},22648:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseResolvedKeybinding=void 0;const n=i(64317),o=i(86542),r=i(86146);class s extends r.ResolvedKeybinding{constructor(e,t){if(super(),0===t.length)throw(0,n.illegalArgument)("parts");this._os=e,this._parts=t}getLabel(){return o.UILabelProvider.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return o.AriaLabelProvider.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:o.ElectronAcceleratorLabelProvider.toLabel(this._os,this._parts,(e=>this._getElectronAccelerator(e)))}getUserSettingsLabel(){return o.UserSettingsLabelProvider.toLabel(this._os,this._parts,(e=>this._getUserSettingsLabel(e)))}isWYSIWYG(){return this._parts.every((e=>this._isWYSIWYG(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new r.ResolvedKeybindingPart(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}t.BaseResolvedKeybinding=s},79999:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKeybindingService=void 0;const n=i(28888);t.IKeybindingService=(0,n.createDecorator)("keybindingService")},16393:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeybindingResolver=void 0;const n=i(83913);class o{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const t of e){const e=t.command;e&&"-"!==e.charAt(0)&&this._defaultBoundCommands.set(e,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=o.handleRemovals([].concat(e).concat(t));for(let e=0,t=this._keybindings.length;e<t;e++){const t=this._keybindings[e];0!==t.keypressParts.length&&(t.when&&0===t.when.type||this._addKeyPress(t.keypressParts[0],t))}}static _isTargetedForRemoval(e,t,i,o){if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(o){if(!e.when)return!1;if(!(0,n.expressionsAreEqualWithConstantSubstitution)(o,e.when))return!1}return!0}static handleRemovals(e){const t=new Map;for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.command&&"-"===n.command.charAt(0)){const e=n.command.substring(1);t.has(e)?t.get(e).push(n):t.set(e,[n])}}if(0===t.size)return e;const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(!o.command||0===o.command.length){i.push(o);continue}if("-"===o.command.charAt(0))continue;const r=t.get(o.command);if(!r||!o.isDefault){i.push(o);continue}let s=!1;for(const e of r){const t=e.keypressParts[0],i=e.keypressParts[1],n=e.when;if(this._isTargetedForRemoval(o,t,i,n)){s=!0;break}}s||i.push(o)}return i}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let e=i.length-1;e>=0;e--){const n=i[e];if(n.command===t.command)continue;const r=n.keypressParts.length>1,s=t.keypressParts.length>1;r&&s&&n.keypressParts[1]!==t.keypressParts[1]||o.whenIsEntirelyIncluded(n.when,t.when)&&this._removeFromLookupMap(n)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;const t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&(0,n.implies)(e,t)}getDefaultBoundCommands(){return this._defaultBoundCommands}getDefaultKeybindings(){return this._defaultKeybindings}getKeybindings(){return this._keybindings}lookupKeybindings(e){const t=this._lookupMap.get(e);if(void 0===t||0===t.length)return[];const i=[];let n=0;for(let e=t.length-1;e>=0;e--)i[n++]=t[e];return i}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let e=i.length-1;e>=0;e--){const n=i[e];if(t.contextMatchesRules(n.when))return n}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,o=e.length;t<o;t++){const o=e[t];o.keypressParts[1]===i&&n.push(o)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}const o=this._findCommand(e,n);return o?null===t&&o.keypressParts.length>1&&null!==o.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${r(o.when)}, source: ${s(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${r(o.when)}, source: ${s(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){const n=t[i];if(o._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,t){return!t||t.evaluate(e)}}function r(e){return e?`${e.serialize()}`:"no when condition"}function s(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}t.KeybindingResolver=o},80500:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=t.KeybindingsRegistry=void 0;const n=i(86146),o=i(83489),r=i(96249),s=i(81437),a=i(755),c=i(56461);class l{constructor(){this._coreKeybindings=new c.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===o.OS){if(e&&e.win)return e.win}else if(2===o.OS){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=l.bindToCurrentPlatform(e),i=new a.DisposableStore;if(t&&t.primary){const r=(0,n.createKeybinding)(t.primary,o.OS);r&&i.add(this._registerDefaultKeybinding(r,e.id,e.args,e.weight,0,e.when))}if(t&&Array.isArray(t.secondary))for(let r=0,s=t.secondary.length;r<s;r++){const s=t.secondary[r],a=(0,n.createKeybinding)(s,o.OS);a&&i.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-r-1,e.when))}return i}setExtensionKeybindings(e){const t=[];let i=0;for(const n of e)n.keybinding.length>0&&(t[i++]={keybinding:n.keybinding,command:n.id,commandArgs:n.args,when:n.when,weight1:n.weight,weight2:0,extensionId:n.extensionId||null,isBuiltinExtension:n.isBuiltinExtension||!1});this._extensionKeybindings=t,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(e){return(0,a.combinedDisposable)(this.registerKeybindingRule(e),r.CommandsRegistry.registerCommand(e))}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56||80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&l._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,r,s){1===o.OS&&this._assertNoCtrlAlt(e.parts[0],t);const c=this._coreKeybindings.push({keybinding:e.parts,command:t,commandArgs:i,when:s,weight1:n,weight2:r,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,a.toDisposable)((()=>{c(),this._cachedMergedKeybindings=null}))}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(d)),this._cachedMergedKeybindings.slice(0)}}function d(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}t.KeybindingsRegistry=new l,t.Extensions={EditorModes:"platform.keybindingsRegistry"},s.Registry.add(t.Extensions.EditorModes,t.KeybindingsRegistry)},96075:(e,t)=>{"use strict";function i(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.removeElementsAfterNulls=t.ResolvedKeybindingItem=void 0,t.ResolvedKeybindingItem=class{constructor(e,t,n,o,r,s,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?i(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=i(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=o,this.isDefault=r,this.extensionId=s,this.isBuiltinExtension=a}},t.removeElementsAfterNulls=i},73086:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USLayoutResolvedKeybinding=void 0;const n=i(86418),o=i(86146),r=i(22648),s=i(96075);class a extends r.BaseResolvedKeybinding{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return n.KeyCodeUtils.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":n.KeyCodeUtils.toString(e.keyCode)}_getElectronAccelerator(e){return n.KeyCodeUtils.toElectronAccelerator(e.keyCode)}_getUserSettingsLabel(e){if(e.isDuplicateModifierCase())return"";const t=n.KeyCodeUtils.toUserSettingsUS(e.keyCode);return t?t.toLowerCase():t}_isWYSIWYG(){return!0}_getDispatchPart(e){return a.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=n.KeyCodeUtils.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(e){const t=n.IMMUTABLE_CODE_TO_KEY_CODE[e];if(-1!==t)return t;switch(e){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(e){if(!e)return null;if(e instanceof o.SimpleKeybinding)return e;const t=this._scanCodeToKeyCode(e.scanCode);return 0===t?null:new o.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,t)}static resolveUserBinding(e,t){const i=(0,s.removeElementsAfterNulls)(e.map((e=>this._resolveSimpleUserBinding(e))));return i.length>0?[new a(new o.ChordKeybinding(i),t)]:[]}}t.USLayoutResolvedKeybinding=a},14694:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILabelService=void 0;const n=i(28888);t.ILabelService=(0,n.createDecorator)("labelService")},82256:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILayoutService=void 0;const n=i(28888);t.ILayoutService=(0,n.createDecorator)("layoutService")},40832:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkbenchCompressibleAsyncDataTree=t.WorkbenchAsyncDataTree=t.WorkbenchDataTree=t.WorkbenchCompressibleObjectTree=t.WorkbenchObjectTree=t.getSelectionKeyboardEvent=t.WorkbenchTable=t.WorkbenchPagedList=t.WorkbenchList=t.WorkbenchTreeFindOpen=t.WorkbenchTreeElementHasChild=t.WorkbenchTreeElementCanExpand=t.WorkbenchTreeElementHasParent=t.WorkbenchTreeElementCanCollapse=t.WorkbenchListSupportsFind=t.WorkbenchListSelectionNavigation=t.WorkbenchListMultiSelection=t.WorkbenchListDoubleSelection=t.WorkbenchListHasSelectionOrFocus=t.WorkbenchListFocusContextKey=t.WorkbenchListSupportsMultiSelectContextKey=t.RawWorkbenchListFocusContextKey=t.ListService=t.IListService=void 0;const r=i(42535),s=i(20439),a=i(94545),c=i(53622),l=i(43537),d=i(34518),u=i(88069),h=i(27157),p=i(50855),g=i(755),f=i(9147),m=i(34673),b=i(6688),v=i(83913),A=i(94826),y=i(48963),C=i(28888),w=i(79999),_=i(81437),S=i(52588),E=i(56090);t.IListService=(0,C.createDecorator)("listService");let k=class{get lastFocusedList(){return this._lastFocusedWidget}constructor(e){this._themeService=e,this.disposables=new g.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(e){var t,i;e!==this._lastFocusedWidget&&(null===(t=this._lastFocusedWidget)||void 0===t||t.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,null===(i=this._lastFocusedWidget)||void 0===i||i.getHTMLElement().classList.add("last-focused"))}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new a.DefaultStyleController((0,r.createStyleSheet)(),"");this.disposables.add((0,S.attachListStyler)(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&this.setLastFocusedList(e),(0,g.combinedDisposable)(e.onDidFocus((()=>this.setLastFocusedList(e))),(0,g.toDisposable)((()=>this.lists.splice(this.lists.indexOf(i),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==i)),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)})))}dispose(){this.disposables.dispose()}};k=n([o(0,E.IThemeService)],k),t.ListService=k,t.RawWorkbenchListFocusContextKey=new v.RawContextKey("listFocus",!0),t.WorkbenchListSupportsMultiSelectContextKey=new v.RawContextKey("listSupportsMultiselect",!0),t.WorkbenchListFocusContextKey=v.ContextKeyExpr.and(t.RawWorkbenchListFocusContextKey,v.ContextKeyExpr.not(A.InputFocusedContextKey)),t.WorkbenchListHasSelectionOrFocus=new v.RawContextKey("listHasSelectionOrFocus",!1),t.WorkbenchListDoubleSelection=new v.RawContextKey("listDoubleSelection",!1),t.WorkbenchListMultiSelection=new v.RawContextKey("listMultiSelection",!1),t.WorkbenchListSelectionNavigation=new v.RawContextKey("listSelectionNavigation",!1),t.WorkbenchListSupportsFind=new v.RawContextKey("listSupportsFind",!0),t.WorkbenchTreeElementCanCollapse=new v.RawContextKey("treeElementCanCollapse",!1),t.WorkbenchTreeElementHasParent=new v.RawContextKey("treeElementHasParent",!1),t.WorkbenchTreeElementCanExpand=new v.RawContextKey("treeElementCanExpand",!1),t.WorkbenchTreeElementHasChild=new v.RawContextKey("treeElementHasChild",!1),t.WorkbenchTreeFindOpen=new v.RawContextKey("treeFindOpen",!1);const x="listTypeNavigationMode",D="listAutomaticKeyboardNavigation";function T(e,i){const n=e.createScoped(i.getHTMLElement());return t.RawWorkbenchListFocusContextKey.bindTo(n),n}const M="workbench.list.multiSelectModifier",B="workbench.list.openMode",I="workbench.list.horizontalScrolling",L="workbench.list.defaultFindMode",P="workbench.list.keyboardNavigation",O="workbench.tree.indent",R="workbench.tree.renderIndentGuides",N="workbench.list.smoothScrolling",F="workbench.list.mouseWheelScrollSensitivity",j="workbench.list.fastScrollSensitivity",W="workbench.tree.expandMode";function z(e){return"alt"===e.getValue(M)}class U extends g.Disposable{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=z(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(M)&&(this.useAltAsMultipleSelectionModifier=z(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:(0,a.isSelectionSingleChangeEvent)(e)}isSelectionRangeChangeEvent(e){return(0,a.isSelectionRangeChangeEvent)(e)}}function H(e,t){var i;const n=e.get(m.IConfigurationService),o=e.get(w.IKeybindingService),r=new g.DisposableStore;return[Object.assign(Object.assign({},t),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>o.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(n.getValue(N)),mouseWheelScrollSensitivity:n.getValue(F),fastScrollSensitivity:n.getValue(j),multipleSelectionController:null!==(i=t.multipleSelectionController)&&void 0!==i?i:r.add(new U(n)),keyboardNavigationEventFilter:X(o)}),r]}let V=class extends a.List{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,i,n,o,r,s,a,c,l,d){const u=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(l.getValue(I)),[h,p]=d.invokeFunction(H,r);super(e,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,S.computeStyles)(c.getColorTheme(),S.defaultListStyles)),h),{horizontalScrolling:u})),this.disposables.add(p),this.contextKeyService=T(s,this),this.themeService=c,this.listSupportsMultiSelect=t.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport),t.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=t.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=t.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=t.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=z(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration(M)&&(this._useAltAsMultipleSelectionModifier=z(l));let t={};if(e.affectsConfiguration(I)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(I));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(N)){const e=Boolean(l.getValue(N));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(F)){const e=l.getValue(F);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(j)){const e=l.getValue(j);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new q(this,Object.assign({configurationService:l},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,S.attachListStyler)(this,this.themeService,e)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};V=n([o(5,v.IContextKeyService),o(6,t.IListService),o(7,E.IThemeService),o(8,m.IConfigurationService),o(9,C.IInstantiationService)],V),t.WorkbenchList=V;let K=class extends s.PagedList{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,i,n,o,r,s,a,c,l,d){const u=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(l.getValue(I)),[h,p]=d.invokeFunction(H,r);super(e,i,n,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,S.computeStyles)(c.getColorTheme(),S.defaultListStyles)),h),{horizontalScrolling:u})),this.disposables=new g.DisposableStore,this.disposables.add(p),this.contextKeyService=T(s,this),this.themeService=c,this.horizontalScrolling=r.horizontalScrolling,this.listSupportsMultiSelect=t.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport),t.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this._useAltAsMultipleSelectionModifier=z(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),r.overrideStyles&&this.disposables.add((0,S.attachListStyler)(this,c,r.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration(M)&&(this._useAltAsMultipleSelectionModifier=z(l));let t={};if(e.affectsConfiguration(I)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(I));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(N)){const e=Boolean(l.getValue(N));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(F)){const e=l.getValue(F);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(j)){const e=l.getValue(j);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new q(this,Object.assign({configurationService:l},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,S.attachListStyler)(this,this.themeService,e)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};K=n([o(5,v.IContextKeyService),o(6,t.IListService),o(7,E.IThemeService),o(8,m.IConfigurationService),o(9,C.IInstantiationService)],K),t.WorkbenchPagedList=K;let G=class extends c.Table{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,i,n,o,r,s,a,c,l,d,u){const h=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(d.getValue(I)),[p,g]=u.invokeFunction(H,s);super(e,i,n,o,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,S.computeStyles)(l.getColorTheme(),S.defaultListStyles)),p),{horizontalScrolling:h})),this.disposables.add(g),this.contextKeyService=T(a,this),this.themeService=l,this.listSupportsMultiSelect=t.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport),t.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=t.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=t.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=t.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=z(d),this.disposables.add(this.contextKeyService),this.disposables.add(c.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(d.onDidChangeConfiguration((e=>{e.affectsConfiguration(M)&&(this._useAltAsMultipleSelectionModifier=z(d));let t={};if(e.affectsConfiguration(I)&&void 0===this.horizontalScrolling){const e=Boolean(d.getValue(I));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(N)){const e=Boolean(d.getValue(N));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(F)){const e=d.getValue(F);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(j)){const e=d.getValue(j);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new Y(this,Object.assign({configurationService:d},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,S.attachListStyler)(this,this.themeService,e)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};G=n([o(6,v.IContextKeyService),o(7,t.IListService),o(8,E.IThemeService),o(9,m.IConfigurationService),o(10,C.IInstantiationService)],G),t.WorkbenchTable=G,t.getSelectionKeyboardEvent=function(e="keydown",t,i){const n=new KeyboardEvent(e);return n.preserveFocus=t,n.pinned=i,n.__forceEvent=!0,n};class $ extends g.Disposable{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new p.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(p.Event.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(B)),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(B))})))):this.openOnSingleClick=null===(i=null==t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!=typeof t.preserveFocus||t.preserveFocus,n="boolean"==typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,i,n,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,n,t)}_open(e,t,i,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class q extends ${constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Y extends ${constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class Q extends ${constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function X(e){let t=!1;return i=>{if(i.toKeybinding().isModifierKey())return!1;if(t)return t=!1,!1;const n=e.softDispatch(i,i.target);return(null==n?void 0:n.enterChord)?(t=!0,!1):(t=!1,!n)}}let Z=class extends h.ObjectTree{get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,o,r,s,a,c,l){const{options:d,getTypeNavigationMode:u,disposable:h}=r.invokeFunction(oe,o);super(e,t,i,n,d),this.disposables.add(h),this.internals=new re(this,o,u,o.overrideStyles,s,a,c,l),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};Z=n([o(5,C.IInstantiationService),o(6,v.IContextKeyService),o(7,t.IListService),o(8,E.IThemeService),o(9,m.IConfigurationService)],Z),t.WorkbenchObjectTree=Z;let J=class extends h.CompressibleObjectTree{get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,o,r,s,a,c,l){const{options:d,getTypeNavigationMode:u,disposable:h}=r.invokeFunction(oe,o);super(e,t,i,n,d),this.disposables.add(h),this.internals=new re(this,o,u,o.overrideStyles,s,a,c,l),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};J=n([o(5,C.IInstantiationService),o(6,v.IContextKeyService),o(7,t.IListService),o(8,E.IThemeService),o(9,m.IConfigurationService)],J),t.WorkbenchCompressibleObjectTree=J;let ee=class extends u.DataTree{get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,o,r,s,a,c,l,d){const{options:u,getTypeNavigationMode:h,disposable:p}=s.invokeFunction(oe,r);super(e,t,i,n,o,u),this.disposables.add(p),this.internals=new re(this,r,h,r.overrideStyles,a,c,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};ee=n([o(6,C.IInstantiationService),o(7,v.IContextKeyService),o(8,t.IListService),o(9,E.IThemeService),o(10,m.IConfigurationService)],ee),t.WorkbenchDataTree=ee;let te=class extends d.AsyncDataTree{get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,o,r,s,a,c,l,d){const{options:u,getTypeNavigationMode:h,disposable:p}=s.invokeFunction(oe,r);super(e,t,i,n,o,u),this.disposables.add(p),this.internals=new re(this,r,h,r.overrideStyles,a,c,l,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};te=n([o(6,C.IInstantiationService),o(7,v.IContextKeyService),o(8,t.IListService),o(9,E.IThemeService),o(10,m.IConfigurationService)],te),t.WorkbenchAsyncDataTree=te;let ie=class extends d.CompressibleAsyncDataTree{get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(e,t,i,n,o,r,s,a,c,l,d,u){const{options:h,getTypeNavigationMode:p,disposable:g}=a.invokeFunction(oe,s);super(e,t,i,n,o,r,h),this.disposables.add(g),this.internals=new re(this,s,p,s.overrideStyles,c,l,d,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function ne(e){const t=e.getValue(L);if("highlight"===t)return l.TreeFindMode.Highlight;if("filter"===t)return l.TreeFindMode.Filter;const i=e.getValue(P);return"simple"===i||"highlight"===i?l.TreeFindMode.Highlight:"filter"===i?l.TreeFindMode.Filter:void 0}function oe(e,t){var i;const n=e.get(m.IConfigurationService),o=e.get(y.IContextViewService),r=e.get(v.IContextKeyService),s=e.get(C.IInstantiationService),c=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(I)),[l,d]=s.invokeFunction(H,t),u=t.additionalScrollHeight;return{getTypeNavigationMode:()=>{const e=r.getContextKeyValue(x);return"automatic"===e?a.TypeNavigationMode.Automatic:"trigger"===e||!1===r.getContextKeyValue(D)?a.TypeNavigationMode.Trigger:void 0},disposable:d,options:Object.assign(Object.assign({keyboardSupport:!1},l),{indent:"number"==typeof n.getValue(O)?n.getValue(O):void 0,renderIndentGuides:n.getValue(R),smoothScrolling:Boolean(n.getValue(N)),defaultFindMode:ne(n),horizontalScrolling:c,additionalScrollHeight:u,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(i=t.expandOnlyOnTwistieClick)&&void 0!==i?i:"doubleClick"===n.getValue(W),contextViewProvider:o})}}ie=n([o(7,C.IInstantiationService),o(8,v.IContextKeyService),o(9,t.IListService),o(10,E.IThemeService),o(11,m.IConfigurationService)],ie),t.WorkbenchCompressibleAsyncDataTree=ie;let re=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(e,i,n,o,r,s,a,c){var l;this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=T(r,e),this.listSupportsMultiSelect=t.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==i.multipleSelectionSupport),t.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(Boolean(i.selectionNavigation)),this.listSupportFindWidget=t.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(l=i.findWidgetEnabled)||void 0===l||l),this.hasSelectionOrFocus=t.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=t.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=t.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=t.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=t.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=t.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=t.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=t.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=z(c),this.updateStyleOverrides(o);const d=()=>{const t=e.getFocus()[0];if(!t)return;const i=e.getNode(t);this.treeElementCanCollapse.set(i.collapsible&&!i.collapsed),this.treeElementHasParent.set(!!e.getParentElement(t)),this.treeElementCanExpand.set(i.collapsible&&i.collapsed),this.treeElementHasChild.set(!!e.getFirstElementChild(t))},u=new Set;u.add(x),u.add(D),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0),d()})),e.onDidChangeCollapseState(d),e.onDidChangeModel(d),e.onDidChangeFindOpenState((e=>this.treeFindOpen.set(e))),c.onDidChangeConfiguration((t=>{let n={};if(t.affectsConfiguration(M)&&(this._useAltAsMultipleSelectionModifier=z(c)),t.affectsConfiguration(O)){const e=c.getValue(O);n=Object.assign(Object.assign({},n),{indent:e})}if(t.affectsConfiguration(R)){const e=c.getValue(R);n=Object.assign(Object.assign({},n),{renderIndentGuides:e})}if(t.affectsConfiguration(N)){const e=Boolean(c.getValue(N));n=Object.assign(Object.assign({},n),{smoothScrolling:e})}if((t.affectsConfiguration(L)||t.affectsConfiguration(P))&&e.updateOptions({defaultFindMode:ne(c)}),t.affectsConfiguration(I)&&void 0===i.horizontalScrolling){const e=Boolean(c.getValue(I));n=Object.assign(Object.assign({},n),{horizontalScrolling:e})}if(t.affectsConfiguration(W)&&void 0===i.expandOnlyOnTwistieClick&&(n=Object.assign(Object.assign({},n),{expandOnlyOnTwistieClick:"doubleClick"===c.getValue(W)})),t.affectsConfiguration(F)){const e=c.getValue(F);n=Object.assign(Object.assign({},n),{mouseWheelScrollSensitivity:e})}if(t.affectsConfiguration(j)){const e=c.getValue(j);n=Object.assign(Object.assign({},n),{fastScrollSensitivity:e})}Object.keys(n).length>0&&e.updateOptions(n)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(u)&&e.updateOptions({typeNavigationMode:n()})}))),this.navigator=new Q(e,Object.assign({configurationService:c},i)),this.disposables.push(this.navigator)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){(0,g.dispose)(this.styler),this.styler=(0,S.attachListStyler)(this.tree,this.themeService,e)}dispose(){this.disposables=(0,g.dispose)(this.disposables),(0,g.dispose)(this.styler),this.styler=void 0}};re=n([o(4,v.IContextKeyService),o(5,t.IListService),o(6,E.IThemeService),o(7,m.IConfigurationService)],re),_.Registry.as(b.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,f.localize)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[M]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,f.localize)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,f.localize)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,f.localize)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[B]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,f.localize)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[I]:{type:"boolean",default:!1,description:(0,f.localize)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[O]:{type:"number",default:8,minimum:4,maximum:40,description:(0,f.localize)("tree indent setting","Controls tree indentation in pixels.")},[R]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,f.localize)("render tree indent guides","Controls whether the tree should render indent guides.")},[N]:{type:"boolean",default:!1,description:(0,f.localize)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[F]:{type:"number",default:1,markdownDescription:(0,f.localize)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[j]:{type:"number",default:5,description:(0,f.localize)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[L]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,f.localize)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,f.localize)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,f.localize)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[P]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,f.localize)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,f.localize)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,f.localize)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,f.localize)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,f.localize)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[W]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,f.localize)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},5209:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevelToString=t.parseLogLevel=t.getLogLevel=t.NullLogService=t.AbstractLoggerService=t.LogService=t.MultiplexLogService=t.AdapterLogger=t.ConsoleLogger=t.ConsoleMainLogger=t.AbstractMessageLogger=t.AbstractLogger=t.format=t.log=t.DEFAULT_LOG_LEVEL=t.LogLevel=t.ILoggerService=t.ILogService=void 0;const n=i(47153),o=i(50855),r=i(755),s=i(83489),a=i(28888);function c(){return(new Date).toISOString()}var l;function d(e){let t="";for(let i=0;i<e.length;i++){let n=e[i];if("object"==typeof n)try{n=JSON.stringify(n)}catch(e){}t+=(i>0?" ":"")+n}return t}t.ILogService=(0,a.createDecorator)("logService"),t.ILoggerService=(0,a.createDecorator)("loggerService"),function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.Off=6]="Off"}(l=t.LogLevel||(t.LogLevel={})),t.DEFAULT_LOG_LEVEL=l.Info,t.log=function(e,t,i){switch(t){case l.Trace:e.trace(i);break;case l.Debug:e.debug(i);break;case l.Info:e.info(i);break;case l.Warning:e.warn(i);break;case l.Error:e.error(i);break;case l.Critical:e.critical(i);break;default:throw new Error("Invalid log level")}},t.format=d;class u extends r.Disposable{constructor(){super(...arguments),this.level=t.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new o.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}t.AbstractLogger=u,t.AbstractMessageLogger=class extends u{constructor(e){super(),this.logAlways=e}checkLogLevel(e){return this.logAlways||this.getLevel()<=e}trace(e,...t){this.checkLogLevel(l.Trace)&&this.log(l.Trace,d([e,...t]))}debug(e,...t){this.checkLogLevel(l.Debug)&&this.log(l.Debug,d([e,...t]))}info(e,...t){this.checkLogLevel(l.Info)&&this.log(l.Info,d([e,...t]))}warn(e,...t){this.checkLogLevel(l.Warning)&&this.log(l.Warning,d([e,...t]))}error(e,...t){if(this.checkLogLevel(l.Error))if(e instanceof Error){const t=Array.prototype.slice.call(arguments);t[0]=e.stack,this.log(l.Error,d(t))}else this.log(l.Error,d([e,...t]))}critical(e,...t){this.checkLogLevel(l.Critical)&&this.log(l.Critical,d([e,...t]))}flush(){}},t.ConsoleMainLogger=class extends u{constructor(e=t.DEFAULT_LOG_LEVEL){super(),this.setLevel(e),this.useColors=!s.isWindows}trace(e,...t){this.getLevel()<=l.Trace&&(this.useColors?console.log(`[90m[main ${c()}][0m`,e,...t):console.log(`[main ${c()}]`,e,...t))}debug(e,...t){this.getLevel()<=l.Debug&&(this.useColors?console.log(`[90m[main ${c()}][0m`,e,...t):console.log(`[main ${c()}]`,e,...t))}info(e,...t){this.getLevel()<=l.Info&&(this.useColors?console.log(`[90m[main ${c()}][0m`,e,...t):console.log(`[main ${c()}]`,e,...t))}warn(e,...t){this.getLevel()<=l.Warning&&(this.useColors?console.warn(`[93m[main ${c()}][0m`,e,...t):console.warn(`[main ${c()}]`,e,...t))}error(e,...t){this.getLevel()<=l.Error&&(this.useColors?console.error(`[91m[main ${c()}][0m`,e,...t):console.error(`[main ${c()}]`,e,...t))}critical(e,...t){this.getLevel()<=l.Critical&&(this.useColors?console.error(`[90m[main ${c()}][0m`,e,...t):console.error(`[main ${c()}]`,e,...t))}dispose(){}flush(){}},t.ConsoleLogger=class extends u{constructor(e=t.DEFAULT_LOG_LEVEL){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=l.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=l.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=l.Info&&console.log("%c INFO","color: #33f",e,...t)}warn(e,...t){this.getLevel()<=l.Warning&&console.log("%c WARN","color: #993",e,...t)}error(e,...t){this.getLevel()<=l.Error&&console.log("%c  ERR","color: #f33",e,...t)}critical(e,...t){this.getLevel()<=l.Critical&&console.log("%cCRITI","background: #f33; color: white",e,...t)}dispose(){}flush(){}},t.AdapterLogger=class extends u{constructor(e,i=t.DEFAULT_LOG_LEVEL){super(),this.adapter=e,this.setLevel(i)}trace(e,...t){this.getLevel()<=l.Trace&&this.adapter.log(l.Trace,[this.extractMessage(e),...t])}debug(e,...t){this.getLevel()<=l.Debug&&this.adapter.log(l.Debug,[this.extractMessage(e),...t])}info(e,...t){this.getLevel()<=l.Info&&this.adapter.log(l.Info,[this.extractMessage(e),...t])}warn(e,...t){this.getLevel()<=l.Warning&&this.adapter.log(l.Warning,[this.extractMessage(e),...t])}error(e,...t){this.getLevel()<=l.Error&&this.adapter.log(l.Error,[this.extractMessage(e),...t])}critical(e,...t){this.getLevel()<=l.Critical&&this.adapter.log(l.Critical,[this.extractMessage(e),...t])}extractMessage(e){return"string"==typeof e?e:(0,n.toErrorMessage)(e,this.getLevel()<=l.Trace)}dispose(){}flush(){}},t.MultiplexLogService=class extends u{constructor(e){super(),this.logServices=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.logServices)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const i of this.logServices)i.trace(e,...t)}debug(e,...t){for(const i of this.logServices)i.debug(e,...t)}info(e,...t){for(const i of this.logServices)i.info(e,...t)}warn(e,...t){for(const i of this.logServices)i.warn(e,...t)}error(e,...t){for(const i of this.logServices)i.error(e,...t)}critical(e,...t){for(const i of this.logServices)i.critical(e,...t)}flush(){for(const e of this.logServices)e.flush()}dispose(){for(const e of this.logServices)e.dispose()}};class h extends r.Disposable{constructor(e){super(),this.logger=e,this._register(e)}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(e){this.logger.setLevel(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,...t){this.logger.error(e,...t)}critical(e,...t){this.logger.critical(e,...t)}flush(){this.logger.flush()}}t.LogService=h;class p extends r.Disposable{constructor(e,t){super(),this.logLevel=e,this.loggers=new Map,this.logLevelChangeableLoggers=[],this._register(t((e=>{this.logLevel=e,this.logLevelChangeableLoggers.forEach((t=>t.setLevel(e)))})))}getLogger(e){return this.loggers.get(e.toString())}createLogger(e,t){let i=this.loggers.get(e.toString());return i||(i=this.doCreateLogger(e,(null==t?void 0:t.always)?l.Trace:this.logLevel,t),this.loggers.set(e.toString(),i),(null==t?void 0:t.always)||this.logLevelChangeableLoggers.push(i)),i}dispose(){this.logLevelChangeableLoggers.splice(0,this.logLevelChangeableLoggers.length),this.loggers.forEach((e=>e.dispose())),this.loggers.clear(),super.dispose()}}function g(e){switch(e){case"trace":return l.Trace;case"debug":return l.Debug;case"info":return l.Info;case"warn":return l.Warning;case"error":return l.Error;case"critical":return l.Critical;case"off":return l.Off}}t.AbstractLoggerService=p,t.NullLogService=class{constructor(){this.onDidChangeLogLevel=(new o.Emitter).event}setLevel(e){}getLevel(){return l.Info}trace(e,...t){}debug(e,...t){}info(e,...t){}warn(e,...t){}error(e,...t){}critical(e,...t){}dispose(){}flush(){}},t.getLogLevel=function(e){if(e.verbose)return l.Trace;if("string"==typeof e.logLevel){const t=g(e.logLevel.toLowerCase());if(void 0!==t)return t}return t.DEFAULT_LOG_LEVEL},t.parseLogLevel=g,t.LogLevelToString=function(e){switch(e){case l.Trace:return"trace";case l.Debug:return"debug";case l.Info:return"info";case l.Warning:return"warn";case l.Error:return"error";case l.Critical:return"critical";case l.Off:return"off"}}},49739:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerService=t.unsupportedSchemas=void 0;const n=i(37253),o=i(50855),r=i(5257),s=i(28371),a=i(61217),c=i(33662),l=i(20788);t.unsupportedSchemas=new Set([a.Schemas.inMemory,a.Schemas.vscodeSourceControl,a.Schemas.walkThrough,a.Schemas.walkThroughSnippet]);class d{constructor(){this._byResource=new s.ResourceMap,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let o=this._byOwner.get(t);o||(o=new s.ResourceMap,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){const i=this._byResource.get(e);return null==i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1;const o=this._byResource.get(e);o&&(i=o.delete(t));const r=this._byOwner.get(t);if(r&&(n=r.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,o;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:r.Iterable.empty():c.URI.isUri(e)?null!==(o=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==o?o:r.Iterable.empty():r.Iterable.map(r.Iterable.concat(...this._byOwner.values()),(e=>e[1]))}}class u{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new s.ResourceMap,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const i={errors:0,warnings:0,infos:0,unknowns:0};if(t.unsupportedSchemas.has(e.scheme))return i;for(const{severity:t}of this._service.read({resource:e}))t===l.MarkerSeverity.Error?i.errors+=1:t===l.MarkerSeverity.Warning?i.warnings+=1:t===l.MarkerSeverity.Info?i.infos+=1:i.unknowns+=1;return i}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class h{constructor(){this._onMarkerChanged=new o.DebounceEmitter({delay:0,merge:h._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new d,this._stats=new u(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}getStatistics(){return this._stats}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if((0,n.isFalsyOrEmpty)(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const n=[];for(const o of i){const i=h._toMarker(e,t,o);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:c,endLineNumber:l,endColumn:d,relatedInformation:u,tags:h}=i;if(r)return a=a>0?a:1,c=c>0?c:1,l=l>=a?l:a,d=d>0?d:c,{resource:t,owner:e,code:n,severity:o,message:r,source:s,startLineNumber:a,startColumn:c,endLineNumber:l,endColumn:d,relatedInformation:u,tags:h}}changeAll(e,t){const i=[],o=this._data.values(e);if(o)for(const t of o){const n=r.Iterable.first(t);n&&(i.push(n.resource),this._data.delete(n.resource,e))}if((0,n.isNonEmptyArray)(t)){const n=new s.ResourceMap;for(const{resource:o,marker:r}of t){const t=h._toMarker(e,o,r);if(!t)continue;const s=n.get(o);s?s.push(t):(n.set(o,[t]),i.push(o))}for(const[t,i]of n)this._data.set(t,e,i)}i.length>0&&this._onMarkerChanged.fire(i)}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(h._accept(i,n)){const e=t.push(i);if(o>0&&e===o)break}return t}return[]}if(t||i){const e=this._data.values(null!=i?i:t),r=[];for(const t of e)for(const e of t)if(h._accept(e,n)){const t=r.push(e);if(o>0&&t===o)return r}return r}{const e=[];for(const t of this._data.values())for(const i of t)if(h._accept(i,n)){const t=e.push(i);if(o>0&&t===o)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _merge(e){const t=new s.ResourceMap;for(const i of e)for(const e of i)t.set(e,!0);return Array.from(t.keys())}}t.MarkerService=h},20788:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMarkerService=t.IMarkerData=t.MarkerSeverity=void 0;const n=i(89908),o=i(9147),r=i(28888);var s;!function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(s=t.MarkerSeverity||(t.MarkerSeverity={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=(0,o.localize)("sev.error","Error"),t[e.Warning]=(0,o.localize)("sev.warning","Warning"),t[e.Info]=(0,o.localize)("sev.info","Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case n.default.Error:return e.Error;case n.default.Warning:return e.Warning;case n.default.Info:return e.Info;case n.default.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return n.default.Error;case e.Warning:return n.default.Warning;case e.Info:return n.default.Info;case e.Hint:return n.default.Ignore}}}(s=t.MarkerSeverity||(t.MarkerSeverity={})),function(e){const t="";function i(e,i){const n=[t];return e.source?n.push(e.source.replace("¦","\\¦")):n.push(t),e.code?"string"==typeof e.code?n.push(e.code.replace("¦","\\¦")):n.push(e.code.value.replace("¦","\\¦")):n.push(t),void 0!==e.severity&&null!==e.severity?n.push(s.toString(e.severity)):n.push(t),e.message&&i?n.push(e.message.replace("¦","\\¦")):n.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?n.push(e.startLineNumber.toString()):n.push(t),void 0!==e.startColumn&&null!==e.startColumn?n.push(e.startColumn.toString()):n.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?n.push(e.endLineNumber.toString()):n.push(t),void 0!==e.endColumn&&null!==e.endColumn?n.push(e.endColumn.toString()):n.push(t),n.push(t),n.join("¦")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(t.IMarkerData||(t.IMarkerData={})),t.IMarkerService=(0,r.createDecorator)("markerService")},88669:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpProgress=t.NoOpNotification=t.NotificationsFilter=t.NeverShowAgainScope=t.INotificationService=t.Severity=void 0;const n=i(50855),o=i(89908),r=i(28888);var s,a;t.Severity=o.default,t.INotificationService=(0,r.createDecorator)("notificationService"),(a=t.NeverShowAgainScope||(t.NeverShowAgainScope={}))[a.WORKSPACE=0]="WORKSPACE",a[a.PROFILE=1]="PROFILE",a[a.APPLICATION=2]="APPLICATION",(s=t.NotificationsFilter||(t.NotificationsFilter={}))[s.OFF=0]="OFF",s[s.SILENT=1]="SILENT",s[s.ERROR=2]="ERROR",t.NoOpNotification=class{constructor(){this.progress=new c,this.onDidClose=n.Event.None,this.onDidChangeVisibility=n.Event.None}updateSeverity(e){}updateMessage(e){}updateActions(e){}close(){}};class c{infinite(){}done(){}total(e){}worked(e){}}t.NoOpProgress=c},71322:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0;const r=i(42535),s=i(26524),a=i(23679),c=i(16195),l=i(50855),d=i(755),u=i(45559),h=i(78002),p=i(56090);let g=class extends d.Disposable{get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}set link(e){"string"==typeof e.label?this.el.textContent=e.label:((0,r.clearNode)(this.el),this.el.appendChild(e.label)),this.el.href=e.href,void 0!==e.tabIndex&&(this.el.tabIndex=e.tabIndex),void 0!==e.title&&(this.el.title=e.title),this._link=e}constructor(e,t,i={},n){var o;super(),this._link=t,this._enabled=!0,this.el=(0,r.append)(e,(0,r.$)("a.monaco-link",{tabIndex:null!==(o=t.tabIndex)&&void 0!==o?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const d=this._register(new s.DomEmitter(this.el,"click")),u=this._register(new s.DomEmitter(this.el,"keypress")),h=l.Event.chain(u.event).map((e=>new a.StandardKeyboardEvent(e))).filter((e=>3===e.keyCode)).event,p=this._register(new s.DomEmitter(this.el,c.EventType.Tap)).event;this._register(c.Gesture.addTarget(this.el));const g=l.Event.any(d.event,h,p);this._register(g((e=>{this.enabled&&(r.EventHelper.stop(e,!0),(null==i?void 0:i.opener)?i.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))}))),this.enabled=!0}};g=n([o(3,u.IOpenerService)],g),t.Link=g,(0,p.registerThemingParticipant)(((e,t)=>{const i=e.getColor(h.textLinkForeground);i&&t.addRule(`.monaco-link { color: ${i}; }`);const n=e.getColor(h.textLinkActiveForeground);n&&t.addRule(`.monaco-link:hover { color: ${n}; }`)}))},45559:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.extractSelection=t.withSelection=t.matchesSomeScheme=t.matchesScheme=t.NullOpenerService=t.IOpenerService=void 0;const o=i(755),r=i(99722),s=i(33662),a=i(28888);function c(e,t){return s.URI.isUri(e)?(0,r.equalsIgnoreCase)(e.scheme,t):(0,r.startsWithIgnoreCase)(e,t+":")}t.IOpenerService=(0,a.createDecorator)("openerService"),t.NullOpenerService=Object.freeze({_serviceBrand:void 0,registerOpener:()=>o.Disposable.None,registerValidator:()=>o.Disposable.None,registerExternalUriResolver:()=>o.Disposable.None,setDefaultExternalOpener(){},registerExternalOpener:()=>o.Disposable.None,open(){return n(this,void 0,void 0,(function*(){return!1}))},resolveExternalUri(e){return n(this,void 0,void 0,(function*(){return{resolved:e,dispose(){}}}))}}),t.matchesScheme=c,t.matchesSomeScheme=function(e,...t){return t.some((t=>c(e,t)))},t.withSelection=function(e,t){return e.with({fragment:`${t.startLineNumber},${t.startColumn}${t.endLineNumber?`-${t.endLineNumber}${t.endColumn?`,${t.endColumn}`:""}`:""}`})},t.extractSelection=function(e){let t;const i=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(e.fragment);return i&&(t={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1,endLineNumber:i[4]?parseInt(i[4]):void 0,endColumn:i[4]?i[5]?parseInt(i[5]):1:void 0},e=e.with({fragment:""})),{selection:t,uri:e}}},81101:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NullPolicyService=t.AbstractPolicyService=t.IPolicyService=void 0;const o=i(50855),r=i(5257),s=i(755),a=i(28888);t.IPolicyService=(0,a.createDecorator)("policy");class c extends s.Disposable{constructor(){super(...arguments),this.policyDefinitions={},this.policies=new Map,this._onDidChange=this._register(new o.Emitter),this.onDidChange=this._onDidChange.event}registerPolicyDefinitions(e){return n(this,void 0,void 0,(function*(){const t=Object.keys(this.policyDefinitions).length;return this.policyDefinitions=Object.assign(Object.assign({},e),this.policyDefinitions),t!==Object.keys(this.policyDefinitions).length&&(yield this.initializePolicies(e)),r.Iterable.reduce(this.policies.entries(),((e,[t,i])=>Object.assign(Object.assign({},e),{[t]:i})),{})}))}getPolicyValue(e){return this.policies.get(e)}serialize(){return r.Iterable.reduce(Object.entries(this.policyDefinitions),((e,[t,i])=>Object.assign(Object.assign({},e),{[t]:{definition:i,value:this.policies.get(t)}})),{})}}t.AbstractPolicyService=c,t.NullPolicyService=class{constructor(){this.onDidChange=o.Event.None}registerPolicyDefinitions(){return n(this,void 0,void 0,(function*(){return{}}))}getPolicyValue(){}serialize(){}}},15409:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.IEditorProgressService=t.LongRunningOperation=t.UnmanagedProgress=t.Progress=t.emptyProgressRunner=t.IProgressService=void 0;const r=i(78456),s=i(14537),a=i(755),c=i(28888);t.IProgressService=(0,c.createDecorator)("progressService"),t.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class l{get value(){return this._value}constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}t.Progress=l,l.None=Object.freeze({report(){}});let d=class extends a.Disposable{constructor(e,t){super(),this.deferred=new r.DeferredPromise,t.withProgress(e,(e=>(this.reporter=e,this.lastStep&&e.report(this.lastStep),this.deferred.p))),this._register((0,a.toDisposable)((()=>this.deferred.complete())))}report(e){this.reporter?this.reporter.report(e):this.lastStep=e}};d=n([o(1,t.IProgressService)],d),t.UnmanagedProgress=d;class u extends a.Disposable{constructor(e){super(),this.progressIndicator=e,this.currentOperationId=0,this.currentOperationDisposables=this._register(new a.DisposableStore)}start(e){this.stop();const t=++this.currentOperationId,i=new s.CancellationTokenSource;return this.currentProgressTimeout=setTimeout((()=>{t===this.currentOperationId&&(this.currentProgressRunner=this.progressIndicator.show(!0))}),e),this.currentOperationDisposables.add((0,a.toDisposable)((()=>clearTimeout(this.currentProgressTimeout)))),this.currentOperationDisposables.add((0,a.toDisposable)((()=>i.cancel()))),this.currentOperationDisposables.add((0,a.toDisposable)((()=>this.currentProgressRunner?this.currentProgressRunner.done():void 0))),{id:t,token:i.token,stop:()=>this.doStop(t),isCurrent:()=>this.currentOperationId===t}}stop(){this.doStop(this.currentOperationId)}doStop(e){this.currentOperationId===e&&this.currentOperationDisposables.clear()}}t.LongRunningOperation=u,t.IEditorProgressService=(0,c.createDecorator)("editorProgressService")},27955:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandsHistory=t.AbstractCommandsQuickAccessProvider=void 0;const s=i(47153),a=i(64317),c=i(38299),l=i(755),d=i(28371),u=i(89908),h=i(49929),p=i(9147),g=i(96249),f=i(34673),m=i(69123),b=i(28888),v=i(79999),A=i(77450),y=i(56304),C=i(51304);let w=class e extends A.PickerQuickAccessProvider{constructor(t,i,n,o,r,s){super(e.PREFIX,t),this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(_)),this.options=t}_getPicks(t,i,n){return r(this,void 0,void 0,(function*(){const i=yield this.getCommandPicks(n);if(n.isCancellationRequested)return[];const o=[];for(const n of i){const i=(0,h.withNullAsUndefined)(e.WORD_FILTER(t,n.label)),r=n.commandAlias?(0,h.withNullAsUndefined)(e.WORD_FILTER(t,n.commandAlias)):void 0;i||r?(n.highlights={label:i,detail:this.options.showAlias?r:void 0},o.push(n)):t===n.commandId&&o.push(n)}const c=new Map;for(const e of o){const t=c.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):c.set(e.label,e)}o.sort(((e,t)=>{const i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);return i&&n?i>n?-1:1:i?-1:n?1:e.label.localeCompare(t.label)}));const l=[];let d=!1;for(let e=0;e<o.length;e++){const t=o[e],i=this.keybindingService.lookupKeybinding(t.commandId),n=i?(0,p.localize)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,i.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(l.push({type:"separator",label:(0,p.localize)("recentlyUsed","recently used")}),d=!0),0!==e&&d&&!this.commandsHistory.peek(t.commandId)&&(l.push({type:"separator",label:(0,p.localize)("morecCommands","other commands")}),d=!1),l.push(Object.assign(Object.assign({},t),{ariaLabel:n,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:i,accept:()=>r(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){(0,a.isCancellationError)(e)||this.dialogService.show(u.default.Error,(0,p.localize)("canNotRun","Command '{0}' resulted in an error ({1})",t.label,(0,s.toErrorMessage)(e)))}}))}))}return l}))}};w.PREFIX=">",w.WORD_FILTER=(0,c.or)(c.matchesPrefix,c.matchesWords,c.matchesContiguousSubString),w=n([o(1,b.IInstantiationService),o(2,v.IKeybindingService),o(3,g.ICommandService),o(4,C.ITelemetryService),o(5,m.IDialogService)],w),t.AbstractCommandsQuickAccessProvider=w;let _=class e extends l.Disposable{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(e){}const n=e.cache=new d.LRUCache(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>n.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(!e.cache)return;const i={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>i.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var i,n;const o=null===(n=null===(i=t.getValue().workbench)||void 0===i?void 0:i.commandPalette)||void 0===n?void 0:n.history;return"number"==typeof o?o:e.DEFAULT_COMMANDS_HISTORY_LENGTH}static clearHistory(t,i){const n=e.getConfiguredCommandHistoryLength(t);e.cache=new d.LRUCache(n),e.counter=1,e.saveState(i)}};_.DEFAULT_COMMANDS_HISTORY_LENGTH=50,_.PREF_KEY_CACHE="commandPalette.mru.cache",_.PREF_KEY_COUNTER="commandPalette.mru.counter",_.counter=1,_=n([o(0,y.IStorageService),o(1,f.IConfigurationService)],_),t.CommandsHistory=_},61911:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HelpQuickAccessProvider=void 0;const r=i(9147),s=i(81437),a=i(755),c=i(79999),l=i(41950),d=i(71280);let u=class e{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=s.Registry.as(l.Extensions.Quickaccess)}provide(t){const i=new a.DisposableStore;return i.add(t.onDidAccept((()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),i.add(t.onDidChangeValue((t=>{const i=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));i&&i.prefix&&i.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})}))),t.items=this.getQuickAccessProviders(),i}getQuickAccessProviders(){const t=[];for(const i of this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))))if(i.prefix!==e.PREFIX)for(const e of i.helpEntries){const n=e.prefix||i.prefix,o=n||"…";t.push({prefix:n,label:o,keybinding:e.commandId?this.keybindingService.lookupKeybinding(e.commandId):void 0,ariaLabel:(0,r.localize)("helpPickAriaLabel","{0}, {1}",o,e.description),description:e.description})}return t}};u.PREFIX="?",u=n([o(0,d.IQuickInputService),o(1,c.IKeybindingService)],u),t.HelpQuickAccessProvider=u},77450:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PickerQuickAccessProvider=t.TriggerAction=void 0;const o=i(78456),r=i(14537),s=i(755);var a;function c(e){const t=e;return Array.isArray(t.items)}!function(e){e[e.NO_ACTION=0]="NO_ACTION",e[e.CLOSE_PICKER=1]="CLOSE_PICKER",e[e.REFRESH_PICKER=2]="REFRESH_PICKER",e[e.REMOVE_ITEM=3]="REMOVE_ITEM"}(a=t.TriggerAction||(t.TriggerAction={}));class l extends s.Disposable{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var i;const d=new s.DisposableStore;let u;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const h=d.add(new s.MutableDisposable),p=()=>n(this,void 0,void 0,(function*(){const i=h.value=new s.DisposableStore;null==u||u.dispose(!0),e.busy=!1,u=new r.CancellationTokenSource(t);const a=u.token,d=e.value.substr(this.prefix.length).trim(),p=this._getPicks(d,i,a),g=(t,i)=>{var n;let o,r;if(c(t)?(o=t.items,r=t.active):o=t,0===o.length){if(i)return!1;d.length>0&&(null===(n=this.options)||void 0===n?void 0:n.noResultsPick)&&(o=[this.options.noResultsPick])}return e.items=o,r&&(e.activeItems=[r]),!0};if(null===p);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(p)){let t=!1,i=!1;yield Promise.all([(()=>n(this,void 0,void 0,(function*(){yield(0,o.timeout)(l.FAST_PICKS_RACE_DELAY),a.isCancellationRequested||i||(t=g(p.picks,!0))})))(),(()=>n(this,void 0,void 0,(function*(){e.busy=!0;try{const i=yield p.additionalPicks;if(a.isCancellationRequested)return;let n,o,r,s;if(c(p.picks)?(n=p.picks.items,o=p.picks.active):n=p.picks,c(i)?(r=i.items,s=i.active):r=i,r.length>0||!t){let t;if(!o&&!s){const i=e.activeItems[0];i&&-1!==n.indexOf(i)&&(t=i)}g({items:[...n,...r],active:o||s||t})}}finally{a.isCancellationRequested||(e.busy=!1),i=!0}})))()])}else if(p instanceof Promise){e.busy=!0;try{const e=yield p;if(a.isCancellationRequested)return;g(e)}finally{a.isCancellationRequested||(e.busy=!1)}}else g(p)}));return d.add(e.onDidChangeValue((()=>p()))),p(),d.add(e.onDidAccept((t=>{const[i]=e.selectedItems;"function"==typeof(null==i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))}))),d.add(e.onDidTriggerItemButton((({button:i,item:o})=>n(this,void 0,void 0,(function*(){var n,r;if("function"==typeof o.trigger){const s=null!==(r=null===(n=o.buttons)||void 0===n?void 0:n.indexOf(i))&&void 0!==r?r:-1;if(s>=0){const i=o.trigger(s,e.keyMods),n="number"==typeof i?i:yield i;if(t.isCancellationRequested)return;switch(n){case a.NO_ACTION:break;case a.CLOSE_PICKER:e.hide();break;case a.REFRESH_PICKER:p();break;case a.REMOVE_ITEM:{const t=e.items.indexOf(o);if(-1!==t){const i=e.items.slice(),n=i.splice(t,1),o=e.activeItems.filter((e=>e!==n[0])),r=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=i,o&&(e.activeItems=o),e.keepScrollPosition=r}break}}}}}))))),d}}t.PickerQuickAccessProvider=l,l.FAST_PICKS_RACE_DELAY=200},34959:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickAccessController=void 0;const r=i(78456),s=i(14537),a=i(33914),c=i(755),l=i(28888),d=i(41950),u=i(71280),h=i(81437);let p=class extends c.Disposable{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=h.Registry.as(d.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}pick(e="",t){return this.doShowOrPick(e,!0,t)}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var n;const[o,l]=this.getOrInstantiateProvider(e),h=this.visibleQuickAccess,p=null==h?void 0:h.descriptor;if(h&&l&&p===l)return e===l.prefix||(null==i?void 0:i.preserveValue)||(h.picker.value=e),void this.adjustValueSelection(h.picker,l,i);if(l&&!(null==i?void 0:i.preserveValue)){let t;if(h&&p&&p!==l){const e=h.value.substr(p.prefix.length);e&&(t=`${l.prefix}${e}`)}if(!t){const e=null==o?void 0:o.defaultFilterValue;e===d.DefaultQuickAccessFilterValue.LAST?t=this.lastAcceptedPickerValues.get(l):"string"==typeof e&&(t=`${l.prefix}${e}`)}"string"==typeof t&&(e=t)}const g=new c.DisposableStore,f=g.add(this.quickInputService.createQuickPick());let m;f.value=e,this.adjustValueSelection(f,l,i),f.placeholder=null==l?void 0:l.placeholder,f.quickNavigate=null==i?void 0:i.quickNavigateConfiguration,f.hideInput=!!f.quickNavigate&&!h,("number"==typeof(null==i?void 0:i.itemActivation)||(null==i?void 0:i.quickNavigateConfiguration))&&(f.itemActivation=null!==(n=null==i?void 0:i.itemActivation)&&void 0!==n?n:u.ItemActivation.SECOND),f.contextKey=null==l?void 0:l.contextKey,f.filterValue=e=>e.substring(l?l.prefix.length:0),(null==l?void 0:l.placeholder)&&(f.ariaLabel=null==l?void 0:l.placeholder),t&&(m=new r.DeferredPromise,g.add((0,a.once)(f.onWillAccept)((e=>{e.veto(),f.hide()})))),g.add(this.registerPickerListeners(f,o,l,e));const b=g.add(new s.CancellationTokenSource);return o&&g.add(o.provide(f,b.token)),(0,a.once)(f.onDidHide)((()=>{0===f.selectedItems.length&&b.cancel(),g.dispose(),null==m||m.complete(f.selectedItems.slice(0))})),f.show(),t?null==m?void 0:m.p:void 0}adjustValueSelection(e,t,i){var n;let o;o=(null==i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null==t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,n){const o=new c.DisposableStore,r=this.visibleQuickAccess={picker:e,descriptor:i,value:n};return o.add((0,c.toDisposable)((()=>{r===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)}))),o.add(e.onDidChangeValue((e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):r.value=e}))),i&&o.add(e.onDidAccept((()=>{this.lastAcceptedPickerValues.set(i,e.value)}))),o}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};p=n([o(0,u.IQuickInputService),o(1,l.IInstantiationService)],p),t.QuickAccessController=p},86788:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickInputService=void 0;const r=i(14537),s=i(50855),a=i(44832),c=i(10474),l=i(83913),d=i(28888),u=i(82256),h=i(40832),p=i(34959),g=i(78002),f=i(52588),m=i(56090);let b=class extends m.Themable{get backButton(){return this.controller.backButton}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(p.QuickAccessController))),this._quickAccess}constructor(e,t,i,n,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=o,this._onShow=this._register(new s.Emitter),this.onShow=this._onShow.event,this._onHide=this._register(new s.Emitter),this.onHide=this._onHide.event,this.contexts=new Map}createController(e=this.layoutService,t){const i={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,o)=>this.instantiationService.createInstance(h.WorkbenchList,e,t,i,n,o),styles:this.computeStyles()},n=this._register(new a.QuickInputController(Object.assign(Object.assign({},i),t)));return n.layout(e.dimension,e.offset.quickPickTop),this._register(e.onDidLayout((t=>n.layout(t,e.offset.quickPickTop)))),this._register(n.onShow((()=>{this.resetContextKeys(),this._onShow.fire()}))),this._register(n.onHide((()=>{this.resetContextKeys(),this._onHide.fire()}))),n}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new l.RawContextKey(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),null==t||t.set(!0))}resetContextKeys(){this.contexts.forEach((e=>{e.get()&&e.reset()}))}pick(e,t={},i=r.CancellationToken.None){return this.controller.pick(e,t,i)}input(e={},t=r.CancellationToken.None){return this.controller.input(e,t)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}focus(){this.controller.focus()}toggle(){this.controller.toggle()}navigate(e,t){this.controller.navigate(e,t)}accept(e){return this.controller.accept(e)}back(){return this.controller.back()}cancel(){return this.controller.cancel()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,f.computeStyles)(this.theme,{quickInputBackground:g.quickInputBackground,quickInputForeground:g.quickInputForeground,quickInputTitleBackground:g.quickInputTitleBackground,contrastBorder:g.contrastBorder,widgetShadow:g.widgetShadow})),inputBox:(0,f.computeStyles)(this.theme,{inputForeground:g.inputForeground,inputBackground:g.inputBackground,inputBorder:g.inputBorder,inputValidationInfoBackground:g.inputValidationInfoBackground,inputValidationInfoForeground:g.inputValidationInfoForeground,inputValidationInfoBorder:g.inputValidationInfoBorder,inputValidationWarningBackground:g.inputValidationWarningBackground,inputValidationWarningForeground:g.inputValidationWarningForeground,inputValidationWarningBorder:g.inputValidationWarningBorder,inputValidationErrorBackground:g.inputValidationErrorBackground,inputValidationErrorForeground:g.inputValidationErrorForeground,inputValidationErrorBorder:g.inputValidationErrorBorder}),countBadge:(0,f.computeStyles)(this.theme,{badgeBackground:g.badgeBackground,badgeForeground:g.badgeForeground,badgeBorder:g.contrastBorder}),button:(0,f.computeStyles)(this.theme,{buttonForeground:g.buttonForeground,buttonBackground:g.buttonBackground,buttonHoverBackground:g.buttonHoverBackground,buttonBorder:g.contrastBorder}),progressBar:(0,f.computeStyles)(this.theme,{progressBarBackground:g.progressBarBackground}),keybindingLabel:(0,f.computeStyles)(this.theme,{keybindingLabelBackground:g.keybindingLabelBackground,keybindingLabelForeground:g.keybindingLabelForeground,keybindingLabelBorder:g.keybindingLabelBorder,keybindingLabelBottomBorder:g.keybindingLabelBottomBorder,keybindingLabelShadow:g.widgetShadow}),list:(0,f.computeStyles)(this.theme,{listBackground:g.quickInputBackground,listInactiveFocusForeground:g.quickInputListFocusForeground,listInactiveSelectionIconForeground:g.quickInputListFocusIconForeground,listInactiveFocusBackground:g.quickInputListFocusBackground,listFocusOutline:g.activeContrastBorder,listInactiveFocusOutline:g.activeContrastBorder,pickerGroupBorder:g.pickerGroupBorder,pickerGroupForeground:g.pickerGroupForeground})}}};b=n([o(0,d.IInstantiationService),o(1,l.IContextKeyService),o(2,m.IThemeService),o(3,c.IAccessibilityService),o(4,u.ILayoutService)],b),t.QuickInputService=b},41950:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickAccessRegistry=t.Extensions=t.DefaultQuickAccessFilterValue=void 0;const n=i(37253),o=i(755),r=i(81437);var s;(s=t.DefaultQuickAccessFilterValue||(t.DefaultQuickAccessFilterValue={}))[s.PRESERVE=0]="PRESERVE",s[s.LAST=1]="LAST",t.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class a{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort(((e,t)=>t.prefix.length-e.prefix.length)),(0,o.toDisposable)((()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)}))}getQuickAccessProviders(){return(0,n.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find((t=>e.startsWith(t.prefix)))||this.defaultProvider}clear(){const e=[...this.providers],t=this.defaultProvider;return this.providers=[],this.defaultProvider=void 0,()=>{this.providers=e,this.defaultProvider=t}}}t.QuickAccessRegistry=a,r.Registry.add(t.Extensions.Quickaccess,new a)},71280:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),t.IQuickInputService=void 0;const r=i(28888);o(i(56778),t),t.IQuickInputService=(0,r.createDecorator)("quickInputService")},81437:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=void 0;const n=i(65734),o=i(49929);t.Registry=new class{constructor(){this.data=new Map}add(e,t){n.ok(o.isString(e)),n.ok(o.isObject(t)),n.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}}},86122:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAuthorityWithOptionalPort=t.parseAuthorityWithPort=t.getRemoteServerRootPath=t.getRemoteName=t.getRemoteAuthority=void 0;const n=i(61217);function o(e){const t=e.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(t)return{host:t[1],port:parseInt(t[2],10)};const i=e.match(/^(\[[0-9a-z:]+\])$/);if(i)return{host:i[1],port:void 0};const n=e.match(/(.*):(\d+)$/);return n?{host:n[1],port:parseInt(n[2],10)}:{host:e,port:void 0}}t.getRemoteAuthority=function(e){return e.scheme===n.Schemas.vscodeRemote?e.authority:void 0},t.getRemoteName=function(e){if(!e)return;const t=e.indexOf("+");return t<0?e:e.substr(0,t)},t.getRemoteServerRootPath=function(e){var t,i;return`/${null!==(t=e.quality)&&void 0!==t?t:"oss"}-${null!==(i=e.commit)&&void 0!==i?i:"dev"}`},t.parseAuthorityWithPort=function(e){const{host:t,port:i}=o(e);if(void 0===i)throw new Error("Remote authority doesn't contain a port!");return{host:t,port:i}},t.parseAuthorityWithOptionalPort=function(e,t){let{host:i,port:n}=o(e);return void 0===n&&(n=t),{host:i,port:n}}},64950:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeverityIcon=void 0;const n=i(22452),o=i(89908),r=i(78002),s=i(56090);(t.SeverityIcon||(t.SeverityIcon={})).className=function(e){switch(e){case o.default.Ignore:return"severity-ignore "+n.Codicon.info.classNames;case o.default.Info:return n.Codicon.info.classNames;case o.default.Warning:return n.Codicon.warning.classNames;case o.default.Error:return n.Codicon.error.classNames;default:return""}},(0,s.registerThemingParticipant)(((e,t)=>{const i=e.getColor(r.problemsErrorIconForeground);if(i){const e=n.Codicon.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extensions-viewlet > .extensions ${e} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`)}const o=e.getColor(r.problemsWarningIconForeground);if(o){const e=n.Codicon.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.preferences-editor ${e} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}const s=e.getColor(r.problemsInfoIconForeground);if(s){const e=n.Codicon.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${s};\n\t\t\t}\n\t\t`)}}))},56304:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.logStorage=t.InMemoryStorageService=t.isProfileUsingDefaultStorage=t.AbstractStorageService=t.loadKeyTargets=t.WillSaveStateReason=t.IStorageService=t.TARGET_KEY=t.IS_NEW_KEY=void 0;const o=i(78456),r=i(50855),s=i(755),a=i(70464),c=i(49929),l=i(35371),d=i(28888),u=i(20569);var h;function p(e){const i=e.get(t.TARGET_KEY);if(i)try{return JSON.parse(i)}catch(e){}return Object.create(null)}t.IS_NEW_KEY="__$__isNewStorageMarker",t.TARGET_KEY="__$__targetStorageMarker",t.IStorageService=(0,d.createDecorator)("storageService"),function(e){e[e.NONE=0]="NONE",e[e.SHUTDOWN=1]="SHUTDOWN"}(h=t.WillSaveStateReason||(t.WillSaveStateReason={})),t.loadKeyTargets=p;class g extends s.Disposable{constructor(e={flushInterval:g.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new r.PauseableEmitter),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new r.PauseableEmitter),this.onDidChangeTarget=this._onDidChangeTarget.event,this._onWillSaveState=this._register(new r.Emitter),this.onWillSaveState=this._onWillSaveState.event,this.flushWhenIdleScheduler=this._register(new o.RunOnceScheduler((()=>this.doFlushWhenIdle()),this.options.flushInterval)),this.runFlushWhenIdle=this._register(new s.MutableDisposable),this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}doFlushWhenIdle(){this.runFlushWhenIdle.value=(0,o.runWhenIdle)((()=>{this.shouldFlushWhenIdle()&&this.flush(),this.flushWhenIdleScheduler.schedule()}))}shouldFlushWhenIdle(){return!0}stopFlushWhenIdle(){(0,s.dispose)([this.runFlushWhenIdle,this.flushWhenIdleScheduler])}initialize(){return this.initializationPromise||(this.initializationPromise=(()=>n(this,void 0,void 0,(function*(){(0,a.mark)("code/willInitStorage");try{yield this.doInitialize()}finally{(0,a.mark)("code/didInitStorage")}this.flushWhenIdleScheduler.schedule()})))()),this.initializationPromise}emitDidChangeValue(e,i){if(i===t.TARGET_KEY){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:i,target:this.getKeyTargets(e)[i]})}emitWillSaveState(e){this._onWillSaveState.fire({reason:e})}get(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.get(e,i)}getBoolean(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getBoolean(e,i)}getNumber(e,t,i){var n;return null===(n=this.getStorage(t))||void 0===n?void 0:n.getNumber(e,i)}store(e,t,i,n){(0,c.isUndefinedOrNull)(t)?this.remove(e,i):this.withPausedEmitters((()=>{var o;this.updateKeyTarget(e,i,n),null===(o=this.getStorage(i))||void 0===o||o.set(e,t)}))}remove(e,t){this.withPausedEmitters((()=>{var i;this.updateKeyTarget(e,t,void 0),null===(i=this.getStorage(t))||void 0===i||i.delete(e)}))}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}keys(e,t){const i=[],n=this.getKeyTargets(e);for(const e of Object.keys(n))n[e]===t&&i.push(e);return i}updateKeyTarget(e,i,n){var o,r;const s=this.getKeyTargets(i);"number"==typeof n?s[e]!==n&&(s[e]=n,null===(o=this.getStorage(i))||void 0===o||o.set(t.TARGET_KEY,JSON.stringify(s))):"number"==typeof s[e]&&(delete s[e],null===(r=this.getStorage(i))||void 0===r||r.set(t.TARGET_KEY,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const t=this.getStorage(e);return t?p(t):Object.create(null)}isNew(e){return!0===this.getBoolean(t.IS_NEW_KEY,e)}flush(e=h.NONE){var t,i,r,s,a,c;return n(this,void 0,void 0,(function*(){this._onWillSaveState.fire({reason:e});const n=this.getStorage(-1),l=this.getStorage(0),d=this.getStorage(1);switch(e){case h.NONE:yield o.Promises.settled([null!==(t=null==n?void 0:n.whenFlushed())&&void 0!==t?t:Promise.resolve(),null!==(i=null==l?void 0:l.whenFlushed())&&void 0!==i?i:Promise.resolve(),null!==(r=null==d?void 0:d.whenFlushed())&&void 0!==r?r:Promise.resolve()]);break;case h.SHUTDOWN:yield o.Promises.settled([null!==(s=null==n?void 0:n.flush(0))&&void 0!==s?s:Promise.resolve(),null!==(a=null==l?void 0:l.flush(0))&&void 0!==a?a:Promise.resolve(),null!==(c=null==d?void 0:d.flush(0))&&void 0!==c?c:Promise.resolve()])}}))}log(){var e,t,i,o,r,s,a,c,l;return n(this,void 0,void 0,(function*(){return m(null!==(t=null===(e=this.getStorage(-1))||void 0===e?void 0:e.items)&&void 0!==t?t:new Map,null!==(o=null===(i=this.getStorage(0))||void 0===i?void 0:i.items)&&void 0!==o?o:new Map,null!==(s=null===(r=this.getStorage(1))||void 0===r?void 0:r.items)&&void 0!==s?s:new Map,null!==(a=this.getLogDetails(-1))&&void 0!==a?a:"",null!==(c=this.getLogDetails(0))&&void 0!==c?c:"",null!==(l=this.getLogDetails(1))&&void 0!==l?l:"")}))}switch(e,t){return n(this,void 0,void 0,(function*(){return this.emitWillSaveState(h.NONE),(0,u.isUserDataProfile)(e)?this.switchToProfile(e,t):this.switchToWorkspace(e,t)}))}canSwitchProfile(e,t){return!(e.id===t.id||f(t)&&f(e))}switchData(e,t,i,n){this.withPausedEmitters((()=>{if(n)for(const[i,n]of e)t.set(i,n);else{const n=new Set;for(const[o,r]of e)n.add(o),t.get(o)!==r&&this.emitDidChangeValue(i,o);for(const[e]of t.items)n.has(e)||this.emitDidChangeValue(i,e)}}))}}function f(e){var t;return e.isDefault||!!(null===(t=e.useDefaultFlags)||void 0===t?void 0:t.uiState)}function m(e,t,i,o,r,s){return n(this,void 0,void 0,(function*(){const n=e=>{try{return JSON.parse(e)}catch(t){return e}},a=new Map,c=new Map;e.forEach(((e,t)=>{a.set(t,e),c.set(t,n(e))}));const l=new Map,d=new Map;t.forEach(((e,t)=>{l.set(t,e),d.set(t,n(e))}));const u=new Map,h=new Map;i.forEach(((e,t)=>{u.set(t,e),h.set(t,n(e))})),o!==r?console.group(`Storage: Application (path: ${o})`):console.group(`Storage: Application & Profile (path: ${o}, default profile)`);const p=[];if(a.forEach(((e,t)=>{p.push({key:t,value:e})})),console.table(p),console.groupEnd(),console.log(c),o!==r){console.group(`Storage: Profile (path: ${r}, profile specific)`);const e=[];l.forEach(((t,i)=>{e.push({key:i,value:t})})),console.table(e),console.groupEnd(),console.log(d)}console.group(`Storage: Workspace (path: ${s})`);const g=[];u.forEach(((e,t)=>{g.push({key:t,value:e})})),console.table(g),console.groupEnd(),console.log(h)}))}t.AbstractStorageService=g,g.DEFAULT_FLUSH_INTERVAL=6e4,t.isProfileUsingDefaultStorage=f,t.InMemoryStorageService=class extends g{constructor(){super(),this.applicationStorage=this._register(new l.Storage(new l.InMemoryStorageDatabase)),this.profileStorage=this._register(new l.Storage(new l.InMemoryStorageDatabase)),this.workspaceStorage=this._register(new l.Storage(new l.InMemoryStorageDatabase)),this._register(this.workspaceStorage.onDidChangeStorage((e=>this.emitDidChangeValue(1,e)))),this._register(this.profileStorage.onDidChangeStorage((e=>this.emitDidChangeValue(0,e)))),this._register(this.applicationStorage.onDidChangeStorage((e=>this.emitDidChangeValue(-1,e))))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}getLogDetails(e){switch(e){case-1:return"inMemory (application)";case 0:return"inMemory (profile)";default:return"inMemory (workspace)"}}doInitialize(){return n(this,void 0,void 0,(function*(){}))}switchToProfile(){return n(this,void 0,void 0,(function*(){}))}switchToWorkspace(){return n(this,void 0,void 0,(function*(){}))}hasScope(e){return!1}},t.logStorage=m},51304:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TELEMETRY_OLD_SETTING_ID=t.TELEMETRY_SETTING_ID=t.TELEMETRY_SECTION_ID=t.machineIdKey=t.lastSessionDateStorageKey=t.firstSessionDateStorageKey=t.currentSessionDateStorageKey=t.ICustomEndpointTelemetryService=t.ITelemetryService=void 0;const n=i(28888);t.ITelemetryService=(0,n.createDecorator)("telemetryService"),t.ICustomEndpointTelemetryService=(0,n.createDecorator)("customEndpointTelemetryService"),t.currentSessionDateStorageKey="telemetry.currentSessionDate",t.firstSessionDateStorageKey="telemetry.firstSessionDate",t.lastSessionDateStorageKey="telemetry.lastSessionDate",t.machineIdKey="telemetry.machineId",t.TELEMETRY_SECTION_ID="telemetry",t.TELEMETRY_SETTING_ID="telemetry.telemetryLevel",t.TELEMETRY_OLD_SETTING_ID="telemetry.enableTelemetry"},84022:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnthemedProductIconTheme=t.getIconsStyleSheet=void 0;const n=i(42535),o=i(50855),r=i(9146),s=i(56090);t.getIconsStyleSheet=function(e){const t=new o.Emitter,i=(0,r.getIconRegistry)();return i.onDidChange((()=>t.fire())),null==e||e.onDidProductIconThemeChange((()=>t.fire())),{onDidChange:t.event,getCSS(){const t=e?e.getProductIconTheme():new a,o={},r=e=>{const i=t.getIcon(e);if(!i)return;const r=i.font;return r?(o[r.id]=r.definition,`.codicon-${e.id}:before { content: '${i.fontCharacter}'; font-family: ${(0,n.asCSSPropertyValue)(r.id)}; }`):`.codicon-${e.id}:before { content: '${i.fontCharacter}'; }`},s=[];for(const e of i.getIcons()){const t=r(e);t&&s.push(t)}for(const e in o){const t=o[e],i=t.weight?`font-weight: ${t.weight};`:"",r=t.style?`font-style: ${t.style};`:"",a=t.src.map((e=>`${(0,n.asCSSUrl)(e.location)} format('${e.format}')`)).join(", ");s.push(`@font-face { src: ${a}; font-family: ${(0,n.asCSSPropertyValue)(e)};${i}${r} font-display: block; }`)}return s.join("\n")}}};class a{getIcon(e){const t=(0,r.getIconRegistry)();let i=e.defaults;for(;s.ThemeIcon.isThemeIcon(i);){const e=t.getIcon(i.id);if(!e)return;i=e.defaults}return i}}t.UnthemedProductIconTheme=a},78002:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonBorder=t.buttonHoverBackground=t.buttonBackground=t.buttonSeparator=t.buttonForeground=t.checkboxBorder=t.checkboxForeground=t.checkboxBackground=t.selectBorder=t.selectForeground=t.selectListBackground=t.selectBackground=t.inputValidationErrorBorder=t.inputValidationErrorForeground=t.inputValidationErrorBackground=t.inputValidationWarningBorder=t.inputValidationWarningForeground=t.inputValidationWarningBackground=t.inputValidationInfoBorder=t.inputValidationInfoForeground=t.inputValidationInfoBackground=t.inputPlaceholderForeground=t.inputActiveOptionForeground=t.inputActiveOptionBackground=t.inputActiveOptionHoverBackground=t.inputActiveOptionBorder=t.inputBorder=t.inputForeground=t.inputBackground=t.widgetShadow=t.textCodeBlockBackground=t.textBlockQuoteBorder=t.textBlockQuoteBackground=t.textPreformatForeground=t.textLinkActiveForeground=t.textLinkForeground=t.textSeparatorForeground=t.selectionBackground=t.activeContrastBorder=t.contrastBorder=t.focusBorder=t.iconForeground=t.descriptionForeground=t.errorForeground=t.disabledForeground=t.foreground=t.getColorRegistry=t.registerColor=t.Extensions=t.asCssVariableName=void 0,t.editorFindRangeHighlightBorder=t.editorFindMatchHighlightBorder=t.editorFindMatchBorder=t.editorFindRangeHighlight=t.editorFindMatchHighlight=t.editorFindMatch=t.editorSelectionHighlightBorder=t.editorSelectionHighlight=t.editorInactiveSelection=t.editorSelectionForeground=t.editorSelectionBackground=t.keybindingLabelBottomBorder=t.keybindingLabelBorder=t.keybindingLabelForeground=t.keybindingLabelBackground=t.pickerGroupBorder=t.pickerGroupForeground=t.quickInputTitleBackground=t.quickInputForeground=t.quickInputBackground=t.editorWidgetResizeBorder=t.editorWidgetBorder=t.editorWidgetForeground=t.editorWidgetBackground=t.editorStickyScrollHoverBackground=t.editorStickyScrollBackground=t.editorForeground=t.editorBackground=t.sashHoverBorder=t.editorHintBorder=t.editorHintForeground=t.editorInfoBorder=t.editorInfoForeground=t.editorInfoBackground=t.editorWarningBorder=t.editorWarningForeground=t.editorWarningBackground=t.editorErrorBorder=t.editorErrorForeground=t.editorErrorBackground=t.progressBarBackground=t.scrollbarSliderActiveBackground=t.scrollbarSliderHoverBackground=t.scrollbarSliderBackground=t.scrollbarShadow=t.badgeForeground=t.badgeBackground=t.buttonSecondaryHoverBackground=t.buttonSecondaryBackground=t.buttonSecondaryForeground=void 0,t.listWarningForeground=t.listErrorForeground=t.listInvalidItemForeground=t.listFocusHighlightForeground=t.listHighlightForeground=t.listDropBackground=t.listHoverForeground=t.listHoverBackground=t.listInactiveFocusOutline=t.listInactiveFocusBackground=t.listInactiveSelectionIconForeground=t.listInactiveSelectionForeground=t.listInactiveSelectionBackground=t.listActiveSelectionIconForeground=t.listActiveSelectionForeground=t.listActiveSelectionBackground=t.listFocusAndSelectionOutline=t.listFocusOutline=t.listFocusForeground=t.listFocusBackground=t.diffDiagonalFill=t.diffBorder=t.diffRemovedOutline=t.diffInsertedOutline=t.diffOverviewRulerRemoved=t.diffOverviewRulerInserted=t.diffRemovedLineGutter=t.diffInsertedLineGutter=t.diffRemovedLine=t.diffInsertedLine=t.diffRemoved=t.diffInserted=t.defaultRemoveColor=t.defaultInsertColor=t.editorLightBulbAutoFixForeground=t.editorLightBulbForeground=t.editorInlayHintParameterBackground=t.editorInlayHintParameterForeground=t.editorInlayHintTypeBackground=t.editorInlayHintTypeForeground=t.editorInlayHintBackground=t.editorInlayHintForeground=t.editorActiveLinkForeground=t.editorHoverStatusBarBackground=t.editorHoverBorder=t.editorHoverForeground=t.editorHoverBackground=t.editorHoverHighlight=t.searchEditorFindMatchBorder=t.searchEditorFindMatch=void 0,t.minimapWarning=t.minimapError=t.minimapSelection=t.minimapSelectionOccurrenceHighlight=t.minimapFindMatch=t.overviewRulerSelectionHighlightForeground=t.overviewRulerFindMatchForeground=t.overviewRulerCommonContentForeground=t.overviewRulerIncomingContentForeground=t.overviewRulerCurrentContentForeground=t.mergeBorder=t.mergeCommonContentBackground=t.mergeCommonHeaderBackground=t.mergeIncomingContentBackground=t.mergeIncomingHeaderBackground=t.mergeCurrentContentBackground=t.mergeCurrentHeaderBackground=t.breadcrumbsPickerBackground=t.breadcrumbsActiveSelectionForeground=t.breadcrumbsFocusForeground=t.breadcrumbsBackground=t.breadcrumbsForeground=t.snippetFinalTabstopHighlightBorder=t.snippetFinalTabstopHighlightBackground=t.snippetTabstopHighlightBorder=t.snippetTabstopHighlightBackground=t.toolbarActiveBackground=t.toolbarHoverOutline=t.toolbarHoverBackground=t.menuSeparatorBackground=t.menuSelectionBorder=t.menuSelectionBackground=t.menuSelectionForeground=t.menuBackground=t.menuForeground=t.menuBorder=t.quickInputListFocusBackground=t.quickInputListFocusIconForeground=t.quickInputListFocusForeground=t._deprecatedQuickInputListFocusBackground=t.listDeemphasizedForeground=t.tableOddRowsBackgroundColor=t.tableColumnsBorder=t.treeIndentGuidesStroke=t.listFilterMatchHighlightBorder=t.listFilterMatchHighlight=t.listFilterWidgetShadow=t.listFilterWidgetNoMatchesOutline=t.listFilterWidgetOutline=t.listFilterWidgetBackground=void 0,t.workbenchColorsSchemaId=t.resolveColorValue=t.ifDefinedThenElse=t.oneOf=t.transparent=t.lighten=t.darken=t.executeTransform=t.chartsPurple=t.chartsGreen=t.chartsOrange=t.chartsYellow=t.chartsBlue=t.chartsRed=t.chartsLines=t.chartsForeground=t.problemsInfoIconForeground=t.problemsWarningIconForeground=t.problemsErrorIconForeground=t.minimapSliderActiveBackground=t.minimapSliderHoverBackground=t.minimapSliderBackground=t.minimapForegroundOpacity=t.minimapBackground=void 0;const n=i(78456),o=i(50447),r=i(50855),s=i(65734),a=i(9147),c=i(81749),l=i(81437);t.asCssVariableName=function(e){return`--vscode-${e.replace(/\./g,"-")}`},t.Extensions={ColorContribution:"base.contributions.colors"};const d=new class{constructor(){this._onDidChangeSchema=new r.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,o){const r={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=r;const s={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(s.deprecationMessage=o),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];const t=this.colorReferenceSchema.enum.indexOf(e);-1!==t&&(this.colorReferenceSchema.enum.splice(t,1),this.colorReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map((e=>this.colorsById[e]))}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults)return _(i.defaults[t.type],t)}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){return Object.keys(this.colorsById).sort(((e,t)=>{const i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)})).map((e=>`- \`${e}\`: ${this.colorsById[e].description}`)).join("\n")}};function u(e,t,i,n,o){return d.registerColor(e,(null===(r=t)||void 0===r.hcLight&&(null===r.hcDark||"string"==typeof r.hcDark?r.hcLight=r.hcDark:r.hcLight=r.light),r),i,n,o);var r}l.Registry.add(t.Extensions.ColorContribution,d),t.registerColor=u,t.getColorRegistry=function(){return d},t.foreground=u("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},a.localize("foreground","Overall foreground color. This color is only used if not overridden by a component.")),t.disabledForeground=u("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},a.localize("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),t.errorForeground=u("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},a.localize("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),t.descriptionForeground=u("descriptionForeground",{light:"#717171",dark:A(t.foreground,.7),hcDark:A(t.foreground,.7),hcLight:A(t.foreground,.7)},a.localize("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),t.iconForeground=u("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},a.localize("iconForeground","The default color for icons in the workbench.")),t.focusBorder=u("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},a.localize("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),t.contrastBorder=u("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},a.localize("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),t.activeContrastBorder=u("contrastActiveBorder",{light:null,dark:null,hcDark:t.focusBorder,hcLight:t.focusBorder},a.localize("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),t.selectionBackground=u("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},a.localize("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),t.textSeparatorForeground=u("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:o.Color.black,hcLight:"#292929"},a.localize("textSeparatorForeground","Color for text separators.")),t.textLinkForeground=u("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},a.localize("textLinkForeground","Foreground color for links in text.")),t.textLinkActiveForeground=u("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},a.localize("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),t.textPreformatForeground=u("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},a.localize("textPreformatForeground","Foreground color for preformatted text segments.")),t.textBlockQuoteBackground=u("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},a.localize("textBlockQuoteBackground","Background color for block quotes in text.")),t.textBlockQuoteBorder=u("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:o.Color.white,hcLight:"#292929"},a.localize("textBlockQuoteBorder","Border color for block quotes in text.")),t.textCodeBlockBackground=u("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:o.Color.black,hcLight:"#F2F2F2"},a.localize("textCodeBlockBackground","Background color for code blocks in text.")),t.widgetShadow=u("widget.shadow",{dark:A(o.Color.black,.36),light:A(o.Color.black,.16),hcDark:null,hcLight:null},a.localize("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),t.inputBackground=u("input.background",{dark:"#3C3C3C",light:o.Color.white,hcDark:o.Color.black,hcLight:o.Color.white},a.localize("inputBoxBackground","Input box background.")),t.inputForeground=u("input.foreground",{dark:t.foreground,light:t.foreground,hcDark:t.foreground,hcLight:t.foreground},a.localize("inputBoxForeground","Input box foreground.")),t.inputBorder=u("input.border",{dark:null,light:null,hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("inputBoxBorder","Input box border.")),t.inputActiveOptionBorder=u("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),t.inputActiveOptionHoverBackground=u("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},a.localize("inputOption.hoverBackground","Background color of activated options in input fields.")),t.inputActiveOptionBackground=u("inputOption.activeBackground",{dark:A(t.focusBorder,.4),light:A(t.focusBorder,.2),hcDark:o.Color.transparent,hcLight:o.Color.transparent},a.localize("inputOption.activeBackground","Background hover color of options in input fields.")),t.inputActiveOptionForeground=u("inputOption.activeForeground",{dark:o.Color.white,light:o.Color.black,hcDark:null,hcLight:t.foreground},a.localize("inputOption.activeForeground","Foreground color of activated options in input fields.")),t.inputPlaceholderForeground=u("input.placeholderForeground",{light:A(t.foreground,.5),dark:A(t.foreground,.5),hcDark:A(t.foreground,.7),hcLight:A(t.foreground,.7)},a.localize("inputPlaceholderForeground","Input box foreground color for placeholder text.")),t.inputValidationInfoBackground=u("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:o.Color.black,hcLight:o.Color.white},a.localize("inputValidationInfoBackground","Input validation background color for information severity.")),t.inputValidationInfoForeground=u("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:t.foreground},a.localize("inputValidationInfoForeground","Input validation foreground color for information severity.")),t.inputValidationInfoBorder=u("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("inputValidationInfoBorder","Input validation border color for information severity.")),t.inputValidationWarningBackground=u("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:o.Color.black,hcLight:o.Color.white},a.localize("inputValidationWarningBackground","Input validation background color for warning severity.")),t.inputValidationWarningForeground=u("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:t.foreground},a.localize("inputValidationWarningForeground","Input validation foreground color for warning severity.")),t.inputValidationWarningBorder=u("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("inputValidationWarningBorder","Input validation border color for warning severity.")),t.inputValidationErrorBackground=u("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:o.Color.black,hcLight:o.Color.white},a.localize("inputValidationErrorBackground","Input validation background color for error severity.")),t.inputValidationErrorForeground=u("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:t.foreground},a.localize("inputValidationErrorForeground","Input validation foreground color for error severity.")),t.inputValidationErrorBorder=u("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("inputValidationErrorBorder","Input validation border color for error severity.")),t.selectBackground=u("dropdown.background",{dark:"#3C3C3C",light:o.Color.white,hcDark:o.Color.black,hcLight:o.Color.white},a.localize("dropdownBackground","Dropdown background.")),t.selectListBackground=u("dropdown.listBackground",{dark:null,light:null,hcDark:o.Color.black,hcLight:o.Color.white},a.localize("dropdownListBackground","Dropdown list background.")),t.selectForeground=u("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:o.Color.white,hcLight:t.foreground},a.localize("dropdownForeground","Dropdown foreground.")),t.selectBorder=u("dropdown.border",{dark:t.selectBackground,light:"#CECECE",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("dropdownBorder","Dropdown border.")),t.checkboxBackground=u("checkbox.background",{dark:t.selectBackground,light:t.selectBackground,hcDark:t.selectBackground,hcLight:t.selectBackground},a.localize("checkbox.background","Background color of checkbox widget.")),t.checkboxForeground=u("checkbox.foreground",{dark:t.selectForeground,light:t.selectForeground,hcDark:t.selectForeground,hcLight:t.selectForeground},a.localize("checkbox.foreground","Foreground color of checkbox widget.")),t.checkboxBorder=u("checkbox.border",{dark:t.selectBorder,light:t.selectBorder,hcDark:t.selectBorder,hcLight:t.selectBorder},a.localize("checkbox.border","Border color of checkbox widget.")),t.buttonForeground=u("button.foreground",{dark:o.Color.white,light:o.Color.white,hcDark:o.Color.white,hcLight:o.Color.white},a.localize("buttonForeground","Button foreground color.")),t.buttonSeparator=u("button.separator",{dark:A(t.buttonForeground,.4),light:A(t.buttonForeground,.4),hcDark:A(t.buttonForeground,.4),hcLight:A(t.buttonForeground,.4)},a.localize("buttonSeparator","Button separator color.")),t.buttonBackground=u("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},a.localize("buttonBackground","Button background color.")),t.buttonHoverBackground=u("button.hoverBackground",{dark:v(t.buttonBackground,.2),light:b(t.buttonBackground,.2),hcDark:null,hcLight:null},a.localize("buttonHoverBackground","Button background color when hovering.")),t.buttonBorder=u("button.border",{dark:t.contrastBorder,light:t.contrastBorder,hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("buttonBorder","Button border color.")),t.buttonSecondaryForeground=u("button.secondaryForeground",{dark:o.Color.white,light:o.Color.white,hcDark:o.Color.white,hcLight:t.foreground},a.localize("buttonSecondaryForeground","Secondary button foreground color.")),t.buttonSecondaryBackground=u("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:o.Color.white},a.localize("buttonSecondaryBackground","Secondary button background color.")),t.buttonSecondaryHoverBackground=u("button.secondaryHoverBackground",{dark:v(t.buttonSecondaryBackground,.2),light:b(t.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},a.localize("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),t.badgeBackground=u("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:o.Color.black,hcLight:"#0F4A85"},a.localize("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),t.badgeForeground=u("badge.foreground",{dark:o.Color.white,light:"#333",hcDark:o.Color.white,hcLight:o.Color.white},a.localize("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),t.scrollbarShadow=u("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},a.localize("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),t.scrollbarSliderBackground=u("scrollbarSlider.background",{dark:o.Color.fromHex("#797979").transparent(.4),light:o.Color.fromHex("#646464").transparent(.4),hcDark:A(t.contrastBorder,.6),hcLight:A(t.contrastBorder,.4)},a.localize("scrollbarSliderBackground","Scrollbar slider background color.")),t.scrollbarSliderHoverBackground=u("scrollbarSlider.hoverBackground",{dark:o.Color.fromHex("#646464").transparent(.7),light:o.Color.fromHex("#646464").transparent(.7),hcDark:A(t.contrastBorder,.8),hcLight:A(t.contrastBorder,.8)},a.localize("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),t.scrollbarSliderActiveBackground=u("scrollbarSlider.activeBackground",{dark:o.Color.fromHex("#BFBFBF").transparent(.4),light:o.Color.fromHex("#000000").transparent(.6),hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),t.progressBarBackground=u("progressBar.background",{dark:o.Color.fromHex("#0E70C0"),light:o.Color.fromHex("#0E70C0"),hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("progressBarBackground","Background color of the progress bar that can show for long running operations.")),t.editorErrorBackground=u("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorErrorForeground=u("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},a.localize("editorError.foreground","Foreground color of error squigglies in the editor.")),t.editorErrorBorder=u("editorError.border",{dark:null,light:null,hcDark:o.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},a.localize("errorBorder","Border color of error boxes in the editor.")),t.editorWarningBackground=u("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorWarningForeground=u("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},a.localize("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),t.editorWarningBorder=u("editorWarning.border",{dark:null,light:null,hcDark:o.Color.fromHex("#FFCC00").transparent(.8),hcLight:"#"},a.localize("warningBorder","Border color of warning boxes in the editor.")),t.editorInfoBackground=u("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorInfoForeground=u("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},a.localize("editorInfo.foreground","Foreground color of info squigglies in the editor.")),t.editorInfoBorder=u("editorInfo.border",{dark:null,light:null,hcDark:o.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},a.localize("infoBorder","Border color of info boxes in the editor.")),t.editorHintForeground=u("editorHint.foreground",{dark:o.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},a.localize("editorHint.foreground","Foreground color of hint squigglies in the editor.")),t.editorHintBorder=u("editorHint.border",{dark:null,light:null,hcDark:o.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},a.localize("hintBorder","Border color of hint boxes in the editor.")),t.sashHoverBorder=u("sash.hoverBorder",{dark:t.focusBorder,light:t.focusBorder,hcDark:t.focusBorder,hcLight:t.focusBorder},a.localize("sashActiveBorder","Border color of active sashes.")),t.editorBackground=u("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:o.Color.black,hcLight:o.Color.white},a.localize("editorBackground","Editor background color.")),t.editorForeground=u("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:o.Color.white,hcLight:t.foreground},a.localize("editorForeground","Editor default foreground color.")),t.editorStickyScrollBackground=u("editorStickyScroll.background",{light:t.editorBackground,dark:t.editorBackground,hcDark:t.editorBackground,hcLight:t.editorBackground},a.localize("editorStickyScrollBackground","Sticky scroll background color for the editor")),t.editorStickyScrollHoverBackground=u("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Color.fromHex("#0F4A85").transparent(.1)},a.localize("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),t.editorWidgetBackground=u("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:o.Color.white},a.localize("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),t.editorWidgetForeground=u("editorWidget.foreground",{dark:t.foreground,light:t.foreground,hcDark:t.foreground,hcLight:t.foreground},a.localize("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),t.editorWidgetBorder=u("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),t.editorWidgetResizeBorder=u("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},a.localize("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),t.quickInputBackground=u("quickInput.background",{dark:t.editorWidgetBackground,light:t.editorWidgetBackground,hcDark:t.editorWidgetBackground,hcLight:t.editorWidgetBackground},a.localize("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),t.quickInputForeground=u("quickInput.foreground",{dark:t.editorWidgetForeground,light:t.editorWidgetForeground,hcDark:t.editorWidgetForeground,hcLight:t.editorWidgetForeground},a.localize("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),t.quickInputTitleBackground=u("quickInputTitle.background",{dark:new o.Color(new o.RGBA(255,255,255,.105)),light:new o.Color(new o.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:o.Color.white},a.localize("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),t.pickerGroupForeground=u("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:o.Color.white,hcLight:"#0F4A85"},a.localize("pickerGroupForeground","Quick picker color for grouping labels.")),t.pickerGroupBorder=u("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:o.Color.white,hcLight:"#0F4A85"},a.localize("pickerGroupBorder","Quick picker color for grouping borders.")),t.keybindingLabelBackground=u("keybindingLabel.background",{dark:new o.Color(new o.RGBA(128,128,128,.17)),light:new o.Color(new o.RGBA(221,221,221,.4)),hcDark:o.Color.transparent,hcLight:o.Color.transparent},a.localize("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),t.keybindingLabelForeground=u("keybindingLabel.foreground",{dark:o.Color.fromHex("#CCCCCC"),light:o.Color.fromHex("#555555"),hcDark:o.Color.white,hcLight:t.foreground},a.localize("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),t.keybindingLabelBorder=u("keybindingLabel.border",{dark:new o.Color(new o.RGBA(51,51,51,.6)),light:new o.Color(new o.RGBA(204,204,204,.4)),hcDark:new o.Color(new o.RGBA(111,195,223)),hcLight:t.contrastBorder},a.localize("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),t.keybindingLabelBottomBorder=u("keybindingLabel.bottomBorder",{dark:new o.Color(new o.RGBA(68,68,68,.6)),light:new o.Color(new o.RGBA(187,187,187,.4)),hcDark:new o.Color(new o.RGBA(111,195,223)),hcLight:t.foreground},a.localize("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),t.editorSelectionBackground=u("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},a.localize("editorSelectionBackground","Color of the editor selection.")),t.editorSelectionForeground=u("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:o.Color.white},a.localize("editorSelectionForeground","Color of the selected text for high contrast.")),t.editorInactiveSelection=u("editor.inactiveSelectionBackground",{light:A(t.editorSelectionBackground,.5),dark:A(t.editorSelectionBackground,.5),hcDark:A(t.editorSelectionBackground,.7),hcLight:A(t.editorSelectionBackground,.5)},a.localize("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorSelectionHighlight=u("editor.selectionHighlightBackground",{light:w(t.editorSelectionBackground,t.editorBackground,.3,.6),dark:w(t.editorSelectionBackground,t.editorBackground,.3,.6),hcDark:null,hcLight:null},a.localize("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorSelectionHighlightBorder=u("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:t.activeContrastBorder,hcLight:t.activeContrastBorder},a.localize("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),t.editorFindMatch=u("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},a.localize("editorFindMatch","Color of the current search match.")),t.editorFindMatchHighlight=u("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},a.localize("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorFindRangeHighlight=u("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},a.localize("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorFindMatchBorder=u("editor.findMatchBorder",{light:null,dark:null,hcDark:t.activeContrastBorder,hcLight:t.activeContrastBorder},a.localize("editorFindMatchBorder","Border color of the current search match.")),t.editorFindMatchHighlightBorder=u("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:t.activeContrastBorder,hcLight:t.activeContrastBorder},a.localize("findMatchHighlightBorder","Border color of the other search matches.")),t.editorFindRangeHighlightBorder=u("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:A(t.activeContrastBorder,.4),hcLight:A(t.activeContrastBorder,.4)},a.localize("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),t.searchEditorFindMatch=u("searchEditor.findMatchBackground",{light:A(t.editorFindMatchHighlight,.66),dark:A(t.editorFindMatchHighlight,.66),hcDark:t.editorFindMatchHighlight,hcLight:t.editorFindMatchHighlight},a.localize("searchEditor.queryMatch","Color of the Search Editor query matches.")),t.searchEditorFindMatchBorder=u("searchEditor.findMatchBorder",{light:A(t.editorFindMatchHighlightBorder,.66),dark:A(t.editorFindMatchHighlightBorder,.66),hcDark:t.editorFindMatchHighlightBorder,hcLight:t.editorFindMatchHighlightBorder},a.localize("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),t.editorHoverHighlight=u("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},a.localize("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),t.editorHoverBackground=u("editorHoverWidget.background",{light:t.editorWidgetBackground,dark:t.editorWidgetBackground,hcDark:t.editorWidgetBackground,hcLight:t.editorWidgetBackground},a.localize("hoverBackground","Background color of the editor hover.")),t.editorHoverForeground=u("editorHoverWidget.foreground",{light:t.editorWidgetForeground,dark:t.editorWidgetForeground,hcDark:t.editorWidgetForeground,hcLight:t.editorWidgetForeground},a.localize("hoverForeground","Foreground color of the editor hover.")),t.editorHoverBorder=u("editorHoverWidget.border",{light:t.editorWidgetBorder,dark:t.editorWidgetBorder,hcDark:t.editorWidgetBorder,hcLight:t.editorWidgetBorder},a.localize("hoverBorder","Border color of the editor hover.")),t.editorHoverStatusBarBackground=u("editorHoverWidget.statusBarBackground",{dark:v(t.editorHoverBackground,.2),light:b(t.editorHoverBackground,.05),hcDark:t.editorWidgetBackground,hcLight:t.editorWidgetBackground},a.localize("statusBarBackground","Background color of the editor hover status bar.")),t.editorActiveLinkForeground=u("editorLink.activeForeground",{dark:"#4E94CE",light:o.Color.blue,hcDark:o.Color.cyan,hcLight:"#292929"},a.localize("activeLinkForeground","Color of active links.")),t.editorInlayHintForeground=u("editorInlayHint.foreground",{dark:t.badgeForeground,light:t.badgeForeground,hcDark:o.Color.black,hcLight:t.badgeForeground},a.localize("editorInlayHintForeground","Foreground color of inline hints")),t.editorInlayHintBackground=u("editorInlayHint.background",{dark:A(t.badgeBackground,.8),light:A(t.badgeBackground,.6),hcDark:"#f38518",hcLight:t.badgeBackground},a.localize("editorInlayHintBackground","Background color of inline hints")),t.editorInlayHintTypeForeground=u("editorInlayHint.typeForeground",{dark:t.editorInlayHintForeground,light:t.editorInlayHintForeground,hcDark:t.editorInlayHintForeground,hcLight:t.editorInlayHintForeground},a.localize("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),t.editorInlayHintTypeBackground=u("editorInlayHint.typeBackground",{dark:t.editorInlayHintBackground,light:t.editorInlayHintBackground,hcDark:t.editorInlayHintBackground,hcLight:t.editorInlayHintBackground},a.localize("editorInlayHintBackgroundTypes","Background color of inline hints for types")),t.editorInlayHintParameterForeground=u("editorInlayHint.parameterForeground",{dark:t.editorInlayHintForeground,light:t.editorInlayHintForeground,hcDark:t.editorInlayHintForeground,hcLight:t.editorInlayHintForeground},a.localize("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),t.editorInlayHintParameterBackground=u("editorInlayHint.parameterBackground",{dark:t.editorInlayHintBackground,light:t.editorInlayHintBackground,hcDark:t.editorInlayHintBackground,hcLight:t.editorInlayHintBackground},a.localize("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),t.editorLightBulbForeground=u("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},a.localize("editorLightBulbForeground","The color used for the lightbulb actions icon.")),t.editorLightBulbAutoFixForeground=u("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},a.localize("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),t.defaultInsertColor=new o.Color(new o.RGBA(155,185,85,.2)),t.defaultRemoveColor=new o.Color(new o.RGBA(255,0,0,.2)),t.diffInserted=u("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},a.localize("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),t.diffRemoved=u("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},a.localize("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),t.diffInsertedLine=u("diffEditor.insertedLineBackground",{dark:t.defaultInsertColor,light:t.defaultInsertColor,hcDark:null,hcLight:null},a.localize("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),t.diffRemovedLine=u("diffEditor.removedLineBackground",{dark:t.defaultRemoveColor,light:t.defaultRemoveColor,hcDark:null,hcLight:null},a.localize("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),t.diffInsertedLineGutter=u("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),t.diffRemovedLineGutter=u("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),t.diffOverviewRulerInserted=u("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),t.diffOverviewRulerRemoved=u("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),t.diffInsertedOutline=u("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},a.localize("diffEditorInsertedOutline","Outline color for the text that got inserted.")),t.diffRemovedOutline=u("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},a.localize("diffEditorRemovedOutline","Outline color for text that got removed.")),t.diffBorder=u("diffEditor.border",{dark:null,light:null,hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("diffEditorBorder","Border color between the two text editors.")),t.diffDiagonalFill=u("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},a.localize("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),t.listFocusBackground=u("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),t.listFocusForeground=u("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),t.listFocusOutline=u("list.focusOutline",{dark:t.focusBorder,light:t.focusBorder,hcDark:t.activeContrastBorder,hcLight:t.activeContrastBorder},a.localize("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),t.listFocusAndSelectionOutline=u("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),t.listActiveSelectionBackground=u("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:o.Color.fromHex("#0F4A85").transparent(.1)},a.localize("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),t.listActiveSelectionForeground=u("list.activeSelectionForeground",{dark:o.Color.white,light:o.Color.white,hcDark:null,hcLight:null},a.localize("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),t.listActiveSelectionIconForeground=u("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),t.listInactiveSelectionBackground=u("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:o.Color.fromHex("#0F4A85").transparent(.1)},a.localize("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),t.listInactiveSelectionForeground=u("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),t.listInactiveSelectionIconForeground=u("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),t.listInactiveFocusBackground=u("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),t.listInactiveFocusOutline=u("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),t.listHoverBackground=u("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Color.fromHex("#0F4A85").transparent(.1)},a.localize("listHoverBackground","List/Tree background when hovering over items using the mouse.")),t.listHoverForeground=u("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),t.listDropBackground=u("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},a.localize("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),t.listHighlightForeground=u("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:t.focusBorder,hcLight:t.focusBorder},a.localize("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),t.listFocusHighlightForeground=u("list.focusHighlightForeground",{dark:t.listHighlightForeground,light:C(t.listActiveSelectionBackground,t.listHighlightForeground,"#BBE7FF"),hcDark:t.listHighlightForeground,hcLight:t.listHighlightForeground},a.localize("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),t.listInvalidItemForeground=u("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},a.localize("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),t.listErrorForeground=u("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},a.localize("listErrorForeground","Foreground color of list items containing errors.")),t.listWarningForeground=u("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},a.localize("listWarningForeground","Foreground color of list items containing warnings.")),t.listFilterWidgetBackground=u("listFilterWidget.background",{light:b(t.editorWidgetBackground,0),dark:v(t.editorWidgetBackground,0),hcDark:t.editorWidgetBackground,hcLight:t.editorWidgetBackground},a.localize("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),t.listFilterWidgetOutline=u("listFilterWidget.outline",{dark:o.Color.transparent,light:o.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},a.localize("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),t.listFilterWidgetNoMatchesOutline=u("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),t.listFilterWidgetShadow=u("listFilterWidget.shadow",{dark:t.widgetShadow,light:t.widgetShadow,hcDark:t.widgetShadow,hcLight:t.widgetShadow},a.localize("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),t.listFilterMatchHighlight=u("list.filterMatchBackground",{dark:t.editorFindMatchHighlight,light:t.editorFindMatchHighlight,hcDark:null,hcLight:null},a.localize("listFilterMatchHighlight","Background color of the filtered match.")),t.listFilterMatchHighlightBorder=u("list.filterMatchBorder",{dark:t.editorFindMatchHighlightBorder,light:t.editorFindMatchHighlightBorder,hcDark:t.contrastBorder,hcLight:t.activeContrastBorder},a.localize("listFilterMatchHighlightBorder","Border color of the filtered match.")),t.treeIndentGuidesStroke=u("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},a.localize("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),t.tableColumnsBorder=u("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},a.localize("tableColumnsBorder","Table border color between columns.")),t.tableOddRowsBackgroundColor=u("tree.tableOddRowsBackground",{dark:A(t.foreground,.04),light:A(t.foreground,.04),hcDark:null,hcLight:null},a.localize("tableOddRowsBackgroundColor","Background color for odd table rows.")),t.listDeemphasizedForeground=u("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},a.localize("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),t._deprecatedQuickInputListFocusBackground=u("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,a.localize("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),t.quickInputListFocusForeground=u("quickInputList.focusForeground",{dark:t.listActiveSelectionForeground,light:t.listActiveSelectionForeground,hcDark:t.listActiveSelectionForeground,hcLight:t.listActiveSelectionForeground},a.localize("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),t.quickInputListFocusIconForeground=u("quickInputList.focusIconForeground",{dark:t.listActiveSelectionIconForeground,light:t.listActiveSelectionIconForeground,hcDark:t.listActiveSelectionIconForeground,hcLight:t.listActiveSelectionIconForeground},a.localize("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),t.quickInputListFocusBackground=u("quickInputList.focusBackground",{dark:y(t._deprecatedQuickInputListFocusBackground,t.listActiveSelectionBackground),light:y(t._deprecatedQuickInputListFocusBackground,t.listActiveSelectionBackground),hcDark:null,hcLight:null},a.localize("quickInput.listFocusBackground","Quick picker background color for the focused item.")),t.menuBorder=u("menu.border",{dark:null,light:null,hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("menuBorder","Border color of menus.")),t.menuForeground=u("menu.foreground",{dark:t.selectForeground,light:t.foreground,hcDark:t.selectForeground,hcLight:t.selectForeground},a.localize("menuForeground","Foreground color of menu items.")),t.menuBackground=u("menu.background",{dark:t.selectBackground,light:t.selectBackground,hcDark:t.selectBackground,hcLight:t.selectBackground},a.localize("menuBackground","Background color of menu items.")),t.menuSelectionForeground=u("menu.selectionForeground",{dark:t.listActiveSelectionForeground,light:t.listActiveSelectionForeground,hcDark:t.listActiveSelectionForeground,hcLight:t.listActiveSelectionForeground},a.localize("menuSelectionForeground","Foreground color of the selected menu item in menus.")),t.menuSelectionBackground=u("menu.selectionBackground",{dark:t.listActiveSelectionBackground,light:t.listActiveSelectionBackground,hcDark:t.listActiveSelectionBackground,hcLight:t.listActiveSelectionBackground},a.localize("menuSelectionBackground","Background color of the selected menu item in menus.")),t.menuSelectionBorder=u("menu.selectionBorder",{dark:null,light:null,hcDark:t.activeContrastBorder,hcLight:t.activeContrastBorder},a.localize("menuSelectionBorder","Border color of the selected menu item in menus.")),t.menuSeparatorBackground=u("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:t.contrastBorder,hcLight:t.contrastBorder},a.localize("menuSeparatorBackground","Color of a separator menu item in menus.")),t.toolbarHoverBackground=u("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},a.localize("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),t.toolbarHoverOutline=u("toolbar.hoverOutline",{dark:null,light:null,hcDark:t.activeContrastBorder,hcLight:t.activeContrastBorder},a.localize("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),t.toolbarActiveBackground=u("toolbar.activeBackground",{dark:v(t.toolbarHoverBackground,.1),light:b(t.toolbarHoverBackground,.1),hcDark:null,hcLight:null},a.localize("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),t.snippetTabstopHighlightBackground=u("editor.snippetTabstopHighlightBackground",{dark:new o.Color(new o.RGBA(124,124,124,.3)),light:new o.Color(new o.RGBA(10,50,100,.2)),hcDark:new o.Color(new o.RGBA(124,124,124,.3)),hcLight:new o.Color(new o.RGBA(10,50,100,.2))},a.localize("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),t.snippetTabstopHighlightBorder=u("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),t.snippetFinalTabstopHighlightBackground=u("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),t.snippetFinalTabstopHighlightBorder=u("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.Color(new o.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},a.localize("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),t.breadcrumbsForeground=u("breadcrumb.foreground",{light:A(t.foreground,.8),dark:A(t.foreground,.8),hcDark:A(t.foreground,.8),hcLight:A(t.foreground,.8)},a.localize("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),t.breadcrumbsBackground=u("breadcrumb.background",{light:t.editorBackground,dark:t.editorBackground,hcDark:t.editorBackground,hcLight:t.editorBackground},a.localize("breadcrumbsBackground","Background color of breadcrumb items.")),t.breadcrumbsFocusForeground=u("breadcrumb.focusForeground",{light:b(t.foreground,.2),dark:v(t.foreground,.1),hcDark:v(t.foreground,.1),hcLight:v(t.foreground,.1)},a.localize("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),t.breadcrumbsActiveSelectionForeground=u("breadcrumb.activeSelectionForeground",{light:b(t.foreground,.2),dark:v(t.foreground,.1),hcDark:v(t.foreground,.1),hcLight:v(t.foreground,.1)},a.localize("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),t.breadcrumbsPickerBackground=u("breadcrumbPicker.background",{light:t.editorWidgetBackground,dark:t.editorWidgetBackground,hcDark:t.editorWidgetBackground,hcLight:t.editorWidgetBackground},a.localize("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const h=o.Color.fromHex("#40C8AE").transparent(.5),p=o.Color.fromHex("#40A6FF").transparent(.5),g=o.Color.fromHex("#606060").transparent(.4),f=.4;function m(e,t){var i,n,r;switch(e.op){case 0:return null===(i=_(e.value,t))||void 0===i?void 0:i.darken(e.factor);case 1:return null===(n=_(e.value,t))||void 0===n?void 0:n.lighten(e.factor);case 2:return null===(r=_(e.value,t))||void 0===r?void 0:r.transparent(e.factor);case 3:for(const i of e.values){const e=_(i,t);if(e)return e}return;case 5:return _(t.defines(e.if)?e.then:e.else,t);case 4:{const i=_(e.value,t);if(!i)return;const n=_(e.background,t);return n?i.isDarkerThan(n)?o.Color.getLighterColor(i,n,e.factor).transparent(e.transparency):o.Color.getDarkerColor(i,n,e.factor).transparent(e.transparency):i.transparent(e.factor*e.transparency)}default:throw(0,s.assertNever)(e)}}function b(e,t){return{op:0,value:e,factor:t}}function v(e,t){return{op:1,value:e,factor:t}}function A(e,t){return{op:2,value:e,factor:t}}function y(...e){return{op:3,values:e}}function C(e,t,i){return{op:5,if:e,then:t,else:i}}function w(e,t,i,n){return{op:4,value:e,background:t,factor:i,transparency:n}}function _(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?o.Color.fromHex(e):t.getColor(e):e instanceof o.Color?e:"object"==typeof e?m(e,t):void 0}t.mergeCurrentHeaderBackground=u("merge.currentHeaderBackground",{dark:h,light:h,hcDark:null,hcLight:null},a.localize("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),t.mergeCurrentContentBackground=u("merge.currentContentBackground",{dark:A(t.mergeCurrentHeaderBackground,f),light:A(t.mergeCurrentHeaderBackground,f),hcDark:A(t.mergeCurrentHeaderBackground,f),hcLight:A(t.mergeCurrentHeaderBackground,f)},a.localize("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),t.mergeIncomingHeaderBackground=u("merge.incomingHeaderBackground",{dark:p,light:p,hcDark:null,hcLight:null},a.localize("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),t.mergeIncomingContentBackground=u("merge.incomingContentBackground",{dark:A(t.mergeIncomingHeaderBackground,f),light:A(t.mergeIncomingHeaderBackground,f),hcDark:A(t.mergeIncomingHeaderBackground,f),hcLight:A(t.mergeIncomingHeaderBackground,f)},a.localize("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),t.mergeCommonHeaderBackground=u("merge.commonHeaderBackground",{dark:g,light:g,hcDark:null,hcLight:null},a.localize("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),t.mergeCommonContentBackground=u("merge.commonContentBackground",{dark:A(t.mergeCommonHeaderBackground,f),light:A(t.mergeCommonHeaderBackground,f),hcDark:A(t.mergeCommonHeaderBackground,f),hcLight:A(t.mergeCommonHeaderBackground,f)},a.localize("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),t.mergeBorder=u("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},a.localize("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),t.overviewRulerCurrentContentForeground=u("editorOverviewRuler.currentContentForeground",{dark:A(t.mergeCurrentHeaderBackground,1),light:A(t.mergeCurrentHeaderBackground,1),hcDark:t.mergeBorder,hcLight:t.mergeBorder},a.localize("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),t.overviewRulerIncomingContentForeground=u("editorOverviewRuler.incomingContentForeground",{dark:A(t.mergeIncomingHeaderBackground,1),light:A(t.mergeIncomingHeaderBackground,1),hcDark:t.mergeBorder,hcLight:t.mergeBorder},a.localize("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),t.overviewRulerCommonContentForeground=u("editorOverviewRuler.commonContentForeground",{dark:A(t.mergeCommonHeaderBackground,1),light:A(t.mergeCommonHeaderBackground,1),hcDark:t.mergeBorder,hcLight:t.mergeBorder},a.localize("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),t.overviewRulerFindMatchForeground=u("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},a.localize("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),t.overviewRulerSelectionHighlightForeground=u("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},a.localize("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),t.minimapFindMatch=u("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},a.localize("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),t.minimapSelectionOccurrenceHighlight=u("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},a.localize("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),t.minimapSelection=u("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},a.localize("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),t.minimapError=u("minimap.errorHighlight",{dark:new o.Color(new o.RGBA(255,18,18,.7)),light:new o.Color(new o.RGBA(255,18,18,.7)),hcDark:new o.Color(new o.RGBA(255,50,50,1)),hcLight:"#B5200D"},a.localize("minimapError","Minimap marker color for errors.")),t.minimapWarning=u("minimap.warningHighlight",{dark:t.editorWarningForeground,light:t.editorWarningForeground,hcDark:t.editorWarningBorder,hcLight:t.editorWarningBorder},a.localize("overviewRuleWarning","Minimap marker color for warnings.")),t.minimapBackground=u("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},a.localize("minimapBackground","Minimap background color.")),t.minimapForegroundOpacity=u("minimap.foregroundOpacity",{dark:o.Color.fromHex("#000f"),light:o.Color.fromHex("#000f"),hcDark:o.Color.fromHex("#000f"),hcLight:o.Color.fromHex("#000f")},a.localize("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),t.minimapSliderBackground=u("minimapSlider.background",{light:A(t.scrollbarSliderBackground,.5),dark:A(t.scrollbarSliderBackground,.5),hcDark:A(t.scrollbarSliderBackground,.5),hcLight:A(t.scrollbarSliderBackground,.5)},a.localize("minimapSliderBackground","Minimap slider background color.")),t.minimapSliderHoverBackground=u("minimapSlider.hoverBackground",{light:A(t.scrollbarSliderHoverBackground,.5),dark:A(t.scrollbarSliderHoverBackground,.5),hcDark:A(t.scrollbarSliderHoverBackground,.5),hcLight:A(t.scrollbarSliderHoverBackground,.5)},a.localize("minimapSliderHoverBackground","Minimap slider background color when hovering.")),t.minimapSliderActiveBackground=u("minimapSlider.activeBackground",{light:A(t.scrollbarSliderActiveBackground,.5),dark:A(t.scrollbarSliderActiveBackground,.5),hcDark:A(t.scrollbarSliderActiveBackground,.5),hcLight:A(t.scrollbarSliderActiveBackground,.5)},a.localize("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),t.problemsErrorIconForeground=u("problemsErrorIcon.foreground",{dark:t.editorErrorForeground,light:t.editorErrorForeground,hcDark:t.editorErrorForeground,hcLight:t.editorErrorForeground},a.localize("problemsErrorIconForeground","The color used for the problems error icon.")),t.problemsWarningIconForeground=u("problemsWarningIcon.foreground",{dark:t.editorWarningForeground,light:t.editorWarningForeground,hcDark:t.editorWarningForeground,hcLight:t.editorWarningForeground},a.localize("problemsWarningIconForeground","The color used for the problems warning icon.")),t.problemsInfoIconForeground=u("problemsInfoIcon.foreground",{dark:t.editorInfoForeground,light:t.editorInfoForeground,hcDark:t.editorInfoForeground,hcLight:t.editorInfoForeground},a.localize("problemsInfoIconForeground","The color used for the problems info icon.")),t.chartsForeground=u("charts.foreground",{dark:t.foreground,light:t.foreground,hcDark:t.foreground,hcLight:t.foreground},a.localize("chartsForeground","The foreground color used in charts.")),t.chartsLines=u("charts.lines",{dark:A(t.foreground,.5),light:A(t.foreground,.5),hcDark:A(t.foreground,.5),hcLight:A(t.foreground,.5)},a.localize("chartsLines","The color used for horizontal lines in charts.")),t.chartsRed=u("charts.red",{dark:t.editorErrorForeground,light:t.editorErrorForeground,hcDark:t.editorErrorForeground,hcLight:t.editorErrorForeground},a.localize("chartsRed","The red color used in chart visualizations.")),t.chartsBlue=u("charts.blue",{dark:t.editorInfoForeground,light:t.editorInfoForeground,hcDark:t.editorInfoForeground,hcLight:t.editorInfoForeground},a.localize("chartsBlue","The blue color used in chart visualizations.")),t.chartsYellow=u("charts.yellow",{dark:t.editorWarningForeground,light:t.editorWarningForeground,hcDark:t.editorWarningForeground,hcLight:t.editorWarningForeground},a.localize("chartsYellow","The yellow color used in chart visualizations.")),t.chartsOrange=u("charts.orange",{dark:t.minimapFindMatch,light:t.minimapFindMatch,hcDark:t.minimapFindMatch,hcLight:t.minimapFindMatch},a.localize("chartsOrange","The orange color used in chart visualizations.")),t.chartsGreen=u("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},a.localize("chartsGreen","The green color used in chart visualizations.")),t.chartsPurple=u("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},a.localize("chartsPurple","The purple color used in chart visualizations.")),t.executeTransform=m,t.darken=b,t.lighten=v,t.transparent=A,t.oneOf=y,t.ifDefinedThenElse=C,t.resolveColorValue=_,t.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const S=l.Registry.as(c.Extensions.JSONContribution);S.registerSchema(t.workbenchColorsSchemaId,d.getColorSchema());const E=new n.RunOnceScheduler((()=>S.notifySchemaChanged(t.workbenchColorsSchemaId)),200);d.onDidChangeSchema((()=>{E.isScheduled()||E.schedule()}))},9146:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spinningLoading=t.syncing=t.gotoNextLocation=t.gotoPreviousLocation=t.widgetClose=t.iconsSchemaId=t.getIconRegistry=t.registerIcon=t.IconFontDefinition=t.IconContribution=t.Extensions=void 0;const n=i(78456),o=i(22452),r=i(50855),s=i(49929),a=i(33662),c=i(9147),l=i(81749),d=i(81437),u=i(56090);var h;t.Extensions={IconContribution:"base.contributions.icons"},(t.IconContribution||(t.IconContribution={})).getDefinition=function(e,t){let i=e.defaults;for(;u.ThemeIcon.isThemeIcon(i);){const e=p.getIcon(i.id);if(!e)return;i=e.defaults}return i},(h=t.IconFontDefinition||(t.IconFontDefinition={})).toJSONObject=function(e){return{weight:e.weight,style:e.style,src:e.src.map((e=>({format:e.format,location:e.location.toString()})))}},h.fromJSONObject=function(e){const t=e=>(0,s.isString)(e)?e:void 0;if(e&&Array.isArray(e.src)&&e.src.every((e=>(0,s.isString)(e.format)&&(0,s.isString)(e.location))))return{weight:t(e.weight),style:t(e.style),src:e.src.map((e=>({format:e.format,location:a.URI.parse(e.location)})))}};const p=new class{constructor(){this._onDidChange=new r.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,c.localize)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,c.localize)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${o.CSSIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,n){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enumDescriptions[t]=i),this._onDidChange.fire()}return o}const r={id:e,description:i,defaults:t,deprecationMessage:n};this.iconsById[e]=r;const s={$ref:"#/definitions/icons"};return n&&(s.deprecationMessage=n),i&&(s.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=s,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];const t=this.iconReferenceSchema.enum.indexOf(e);-1!==t&&(this.iconReferenceSchema.enum.splice(t,1),this.iconReferenceSchema.enumDescriptions.splice(t,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map((e=>this.iconsById[e]))}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,t){return this.iconFontsById[e]||(this.iconFontsById[e]=t,this._onDidChange.fire(),t)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(e,t)=>e.id.localeCompare(t.id),t=e=>{for(;u.ThemeIcon.isThemeIcon(e.defaults);)e=this.iconsById[e.defaults.id];return`codicon codicon-${e?e.id:""}`},i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map((e=>this.iconsById[e]));for(const o of n.filter((e=>!!e.description)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${u.ThemeIcon.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of n.filter((e=>!u.ThemeIcon.isThemeIcon(e.defaults))).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join("\n")}};function g(e,t,i,n){return p.registerIcon(e,t,i,n)}d.Registry.add(t.Extensions.IconContribution,p),t.registerIcon=g,t.getIconRegistry=function(){return p},function(){for(const e of o.Codicon.getAll())p.registerIcon(e.id,e.definition,e.description)}(),t.iconsSchemaId="vscode://schemas/icons";const f=d.Registry.as(l.Extensions.JSONContribution);f.registerSchema(t.iconsSchemaId,p.getIconSchema());const m=new n.RunOnceScheduler((()=>f.notifySchemaChanged(t.iconsSchemaId)),200);p.onDidChange((()=>{m.isScheduled()||m.schedule()})),t.widgetClose=g("widget-close",o.Codicon.close,(0,c.localize)("widgetClose","Icon for the close action in widgets.")),t.gotoPreviousLocation=g("goto-previous-location",o.Codicon.arrowUp,(0,c.localize)("previousChangeIcon","Icon for goto previous editor location.")),t.gotoNextLocation=g("goto-next-location",o.Codicon.arrowDown,(0,c.localize)("nextChangeIcon","Icon for goto next editor location.")),t.syncing=u.ThemeIcon.modify(o.Codicon.sync,"spin"),t.spinningLoading=u.ThemeIcon.modify(o.Codicon.loading,"spin")},52588:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachDialogStyler=t.defaultDialogStyles=t.attachMenuStyler=t.defaultMenuStyles=t.attachBreadcrumbsStyler=t.defaultBreadcrumbsStyles=t.attachStylerCallback=t.attachProgressBarStyler=t.attachKeybindingLabelStyler=t.attachButtonStyler=t.defaultListStyles=t.attachListStyler=t.attachFindReplaceInputBoxStyler=t.attachSelectBoxStyler=t.attachInputBoxStyler=t.attachBadgeStyler=t.attachToggleStyler=t.attachStyler=t.computeStyles=void 0;const n=i(50447),o=i(78002),r=i(79864);function s(e,t){const i=Object.create(null);for(const n in t){const r=t[n];r&&(i[n]=(0,o.resolveColorValue)(r,e))}return i}function a(e,t,i){function n(){const n=s(e.getColorTheme(),t);"function"==typeof i?i(n):i.style(n)}return n(),e.onDidColorThemeChange(n)}t.computeStyles=s,t.attachStyler=a,t.attachToggleStyler=function(e,t,i){return a(t,{inputActiveOptionBorder:(null==i?void 0:i.inputActiveOptionBorderColor)||o.inputActiveOptionBorder,inputActiveOptionForeground:(null==i?void 0:i.inputActiveOptionForegroundColor)||o.inputActiveOptionForeground,inputActiveOptionBackground:(null==i?void 0:i.inputActiveOptionBackgroundColor)||o.inputActiveOptionBackground},e)},t.attachBadgeStyler=function(e,t,i){return a(t,{badgeBackground:(null==i?void 0:i.badgeBackground)||o.badgeBackground,badgeForeground:(null==i?void 0:i.badgeForeground)||o.badgeForeground,badgeBorder:o.contrastBorder},e)},t.attachInputBoxStyler=function(e,t,i){return a(t,{inputBackground:(null==i?void 0:i.inputBackground)||o.inputBackground,inputForeground:(null==i?void 0:i.inputForeground)||o.inputForeground,inputBorder:(null==i?void 0:i.inputBorder)||o.inputBorder,inputValidationInfoBorder:(null==i?void 0:i.inputValidationInfoBorder)||o.inputValidationInfoBorder,inputValidationInfoBackground:(null==i?void 0:i.inputValidationInfoBackground)||o.inputValidationInfoBackground,inputValidationInfoForeground:(null==i?void 0:i.inputValidationInfoForeground)||o.inputValidationInfoForeground,inputValidationWarningBorder:(null==i?void 0:i.inputValidationWarningBorder)||o.inputValidationWarningBorder,inputValidationWarningBackground:(null==i?void 0:i.inputValidationWarningBackground)||o.inputValidationWarningBackground,inputValidationWarningForeground:(null==i?void 0:i.inputValidationWarningForeground)||o.inputValidationWarningForeground,inputValidationErrorBorder:(null==i?void 0:i.inputValidationErrorBorder)||o.inputValidationErrorBorder,inputValidationErrorBackground:(null==i?void 0:i.inputValidationErrorBackground)||o.inputValidationErrorBackground,inputValidationErrorForeground:(null==i?void 0:i.inputValidationErrorForeground)||o.inputValidationErrorForeground},e)},t.attachSelectBoxStyler=function(e,t,i){return a(t,{selectBackground:(null==i?void 0:i.selectBackground)||o.selectBackground,selectListBackground:(null==i?void 0:i.selectListBackground)||o.selectListBackground,selectForeground:(null==i?void 0:i.selectForeground)||o.selectForeground,decoratorRightForeground:(null==i?void 0:i.pickerGroupForeground)||o.pickerGroupForeground,selectBorder:(null==i?void 0:i.selectBorder)||o.selectBorder,focusBorder:(null==i?void 0:i.focusBorder)||o.focusBorder,listFocusBackground:(null==i?void 0:i.listFocusBackground)||o.quickInputListFocusBackground,listInactiveSelectionIconForeground:(null==i?void 0:i.listInactiveSelectionIconForeground)||o.quickInputListFocusIconForeground,listFocusForeground:(null==i?void 0:i.listFocusForeground)||o.quickInputListFocusForeground,listFocusOutline:(null==i?void 0:i.listFocusOutline)||(e=>(0,r.isHighContrast)(e.type)?o.activeContrastBorder:n.Color.transparent),listHoverBackground:(null==i?void 0:i.listHoverBackground)||o.listHoverBackground,listHoverForeground:(null==i?void 0:i.listHoverForeground)||o.listHoverForeground,listHoverOutline:(null==i?void 0:i.listFocusOutline)||o.activeContrastBorder,selectListBorder:(null==i?void 0:i.selectListBorder)||o.editorWidgetBorder},e)},t.attachFindReplaceInputBoxStyler=function(e,t,i){return a(t,{inputBackground:(null==i?void 0:i.inputBackground)||o.inputBackground,inputForeground:(null==i?void 0:i.inputForeground)||o.inputForeground,inputBorder:(null==i?void 0:i.inputBorder)||o.inputBorder,inputActiveOptionBorder:(null==i?void 0:i.inputActiveOptionBorder)||o.inputActiveOptionBorder,inputActiveOptionForeground:(null==i?void 0:i.inputActiveOptionForeground)||o.inputActiveOptionForeground,inputActiveOptionBackground:(null==i?void 0:i.inputActiveOptionBackground)||o.inputActiveOptionBackground,inputValidationInfoBorder:(null==i?void 0:i.inputValidationInfoBorder)||o.inputValidationInfoBorder,inputValidationInfoBackground:(null==i?void 0:i.inputValidationInfoBackground)||o.inputValidationInfoBackground,inputValidationInfoForeground:(null==i?void 0:i.inputValidationInfoForeground)||o.inputValidationInfoForeground,inputValidationWarningBorder:(null==i?void 0:i.inputValidationWarningBorder)||o.inputValidationWarningBorder,inputValidationWarningBackground:(null==i?void 0:i.inputValidationWarningBackground)||o.inputValidationWarningBackground,inputValidationWarningForeground:(null==i?void 0:i.inputValidationWarningForeground)||o.inputValidationWarningForeground,inputValidationErrorBorder:(null==i?void 0:i.inputValidationErrorBorder)||o.inputValidationErrorBorder,inputValidationErrorBackground:(null==i?void 0:i.inputValidationErrorBackground)||o.inputValidationErrorBackground,inputValidationErrorForeground:(null==i?void 0:i.inputValidationErrorForeground)||o.inputValidationErrorForeground},e)},t.attachListStyler=function(e,i,n){return a(i,Object.assign(Object.assign({},t.defaultListStyles),n||{}),e)},t.defaultListStyles={listFocusBackground:o.listFocusBackground,listFocusForeground:o.listFocusForeground,listFocusOutline:o.listFocusOutline,listActiveSelectionBackground:o.listActiveSelectionBackground,listActiveSelectionForeground:o.listActiveSelectionForeground,listActiveSelectionIconForeground:o.listActiveSelectionIconForeground,listFocusAndSelectionOutline:o.listFocusAndSelectionOutline,listFocusAndSelectionBackground:o.listActiveSelectionBackground,listFocusAndSelectionForeground:o.listActiveSelectionForeground,listInactiveSelectionBackground:o.listInactiveSelectionBackground,listInactiveSelectionIconForeground:o.listInactiveSelectionIconForeground,listInactiveSelectionForeground:o.listInactiveSelectionForeground,listInactiveFocusBackground:o.listInactiveFocusBackground,listInactiveFocusOutline:o.listInactiveFocusOutline,listHoverBackground:o.listHoverBackground,listHoverForeground:o.listHoverForeground,listDropBackground:o.listDropBackground,listSelectionOutline:o.activeContrastBorder,listHoverOutline:o.activeContrastBorder,listFilterWidgetBackground:o.listFilterWidgetBackground,listFilterWidgetOutline:o.listFilterWidgetOutline,listFilterWidgetNoMatchesOutline:o.listFilterWidgetNoMatchesOutline,listFilterWidgetShadow:o.listFilterWidgetShadow,treeIndentGuidesStroke:o.treeIndentGuidesStroke,tableColumnsBorder:o.tableColumnsBorder,tableOddRowsBackgroundColor:o.tableOddRowsBackgroundColor,inputActiveOptionBorder:o.inputActiveOptionBorder,inputActiveOptionForeground:o.inputActiveOptionForeground,inputActiveOptionBackground:o.inputActiveOptionBackground,inputBackground:o.inputBackground,inputForeground:o.inputForeground,inputBorder:o.inputBorder,inputValidationInfoBackground:o.inputValidationInfoBackground,inputValidationInfoForeground:o.inputValidationInfoForeground,inputValidationInfoBorder:o.inputValidationInfoBorder,inputValidationWarningBackground:o.inputValidationWarningBackground,inputValidationWarningForeground:o.inputValidationWarningForeground,inputValidationWarningBorder:o.inputValidationWarningBorder,inputValidationErrorBackground:o.inputValidationErrorBackground,inputValidationErrorForeground:o.inputValidationErrorForeground,inputValidationErrorBorder:o.inputValidationErrorBorder},t.attachButtonStyler=function(e,t,i){return a(t,{buttonForeground:(null==i?void 0:i.buttonForeground)||o.buttonForeground,buttonSeparator:(null==i?void 0:i.buttonSeparator)||o.buttonSeparator,buttonBackground:(null==i?void 0:i.buttonBackground)||o.buttonBackground,buttonHoverBackground:(null==i?void 0:i.buttonHoverBackground)||o.buttonHoverBackground,buttonSecondaryForeground:(null==i?void 0:i.buttonSecondaryForeground)||o.buttonSecondaryForeground,buttonSecondaryBackground:(null==i?void 0:i.buttonSecondaryBackground)||o.buttonSecondaryBackground,buttonSecondaryHoverBackground:(null==i?void 0:i.buttonSecondaryHoverBackground)||o.buttonSecondaryHoverBackground,buttonBorder:(null==i?void 0:i.buttonBorder)||o.buttonBorder},e)},t.attachKeybindingLabelStyler=function(e,t,i){return a(t,{keybindingLabelBackground:i&&i.keybindingLabelBackground||o.keybindingLabelBackground,keybindingLabelForeground:i&&i.keybindingLabelForeground||o.keybindingLabelForeground,keybindingLabelBorder:i&&i.keybindingLabelBorder||o.keybindingLabelBorder,keybindingLabelBottomBorder:i&&i.keybindingLabelBottomBorder||o.keybindingLabelBottomBorder,keybindingLabelShadow:i&&i.keybindingLabelShadow||o.widgetShadow},e)},t.attachProgressBarStyler=function(e,t,i){return a(t,{progressBarBackground:(null==i?void 0:i.progressBarBackground)||o.progressBarBackground},e)},t.attachStylerCallback=function(e,t,i){return a(e,t,i)},t.defaultBreadcrumbsStyles={breadcrumbsBackground:o.breadcrumbsBackground,breadcrumbsForeground:o.breadcrumbsForeground,breadcrumbsHoverForeground:o.breadcrumbsFocusForeground,breadcrumbsFocusForeground:o.breadcrumbsFocusForeground,breadcrumbsFocusAndSelectionForeground:o.breadcrumbsActiveSelectionForeground},t.attachBreadcrumbsStyler=function(e,i,n){return a(i,Object.assign(Object.assign({},t.defaultBreadcrumbsStyles),n),e)},t.defaultMenuStyles={shadowColor:o.widgetShadow,borderColor:o.menuBorder,foregroundColor:o.menuForeground,backgroundColor:o.menuBackground,selectionForegroundColor:o.menuSelectionForeground,selectionBackgroundColor:o.menuSelectionBackground,selectionBorderColor:o.menuSelectionBorder,separatorColor:o.menuSeparatorBackground,scrollbarShadow:o.scrollbarShadow,scrollbarSliderBackground:o.scrollbarSliderBackground,scrollbarSliderHoverBackground:o.scrollbarSliderHoverBackground,scrollbarSliderActiveBackground:o.scrollbarSliderActiveBackground},t.attachMenuStyler=function(e,i,n){return a(i,Object.assign(Object.assign({},t.defaultMenuStyles),n),e)},t.defaultDialogStyles={dialogBackground:o.editorWidgetBackground,dialogForeground:o.editorWidgetForeground,dialogShadow:o.widgetShadow,dialogBorder:o.contrastBorder,buttonForeground:o.buttonForeground,buttonSeparator:o.buttonSeparator,buttonBackground:o.buttonBackground,buttonSecondaryBackground:o.buttonSecondaryBackground,buttonSecondaryForeground:o.buttonSecondaryForeground,buttonSecondaryHoverBackground:o.buttonSecondaryHoverBackground,buttonHoverBackground:o.buttonHoverBackground,buttonBorder:o.buttonBorder,checkboxBorder:o.checkboxBorder,checkboxBackground:o.checkboxBackground,checkboxForeground:o.checkboxForeground,errorIconForeground:o.problemsErrorIconForeground,warningIconForeground:o.problemsWarningIconForeground,infoIconForeground:o.problemsInfoIconForeground,inputBackground:o.inputBackground,inputForeground:o.inputForeground,inputBorder:o.inputBorder,textLinkForeground:o.textLinkForeground},t.attachDialogStyler=function(e,i,n){return a(i,Object.assign(Object.assign({},t.defaultDialogStyles),n),e)}},79864:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.isDark=t.isHighContrast=t.ColorScheme=void 0,function(e){e.DARK="dark",e.LIGHT="light",e.HIGH_CONTRAST_DARK="hcDark",e.HIGH_CONTRAST_LIGHT="hcLight"}(i=t.ColorScheme||(t.ColorScheme={})),t.isHighContrast=function(e){return e===i.HIGH_CONTRAST_DARK||e===i.HIGH_CONTRAST_LIGHT},t.isDark=function(e){return e===i.DARK||e===i.HIGH_CONTRAST_DARK}},56090:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Themable=t.registerThemingParticipant=t.Extensions=t.getThemeTypeSelector=t.FolderThemeIcon=t.FileThemeIcon=t.ThemeIcon=t.themeColorFromId=t.ThemeColor=t.IThemeService=void 0;const n=i(22452),o=i(50855),r=i(755),s=i(28888),a=i(81437),c=i(79864);var l;function d(e){return{id:e}}t.IThemeService=(0,s.createDecorator)("themeService"),function(e){e.isThemeColor=function(e){return e&&"object"==typeof e&&"string"==typeof e.id}}(l=t.ThemeColor||(t.ThemeColor={})),t.themeColorFromId=d,function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id&&(void 0===e.color||l.isThemeColor(e.color))};const t=new RegExp(`^\\$\\((${n.CSSIcon.iconNameExpression}(?:${n.CSSIcon.iconModifierExpression})?)\\)$`);e.fromString=function(e){const i=t.exec(e);if(!i)return;const[,n]=i;return{id:n}},e.fromId=function(e){return{id:e}},e.modify=function(e,t){let i=e.id;const n=i.lastIndexOf("~");return-1!==n&&(i=i.substring(0,n)),t&&(i=`${i}~${t}`),{id:i}},e.getModifier=function(e){const t=e.id.lastIndexOf("~");if(-1!==t)return e.id.substring(t+1)},e.isEqual=function(e,t){var i,n;return e.id===t.id&&(null===(i=e.color)||void 0===i?void 0:i.id)===(null===(n=t.color)||void 0===n?void 0:n.id)},e.asThemeIcon=function(e,t){return{id:e.id,color:t?d(t):void 0}},e.asClassNameArray=n.CSSIcon.asClassNameArray,e.asClassName=n.CSSIcon.asClassName,e.asCSSSelector=n.CSSIcon.asCSSSelector}(t.ThemeIcon||(t.ThemeIcon={})),t.FileThemeIcon=n.Codicon.file,t.FolderThemeIcon=n.Codicon.folder,t.getThemeTypeSelector=function(e){switch(e){case c.ColorScheme.DARK:return"vs-dark";case c.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case c.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}},t.Extensions={ThemingContribution:"base.contributions.theming"};const u=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new o.Emitter}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),(0,r.toDisposable)((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}};a.Registry.add(t.Extensions.ThemingContribution,u),t.registerThemingParticipant=function(e){return u.onColorThemeChange(e)};class h extends r.Disposable{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}getColor(e,t){let i=this.theme.getColor(e);return i&&t&&(i=t(i,this.theme)),i?i.toString():null}}t.Themable=h},90023:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UndoRedoSource=t.UndoRedoGroup=t.ResourceEditStackSnapshot=t.IUndoRedoService=void 0;const n=i(28888);t.IUndoRedoService=(0,n.createDecorator)("undoRedoService"),t.ResourceEditStackSnapshot=class{constructor(e,t){this.resource=e,this.elements=t}};class o{constructor(){this.id=o._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}t.UndoRedoGroup=o,o._ID=0,o.None=new o;class r{constructor(){this.id=r._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}t.UndoRedoSource=r,r._ID=0,r.None=new r},45578:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UndoRedoService=void 0;const s=i(64317),a=i(755),c=i(61217),l=i(89908),d=i(9147),u=i(69123),h=i(49371),p=i(88669),g=i(90023);function f(e){return e.scheme===c.Schemas.file?e.fsPath:e.path}let m=0;class b{constructor(e,t,i,n,o,r,s){this.id=++m,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class v{constructor(e,t){this.resourceLabel=e,this.reason=t}}class A{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,i]of this.elements)(0===i.reason?e:t).push(i.resourceLabel);const i=[];return e.length>0&&i.push(d.localize({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(d.localize({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class y{constructor(e,t,i,n,o,r,s){this.id=++m,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=n,this.groupOrder=o,this.sourceId=r,this.sourceOrder=s,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new A),this.removedResources.has(t)||this.removedResources.set(t,new v(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new A),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new v(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class C{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}setElementsIsValid(e){for(const t of this._past)1===t.type?t.setValid(this.resourceLabel,this.strResource,e):t.setValid(e);for(const t of this._future)1===t.type?t.setValid(this.resourceLabel,this.strResource,e):t.setValid(e)}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let e=0,i=this._past.length;e<i;e++)t.push(this._past[e].id);for(let e=this._future.length-1;e>=0;e--)t.push(this._future[e].id);return new g.ResourceEditStackSnapshot(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,o=-1;for(let r=0,s=this._past.length;r<s;r++,n++){const s=this._past[r];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,o=0),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}let r=-1;for(let o=this._future.length-1;o>=0;o--,n++){const s=this._future[o];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,r=o),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}-1!==o&&(this._past=this._past.slice(0,o)),-1!==r&&(this._future=this._future.slice(r+1)),this.versionId++}getElements(){const e=[],t=[];for(const t of this._past)e.push(t.actual);for(const e of this._future)t.push(e.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class w{constructor(e){this.editStacks=e,this._versionIds=[];for(let e=0,t=this.editStacks.length;e<t;e++)this._versionIds[e]=this.editStacks[e].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const _=new C("","");_.locked=!0;let S=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}registerUriComparisonKeyComputer(e,t){return this._uriComparisonKeyComputers.push([e,t]),{dispose:()=>{for(let e=0,i=this._uriComparisonKeyComputers.length;e<i;e++)if(this._uriComparisonKeyComputers[e][1]===t)return void this._uriComparisonKeyComputers.splice(e,1)}}}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);const t=[];for(const e of this._editStacks)t.push(e[1].toString());console.log(t.join("\n"))}pushElement(e,t=g.UndoRedoGroup.None,i=g.UndoRedoSource.None){if(0===e.type){const n=f(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new b(e,n,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const n=new Set,o=[],r=[];for(const t of e.resources){const e=f(t),i=this.getUriComparisonKey(t);n.has(i)||(n.add(i),o.push(e),r.push(i))}1===o.length?this._pushElement(new b(e,o[0],r[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new y(e,o,r,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let o;this._editStacks.has(n)?o=this._editStacks.get(n):(o=new C(i,n),this._editStacks.set(n,o)),o.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const e of i){const t=f(e.resource),i=this.getUriComparisonKey(e.resource),o=new b(e,t,i,0,0,0,0);n.set(o.strResource,o)}for(const i of e.strResources)t&&t.has(i)||this._editStacks.get(i).splitPastWorkspaceElement(e,n)}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const e of i){const t=f(e.resource),i=this.getUriComparisonKey(e.resource),o=new b(e,t,i,0,0,0,0);n.set(o.strResource,o)}for(const i of e.strResources)t&&t.has(i)||this._editStacks.get(i).splitFutureWorkspaceElement(e,n)}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);this._editStacks.has(n)&&this._editStacks.get(n).setElementsValidFlag(t,i)}hasElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);return e.hasPastElements()||e.hasFutureElements()}return!1}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new g.ResourceEditStackSnapshot(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&r.sourceId===e&&(!t||r.sourceOrder>t.sourceOrder)&&(t=r,i=n)}return[t,i]}canUndo(e){if(e instanceof g.UndoRedoSource){const[,t]=this._findClosestUndoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);return!!this._editStacks.has(t)&&this._editStacks.get(t).hasPastElements()}_onError(e,t){(0,s.onUnexpectedError)(e);for(const e of t.strResources)this.removeElements(e);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n,o){const r=this._acquireLocks(i);let s;try{s=t()}catch(t){return r(),n.dispose(),this._onError(t,e)}return s?s.then((()=>(r(),n.dispose(),o())),(t=>(r(),n.dispose(),this._onError(t,e)))):(r(),n.dispose(),o())}_invokeWorkspacePrepare(e){return r(this,void 0,void 0,(function*(){if(void 0===e.actual.prepareUndoRedo)return a.Disposable.None;const t=e.actual.prepareUndoRedo();return void 0===t?a.Disposable.None:t}))}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return t(a.Disposable.None);const i=e.actual.prepareUndoRedo();return i?(0,a.isDisposable)(i)?t(i):i.then((e=>t(e))):t(a.Disposable.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||_);return new w(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(n),new E(this._undo(e,0,!0));for(const e of t.strResources)this.removeElements(e);return this._notificationService.warn(n),new E}_checkWorkspaceUndo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,d.localize({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,d.localize({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestPastElement()!==t&&o.push(e.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,d.localize({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const e of i.editStacks)e.locked&&r.push(e.resourceLabel);return r.length>0?this._tryToSplitAndUndo(e,t,null,d.localize({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,d.localize({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const n=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,n,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,n,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const i=t.getSecondClosestPastElement();if(i&&i.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,n){return r(this,void 0,void 0,(function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const o=yield this._dialogService.show(l.default.Info,d.localize("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[d.localize({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),d.localize("nok","Undo this File"),d.localize("cancel","Cancel")],{cancelId:2});if(2===o.choice)return;if(1===o.choice)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const r=this._checkWorkspaceUndo(e,t,i,!1);if(r)return r.returnValue;n=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(e){return this._onError(e,t)}const r=this._checkWorkspaceUndo(e,t,i,!0);if(r)return o.dispose(),r.returnValue;for(const e of i.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.undo()),i,o,(()=>this._continueUndoInGroup(t.groupId,n)))}))}_resourceUndo(e,t,i){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(n=>(e.moveBackward(t),this._safeInvokeWithLocks(t,(()=>t.actual.undo()),new w([e]),n,(()=>this._continueUndoInGroup(t.groupId,i))))));{const e=d.localize({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestPastElement();r&&r.groupId===e&&(!t||r.groupOrder>t.groupOrder)&&(t=r,i=n)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);return i?this._undo(i,0,t):void 0}undo(e){if(e instanceof g.UndoRedoSource){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return"string"==typeof e?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const n=this._editStacks.get(e),o=n.getClosestPastElement();if(o){if(o.groupId){const[e,n]=this._findClosestUndoElementInGroup(o.groupId);if(o!==e&&n)return this._undo(n,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return 1===o.type?this._workspaceUndo(e,o,i):this._resourceUndo(n,o,i)}finally{}}}_confirmAndContinueUndo(e,t,i){return r(this,void 0,void 0,(function*(){if(1!==(yield this._dialogService.show(l.default.Info,d.localize("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[d.localize("confirmDifferentSource.yes","Yes"),d.localize("confirmDifferentSource.no","No")],{cancelId:1})).choice)return this._undo(e,t,!0)}))}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&r.sourceId===e&&(!t||r.sourceOrder<t.sourceOrder)&&(t=r,i=n)}return[t,i]}canRedo(e){if(e instanceof g.UndoRedoSource){const[,t]=this._findClosestRedoElementWithSource(e.id);return!!t}const t=this.getUriComparisonKey(e);return!!this._editStacks.has(t)&&this._editStacks.get(t).hasFutureElements()}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(n),new E(this._redo(e));for(const e of t.strResources)this.removeElements(e);return this._notificationService.warn(n),new E}_checkWorkspaceRedo(e,t,i,n){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,d.localize({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(n&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,d.localize({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestFutureElement()!==t&&o.push(e.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,d.localize({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const r=[];for(const e of i.editStacks)e.locked&&r.push(e.resourceLabel);return r.length>0?this._tryToSplitAndRedo(e,t,null,d.localize({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,r.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,d.localize({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return r(this,void 0,void 0,(function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(e){return this._onError(e,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return n.dispose(),o.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,(()=>t.actual.redo()),i,n,(()=>this._continueRedoInGroup(t.groupId)))}))}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,(i=>(e.moveForward(t),this._safeInvokeWithLocks(t,(()=>t.actual.redo()),new w([e]),i,(()=>this._continueRedoInGroup(t.groupId))))));{const e=d.localize({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(e)}}else e.flushAllElements()}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[n,o]of this._editStacks){const r=o.getClosestFutureElement();r&&r.groupId===e&&(!t||r.groupOrder<t.groupOrder)&&(t=r,i=n)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);return t?this._redo(t):void 0}redo(e){if(e instanceof g.UndoRedoSource){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return"string"==typeof e?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[e,t]=this._findClosestRedoElementInGroup(i.groupId);if(i!==e&&t)return this._redo(t)}try{return 1===i.type?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};S=n([o(0,u.IDialogService),o(1,p.INotificationService)],S),t.UndoRedoService=S;class E{constructor(e){this.returnValue=e}}(0,h.registerSingleton)(g.IUndoRedoService,S,1)},98618:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IUriIdentityService=void 0;const n=i(28888);t.IUriIdentityService=(0,n.createDecorator)("IUriIdentityService")},20569:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},r=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryUserDataProfilesService=t.UserDataProfilesService=t.toUserDataProfile=t.EXTENSIONS_RESOURCE_NAME=t.reviveProfile=t.IUserDataProfilesService=t.PROFILES_ENABLEMENT_CONFIG=t.isUserDataProfile=void 0;const s=i(45609),a=i(50855),c=i(755),l=i(71255),d=i(49929),u=i(33662),h=i(9147),p=i(45386),g=i(12387),f=i(28888),m=i(5209),b=i(2963),v=i(28371),A=i(98618),y=i(78456),C=i(97002),w=i(99722);function _(e,i,n,o){return{id:e,name:i,location:n,isDefault:!1,shortName:null==o?void 0:o.shortName,globalStorageHome:(0,l.joinPath)(n,"globalStorage"),settingsResource:(0,l.joinPath)(n,"settings.json"),keybindingsResource:(0,l.joinPath)(n,"keybindings.json"),tasksResource:(0,l.joinPath)(n,"tasks.json"),snippetsHome:(0,l.joinPath)(n,"snippets"),extensionsResource:(0,l.joinPath)(n,t.EXTENSIONS_RESOURCE_NAME),useDefaultFlags:null==o?void 0:o.useDefaultFlags,isTransient:null==o?void 0:o.transient}}t.isUserDataProfile=function(e){const t=e;return!!(t&&"object"==typeof t&&"string"==typeof t.id&&"boolean"==typeof t.isDefault&&"string"==typeof t.name&&u.URI.isUri(t.location)&&u.URI.isUri(t.globalStorageHome)&&u.URI.isUri(t.settingsResource)&&u.URI.isUri(t.keybindingsResource)&&u.URI.isUri(t.tasksResource)&&u.URI.isUri(t.snippetsHome)&&((0,d.isUndefined)(t.extensionsResource)||u.URI.isUri(t.extensionsResource)))},t.PROFILES_ENABLEMENT_CONFIG="workbench.experimental.settingsProfiles.enabled",t.IUserDataProfilesService=(0,f.createDecorator)("IUserDataProfilesService"),t.reviveProfile=function(e,t){var i;return{id:e.id,isDefault:e.isDefault,name:e.name,shortName:e.shortName,location:u.URI.revive(e.location).with({scheme:t}),globalStorageHome:u.URI.revive(e.globalStorageHome).with({scheme:t}),settingsResource:u.URI.revive(e.settingsResource).with({scheme:t}),keybindingsResource:u.URI.revive(e.keybindingsResource).with({scheme:t}),tasksResource:u.URI.revive(e.tasksResource).with({scheme:t}),snippetsHome:u.URI.revive(e.snippetsHome).with({scheme:t}),extensionsResource:null===(i=u.URI.revive(e.extensionsResource))||void 0===i?void 0:i.with({scheme:t}),useDefaultFlags:e.useDefaultFlags,isTransient:e.isTransient}},t.EXTENSIONS_RESOURCE_NAME="extensions.json",t.toUserDataProfile=_;let S=class extends c.Disposable{get defaultProfile(){return this.profiles[0]}get profiles(){return[...this.profilesObject.profiles,...this.transientProfilesObject.profiles]}constructor(e,t,i,n){super(),this.environmentService=e,this.fileService=t,this.uriIdentityService=i,this.logService=n,this.enabled=!1,this.defaultProfileShouldIncludeExtensionsResourceAlways=!1,this._onDidChangeProfiles=this._register(new a.Emitter),this.onDidChangeProfiles=this._onDidChangeProfiles.event,this._onWillCreateProfile=this._register(new a.Emitter),this.onWillCreateProfile=this._onWillCreateProfile.event,this._onWillRemoveProfile=this._register(new a.Emitter),this.onWillRemoveProfile=this._onWillRemoveProfile.event,this._onDidResetWorkspaces=this._register(new a.Emitter),this.onDidResetWorkspaces=this._onDidResetWorkspaces.event,this.profileCreationPromises=new Map,this.transientProfilesObject={profiles:[],workspaces:new v.ResourceMap},this.profilesHome=(0,l.joinPath)(this.environmentService.userRoamingDataHome,"profiles")}setEnablement(e){this.enabled!==e&&(this._profilesObject=void 0,this.enabled=e)}get profilesObject(){if(!this._profilesObject){const e=this.enabled?this.getStoredProfiles().map((e=>_((0,l.basename)(e.location),e.name,e.location,{shortName:e.shortName,useDefaultFlags:e.useDefaultFlags}))):[];let t;const i=new v.ResourceMap,n=_((0,s.hash)(this.environmentService.userRoamingDataHome.path).toString(16),(0,h.localize)("defaultProfile","Default"),this.environmentService.userRoamingDataHome);if(e.unshift(Object.assign(Object.assign({},n),{isDefault:!0,extensionsResource:this.defaultProfileShouldIncludeExtensionsResourceAlways||e.length>0||this.transientProfilesObject.profiles.length>0?n.extensionsResource:void 0})),e.length){const n=this.getStoredProfileAssociations();if(n.workspaces)for(const[t,o]of Object.entries(n.workspaces)){const n=u.URI.parse(t),r=u.URI.parse(o),s=e.find((e=>this.uriIdentityService.extUri.isEqual(e.location,r)));s&&i.set(n,s)}if(n.emptyWindow){const i=u.URI.parse(n.emptyWindow);t=e.find((e=>this.uriIdentityService.extUri.isEqual(e.location,i)))}}this._profilesObject={profiles:e,workspaces:i,emptyWindow:t}}return this._profilesObject}createTransientProfile(e){return r(this,void 0,void 0,(function*(){const t="Temp",i=new RegExp(`${(0,w.escapeRegExpCharacters)(t)}\\s(\\d+)`);let n=0;for(const e of this.profiles){const t=i.exec(e.name),o=t?parseInt(t[1]):0;n=o>n?o:n}const o=`${t} ${n+1}`;return this.createProfile((0,s.hash)((0,C.generateUuid)()).toString(16),o,{transient:!0},e)}))}createNamedProfile(e,t,i){return r(this,void 0,void 0,(function*(){return this.createProfile((0,s.hash)((0,C.generateUuid)()).toString(16),e,t,i)}))}createProfile(e,i,n,o){return r(this,void 0,void 0,(function*(){if(!this.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${t.PROFILES_ENABLEMENT_CONFIG}' setting.`);const r=yield this.doCreateProfile(e,i,n);return o&&(yield this.setProfileForWorkspace(o,r)),r}))}doCreateProfile(e,t,i){return r(this,void 0,void 0,(function*(){let n=this.profileCreationPromises.get(t);return n||(n=(()=>r(this,void 0,void 0,(function*(){try{const n=this.profiles.find((i=>i.name===t||i.id===e));if(n)return n;const o=_(e,t,(0,l.joinPath)(this.profilesHome,e),i);yield this.fileService.createFolder(o.location);const r=[];return this._onWillCreateProfile.fire({profile:o,join(e){r.push(e)}}),yield y.Promises.settled(r),this.updateProfiles([o],[],[]),o}finally{this.profileCreationPromises.delete(t)}})))(),this.profileCreationPromises.set(t,n)),n}))}updateProfile(e,i){var n,o,s,a;return r(this,void 0,void 0,(function*(){if(!this.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${t.PROFILES_ENABLEMENT_CONFIG}' setting.`);let r=this.profiles.find((t=>t.id===e.id));if(!r)throw new Error(`Profile '${e.name}' does not exist`);return r=_(r.id,null!==(n=i.name)&&void 0!==n?n:r.name,r.location,{shortName:null!==(o=i.shortName)&&void 0!==o?o:r.shortName,transient:null!==(s=i.transient)&&void 0!==s?s:r.isTransient,useDefaultFlags:null!==(a=i.useDefaultFlags)&&void 0!==a?a:r.useDefaultFlags}),this.updateProfiles([],[],[r]),r}))}removeProfile(e){var i,n;return r(this,void 0,void 0,(function*(){if(!this.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${t.PROFILES_ENABLEMENT_CONFIG}' setting.`);if(e.isDefault)throw new Error("Cannot remove default profile");const o=this.profiles.find((t=>t.id===e.id));if(!o)throw new Error(`Profile '${e.name}' does not exist`);const r=[];this._onWillRemoveProfile.fire({profile:o,join(e){r.push(e)}});try{yield Promise.allSettled(r)}catch(e){this.logService.error(e)}o.id===(null===(i=this.profilesObject.emptyWindow)||void 0===i?void 0:i.id)&&(this.profilesObject.emptyWindow=void 0);for(const e of[...this.profilesObject.workspaces.keys()])o.id===(null===(n=this.profilesObject.workspaces.get(e))||void 0===n?void 0:n.id)&&this.profilesObject.workspaces.delete(e);this.updateStoredProfileAssociations(),this.updateProfiles([],[o],[]);try{1===this.profiles.length?yield this.fileService.del(this.profilesHome,{recursive:!0}):yield this.fileService.del(o.location,{recursive:!0})}catch(e){this.logService.error(e)}}))}getOrSetProfileForWorkspace(e,t=this.defaultProfile){if(!this.enabled)return this.defaultProfile;let i=this.getProfileForWorkspace(e);return i||(i=t,this.profiles.length>1&&this.setProfileForWorkspaceSync(e,i)),i}setProfileForWorkspace(e,t){return r(this,void 0,void 0,(function*(){this.setProfileForWorkspaceSync(e,t)}))}setProfileForWorkspaceSync(e,i){if(!this.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${t.PROFILES_ENABLEMENT_CONFIG}' setting.`);const n=this.profiles.find((e=>e.id===i.id));if(!n)throw new Error(`Profile '${i.name}' does not exist`);this.updateWorkspaceAssociation(e,n)}unsetWorkspace(e,i){if(!this.enabled)throw new Error(`Settings Profiles are disabled. Enable them via the '${t.PROFILES_ENABLEMENT_CONFIG}' setting.`);this.updateWorkspaceAssociation(e,void 0,i)}resetWorkspaces(){return r(this,void 0,void 0,(function*(){this.transientProfilesObject.workspaces.clear(),this.transientProfilesObject.emptyWindow=void 0,this.profilesObject.workspaces.clear(),this.profilesObject.emptyWindow=void 0,this.updateStoredProfileAssociations(),this._onDidResetWorkspaces.fire()}))}cleanUp(){return r(this,void 0,void 0,(function*(){if(this.enabled&&(yield this.fileService.exists(this.profilesHome))){const e=yield this.fileService.resolve(this.profilesHome);yield Promise.all((e.children||[]).filter((e=>e.isDirectory&&this.profiles.every((t=>!this.uriIdentityService.extUri.isEqual(t.location,e.resource))))).map((e=>this.fileService.del(e.resource,{recursive:!0}))))}}))}cleanUpTransientProfiles(){return r(this,void 0,void 0,(function*(){if(!this.enabled)return;const e=this.transientProfilesObject.profiles.filter((e=>!this.isProfileAssociatedToWorkspace(e)));yield Promise.allSettled(e.map((e=>this.removeProfile(e))))}))}getProfileForWorkspace(e){var t,i;const n=this.getWorkspace(e);return u.URI.isUri(n)?null!==(t=this.transientProfilesObject.workspaces.get(n))&&void 0!==t?t:this.profilesObject.workspaces.get(n):null!==(i=this.transientProfilesObject.emptyWindow)&&void 0!==i?i:this.profilesObject.emptyWindow}getWorkspace(e){return(0,b.isSingleFolderWorkspaceIdentifier)(e)?e.uri:(0,b.isWorkspaceIdentifier)(e)?e.configPath:"empty-window"}isProfileAssociatedToWorkspace(e){var t,i;return!!(this.uriIdentityService.extUri.isEqual(null===(t=this.transientProfilesObject.emptyWindow)||void 0===t?void 0:t.location,e.location)||[...this.transientProfilesObject.workspaces.values()].some((t=>this.uriIdentityService.extUri.isEqual(t.location,e.location)))||this.uriIdentityService.extUri.isEqual(null===(i=this.profilesObject.emptyWindow)||void 0===i?void 0:i.location,e.location)||[...this.profilesObject.workspaces.values()].some((t=>this.uriIdentityService.extUri.isEqual(t.location,e.location))))}updateProfiles(e,t,i){var n;const o=[...this.profiles,...e],r=[];this.transientProfilesObject.profiles=[];for(let e of o)e.isDefault||t.some((t=>e.id===t.id))||(e=null!==(n=i.find((t=>e.id===t.id)))&&void 0!==n?n:e,e.isTransient?this.transientProfilesObject.profiles.push(e):r.push({location:e.location,name:e.name,shortName:e.shortName,useDefaultFlags:e.useDefaultFlags}));this.saveStoredProfiles(r),this._profilesObject=void 0,this.triggerProfilesChanges(e,t,i)}triggerProfilesChanges(e,t,i){this._onDidChangeProfiles.fire({added:e,removed:t,updated:i,all:this.profiles})}updateWorkspaceAssociation(e,t,i){(i=!!(null==t?void 0:t.isTransient)||i)||this.updateWorkspaceAssociation(e,void 0,!0);const n=this.getWorkspace(e),o=i?this.transientProfilesObject:this.profilesObject;u.URI.isUri(n)?(o.workspaces.delete(n),t&&o.workspaces.set(n,t)):o.emptyWindow=t,i||this.updateStoredProfileAssociations()}updateStoredProfileAssociations(){var e;const t={};for(const[e,i]of this.profilesObject.workspaces.entries())t[e.toString()]=i.location.toString();const i=null===(e=this.profilesObject.emptyWindow)||void 0===e?void 0:e.location.toString();this.saveStoredProfileAssociations({workspaces:t,emptyWindow:i}),this._profilesObject=void 0}getStoredProfiles(){return[]}saveStoredProfiles(e){throw new Error("not implemented")}getStoredProfileAssociations(){return{}}saveStoredProfileAssociations(e){throw new Error("not implemented")}};S.PROFILES_KEY="userDataProfiles",S.PROFILE_ASSOCIATIONS_KEY="profileAssociations",S=n([o(0,p.IEnvironmentService),o(1,g.IFileService),o(2,A.IUriIdentityService),o(3,m.ILogService)],S),t.UserDataProfilesService=S,t.InMemoryUserDataProfilesService=class extends S{constructor(){super(...arguments),this.storedProfiles=[],this.storedProfileAssociations={}}getStoredProfiles(){return this.storedProfiles}saveStoredProfiles(e){this.storedProfiles=e}getStoredProfileAssociations(){return this.storedProfileAssociations}saveStoredProfileAssociations(e){this.storedProfileAssociations=e}}},2963:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasWorkspaceFileExtension=t.isSavedWorkspace=t.isTemporaryWorkspace=t.isUntitledWorkspace=t.UNTITLED_WORKSPACE_NAME=t.WORKSPACE_FILTER=t.WORKSPACE_SUFFIX=t.WORKSPACE_EXTENSION=t.toWorkspaceFolder=t.WorkspaceFolder=t.Workspace=t.isWorkspaceFolder=t.isWorkspace=t.reviveIdentifier=t.isWorkspaceIdentifier=t.toWorkspaceIdentifier=t.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=t.isSingleFolderWorkspaceIdentifier=t.IWorkspaceContextService=void 0;const n=i(9147),o=i(77626),r=i(28371),s=i(71255),a=i(33662),c=i(28888),l=i(61217);t.IWorkspaceContextService=(0,c.createDecorator)("contextService"),t.isSingleFolderWorkspaceIdentifier=function(e){const t=e;return"string"==typeof(null==t?void 0:t.id)&&a.URI.isUri(t.uri)},t.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},t.toWorkspaceIdentifier=function(e,i){if("string"==typeof e||void 0===e)return"string"==typeof e?{id:(0,o.basename)(e)}:i?t.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:void 0;const n=e;return n.configuration?{id:n.id,configPath:n.configuration}:1===n.folders.length?{id:n.id,uri:n.folders[0].uri}:void 0},t.isWorkspaceIdentifier=function(e){const t=e;return"string"==typeof(null==t?void 0:t.id)&&a.URI.isUri(t.configPath)},t.reviveIdentifier=function(e){const t=e;if(null==t?void 0:t.uri)return{id:t.id,uri:a.URI.revive(t.uri)};const i=e;return(null==i?void 0:i.configPath)?{id:i.id,configPath:a.URI.revive(i.configPath)}:(null==e?void 0:e.id)?{id:e.id}:void 0},t.isWorkspace=function(e){const t=e;return!(!t||"object"!=typeof t||"string"!=typeof t.id||!Array.isArray(t.folders))},t.isWorkspaceFolder=function(e){const t=e;return!(!t||"object"!=typeof t||!a.URI.isUri(t.uri)||"string"!=typeof t.name||"function"!=typeof t.toResource)},t.Workspace=class{constructor(e,t,i,n,o){this._id=e,this._transient=i,this._configuration=n,this._ignorePathCasing=o,this._foldersMap=r.TernarySearchTree.forUris(this._ignorePathCasing,(()=>!0)),this.folders=t}update(e){this._id=e.id,this._configuration=e.configuration,this._transient=e.transient,this._ignorePathCasing=e._ignorePathCasing,this.folders=e.folders}get folders(){return this._folders}set folders(e){this._folders=e,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(e){this._configuration=e}getFolder(e){return e&&this._foldersMap.findSubstr(e)||null}updateFoldersMap(){this._foldersMap=r.TernarySearchTree.forUris(this._ignorePathCasing,(()=>!0));for(const e of this.folders)this._foldersMap.set(e.uri,e)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}};class d{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toResource(e){return(0,s.joinPath)(this.uri,e)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}function u(e,t){return s.extUriBiasedIgnorePathCase.isEqualOrParent(e,t.untitledWorkspacesHome)}function h(e){let t;return t=a.URI.isUri(e)?e:e.configuration,(null==t?void 0:t.scheme)===l.Schemas.tmp}t.WorkspaceFolder=d,t.toWorkspaceFolder=function(e){return new d({uri:e,index:0,name:(0,s.basenameOrAuthority)(e)},{uri:e.toString()})},t.WORKSPACE_EXTENSION="code-workspace",t.WORKSPACE_SUFFIX=`.${t.WORKSPACE_EXTENSION}`,t.WORKSPACE_FILTER=[{name:(0,n.localize)("codeWorkspace","Code Workspace"),extensions:[t.WORKSPACE_EXTENSION]}],t.UNTITLED_WORKSPACE_NAME="workspace.json",t.isUntitledWorkspace=u,t.isTemporaryWorkspace=h,t.isSavedWorkspace=function(e,t){return!u(e,t)&&!h(e)},t.hasWorkspaceFileExtension=function(e){return("string"==typeof e?(0,o.extname)(e):(0,s.extname)(e))===t.WORKSPACE_SUFFIX}},93015:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWorkspaceTrustRequestService=t.IWorkspaceTrustManagementService=t.IWorkspaceTrustEnablementService=t.workspaceTrustToString=t.WorkspaceTrustScope=void 0;const n=i(9147),o=i(28888);var r;(r=t.WorkspaceTrustScope||(t.WorkspaceTrustScope={}))[r.Local=0]="Local",r[r.Remote=1]="Remote",t.workspaceTrustToString=function(e){return e?(0,n.localize)("trusted","Trusted"):(0,n.localize)("untrusted","Restricted Mode")},t.IWorkspaceTrustEnablementService=(0,o.createDecorator)("workspaceTrustEnablementService"),t.IWorkspaceTrustManagementService=(0,o.createDecorator)("workspaceTrustManagementService"),t.IWorkspaceTrustRequestService=(0,o.createDecorator)("workspaceTrustRequestService")},4813:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoMarkdownRenderer=void 0;const r=i(70801),s=i(49659),a=i(70381),c=i(65948),l=i(39136),d=i(53192),u=i(2570),h=i(87361),p=i(30970),g=i(755),f=i(9825);let m=class{render(e,t,i){return this.delegate.render(e,this.transformOptions(t),i)}transformOptions(e){if(!(null==e?void 0:e.actionHandler))return e;const t={disposables:this.toDisposableStore(e.actionHandler.disposables),callback:(t,i)=>e.actionHandler.callback(t,null==i?void 0:i.browserEvent)};return{...e,actionHandler:t}}toDisposableStore(e){if(e instanceof g.DisposableStore)return e;if(e instanceof f.DisposableCollection){const t=new g.DisposableStore;return e.disposables.forEach((e=>t.add(e))),t}return new g.DisposableStore}init(){const e=c.StandaloneServices.get(s.ILanguageService),t=new u.OpenerService(this.codeEditorService,this.commandServiceFactory());t.registerOpener({open:(e,t)=>this.interceptOpen(e,t)});const i=()=>this.preferences.get("editor.fontFamily"),n=new Proxy(Object.create(null),{get:(e,t)=>"codeBlockFontFamily"===t?i():void 0});this.delegate=new a.MarkdownRenderer(n,e,t)}async interceptOpen(e,t){let i;t&&("openToSide"in t&&t.openToSide&&(i=Object.assign(i||{},{widgetOptions:{mode:"split-right"}})),"openExternal"in t&&t.openExternal&&(i=Object.assign(i||{},{openExternal:!0})));const n=new p.URI(e.toString());try{return await(0,h.open)(this.openerService,n,i),!0}catch(e){return console.error(`Fail to open '${n.toString()}':`,e),!1}}};n([(0,r.inject)(d.MonacoEditorService),o("design:type",d.MonacoEditorService)],m.prototype,"codeEditorService",void 0),n([(0,r.inject)(l.MonacoCommandServiceFactory),o("design:type",Function)],m.prototype,"commandServiceFactory",void 0),n([(0,r.inject)(h.OpenerService),o("design:type",Object)],m.prototype,"openerService",void 0),n([(0,r.inject)(h.PreferenceService),o("design:type",Object)],m.prototype,"preferences",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],m.prototype,"init",null),m=n([(0,r.injectable)()],m),t.MonacoMarkdownRenderer=m},45593:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoBulkEditService=void 0;const r=i(70801),s=i(77582),a=i(5993);let c=class{async apply(e,t){const i=Array.isArray(e)?e:a.ResourceEdit.convert(e);return this._previewHandler&&((null==t?void 0:t.showPreview)||i.some((e=>{var t;return null===(t=e.metadata)||void 0===t?void 0:t.needsConfirmation})))?(e=await this._previewHandler(i,t),{ariaSummary:"",success:!0}):this.workspace.applyBulkEdit(i,t)}hasPreviewHandler(){return Boolean(this._previewHandler)}setPreviewHandler(e){this._previewHandler=e;const t=()=>{this._previewHandler===e&&(this._previewHandler=void 0)};return{dispose(){t()}}}};n([(0,r.inject)(s.MonacoWorkspace),o("design:type",s.MonacoWorkspace)],c.prototype,"workspace",void 0),c=n([(0,r.injectable)()],c),t.MonacoBulkEditService=c},4625:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoColorRegistry=void 0;const o=i(70801),r=i(53414),s=i(51138),a=i(78002),c=i(65948),l=i(85813),d=i(50447),u=i(78002);let h=class extends r.ColorRegistry{constructor(){super(...arguments),this.monacoThemeService=c.StandaloneServices.get(l.IStandaloneThemeService),this.monacoColorRegistry=(0,a.getColorRegistry)()}*getColors(){for(const{id:e}of this.monacoColorRegistry.getColors())yield e}getCurrentColor(e){var t;return null===(t=this.monacoThemeService.getColorTheme().getColor(e))||void 0===t?void 0:t.toString()}getColor(e){return this.monacoThemeService.getColorTheme().getColor(e)}doRegister(e){var t,i,n,o,r,a;const c={dark:this.toColor(null===(t=e.defaults)||void 0===t?void 0:t.dark),light:this.toColor(null===(i=e.defaults)||void 0===i?void 0:i.light),hcDark:this.toColor(null!==(o=null===(n=e.defaults)||void 0===n?void 0:n.hcDark)&&void 0!==o?o:null===(r=e.defaults)||void 0===r?void 0:r.hc),hcLight:this.toColor(null===(a=e.defaults)||void 0===a?void 0:a.hcLight)},l=this.monacoColorRegistry.registerColor(e.id,c,e.description);return s.Disposable.create((()=>this.monacoColorRegistry.deregisterColor(l)))}toColor(e){if(!e||"string"==typeof e)return null!=e?e:null;if("kind"in e)return u[e.kind](e.v,e.f);if("r"in e){const{r:t,g:i,b:n,a:o}=e;return new d.Color(new d.RGBA(t,i,n,o))}{const{h:t,s:i,l:n,a:o}=e;return new d.Color(new d.HSLA(t,i,n,o))}}};h=n([(0,o.injectable)()],h),t.MonacoColorRegistry=h},62477:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoCommandRegistry=void 0;const r=i(70801),s=i(9825),a=i(30566),c=i(83514);let l=class{validate(e){return-1!==this.commands.commandIds.indexOf(e)?e:void 0}registerCommand(e,t){this.commands.registerCommand({...e,id:e.id},this.newHandler(t))}registerHandler(e,t){this.commands.registerHandler(e,this.newHandler(t))}newHandler(e){return{execute:(...t)=>this.execute(e,...t),isEnabled:(...t)=>this.isEnabled(e,...t),isVisible:(...t)=>this.isVisible(e,...t)}}execute(e,...t){const i=this.monacoEditors.current;return i?Promise.resolve(e.execute(i,...t)):Promise.resolve()}isEnabled(e,...t){const i=this.monacoEditors.current;return!!i&&(!e.isEnabled||e.isEnabled(i,...t))}isVisible(e,...t){return a.TextEditorSelection.is(this.selectionService.selection)}};n([(0,r.inject)(c.MonacoEditorProvider),o("design:type",c.MonacoEditorProvider)],l.prototype,"monacoEditors",void 0),n([(0,r.inject)(s.CommandRegistry),o("design:type",s.CommandRegistry)],l.prototype,"commands",void 0),n([(0,r.inject)(s.SelectionService),o("design:type",s.SelectionService)],l.prototype,"selectionService",void 0),l=n([(0,r.injectable)()],l),t.MonacoCommandRegistry=l},39136:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoCommandService=t.MonacoCommandServiceFactory=void 0;const s=i(70801),a=i(12202),c=i(18894),l=i(51138);t.MonacoCommandServiceFactory=Symbol("MonacoCommandServiceFactory");let d=class{constructor(e){this.commandRegistry=e,this.onWillExecuteCommandEmitter=new c.Emitter,this.onDidExecuteCommandEmitter=new c.Emitter,this.toDispose=new l.DisposableCollection(this.onWillExecuteCommandEmitter,this.onDidExecuteCommandEmitter),this.delegateListeners=new l.DisposableCollection,this.toDispose.push(this.commandRegistry.onWillExecuteCommand((e=>this.onWillExecuteCommandEmitter.fire(e)))),this.toDispose.push(this.commandRegistry.onDidExecuteCommand((e=>this.onDidExecuteCommandEmitter.fire(e))))}dispose(){this.toDispose.dispose()}get onWillExecuteCommand(){return this.onWillExecuteCommandEmitter.event}get onDidExecuteCommand(){return this.onDidExecuteCommandEmitter.event}setDelegate(e){this.toDispose.disposed||(this.delegateListeners.dispose(),this.toDispose.push(this.delegateListeners),this.delegate=e,this.delegate&&(this.delegateListeners.push(this.delegate.onWillExecuteCommand((e=>this.onWillExecuteCommandEmitter.fire(e)))),this.delegateListeners.push(this.delegate.onDidExecuteCommand((e=>this.onDidExecuteCommandEmitter.fire(e))))))}async executeCommand(e,...t){try{await this.commandRegistry.executeCommand(e,...t)}catch(i){if("NO_ACTIVE_HANDLER"===i.code)return this.executeMonacoCommand(e,...t);throw i}}async executeMonacoCommand(e,...t){if(this.delegate)return this.delegate.executeCommand(e,...t);throw new Error(`command '${e}' not found`)}};d=n([(0,s.injectable)(),r(0,(0,s.inject)(a.CommandRegistry)),o("design:paramtypes",[a.CommandRegistry])],d),t.MonacoCommandService=d},4145:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoEditorCommandHandlers=t.MonacoCommands=void 0;const r=i(70801),s=i(12202),a=i(87361),c=i(30566),l=i(91174),d=i(62477),u=i(53192),h=i(731),p=i(39155),g=i(44989),f=i(95080),m=i(98149),b=i(96249),v=i(39539),A=i(65948);var y;!function(e){e.COMMON_ACTIONS=new Map([["undo",a.CommonCommands.UNDO.id],["redo",a.CommonCommands.REDO.id],["editor.action.selectAll",a.CommonCommands.SELECT_ALL.id],["actions.find",a.CommonCommands.FIND.id],["editor.action.startFindReplaceAction",a.CommonCommands.REPLACE.id]]),e.GO_TO_DEFINITION="editor.action.revealDefinition",e.EXCLUDE_ACTIONS=new Set(["editor.action.quickCommand","editor.action.clipboardCutAction","editor.action.clipboardCopyAction","editor.action.clipboardPasteAction"])}(y=t.MonacoCommands||(t.MonacoCommands={}));let C=class{registerCommands(){this.registerMonacoCommands(),this.registerEditorCommandHandlers()}registerMonacoCommands(){const e=new Map(m.EditorExtensionsRegistry.getEditorActions().map((({id:e,label:t,alias:i})=>[e,{label:t,alias:i}]))),{codeEditorService:t}=this,i=A.StandaloneServices.initialize({}),n=b.CommandsRegistry.getCommands();for(const o of n.keys()){if(y.EXCLUDE_ACTIONS.has(o))continue;const r={execute:(...r)=>{const s=t.getFocusedCodeEditor()||t.getActiveCodeEditor();if(e.has(o)){const e=s&&s.getAction(o);if(!e)return;return e.run()}if(i)return i.invokeFunction(n.get(o).handler,...r)},isEnabled:()=>{const i=t.getFocusedCodeEditor()||t.getActiveCodeEditor();if(e.has(o)){const e=i&&i.getAction(o);return!!e&&e.isSupported()}return!m.EditorExtensionsRegistry.getEditorCommand(o)||!!i}},s=e.get(o);this.commandRegistry.registerCommand({id:o,label:null==s?void 0:s.label,originalLabel:null==s?void 0:s.alias},r);const a=y.COMMON_ACTIONS.get(o);a&&this.commandRegistry.registerHandler(a,r)}}registerEditorCommandHandlers(){this.monacoCommandRegistry.registerHandler(c.EditorCommands.SHOW_REFERENCES.id,this.newShowReferenceHandler()),this.monacoCommandRegistry.registerHandler(c.EditorCommands.CONFIG_INDENTATION.id,this.newConfigIndentationHandler()),this.monacoCommandRegistry.registerHandler(c.EditorCommands.CONFIG_EOL.id,this.newConfigEolHandler()),this.monacoCommandRegistry.registerHandler(c.EditorCommands.INDENT_USING_SPACES.id,this.newConfigTabSizeHandler(!0)),this.monacoCommandRegistry.registerHandler(c.EditorCommands.INDENT_USING_TABS.id,this.newConfigTabSizeHandler(!1)),this.monacoCommandRegistry.registerHandler(c.EditorCommands.REVERT_EDITOR.id,this.newRevertActiveEditorHandler()),this.monacoCommandRegistry.registerHandler(c.EditorCommands.REVERT_AND_CLOSE.id,this.newRevertAndCloseActiveEditorHandler())}newShowReferenceHandler(){return{execute:(e,t,i,n)=>{A.StandaloneServices.get(b.ICommandService).executeCommand("editor.action.showReferences",v.Uri.parse(t),this.p2m.asPosition(i),n.map((e=>this.p2m.asLocation(e))))}}}newConfigIndentationHandler(){return{execute:e=>this.configureIndentation(e)}}configureIndentation(e){var t;const i=[!0,!1].map((t=>({label:g.nls.localizeByDefault("Indent Using "+(t?"Spaces":"Tabs")),execute:()=>this.configureTabSize(e,t)})));null===(t=this.quickInputService)||void 0===t||t.showQuickPick(i,{placeholder:g.nls.localizeByDefault("Select Action")})}newConfigEolHandler(){return{execute:e=>this.configureEol(e)}}configureEol(e){var t;const i=["LF","CRLF"].map((t=>({label:t,execute:()=>this.setEol(e,t)})));null===(t=this.quickInputService)||void 0===t||t.showQuickPick(i,{placeholder:g.nls.localizeByDefault("Select End of Line Sequence")})}setEol(e,t){const i=e.document&&e.document.textEditorModel;i&&("CRLF"===t||"\r\n"===t?i.pushEOL(1):i.pushEOL(0))}newConfigTabSizeHandler(e){return{execute:t=>this.configureTabSize(t,e)}}configureTabSize(e,t){var i;const n=e.document&&e.document.textEditorModel;if(n){const{tabSize:e}=n.getOptions(),o=Array.from(Array(8),((e,t)=>t+1)).map((i=>({label:i===e?i+"   "+g.nls.localizeByDefault("Configured Tab Size"):i.toString(),execute:()=>n.updateOptions({tabSize:i||e,insertSpaces:t})})));null===(i=this.quickInputService)||void 0===i||i.showQuickPick(o,{placeholder:g.nls.localizeByDefault("Select Tab Size for Current File")})}}newRevertActiveEditorHandler(){return{execute:()=>this.revertEditor(this.getActiveEditor().editor)}}newRevertAndCloseActiveEditorHandler(){return{execute:async()=>this.revertAndCloseActiveEditor(this.getActiveEditor())}}getActiveEditor(){const e=this.editorManager.currentEditor;return{widget:e,editor:e&&l.MonacoEditor.getCurrent(this.editorManager)}}async revertEditor(e){if(e)return e.document.revert()}async revertAndCloseActiveEditor(e){if(e.editor&&e.widget)try{await this.revertEditor(e.editor),e.widget.close()}catch(t){await this.shell.closeWidget(e.widget.id,{save:!1})}}};n([(0,r.inject)(d.MonacoCommandRegistry),o("design:type",d.MonacoCommandRegistry)],C.prototype,"monacoCommandRegistry",void 0),n([(0,r.inject)(s.CommandRegistry),o("design:type",s.CommandRegistry)],C.prototype,"commandRegistry",void 0),n([(0,r.inject)(p.ProtocolToMonacoConverter),o("design:type",p.ProtocolToMonacoConverter)],C.prototype,"p2m",void 0),n([(0,r.inject)(a.QuickInputService),(0,r.optional)(),o("design:type",Object)],C.prototype,"quickInputService",void 0),n([(0,r.inject)(u.MonacoEditorService),o("design:type",u.MonacoEditorService)],C.prototype,"codeEditorService",void 0),n([(0,r.inject)(h.MonacoTextModelService),o("design:type",h.MonacoTextModelService)],C.prototype,"textModelService",void 0),n([(0,r.inject)(f.ContextKeyService),o("design:type",f.ContextKeyService)],C.prototype,"contextKeyService",void 0),n([(0,r.inject)(a.ApplicationShell),o("design:type",a.ApplicationShell)],C.prototype,"shell",void 0),n([(0,r.inject)(c.EditorManager),o("design:type",c.EditorManager)],C.prototype,"editorManager",void 0),C=n([(0,r.injectable)()],C),t.MonacoEditorCommandHandlers=C},64897:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoContextKeyService=void 0;const r=i(70801),s=i(9825),a=i(95080),c=i(83913);let l=class{constructor(){this.onDidChangeEmitter=new s.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.expressions=new Map}init(){this.contextKeyService.onDidChangeContext((e=>this.onDidChangeEmitter.fire({affects:t=>e.affectsSome(t)})))}createKey(e,t){return this.contextKeyService.createKey(e,t)}match(e,t){const i=this.parse(e);if(i){const e=this.identifyContext(t);return e?i.evaluate(e):this.contextKeyService.contextMatchesRules(i)}return!0}identifyContext(e,t=this.contextKeyService){var i;if(e&&"getValue"in e)return e;if(this.activeContext&&"getValue"in this.activeContext)return this.activeContext;const n=null!==(i=null!=e?e:this.activeContext)&&void 0!==i?i:document.activeElement instanceof HTMLElement?document.activeElement:void 0;return n?t.getContext(n):void 0}parse(e){let t=this.expressions.get(e);return t||(t=c.ContextKeyExpr.deserialize(e),t&&this.expressions.set(e,t)),t}parseKeys(e){const t=c.ContextKeyExpr.deserialize(e);return t?new Set(t.keys()):t}with(e,t){const i=this.activeContext,n=this.contextKeyService.createChildContext(),o=this.contextKeyService.getContextValuesContainer(n);for(const[t,i]of Object.entries(e))o.setValue(t,i);this.activeContext=o;try{return t()}finally{this.activeContext=i,this.contextKeyService.disposeContext(n)}}createScoped(e){const t=this.contextKeyService.createScoped(e);return t instanceof a.AbstractContextKeyService?t:this}createOverlay(e){const t=this.contextKeyService.createOverlay(e);return{match:(e,i)=>{const n=this.parse(e);if(n){const e=this.identifyContext(i,t);return e?n.evaluate(e):t.contextMatchesRules(n)}return!0},dispose:()=>t.dispose()}}setContext(e,t){this.contextKeyService.setContext(e,t)}dispose(){this.activeContext=void 0,this.onDidChangeEmitter.dispose(),this.contextKeyService.dispose()}};n([(0,r.inject)(a.ContextKeyService),o("design:type",a.ContextKeyService)],l.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"init",null),l=n([(0,r.injectable)()],l),t.MonacoContextKeyService=l},29104:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoContextMenuService=void 0;const s=i(70801),a=i(30566),c=i(87361),l=i(29486),d=i(35002),u=i(97559),h=i(50855);let p=class{constructor(e){this.contextMenuRenderer=e,this.onDidShowContextMenuEmitter=new h.Emitter,this.onDidHideContextMenuEmitter=new h.Emitter}get onDidShowContextMenu(){return this.onDidShowContextMenuEmitter.event}get onDidHideContextMenu(){return this.onDidShowContextMenuEmitter.event}showContextMenu(e){const t=(0,c.toAnchor)(e.getAnchor()),i=e.getActions(),n=()=>{var t;null===(t=e.onHide)||void 0===t||t.call(e,!1),this.onDidHideContextMenuEmitter.fire()};if(i.length>0&&i[0]instanceof u.MenuItemAction)this.contextMenuRenderer.render({menuPath:this.menuPath(),anchor:t,onHide:n});else{const e=new d.CommandRegistry,o=new l.Menu({commands:e});for(const t of i){const n="quickfix_"+i.indexOf(t);e.addCommand(n,{label:t.label,className:t.class,isToggled:()=>Boolean(t.checked),isEnabled:()=>t.enabled,execute:()=>t.run()}),o.addItem({type:"command",command:n})}o.aboutToClose.connect((()=>n())),o.open(t.x,t.y)}this.onDidShowContextMenuEmitter.fire()}menuPath(){return a.EDITOR_CONTEXT_MENU}};p=n([(0,s.injectable)(),r(0,(0,s.inject)(c.ContextMenuRenderer)),o("design:paramtypes",[c.ContextMenuRenderer])],p),t.MonacoContextMenuService=p},23281:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoDiffEditor=void 0;const n=i(30970),o=i(91174),r=i(40598),s=i(42425);class a extends o.MonacoEditor{constructor(e,t,i,n,o,r,s,a){super(e,n,t,o,s,a),this.originalModel=i,this.modifiedModel=n,this.diffNavigatorFactory=r,this.documents.add(i);const c=i.textEditorModel,l=n.textEditorModel;this._diffNavigator=r.createdDiffNavigator(this._diffEditor,s),this._diffEditor.setModel({original:c,modified:l})}get diffEditor(){return this._diffEditor}get diffNavigator(){return this._diffNavigator}create(e,t){const i=this.getInstantiatorWithOverrides(t);return this._diffEditor=i.createInstance(s.StandaloneDiffEditor,this.node,{...e,fixedOverflowWidgets:!0}),this.editor=this._diffEditor.getModifiedEditor(),this._diffEditor}resize(e){if(this.node){const t=this.computeLayoutSize(this.node,e);this._diffEditor.layout(t)}}isActionSupported(e){const t=this._diffEditor.getSupportedActions().find((t=>t.id===e));return!!t&&t.isSupported()&&super.isActionSupported(e)}deltaDecorations(e){return console.warn("`deltaDecorations` should be called on either the original, or the modified editor."),[]}getResourceUri(){return new n.default(this.originalModel.uri)}createMoveToUri(e){const[t,i]=r.DiffUris.decode(this.uri);return r.DiffUris.encode(t.withPath(e.path),i.withPath(e.path))}}t.MonacoDiffEditor=a},7331:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoDiffNavigatorFactory=void 0;const o=i(70801),r=i(14112);let s=class{createdDiffNavigator(e,t){const i=new r.DiffNavigator(e,t),n=e=>{i.nextIdx<0&&i._initIdx(e)};return{canNavigate:()=>i.canNavigate(),hasNext:()=>!!i.canNavigate()&&(n(!0),i.nextIdx+1<i.ranges.length),hasPrevious:()=>!!i.canNavigate()&&(n(!1),i.nextIdx>0),next:()=>i.next(),previous:()=>i.previous()}}};s.nullNavigator={canNavigate:()=>!1,hasNext:()=>!1,hasPrevious:()=>!1,next:()=>{},previous:()=>{}},s=n([(0,o.injectable)()],s),t.MonacoDiffNavigatorFactory=s},89461:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoEditorModel=t.TextDocumentSaveReason=void 0;const n=i(75437);Object.defineProperty(t,"TextDocumentSaveReason",{enumerable:!0,get:function(){return n.TextDocumentSaveReason}});const o=i(51138),r=i(18894),s=i(67841),a=i(1483),c=i(39539),l=i(65948),d=i(49659),u=i(64303),h=i(65556),p=i(53116);t.MonacoEditorModel=class{constructor(e,t,i,n,a){this.resource=e,this.m2p=t,this.p2m=i,this.logger=n,this.editorPreferences=a,this.autoSave="afterDelay",this.autoSaveDelay=500,this.suppressOpenEditorWhenDirty=!1,this.lineNumbersMinChars=3,this.onWillSaveLoopTimeOut=1500,this.toDispose=new o.DisposableCollection,this.toDisposeOnAutoSave=new o.DisposableCollection,this.onDidChangeContentEmitter=new r.Emitter,this.onDidChangeContent=this.onDidChangeContentEmitter.event,this.onDidSaveModelEmitter=new r.Emitter,this.onDidSaveModel=this.onDidSaveModelEmitter.event,this.onWillSaveModelEmitter=new r.Emitter,this.onWillSaveModel=this.onWillSaveModelEmitter.event,this.onDidChangeValidEmitter=new r.Emitter,this.onDidChangeValid=this.onDidChangeValidEmitter.event,this.onDidChangeEncodingEmitter=new r.Emitter,this.onDidChangeEncoding=this.onDidChangeEncodingEmitter.event,this._valid=!1,this._dirty=!1,this.onDirtyChangedEmitter=new r.Emitter,this.pendingOperation=Promise.resolve(),this.syncCancellationTokenSource=new s.CancellationTokenSource,this.ignoreDirtyEdits=!1,this.saveCancellationTokenSource=new s.CancellationTokenSource,this.ignoreContentChanges=!1,this.contentChanges=[],this.toDispose.push(e),this.toDispose.push(this.toDisposeOnAutoSave),this.toDispose.push(this.onDidChangeContentEmitter),this.toDispose.push(this.onDidSaveModelEmitter),this.toDispose.push(this.onWillSaveModelEmitter),this.toDispose.push(this.onDirtyChangedEmitter),this.toDispose.push(this.onDidChangeValidEmitter),this.toDispose.push(o.Disposable.create((()=>this.cancelSave()))),this.toDispose.push(o.Disposable.create((()=>this.cancelSync()))),this.resolveModel=this.readContents().then((e=>this.initialize(e||"")))}dispose(){this.toDispose.dispose()}isDisposed(){return this.toDispose.disposed}resolve(){return this.resolveModel}isResolved(){return Boolean(this.model)}setEncoding(e,t){return 1===t&&this.dirty?Promise.resolve():this.setPreferredEncoding(e)?1===t?this.sync():this.scheduleSave(n.TextDocumentSaveReason.Manual,this.cancelSave(),!0):Promise.resolve()}getEncoding(){return this.preferredEncoding||this.contentEncoding}setPreferredEncoding(e){return!(e===this.preferredEncoding||!this.preferredEncoding&&e===this.contentEncoding||(this.preferredEncoding=e,this.onDidChangeEncodingEmitter.fire(e),0))}updateContentEncoding(){const e=this.resource.encoding;e&&this.contentEncoding!==e&&(this.contentEncoding=e,this.preferredEncoding||this.onDidChangeEncodingEmitter.fire(e))}initialize(e){if(!this.toDispose.disposed){const t=c.Uri.parse(this.resource.uri.toString());let i;if("string"==typeof e){i=e;const t=e.indexOf("\n");-1!==t&&(i=e.substring(0,t))}else i=e.getFirstLineText(1e3);const n=l.StandaloneServices.get(d.ILanguageService).createByFilepathOrFirstLine(t,i);this.model=l.StandaloneServices.get(u.IModelService).createModel(e,n,t),this.resourceVersion=this.resource.version,this.setDirty(this._dirty||this.resource.uri.scheme===a.UNTITLED_SCHEME&&this.model.getValueLength()>0),this.updateSavedVersionId(),this.toDispose.push(this.model),this.toDispose.push(this.model.onDidChangeContent((e=>this.fireDidChangeContent(e)))),this.resource.onDidChangeContents&&this.toDispose.push(this.resource.onDidChangeContents((()=>this.sync())))}}get valid(){return this._valid}setValid(e){e!==this._valid&&(this._valid=e,this.onDidChangeValidEmitter.fire(void 0))}get dirty(){return this._dirty}setDirty(e){e!==this._dirty&&(this._dirty=e,!1===e&&this.updateSavedVersionId(),this.onDirtyChangedEmitter.fire(void 0))}updateSavedVersionId(){this.bufferSavedVersionId=this.model.getAlternativeVersionId()}get onDirtyChanged(){return this.onDirtyChangedEmitter.event}get uri(){return this.resource.uri.toString()}get languageId(){return void 0!==this._languageId?this._languageId:this.model.getLanguageId()}getLanguageId(){return this.languageId}setLanguageId(e){this._languageId=e}get version(){return this.model.getVersionId()}getText(e){return e?this.model.getValueInRange(this.p2m.asRange(e)):this.model.getValue()}positionAt(e){const{lineNumber:t,column:i}=this.model.getPositionAt(e);return this.m2p.asPosition(t,i)}offsetAt(e){return this.model.getOffsetAt(this.p2m.asPosition(e))}get lineCount(){return this.model.getLineCount()}getLineContent(e){return this.model.getLineContent(e)}getLineMaxColumn(e){return this.model.getLineMaxColumn(e)}toValidPosition(e){const{lineNumber:t,column:i}=this.model.validatePosition(this.p2m.asPosition(e));return this.m2p.asPosition(t,i)}toValidRange(e){return this.m2p.asRange(this.model.validateRange(this.p2m.asRange(e)))}get readOnly(){return void 0===this.resource.saveContents}isReadonly(){return this.readOnly}get onDispose(){return this.toDispose.onDispose}get onWillDispose(){return this.toDispose.onDispose}get textEditorModel(){return this.model}findMatches(e){var t,i;const o=null!==(i=null===(t=this.editorPreferences)||void 0===t?void 0:t["editor.wordSeparators"])&&void 0!==i?i:p.editorGeneratedPreferenceProperties["editor.wordSeparators"].default,r=this.model.findMatches(e.searchString,!1,e.isRegex,e.matchCase,e.matchWholeWord?o:null,!0,e.limitResultCount),s=[];return r.forEach((e=>{e.matches&&s.push({matches:e.matches,range:n.Range.create(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})})),s}async load(){return await this.resolveModel,this}save(e){return this.scheduleSave(n.TextDocumentSaveReason.Manual,void 0,void 0,e)}async run(e){if(!this.toDispose.disposed)return this.pendingOperation=this.pendingOperation.then((async()=>{try{await e()}catch(e){console.error(e)}}))}cancelSync(){return this.trace((e=>e("MonacoEditorModel.cancelSync"))),this.syncCancellationTokenSource.cancel(),this.syncCancellationTokenSource=new s.CancellationTokenSource,this.syncCancellationTokenSource.token}async sync(){const e=this.cancelSync();return this.run((()=>this.doSync(e)))}async doSync(e){if(this.trace((e=>e("MonacoEditorModel.doSync - enter"))),e.isCancellationRequested)return void this.trace((e=>e("MonacoEditorModel.doSync - exit - cancelled")));const t=await this.readContents();void 0!==t?e.isCancellationRequested?this.trace((e=>e("MonacoEditorModel.doSync - exit - cancelled while looking for a resource"))):this._dirty?this.trace((e=>e("MonacoEditorModel.doSync - exit - pending dirty changes"))):(this.resourceVersion=this.resource.version,this.updateModel((()=>l.StandaloneServices.get(u.IModelService).updateModel(this.model,t)),{ignoreDirty:!0,ignoreContentChanges:!0}),this.trace((e=>e("MonacoEditorModel.doSync - exit")))):this.trace((e=>e("MonacoEditorModel.doSync - exit - resource not found")))}async readContents(){try{const e={encoding:this.getEncoding()},t=await(this.resource.readStream?this.resource.readStream(e):this.resource.readContents(e));let i;return i="string"==typeof t?t:(0,h.createTextBufferFactoryFromStream)(t),this.updateContentEncoding(),this.setValid(!0),i}catch(e){if(this.setValid(!1),a.ResourceError.NotFound.is(e))return;throw e}}markAsDirty(){this.trace((e=>e("MonacoEditorModel.markAsDirty - enter"))),this.ignoreDirtyEdits?this.trace((e=>e("MonacoEditorModel.markAsDirty - exit - ignoring dirty changes enabled"))):(this.cancelSync(),this.setDirty(!0),this.doAutoSave(),this.trace((e=>e("MonacoEditorModel.markAsDirty - exit"))))}doAutoSave(){if("off"!==this.autoSave&&this.resource.uri.scheme!==a.UNTITLED_SCHEME){const e=this.cancelSave();this.toDisposeOnAutoSave.dispose();const t=window.setTimeout((()=>{this.scheduleSave(n.TextDocumentSaveReason.AfterDelay,e)}),this.autoSaveDelay);this.toDisposeOnAutoSave.push(o.Disposable.create((()=>window.clearTimeout(t))))}}cancelSave(){return this.trace((e=>e("MonacoEditorModel.cancelSave"))),this.saveCancellationTokenSource.cancel(),this.saveCancellationTokenSource=new s.CancellationTokenSource,this.saveCancellationTokenSource.token}scheduleSave(e,t=this.cancelSave(),i,n){return this.run((()=>this.doSave(e,t,i,n)))}pushContentChanges(e){this.ignoreContentChanges||this.contentChanges.push(...e)}fireDidChangeContent(e){this.trace((t=>t(`MonacoEditorModel.fireDidChangeContent - enter - ${JSON.stringify(e,void 0,2)}`))),this.model.getAlternativeVersionId()===this.bufferSavedVersionId?this.setDirty(!1):this.markAsDirty();const t=this.asContentChangedEvent(e);this.onDidChangeContentEmitter.fire(t),this.pushContentChanges(t.contentChanges),this.trace((e=>e("MonacoEditorModel.fireDidChangeContent - exit")))}asContentChangedEvent(e){return{model:this,contentChanges:e.changes.map((e=>this.asTextDocumentContentChangeEvent(e)))}}asTextDocumentContentChangeEvent(e){return{range:this.m2p.asRange(e.range),rangeLength:e.rangeLength,text:e.text}}applyEdits(e,t){return this.updateModel((()=>this.model.applyEdits(e)),t)}updateModel(e,t){const i={ignoreDirty:!1,ignoreContentChanges:!1,...t},{ignoreDirtyEdits:n,ignoreContentChanges:o}=this;this.ignoreDirtyEdits=i.ignoreDirty,this.ignoreContentChanges=i.ignoreContentChanges;try{return e()}finally{this.ignoreDirtyEdits=n,this.ignoreContentChanges=o}}async doSave(e,t,i,o){if(t.isCancellationRequested||!this.resource.saveContents)return;if(await this.fireWillSaveModel(e,t,o),t.isCancellationRequested)return;const r=[...this.contentChanges];if(0===r.length&&!i&&e!==n.TextDocumentSaveReason.Manual)return;const s=this.model.getValueLength(),c=this.model.getValue();try{const e=this.getEncoding(),n=this.resourceVersion;if(await a.Resource.save(this.resource,{changes:r,content:c,contentLength:s,options:{encoding:e,overwriteEncoding:i,version:n}},t),this.contentChanges.splice(0,r.length),this.resourceVersion=this.resource.version,this.updateContentEncoding(),this.setValid(!0),t.isCancellationRequested)return;this.setDirty(!1),this.fireDidSaveModel()}catch(e){if(!a.ResourceError.OutOfSync.is(e))throw e}}async fireWillSaveModel(e,t,i){const n=this.onWillSaveModelEmitter.sequence((async n=>{if(t.isCancellationRequested)return!1;const o=[],{version:r}=this,s={model:this,reason:e,options:i,waitUntil:e=>{if(Object.isFrozen(o))throw new Error("waitUntil cannot be called asynchronously.");o.push(e)}};try{n(s)}catch(e){return console.error(e),!0}Object.freeze(o);const a=await Promise.all(o).then((e=>[].concat(...e)));return!t.isCancellationRequested&&(r!==this.version&&console.error("onWillSave listeners should provide edits, not directly alter the document."),a&&a.length>0&&this.applyEdits(a,{ignoreDirty:!0}),!0)}));try{await n}catch(e){console.error(e)}}fireDidSaveModel(){this.onDidSaveModelEmitter.fire(this.model)}async revert(e){if(this.trace((e=>e("MonacoEditorModel.revert - enter"))),this.cancelSave(),!0!==(e&&e.soft)){const e=this._dirty;this._dirty=!1;try{await this.sync()}finally{this._dirty=e}}this.setDirty(!1),this.trace((e=>e("MonacoEditorModel.revert - exit")))}createSnapshot(e){return{read:()=>this.model.getValue(void 0,e)}}applySnapshot(e){var t;const i="value"in e?e.value:null!==(t=e.read())&&void 0!==t?t:"";this.model.setValue(i)}trace(e){this.logger&&this.logger.debug((t=>e(((e,...i)=>t(e,...i,this.resource.uri.toString(!0))))))}}},83514:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoEditorProvider=t.MonacoEditorFactory=void 0;const a=i(30970),c=i(30566),l=i(40598),d=i(70801),u=i(9825),h=i(75437),p=i(39136),g=i(29104),f=i(23281),m=i(7331),b=i(91174),v=i(89461),A=i(53192),y=i(731),C=i(77582),w=i(45593),_=i(17602),S=i(9825),E=i(87361),k=i(55614),x=i(51902),D=i(39155),T=i(21549),M=i(98457),B=i(95080),I=i(2570),L=i(65948),P=i(45559),O=i(86146),R=i(29045),N=i(28888),F=i(79999),j=i(60516),W=i(94686),z=i(48963),U=i(5993),H=i(83913),V=i(71280),K=i(96249);t.MonacoEditorFactory=Symbol("MonacoEditorFactory");let G=n=class{constructor(e,t,i,n,o,r,s,a,c,l,d){this.codeEditorService=e,this.textModelService=t,this.contextMenuService=i,this.m2p=n,this.p2m=o,this.workspace=r,this.commandServiceFactory=s,this.editorPreferences=a,this.diffNavigatorFactory=c,this.applicationServer=l,this.contextKeyService=d,L.StandaloneServices.initialize({[R.ICodeEditorService.toString()]:e})}get current(){return this._current}async getModel(e,t){const i=await this.textModelService.createModelReference(e);if(i.object.valid||await i.object.sync(),!i.object.valid)throw i.dispose(),Object.assign(new Error(`'${e.toString()}' is invalid`),{code:"MODEL_IS_INVALID"});return t.push(i),i.object}async get(e){return await this.editorPreferences.ready,this.doCreateEditor(e,((t,i)=>this.createEditor(e,t,i)))}async doCreateEditor(e,t){const i=this.commandServiceFactory(),n=document.createElement("div"),o=this.contextKeyService.createScoped(n),{codeEditorService:r,textModelService:s,contextMenuService:a}=this,c=this.bulkEditService,l=new u.DisposableCollection(i),d=new I.OpenerService(r,i);d.registerOpener({open:(e,t)=>this.interceptOpen(e,t)});const h=[[R.ICodeEditorService,r],[W.ITextModelService,s],[z.IContextMenuService,a],[U.IBulkEditService,c],[H.IContextKeyService,o],[P.IOpenerService,d],[V.IQuickInputService,this.quickInputService],[K.ICommandService,i]],p=await t(h,l);p.onDispose((()=>l.dispose())),this.injectKeybindingResolver(p);const g=new L.StandaloneCommandService(L.StandaloneServices.get(N.IInstantiationService));return i.setDelegate(g),l.push(p.onFocusChanged((e=>{e&&(this._current=p)}))),l.push(u.Disposable.create((()=>{this._current===p&&(this._current=void 0)}))),p}async interceptOpen(e,t){let i;t&&("openToSide"in t&&t.openToSide&&(i=Object.assign(i||{},{widgetOptions:{mode:"split-right"}})),"openExternal"in t&&t.openExternal&&(i=Object.assign(i||{},{openExternal:!0})));const n=new a.default(e.toString());try{return await(0,E.open)(this.openerService,n,i),!0}catch(e){return console.error(`Fail to open '${n.toString()}':`,e),!1}}injectKeybindingResolver(e){const t=L.StandaloneServices.get(F.IKeybindingService);t.resolveKeybinding=e=>[new k.MonacoResolvedKeybinding(k.MonacoResolvedKeybinding.keySequence(e),this.keybindingRegistry)],t.resolveKeyboardEvent=e=>{const t=new O.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new k.MonacoResolvedKeybinding(k.MonacoResolvedKeybinding.keySequence(t),this.keybindingRegistry)}}createEditor(e,t,i){return l.DiffUris.isDiffUri(e)?this.createMonacoDiffEditor(e,t,i):this.createMonacoEditor(e,t,i)}get preferencePrefixes(){return["editor."]}async createMonacoEditor(e,t,i){const n=await this.getModel(e,i),o=this.createMonacoEditorOptions(n),r=this.factories.getContributions().find((({scheme:t})=>e.scheme===t)),s=r?r.create(n,o,t):new b.MonacoEditor(e,n,document.createElement("div"),this.services,o,t);return i.push(this.editorPreferences.onPreferenceChanged((t=>{t.affects(e.toString(),n.languageId)&&this.updateMonacoEditorOptions(s,t)}))),i.push(s.onLanguageChanged((()=>this.updateMonacoEditorOptions(s)))),s.document.onWillSaveModel((e=>e.waitUntil(this.formatOnSave(s,e)))),s}createMonacoEditorOptions(e){const t=this.createOptions(this.preferencePrefixes,e.uri,e.languageId);return t.model=e.textEditorModel,t.readOnly=e.readOnly,t.lineNumbersMinChars=e.lineNumbersMinChars,t}updateMonacoEditorOptions(e,t){if(t){const i=t.preferenceName,n=e.document.languageId,o=this.editorPreferences.get({preferenceName:i,overrideIdentifier:n},void 0,e.uri.toString());e.getControl().updateOptions(this.setOption(i,o,this.preferencePrefixes))}else{const t=this.createMonacoEditorOptions(e.document);delete t.model,e.getControl().updateOptions(t)}}shouldFormat(e,t){var i;if(t.reason!==h.TextDocumentSaveReason.Manual)return!1;if(null===(i=t.options)||void 0===i?void 0:i.formatType)switch(t.options.formatType){case 1:return!0;case 2:return!1;case 3:return e.document.dirty}return!0}async formatOnSave(e,t){if(!this.shouldFormat(e,t))return[];const i=e.document.languageId,n=e.uri.toString();if(this.editorPreferences.get({preferenceName:"editor.formatOnSave",overrideIdentifier:i},void 0,n)){const t=this.editorPreferences.get({preferenceName:"editor.formatOnSaveTimeout",overrideIdentifier:i},void 0,n);await Promise.race([(0,j.timeoutReject)(t,`Aborted format on save after ${t}ms`),e.runAction("editor.action.formatDocument")])}return this.filePreferences.get({preferenceName:"files.trimTrailingWhitespace",overrideIdentifier:i},void 0,n)&&await e.runAction("editor.action.trimTrailingWhitespace"),[]}get diffPreferencePrefixes(){return[...this.preferencePrefixes,"diffEditor."]}async createMonacoDiffEditor(e,t,i){const[n,o]=l.DiffUris.decode(e),[r,s]=await Promise.all([this.getModel(n,i),this.getModel(o,i)]),a=this.createMonacoDiffEditorOptions(r,s),c=new f.MonacoDiffEditor(e,document.createElement("div"),r,s,this.services,this.diffNavigatorFactory,a,t);return i.push(this.editorPreferences.onPreferenceChanged((e=>{const t=n.withoutQuery().withScheme("file").toString();e.affects(t,c.document.languageId)&&this.updateMonacoDiffEditorOptions(c,e,t)}))),i.push(c.onLanguageChanged((()=>this.updateMonacoDiffEditorOptions(c)))),c}createMonacoDiffEditorOptions(e,t){const i=this.createOptions(this.diffPreferencePrefixes,t.uri,t.languageId);return i.originalEditable=!e.readOnly,i.readOnly=t.readOnly,i}updateMonacoDiffEditorOptions(e,t,i){if(t){const n=t.preferenceName,o=e.document.languageId,r=this.editorPreferences.get({preferenceName:n,overrideIdentifier:o},void 0,i);e.diffEditor.updateOptions(this.setOption(n,r,this.diffPreferencePrefixes))}else{const t=this.createMonacoDiffEditorOptions(e.originalModel,e.modifiedModel);e.diffEditor.updateOptions(t)}}createOptions(e,t,i){const n={};for(const e of Object.keys(this.editorPreferences))n[e]=this.editorPreferences.get({preferenceName:e,overrideIdentifier:i},void 0,t);return Object.entries(n).reduce(((t,[i,n])=>this.setOption(i,(0,u.deepClone)(n),e,t)),{})}setOption(e,t,i,n={}){const o=this.toOptionName(e,i);return this.doSetOption(n,t,o.split(".")),n}toOptionName(e,t){for(const i of t)if(e.startsWith(i))return e.substring(i.length);return e}doSetOption(e,t,i){for(let t=0;t<i.length-1;t++){const n=i[t];void 0===e[n]?e=e[n]={}:"object"!=typeof e[n]||null===e[n]?(console.warn(`Preference (diff)editor.${i.join(".")} conflicts with another preference name.`),e=e[n]={}):e=e[n]}e[i[i.length-1]]=t}getDiffNavigator(e){return e instanceof f.MonacoDiffEditor?e.diffNavigator:m.MonacoDiffNavigatorFactory.nullNavigator}async createInline(e,t,i){return this.doCreateEditor(e,(async(o,r)=>{const s=o?Array.from(o):[];s.push([z.IContextMenuService,{showContextMenu:()=>{}}]);const a=new v.MonacoEditorModel({uri:e,readContents:async()=>"",dispose:()=>{}},this.m2p,this.p2m);r.push(a);const c=(await a.load()).textEditorModel;return new b.MonacoEditor(e,a,t,this.services,Object.assign({model:c,isSimpleWidget:!0,autoSizing:!1,minHeight:1,maxHeight:1},n.inlineOptions,i),s)}))}};G.inlineOptions={wordWrap:"on",overviewRulerLanes:0,glyphMargin:!1,lineNumbers:"off",folding:!1,selectOnLineNumbers:!1,hideCursorInOverviewRuler:!0,selectionHighlight:!1,scrollbar:{horizontal:"hidden"},lineDecorationsWidth:0,overviewRulerBorder:!1,scrollBeyondLastLine:!1,renderLineHighlight:"none",fixedOverflowWidgets:!0,acceptSuggestionOnEnter:"smart",minimap:{enabled:!1}},o([(0,d.inject)(S.ContributionProvider),(0,d.named)(t.MonacoEditorFactory),r("design:type",Object)],G.prototype,"factories",void 0),o([(0,d.inject)(w.MonacoBulkEditService),r("design:type",w.MonacoBulkEditService)],G.prototype,"bulkEditService",void 0),o([(0,d.inject)(b.MonacoEditorServices),r("design:type",b.MonacoEditorServices)],G.prototype,"services",void 0),o([(0,d.inject)(E.KeybindingRegistry),r("design:type",E.KeybindingRegistry)],G.prototype,"keybindingRegistry",void 0),o([(0,d.inject)(E.OpenerService),r("design:type",Object)],G.prototype,"openerService",void 0),o([(0,d.inject)(T.FileSystemPreferences),r("design:type",Object)],G.prototype,"filePreferences",void 0),o([(0,d.inject)(M.MonacoQuickInputImplementation),r("design:type",M.MonacoQuickInputImplementation)],G.prototype,"quickInputService",void 0),G=n=o([(0,d.injectable)(),s(0,(0,d.inject)(A.MonacoEditorService)),s(1,(0,d.inject)(y.MonacoTextModelService)),s(2,(0,d.inject)(g.MonacoContextMenuService)),s(3,(0,d.inject)(x.MonacoToProtocolConverter)),s(4,(0,d.inject)(D.ProtocolToMonacoConverter)),s(5,(0,d.inject)(C.MonacoWorkspace)),s(6,(0,d.inject)(p.MonacoCommandServiceFactory)),s(7,(0,d.inject)(c.EditorPreferences)),s(8,(0,d.inject)(m.MonacoDiffNavigatorFactory)),s(9,(0,d.inject)(_.ApplicationServer)),s(10,(0,d.inject)(B.ContextKeyService)),r("design:paramtypes",[A.MonacoEditorService,y.MonacoTextModelService,g.MonacoContextMenuService,x.MonacoToProtocolConverter,D.ProtocolToMonacoConverter,C.MonacoWorkspace,Function,Object,m.MonacoDiffNavigatorFactory,Object,B.ContextKeyService])],G),t.MonacoEditorProvider=G},53192:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoEditorService=void 0;const a=i(70801),c=i(30970),l=i(87361),d=i(30566),u=i(91174),h=i(51902),p=i(89461),g=i(65948),f=i(85813),m=i(42299),b=i(42425),v=i(95080);(0,a.decorate)((0,a.injectable)(),m.StandaloneCodeEditorService);let A=n=class extends m.StandaloneCodeEditorService{constructor(e){super(e,g.StandaloneServices.get(f.IStandaloneThemeService))}getActiveCodeEditor(){let e=u.MonacoEditor.getCurrent(this.editors);if(!e&&d.CustomEditorWidget.is(this.shell.activeWidget)){const t=this.shell.activeWidget.modelRef.object;t.editorTextModel instanceof p.MonacoEditorModel&&(e=u.MonacoEditor.findByDocument(this.editors,t.editorTextModel)[0])}const t=null==e?void 0:e.getControl();return t instanceof b.StandaloneCodeEditor?t:null}async openCodeEditor(e,t,i){const n=new c.default(e.resource.toString()),o=this.createEditorOpenerOptions(e,t,i),r=await(0,l.open)(this.openerService,n,o),s=await this.findEditorWidgetByUri(r,n.toString());if(s&&s.editor instanceof u.MonacoEditor){const e=s.editor.getControl();return e instanceof b.StandaloneCodeEditor?e:null}return null}async findEditorWidgetByUri(e,t){if(e instanceof d.EditorWidget)return e.editor.uri.toString()===t?e:void 0;if(l.ApplicationShell.TrackableWidgetProvider.is(e))for(const i of e.getTrackableWidgets()){const e=await this.findEditorWidgetByUri(i,t);if(e)return e}}createEditorOpenerOptions(e,t,i){const o=this.getEditorOpenMode(e),r=this.getWidgetOptions(t,i),s=this.getSelection(e);return{mode:o,widgetOptions:r,preview:!!this.preferencesService.get(n.ENABLE_PREVIEW_PREFERENCE,!1),selection:s}}getSelection(e){if("options"in e&&e.options&&"selection"in e.options)return this.m2p.asRange(e.options.selection)}getEditorOpenMode(e){const t={preserveFocus:!1,revealIfVisible:!0,...e.options};return t.preserveFocus?"reveal":t.revealIfVisible?"activate":"open"}getWidgetOptions(e,t){const i=u.MonacoEditor.getWidgetFor(this.editors,e);if(i)return{area:i&&this.shell.getAreaFor(i)||"main",mode:i&&t?"split-right":void 0,ref:i}}};A.ENABLE_PREVIEW_PREFERENCE="editor.enablePreview",o([(0,a.inject)(l.OpenerService),r("design:type",Object)],A.prototype,"openerService",void 0),o([(0,a.inject)(h.MonacoToProtocolConverter),r("design:type",h.MonacoToProtocolConverter)],A.prototype,"m2p",void 0),o([(0,a.inject)(l.ApplicationShell),r("design:type",l.ApplicationShell)],A.prototype,"shell",void 0),o([(0,a.inject)(d.EditorManager),r("design:type",d.EditorManager)],A.prototype,"editors",void 0),o([(0,a.inject)(l.PreferenceService),r("design:type",Object)],A.prototype,"preferencesService",void 0),A=n=o([(0,a.injectable)(),s(0,(0,a.inject)(v.ContextKeyService)),r("design:paramtypes",[v.ContextKeyService])],A),t.MonacoEditorService=A},98436:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoEditorZoneWidget=void 0;const n=i(9825),o=i(30566),r=i(39539);t.MonacoEditorZoneWidget=class{constructor(e,t=!0){this.showArrow=t,this.zoneNode=document.createElement("div"),this.containerNode=document.createElement("div"),this.onDidLayoutChangeEmitter=new n.Emitter,this.onDidLayoutChange=this.onDidLayoutChangeEmitter.event,this.toHide=new n.DisposableCollection,this.toDispose=new n.DisposableCollection(this.onDidLayoutChangeEmitter,this.toHide),this.editor=e,this.zoneNode.classList.add("zone-widget"),this.containerNode.classList.add("zone-widget-container"),this.zoneNode.appendChild(this.containerNode),this.updateWidth(),this.toDispose.push(this.editor.onDidLayoutChange((e=>this.updateWidth(e))))}dispose(){this.toDispose.dispose(),this.hide()}get options(){return this.viewZone?this._options:void 0}hide(){this.toHide.dispose()}show(e){let{afterLineNumber:t,afterColumn:i,heightInLines:o}=this._options={showFrame:!0,...e};const s=this.editor.getOption(r.editor.EditorOption.lineHeight),c=Math.max(12,this.editor.getLayoutInfo().height/s*.8);o=Math.min(o,c);let l=0;this.toHide.dispose(),this.editor.changeViewZones((r=>{this.zoneNode.style.top="-1000px";const c=document.createElement("div");c.style.overflow="hidden";const d={domNode:c,afterLineNumber:t,afterColumn:i,heightInLines:o,onDomNodeTop:e=>this.updateTop(e),onComputedHeight:e=>this.updateHeight(e)};this.viewZone=Object.assign(d,{id:r.addZone(d)});const u=this.viewZone.id;this.toHide.push(n.Disposable.create((()=>{this.editor.changeViewZones((e=>e.removeZone(u))),this.viewZone=void 0}))),this.showArrow&&(this.arrow=new a(this.editor),l=Math.round(s/3),this.arrow.height=l,this.arrow.show({lineNumber:e.afterLineNumber,column:0}),this.toHide.push(this.arrow));const h={getId:()=>"editor-zone-widget-"+u,getDomNode:()=>this.zoneNode,getPosition:()=>null};this.editor.addOverlayWidget(h),this.toHide.push(n.Disposable.create((()=>this.editor.removeOverlayWidget(h))))})),this.containerNode.style.overflow="hidden",this.updateContainerHeight(o*s);const d=this.editor.getModel();if(d){const e=Math.min(d.getLineCount(),Math.max(1,t+1));this.editor.revealLine(e,r.editor.ScrollType.Smooth)}}layout(e){if(this.viewZone&&this.viewZone.heightInLines!==e){this.viewZone.heightInLines=e;const t=this.viewZone.id;this.editor.changeViewZones((e=>e.layoutZone(t)))}}updateTop(e){this.zoneNode.style.top=e+(this.showArrow?6:0)+"px"}updateHeight(e){this.zoneNode.style.height=e+"px",this.updateContainerHeight(e)}updateContainerHeight(e){const{frameWidth:t,height:i}=this.computeContainerHeight(e);this.containerNode.style.height=i+"px",this.containerNode.style.borderTopWidth=t+"px",this.containerNode.style.borderBottomWidth=t+"px";const n=this.computeWidth();this.onDidLayoutChangeEmitter.fire({height:i,width:n})}computeContainerHeight(e){const t=this.editor.getOption(r.editor.EditorOption.lineHeight),i=this._options&&this._options.frameWidth,n=this._options&&this._options.showFrame?Math.round(t/9):0;return{frameWidth:void 0!==i?i:n,height:e-2*n}}updateWidth(e=this.editor.getLayoutInfo()){const t=this.computeWidth(e);this.zoneNode.style.width=t+"px",this.zoneNode.style.left=this.computeLeft(e)+"px"}computeWidth(e=this.editor.getLayoutInfo()){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}computeLeft(e=this.editor.getLayoutInfo()){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}};class s{constructor(e){this.prefix=e,this.lastId=0}nextId(){return this.prefix+ ++this.lastId}}class a{constructor(e){this._editor=e,this.idGenerator=new s(".arrow-decoration-"),this.ruleName=this.idGenerator.nextId(),this.decorations=[],this._height=-1}dispose(){this.hide()}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){const e=document.createElement("style");e.type="text/css",e.media="screen",document.getElementsByTagName("head")[0].appendChild(e);const t=`.monaco-editor ${this.ruleName}`,i=`border-style: solid; border-color: transparent transparent var(--theia-peekView-border); border-width:\n            ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `;e.sheet.insertRule(t+"{"+i+"}",0)}show(e){this.decorations=this._editor.deltaDecorations(this.decorations,[{range:r.Range.fromPositions(e),options:{className:this.ruleName,stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}])}hide(){this._editor.deltaDecorations(this.decorations,[])}}},91174:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoEditor=t.MonacoEditorServices=void 0;const s=i(70801),a=i(97845),c=i(949),l=i(9825),d=i(51902),u=i(39155),h=i(38022),p=i(39539),g=i(65948),f=i(49659),m=i(58409),b=i(42425);let v=class{constructor(e){Object.assign(this,e)}};n([(0,s.inject)(d.MonacoToProtocolConverter),o("design:type",d.MonacoToProtocolConverter)],v.prototype,"m2p",void 0),n([(0,s.inject)(u.ProtocolToMonacoConverter),o("design:type",u.ProtocolToMonacoConverter)],v.prototype,"p2m",void 0),n([(0,s.inject)(c.ContextKeyService),o("design:type",Object)],v.prototype,"contextKeyService",void 0),v=n([(0,s.injectable)(),r(0,(0,s.unmanaged)()),o("design:paramtypes",[v])],v),t.MonacoEditorServices=v;class A extends v{constructor(e,t,i,n,o,r){super(n),this.uri=e,this.document=t,this.node=i,this.toDispose=new l.DisposableCollection,this.onCursorPositionChangedEmitter=new l.Emitter,this.onSelectionChangedEmitter=new l.Emitter,this.onFocusChangedEmitter=new l.Emitter,this.onDocumentContentChangedEmitter=new l.Emitter,this.onMouseDownEmitter=new l.Emitter,this.onLanguageChangedEmitter=new l.Emitter,this.onLanguageChanged=this.onLanguageChangedEmitter.event,this.onScrollChangedEmitter=new l.Emitter,this.onEncodingChanged=this.document.onDidChangeEncoding,this.onResizeEmitter=new l.Emitter,this.onDidResize=this.onResizeEmitter.event,this.documents=new Set,this._languageAutoDetected=!0,this.toDispose.pushAll([this.onCursorPositionChangedEmitter,this.onSelectionChangedEmitter,this.onFocusChangedEmitter,this.onDocumentContentChangedEmitter,this.onMouseDownEmitter,this.onLanguageChangedEmitter,this.onScrollChangedEmitter]),this.documents.add(t),this.autoSizing=!(!o||void 0===o.autoSizing)&&o.autoSizing,this.minHeight=o&&void 0!==o.minHeight?o.minHeight:-1,this.maxHeight=o&&void 0!==o.maxHeight?o.maxHeight:-1,this.toDispose.push(this.create(o,r)),this.addHandlers(this.editor)}getEncoding(){return this.document.getEncoding()||h.UTF8}setEncoding(e,t){return this.document.setEncoding(e,t)}create(e,t){const i={...e,lightbulb:{enabled:!0},fixedOverflowWidgets:!0,scrollbar:{useShadows:!1,verticalHasArrows:!1,horizontalHasArrows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10,...null==e?void 0:e.scrollbar}},n=this.getInstantiatorWithOverrides(t);return this.editor=n.createInstance(b.StandaloneEditor,this.node,i)}getInstantiatorWithOverrides(e){const t=g.StandaloneServices.initialize({});if(e){const i=new m.ServiceCollection(...e);return t.createChild(i)}return t}addHandlers(e){this.toDispose.push(e.onDidChangeModelLanguage((e=>this.fireLanguageChanged(e.newLanguage)))),this.toDispose.push(e.onDidChangeConfiguration((()=>this.refresh()))),this.toDispose.push(e.onDidChangeModel((()=>this.refresh()))),this.toDispose.push(e.onDidChangeModelContent((e=>{this.refresh(),this.onDocumentContentChangedEmitter.fire({document:this.document,contentChanges:e.changes.map(this.mapModelContentChange.bind(this))})}))),this.toDispose.push(e.onDidChangeCursorPosition((()=>this.onCursorPositionChangedEmitter.fire(this.cursor)))),this.toDispose.push(e.onDidChangeCursorSelection((()=>this.onSelectionChangedEmitter.fire(this.selection)))),this.toDispose.push(e.onDidFocusEditorText((()=>this.onFocusChangedEmitter.fire(this.isFocused())))),this.toDispose.push(e.onDidBlurEditorText((()=>this.onFocusChangedEmitter.fire(this.isFocused())))),this.toDispose.push(e.onMouseDown((e=>{const{element:t,position:i,range:n}=e.target;this.onMouseDownEmitter.fire({target:{...e.target,element:t||void 0,mouseColumn:this.m2p.asPosition(void 0,e.target.mouseColumn).character,range:n&&this.m2p.asRange(n)||void 0,position:i&&this.m2p.asPosition(i.lineNumber,i.column)||void 0,detail:e.target.detail||{}},event:e.event.browserEvent})}))),this.toDispose.push(e.onDidScrollChange((e=>{this.onScrollChangedEmitter.fire(void 0)})))}getVisibleRanges(){return this.editor.getVisibleRanges().map((e=>this.m2p.asRange(e)))}mapModelContentChange(e){return{range:this.m2p.asRange(e.range),rangeLength:e.rangeLength,text:e.text}}get onDispose(){return this.toDispose.onDispose}get onDocumentContentChanged(){return this.onDocumentContentChangedEmitter.event}get isReadonly(){return this.document.isReadonly()}get cursor(){const{lineNumber:e,column:t}=this.editor.getPosition();return this.m2p.asPosition(e,t)}set cursor(e){const t=this.p2m.asPosition(e);this.editor.setPosition(t)}get onCursorPositionChanged(){return this.onCursorPositionChangedEmitter.event}get selection(){return this.m2p.asRange(this.editor.getSelection())}set selection(e){const t=this.p2m.asRange(e);this.editor.setSelection(t)}get onSelectionChanged(){return this.onSelectionChangedEmitter.event}get onScrollChanged(){return this.onScrollChangedEmitter.event}revealPosition(e,t={vertical:"center"}){const i=this.p2m.asPosition(e);switch(t.vertical){case"auto":this.editor.revealPosition(i);break;case"center":this.editor.revealPositionInCenter(i);break;case"centerIfOutsideViewport":this.editor.revealPositionInCenterIfOutsideViewport(i)}}revealRange(e,t={at:"center"}){const i=this.p2m.asRange(e);switch(t.at){case"top":this.editor.revealRangeAtTop(i);break;case"center":this.editor.revealRangeInCenter(i);break;case"centerIfOutsideViewport":this.editor.revealRangeInCenterIfOutsideViewport(i);break;case"auto":this.editor.revealRange(i)}}focus(){const e=this.editor.getDomNode();e&&e.querySelector("textarea").focus()}blur(){const e=this.editor.getDomNode();e&&e.querySelector("textarea").blur()}isFocused({strict:e}={strict:!1}){return!(!this.editor.hasTextFocus()||e&&(this.isSuggestWidgetVisible()||this.isFindWidgetVisible()||this.isRenameInputVisible()))}get onFocusChanged(){return this.onFocusChangedEmitter.event}get onMouseDown(){return this.onMouseDownEmitter.event}isSuggestWidgetVisible(){return this.contextKeyService.match("suggestWidgetVisible",this.editor.getDomNode()||this.node)}isFindWidgetVisible(){return this.contextKeyService.match("findWidgetVisible",this.editor.getDomNode()||this.node)}isRenameInputVisible(){return this.contextKeyService.match("renameInputVisible",this.editor.getDomNode()||this.node)}dispose(){this.toDispose.dispose()}trigger(e,t,i){this.editor.trigger(e,t,i)}getControl(){return this.editor}refresh(){this.autoresize()}resizeToFit(){this.autoresize(),this.onResizeEmitter.fire(null)}setSize(e){this.resize(e),this.onResizeEmitter.fire(e)}autoresize(){this.autoSizing&&this.resize(null)}resize(e){if(this.node){const t=this.computeLayoutSize(this.node,e);this.editor.layout(t)}}computeLayoutSize(e,t){if(t&&t.width>=0&&t.height>=0)return t;const i=a.ElementExt.boxSizing(e);return{width:!t||t.width<0?this.getWidth(e,i):t.width,height:!t||t.height<0?this.getHeight(e,i):t.height}}getWidth(e,t){return e.offsetWidth-t.horizontalSum}getHeight(e,t){if(!this.autoSizing)return e.offsetHeight-t.verticalSum;const i=this.editor.getOption(p.editor.EditorOption.lineHeight),n=i*this.editor.getModel().getLineCount(),o=this.editor.getLayoutInfo().horizontalScrollbarHeight,r=n+o;if(this.minHeight>=0){const e=i*this.minHeight+o;if(r<e)return e}if(this.maxHeight>=0){const e=i*this.maxHeight+o;return Math.min(e,r)}return r}isActionSupported(e){const t=this.editor.getAction(e);return!!t&&t.isSupported()}async runAction(e){const t=this.editor.getAction(e);t&&t.isSupported()&&await t.run()}deltaDecorations(e){const t=e.oldDecorations,i=this.toDeltaDecorations(e);return this.editor.deltaDecorations(t,i)}toDeltaDecorations(e){return e.newDecorations.map((({options:e,range:t})=>({options:{...e,hoverMessage:this.fromStringToMarkdownString(e.hoverMessage),glyphMarginHoverMessage:this.fromStringToMarkdownString(e.glyphMarginHoverMessage)},range:this.p2m.asRange(t)})))}fromStringToMarkdownString(e){return"string"==typeof e?{value:e}:e}fromMarkdownToString(e){if(e)return"string"==typeof e?e:Array.isArray(e)?e.map((({value:e})=>e)).join("\n"):e.value}getLinesDecorations(e,t){const i=e=>this.p2m.asPosition({line:e,character:0}),n=i(e).lineNumber,o=i(t).lineNumber;return this.editor.getModel().getLinesDecorations(n,o).map(this.toEditorDecoration.bind(this))}toEditorDecoration(e){const t=this.m2p.asRange(e.range),{id:i,options:n}=e,o={...n,hoverMessage:this.fromMarkdownToString(n.hoverMessage),glyphMarginHoverMessage:this.fromMarkdownToString(n.hoverMessage)};return{options:(0,l.nullToUndefined)(o),range:t,id:i}}getVisibleColumn(e){return this.editor.getVisibleColumnFromPosition(this.p2m.asPosition(e))}async replaceText(e){const t=e.replaceOperations.map((e=>{const t=p.Range.fromPositions(this.p2m.asPosition(e.range.start),this.p2m.asPosition(e.range.end));return{forceMoveMarkers:!0,identifier:{major:t.startLineNumber,minor:t.startColumn},range:t,text:e.text}}));return this.editor.executeEdits(e.source,t)}executeEdits(e){return this.editor.executeEdits("MonacoEditor",this.p2m.asTextEdits(e))}storeViewState(){return this.editor.saveViewState()}restoreViewState(e){this.editor.restoreViewState(e)}get languageAutoDetected(){return this._languageAutoDetected}async detectLanguage(){const e=g.StandaloneServices.get(f.ILanguageService),t=this.document.textEditorModel.getLineContent(1),i=this.getControl().getModel(),n=e.createByFilepathOrFirstLine(i&&i.uri,t);this.setLanguage(n.languageId),this._languageAutoDetected=!0}setLanguage(e){for(const t of this.documents)p.editor.setModelLanguage(t.textEditorModel,e)}fireLanguageChanged(e){this._languageAutoDetected=!1,this.onLanguageChangedEmitter.fire(e)}getResourceUri(){return this.uri}createMoveToUri(e){return this.uri.withPath(e.path)}}t.MonacoEditor=A,function(e){function t(e){return e.all.map((e=>i(e))).filter((e=>!!e))}function i(t){if(t&&t.editor instanceof e)return t.editor}e.getAll=t,e.getCurrent=function(e){return i(e.currentEditor)},e.getActive=function(e){return i(e.activeEditor)},e.get=i,e.findByDocument=function(e,i){return t(e).filter((e=>e.documents.has(i)))},e.getWidgetFor=function(e,t){if(t)return e.all.find((e=>{const n=i(e);return n&&n.getControl()===t}))}}(A=t.MonacoEditor||(t.MonacoEditor={}))},57111:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoFormattingConflictsContribution=void 0;const r=i(70801),s=i(87361),a=i(30566),c=i(98457),l=i(74286),d=i(44989),u="editor.defaultFormatter";let h=class{async initialize(){l.FormattingConflicts.setFormatterSelector(((e,t,i)=>this.selectFormatter(e,t,i)))}async setDefaultFormatter(e,t){const i=this.preferenceSchema.overridePreferenceName({preferenceName:u,overrideIdentifier:e});await this.preferenceService.set(i,t)}getDefaultFormatter(e){const t=this.preferenceSchema.overridePreferenceName({preferenceName:u,overrideIdentifier:e});return this.preferenceService.get(t)}async selectFormatter(e,t,i){if(0===e.length)return;if(1===e.length)return e[0];const n=this.editorManager.currentEditor;if(!n)return;const o=n.editor.document.languageId,r=this.getDefaultFormatter(o);if(r){const t=e.find((e=>e.extensionId&&e.extensionId.value===r));if(t)return t}return new Promise((async(t,i)=>{const n=e.filter((e=>e.displayName)).map((e=>({label:e.displayName,detail:e.extensionId?e.extensionId.value:void 0,value:e}))).sort(((e,t)=>e.label.localeCompare(t.label))),r=await this.monacoQuickInputService.showQuickPick(n,{placeholder:d.nls.localizeByDefault("Format Document With...")});r?(this.setDefaultFormatter(o,r.detail?r.detail:""),t(r.value)):t(void 0)}))}};n([(0,r.inject)(c.MonacoQuickInputService),o("design:type",c.MonacoQuickInputService)],h.prototype,"monacoQuickInputService",void 0),n([(0,r.inject)(s.PreferenceService),o("design:type",Object)],h.prototype,"preferenceService",void 0),n([(0,r.inject)(s.PreferenceLanguageOverrideService),o("design:type",s.PreferenceLanguageOverrideService)],h.prototype,"preferenceSchema",void 0),n([(0,r.inject)(a.EditorManager),o("design:type",a.EditorManager)],h.prototype,"editorManager",void 0),h=n([(0,r.injectable)()],h),t.MonacoFormattingConflictsContribution=h},97415:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoFrontendApplicationContribution=void 0;const r=i(70801),s=i(87361),a=i(89555),c=i(39539),l=i(23217),d=i(53192),u=i(731),h=i(95080),p=i(65948),g=i(29045),f=i(94686),m=i(83913),b=i(48963),v=i(29104),A=i(82153),y=i(53645),C=i(99741),w=i(9825),_=i(53116);let S=!1;const E=p.StandaloneServices.initialize;p.StandaloneServices.initialize=e=>(S||console.warn("Monaco was initialized before overrides were installed by Theia's initialization. Please check the lifecycle of services that use Monaco and ensure that Monaco entities are not instantiated before Theia is initialized.",new Error),E(e));let k=class{init(){this.addAdditionalPreferenceValidations();const{codeEditorService:e,textModelService:t,contextKeyService:i,contextMenuService:n}=this;S=!0,p.StandaloneServices.initialize({[g.ICodeEditorService.toString()]:e,[f.ITextModelService.toString()]:t,[m.IContextKeyService.toString()]:i,[b.IContextMenuService.toString()]:n}),this.quickAccessRegistry.clear(),(0,l.setSnippetSuggestSupport)(this.snippetSuggestProvider);for(const e of c.languages.getLanguages())this.preferenceSchema.registerOverrideIdentifier(e.id);const o=c.languages.register.bind(c.languages);c.languages.register=e=>{this.preferenceSchema.registerOverrideIdentifier(e.id),o(e)},this.monacoThemingService.initialize()}initialize(){}registerThemeStyle(e,t){if((0,y.isHighContrast)(e.type)){const i=e.getColor("focusBorder"),n=e.getColor("contrastBorder");i&&(t.addRule(`\n                    .quick-input-list .monaco-list-row {\n                        outline-offset: -1px;\n                    }\n                    .quick-input-list .monaco-list-row.focused {\n                        outline: 1px dotted ${i};\n                    }\n                    .quick-input-list .monaco-list-row:hover {\n                        outline: 1px dashed ${i};\n                    }\n                `),t.addRule("\n                    .monaco-editor .find-widget .monaco-inputbox {\n                        outline: var(--theia-border-width) solid;\n                        outline-offset: calc(-1 * var(--theia-border-width));\n                        outline-color: var(--theia-focusBorder);\n                    }\n                ")),n&&t.addRule(`\n                    .quick-input-widget {\n                        outline: 1px solid ${n};\n                        outline-offset: -1px;\n                    }\n                `)}else t.addRule("\n                .quick-input-widget {\n                    box-shadow: rgb(0 0 0 / 36%) 0px 0px 8px 2px;\n                }\n            ")}addAdditionalPreferenceValidations(){let e,t,i;for(const n of C.editorOptionsRegistry){if(e&&t&&i)break;"acceptSuggestionOnCommitCharacter"===n.name?t=n.constructor:"acceptSuggestionOnEnter"===n.name?i=n.constructor:"accessibilityPageSize"===n.name&&(e=n.constructor)}if(e&&t&&i){let n=200;C.editorOptionsRegistry.push(new e(n++,"tabSize",4,1,w.MAX_SAFE_INTEGER,_.editorGeneratedPreferenceProperties["editor.tabSize"]),new t(n++,"insertSpaces",!0,_.editorGeneratedPreferenceProperties["editor.insertSpaces"]),new t(n++,"detectIndentation",!0,_.editorGeneratedPreferenceProperties["editor.detectIndentation"]),new t(n++,"trimAutoWhitespace",!0,_.editorGeneratedPreferenceProperties["editor.trimAutoWhitespace"]),new t(n++,"largeFileOptimizations",!0,_.editorGeneratedPreferenceProperties["editor.largeFileOptimizations"]),new t(n++,"wordBasedSuggestions",!0,_.editorGeneratedPreferenceProperties["editor.wordBasedSuggestions"]),new i(n++,"wordBasedSuggestionsMode","matchingDocuments",_.editorGeneratedPreferenceProperties["editor.wordBasedSuggestionsMode"].enum,_.editorGeneratedPreferenceProperties["editor.wordBasedSuggestionsMode"]),new t(n++,"stablePeek",!1,_.editorGeneratedPreferenceProperties["editor.stablePeek"]),new e(n++,"maxTokenizationLineLength",2e4,1,w.MAX_SAFE_INTEGER,_.editorGeneratedPreferenceProperties["editor.maxTokenizationLineLength"]))}}};n([(0,r.inject)(d.MonacoEditorService),o("design:type",d.MonacoEditorService)],k.prototype,"codeEditorService",void 0),n([(0,r.inject)(u.MonacoTextModelService),o("design:type",u.MonacoTextModelService)],k.prototype,"textModelService",void 0),n([(0,r.inject)(h.ContextKeyService),o("design:type",h.ContextKeyService)],k.prototype,"contextKeyService",void 0),n([(0,r.inject)(a.MonacoSnippetSuggestProvider),o("design:type",a.MonacoSnippetSuggestProvider)],k.prototype,"snippetSuggestProvider",void 0),n([(0,r.inject)(s.PreferenceSchemaProvider),o("design:type",s.PreferenceSchemaProvider)],k.prototype,"preferenceSchema",void 0),n([(0,r.inject)(s.QuickAccessRegistry),o("design:type",Object)],k.prototype,"quickAccessRegistry",void 0),n([(0,r.inject)(v.MonacoContextMenuService),o("design:type",v.MonacoContextMenuService)],k.prototype,"contextMenuService",void 0),n([(0,r.inject)(A.MonacoThemingService),o("design:type",A.MonacoThemingService)],k.prototype,"monacoThemingService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],k.prototype,"init",null),k=n([(0,r.injectable)()],k),t.MonacoFrontendApplicationContribution=k},71273:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMonacoConfigurationService=t.MonacoConfigurationService=void 0;const n=i(9147),o=i(44989),r=i(95379);Object.assign(n,{localize(e,t,...i){if(o.nls.locale){const e=o.nls.getDefaultKey(t);if(e)return o.nls.localize(e,t,...i)}return r.Localization.format(t,i)}}),i(37134);const s=i(70801),a=i(9825),c=i(87361),l=i(30566),d=i(76432),u=i(83514),h=i(81330),p=i(4145),g=i(90899),f=i(51873),m=i(77582),b=i(53192),v=i(731),A=i(29104),y=i(57959),C=i(74489),w=i(39136),_=i(62477),S=i(7331),E=i(6318),k=i(97415),x=i(1102),D=i(45593),T=i(4035),M=i(76726),B=i(89555),I=i(949),L=i(64897),P=i(37012),O=i(89370),R=i(91174),N=i(4625),F=i(53414),j=i(82153),W=i(9825),z=i(30142),U=i(86246),H=i(51902),V=i(39155),K=i(57111),G=i(98457),$=i(75998),q=i(24300),Y=i(81670),Q=i(42827),X=i(95080),Z=i(34673),J=i(65948),ee=i(25508),te=i(4813),ie=i(20311),ne=i(40591);function oe(e){const t=e.get(c.PreferenceService),i=e.get(c.PreferenceSchemaProvider),n=J.StandaloneServices.get(Z.IConfigurationService);n._configuration.getValue=(e,n)=>{const o=n&&"overrideIdentifier"in n&&"string"==typeof n.overrideIdentifier?n.overrideIdentifier:void 0,r=n&&"resource"in n&&n.resource?n.resource.toString():void 0,s=(0,c.createPreferenceProxy)(t,i.getCombinedSchema(),{resourceUri:r,overrideIdentifier:o,style:"both"});return e?s[e]:s};const o=e=>{switch(e){case c.PreferenceScope.Default:return 7;case c.PreferenceScope.User:return 2;case c.PreferenceScope.Workspace:return 5;case c.PreferenceScope.Folder:return 6}},r=()=>({changes:[],affectedKeys:new Set,keys:new Set,overrides:new Map}),s=(e,i)=>{if(!i.affectedKeys.size)return;const o=[];for(const[e,t]of i.overrides)o.push([e,[...t]]);n._onDidChangeConfiguration.fire({change:{keys:[...i.keys],overrides:o},affectedKeys:[...i.affectedKeys],source:e,affectsConfiguration:(e,n)=>{var o;if(!i.affectedKeys.has(e))return!1;for(const r of i.changes){const i=t.overriddenPreferenceName(r.preferenceName);if((i?i.preferenceName:r.preferenceName).startsWith(e)){if(void 0!==(null==n?void 0:n.overrideIdentifier)&&i&&i.overrideIdentifier!==(null==n?void 0:n.overrideIdentifier))continue;if(r.affects(null===(o=null==n?void 0:n.resource)||void 0===o?void 0:o.toString()))return!0}}return!1}})};return t.onPreferencesChanged((e=>{var t;let i,n=r();for(let a of Object.keys(e)){const l=e[a],d=o(l.scope);let u;if(void 0!==i&&d!==i&&(s(i,n),n=r()),n.changes.push(l),i=d,a.startsWith("[")){const e=a.indexOf("."),i=a.substring(0,e),o=null===(t=i.match(c.OVERRIDE_PROPERTY_PATTERN))||void 0===t?void 0:t[1];o&&(n.keys.add(i),n.affectedKeys.add(i),u=n.overrides.get(o)||new Set,n.overrides.set(o,u),a=a.substring(e+1))}for(;a;){u&&u.add(a),n.keys.add(a),n.affectedKeys.add(a);const e=a.lastIndexOf(".");a=a.substring(0,e)}}i&&s(i,n)})),n}(0,s.decorate)((0,s.injectable)(),X.ContextKeyService),t.default=new s.ContainerModule(((e,i,n,o)=>{e(j.MonacoThemingService).toSelf().inSingletonScope(),e(L.MonacoContextKeyService).toSelf().inSingletonScope(),o(I.ContextKeyService).toService(L.MonacoContextKeyService),e(B.MonacoSnippetSuggestProvider).toSelf().inSingletonScope(),e(k.MonacoFrontendApplicationContribution).toSelf().inSingletonScope(),e(c.FrontendApplicationContribution).toService(k.MonacoFrontendApplicationContribution),e(c.StylingParticipant).toService(k.MonacoFrontendApplicationContribution),e(H.MonacoToProtocolConverter).toSelf().inSingletonScope(),e(V.ProtocolToMonacoConverter).toSelf().inSingletonScope(),e(f.MonacoLanguages).toSelf().inSingletonScope(),o(U.LanguageService).toService(f.MonacoLanguages),e(z.WorkspaceSymbolCommand).toSelf().inSingletonScope();for(const t of[a.CommandContribution,c.KeybindingContribution,a.MenuContribution,Y.QuickAccessContribution])e(t).toService(z.WorkspaceSymbolCommand);e(m.MonacoWorkspace).toSelf().inSingletonScope(),e(t.MonacoConfigurationService).toDynamicValue((({container:e})=>oe(e))).inSingletonScope(),e(X.ContextKeyService).toDynamicValue((({container:e})=>new X.ContextKeyService(e.get(t.MonacoConfigurationService)))).inSingletonScope(),e(D.MonacoBulkEditService).toSelf().inSingletonScope(),e(b.MonacoEditorService).toSelf().inSingletonScope(),e(v.MonacoTextModelService).toSelf().inSingletonScope(),e(A.MonacoContextMenuService).toSelf().inSingletonScope(),e(R.MonacoEditorServices).toSelf().inSingletonScope(),e(u.MonacoEditorProvider).toSelf().inSingletonScope(),(0,W.bindContributionProvider)(e,u.MonacoEditorFactory),(0,W.bindContributionProvider)(e,v.MonacoEditorModelFactory),e(w.MonacoCommandService).toSelf().inTransientScope(),e(w.MonacoCommandServiceFactory).toAutoFactory(w.MonacoCommandService),e(l.TextEditorProvider).toProvider((e=>t=>e.container.get(u.MonacoEditorProvider).get(t))),e(S.MonacoDiffNavigatorFactory).toSelf().inSingletonScope(),e(l.DiffNavigatorProvider).toFactory((e=>t=>e.container.get(u.MonacoEditorProvider).getDiffNavigator(t))),e(y.MonacoOutlineContribution).toSelf().inSingletonScope(),e(c.FrontendApplicationContribution).toService(y.MonacoOutlineContribution),o(ee.MarkdownRenderer).to(te.MonacoMarkdownRenderer).inSingletonScope(),e(K.MonacoFormattingConflictsContribution).toSelf().inSingletonScope(),e(c.FrontendApplicationContribution).toService(K.MonacoFormattingConflictsContribution),e(C.MonacoStatusBarContribution).toSelf().inSingletonScope(),e(c.FrontendApplicationContribution).toService(C.MonacoStatusBarContribution),e(_.MonacoCommandRegistry).toSelf().inSingletonScope(),e(a.CommandContribution).to(p.MonacoEditorCommandHandlers).inSingletonScope(),e(h.MonacoEditorMenuContribution).toSelf().inSingletonScope(),e(a.MenuContribution).toService(h.MonacoEditorMenuContribution),e(g.MonacoKeybindingContribution).toSelf().inSingletonScope(),e(c.KeybindingContribution).toService(g.MonacoKeybindingContribution),o(d.StrictEditorTextFocusContext).to(E.MonacoStrictEditorTextFocusContext).inSingletonScope(),e(G.MonacoQuickInputImplementation).toSelf().inSingletonScope(),e(G.MonacoQuickInputService).toSelf().inSingletonScope(),e(c.QuickInputService).toService(G.MonacoQuickInputService),e(Q.MonacoQuickAccessRegistry).toSelf().inSingletonScope(),e(Y.QuickAccessRegistry).toService(Q.MonacoQuickAccessRegistry),e($.GotoLineQuickAccessContribution).toSelf().inSingletonScope(),e(Y.QuickAccessContribution).toService($.GotoLineQuickAccessContribution),e(q.GotoSymbolQuickAccessContribution).toSelf().inSingletonScope(),e(Y.QuickAccessContribution).toService(q.GotoSymbolQuickAccessContribution),(0,x.default)(e,i,n,o),e(T.MonacoOutlineDecorator).toSelf().inSingletonScope(),e(M.OutlineTreeDecorator).toService(T.MonacoOutlineDecorator),e(P.MonacoMimeService).toSelf().inSingletonScope(),o(O.MimeService).toService(P.MonacoMimeService),e(N.MonacoColorRegistry).toSelf().inSingletonScope(),o(F.ColorRegistry).toService(N.MonacoColorRegistry),e(ne.ThemeServiceWithDB).toSelf().inSingletonScope(),o(ie.ThemeService).toService(ne.ThemeServiceWithDB)})),t.MonacoConfigurationService=Symbol("MonacoConfigurationService"),t.createMonacoConfigurationService=oe},75998:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GotoLineQuickAccessContribution=t.GotoLineQuickAccess=void 0;const s=i(70801),a=i(29045),c=i(37223),l=i(41950),d=i(81437);let u=class extends c.StandaloneGotoLineQuickAccessProvider{constructor(e){super(e),this.service=e}get activeTextEditorControl(){var e;return null!==(e=this.service.getFocusedCodeEditor()||this.service.getActiveCodeEditor())&&void 0!==e?e:void 0}};u=n([r(0,a.ICodeEditorService),o("design:paramtypes",[Object])],u),t.GotoLineQuickAccess=u;let h=class{registerQuickAccessProvider(){d.Registry.as(l.Extensions.Quickaccess).registerQuickAccessProvider({ctor:u,prefix:":",placeholder:"",helpEntries:[{description:"Go to line"}]})}};h=n([(0,s.injectable)()],h),t.GotoLineQuickAccessContribution=h},24300:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GotoSymbolQuickAccessContribution=t.GotoSymbolQuickAccess=void 0;const s=i(70801),a=i(29045),c=i(42763),l=i(34636),d=i(75224),u=i(41950),h=i(81437);let p=class extends d.StandaloneGotoSymbolQuickAccessProvider{constructor(e,t,i){super(e,t,i),this.codeEditorService=e,this.languageFeatures=t,this.outlineService=i}get activeTextEditorControl(){var e,t;return null!==(t=null!==(e=this.codeEditorService.getFocusedCodeEditor())&&void 0!==e?e:this.codeEditorService.getActiveCodeEditor())&&void 0!==t?t:void 0}};p=n([r(0,a.ICodeEditorService),r(1,c.ILanguageFeaturesService),r(2,l.IOutlineModelService),o("design:paramtypes",[Object,Object,Object])],p),t.GotoSymbolQuickAccess=p;let g=class{registerQuickAccessProvider(){h.Registry.as(u.Extensions.Quickaccess).registerQuickAccessProvider({ctor:p,prefix:"@",placeholder:"",helpEntries:[{description:"Go to symbol"}]})}};g=n([(0,s.injectable)()],g),t.GotoSymbolQuickAccessContribution=g},40591:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeServiceWithDB=t.stateToTheme=t.deleteTheme=t.putTheme=t.getThemes=t.MonacoThemeState=t.monacoDB=void 0;const o=i(17886),r=i(51138),s=i(20311),a=i(70801),c=i(9825);let l;var d;async function u(){if(!t.monacoDB)return[];const e=await t.monacoDB;return(await e.transaction("themes","readonly").objectStore("themes").getAll()).filter(d.is)}async function h(e){if(!t.monacoDB)return;const i=await t.monacoDB;await i.transaction("themes","readwrite").objectStore("themes").delete(e)}function p(e){const{id:t,label:i,description:n,uiTheme:o,data:r}=e;return{type:"vs"===o?"light":"vs-dark"===o?"dark":"hc",id:t,label:i,description:n,editorTheme:r.name}}"indexedDB"in window&&(l=o.openDB("theia-monaco",1,{upgrade:e=>{e.objectStoreNames.contains("themes")||e.createObjectStore("themes",{keyPath:"id"})}})),t.monacoDB=l,function(e){e.is=function(e){return(0,c.isObject)(e)&&"id"in e&&"label"in e&&"uiTheme"in e&&"data"in e}}(d=t.MonacoThemeState||(t.MonacoThemeState={})),t.getThemes=u,t.putTheme=function(e){const i=new r.DisposableCollection(r.Disposable.create((()=>{})));return async function(e,i){if(!t.monacoDB)return;const n=await t.monacoDB;if(i.disposed)return;const o=e.id;await n.transaction("themes","readwrite").objectStore("themes").put(e),i.disposed?await h(o):i.push(r.Disposable.create((()=>h(o))))}(e,i),i},t.deleteTheme=h,t.stateToTheme=p;let g=class extends s.ThemeService{constructor(){super(...arguments),this.onDidRetrieveThemeEmitter=new c.Emitter}get onDidRetrieveTheme(){return this.onDidRetrieveThemeEmitter.event}loadUserTheme(){this.loadUserThemeWithDB()}async loadUserThemeWithDB(){var e,t,i;const n=null!==(e=window.localStorage.getItem(s.ThemeService.STORAGE_KEY))&&void 0!==e?e:this.defaultTheme.id,o=null!==(i=null!==(t=this.themes[n])&&void 0!==t?t:await u().then((e=>{const t=e.find((e=>e.id===n));if(t)return this.onDidRetrieveThemeEmitter.fire(t),p(t)})))&&void 0!==i?i:this.getTheme(n);this.themes[o.id]||(this.themes[o.id]=o),this.setCurrentTheme(o.id,!1),this.deferredInitializer.resolve()}};g=n([(0,a.injectable)()],g),t.ThemeServiceWithDB=g},6318:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoStrictEditorTextFocusContext=void 0;const o=i(70801),r=i(76432),s=i(91174);let a=class extends r.StrictEditorTextFocusContext{canHandle(e){const{editor:t}=e;return t instanceof s.MonacoEditor?t.isFocused({strict:!0}):super.canHandle(e)}};a=n([(0,o.injectable)()],a),t.MonacoStrictEditorTextFocusContext=a},90899:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoKeybindingContribution=void 0;const r=i(70801),s=i(87361),a=i(4145),c=i(62477),l=i(9825),d=i(55614),u=i(80500),h=i(65948),p=i(79999),g=i(64897),f=i(3474),m=i(39539);let b=class{constructor(){this.toDisposeOnKeybindingChange=new l.DisposableCollection}init(){this.keybindings.onKeybindingsChanged((()=>this.updateMonacoKeybindings()))}registerKeybindings(e){var t;const i=u.KeybindingsRegistry.getDefaultKeybindings();for(const n of i){const i=this.commands.validate(n.command);if(i){const o=null!==(t=n.when&&n.when.serialize())&&void 0!==t?t:void 0;let r;r=n.command!==a.MonacoCommands.GO_TO_DEFINITION||l.environment.electron.is()?d.MonacoResolvedKeybinding.toKeybinding(n.keybinding):"ctrlcmd+f11",e.registerKeybinding({command:i,keybinding:r,when:o})}}}updateMonacoKeybindings(){const e=h.StandaloneServices.get(p.IKeybindingService);if(e instanceof h.StandaloneKeybindingService){this.toDisposeOnKeybindingChange.dispose();for(const t of this.keybindings.getKeybindingsByScope(s.KeybindingScope.USER).concat(this.keybindings.getKeybindingsByScope(s.KeybindingScope.WORKSPACE))){const i=this.keybindings.resolveKeybinding(t),n=t.command,o=t.when?this.contextKeyService.parse(t.when):t.context?this.contextKeyService.parse(t.context):void 0;this.toDisposeOnKeybindingChange.push(e.addDynamicKeybinding(t.command,this.toMonacoKeybindingNumber(i),((e,...t)=>this.theiaCommandRegistry.executeCommand(n,...t)),o))}}}toMonacoKeybindingNumber(e){const[t,i]=e;e.length>2&&console.warn("Key chords should not consist of more than two parts; got ",e);const n=this.toSingleMonacoKeybindingNumber(t),o=i?this.toSingleMonacoKeybindingNumber(i)<<16:0;return m.KeyMod.chord(n,o)}toSingleMonacoKeybindingNumber(e){var t;let i=(void 0!==(null===(t=e.key)||void 0===t?void 0:t.keyCode)?f.KEY_CODE_MAP[e.key.keyCode]:0)>>>0&255;return e.alt&&(i|=m.KeyMod.Alt),e.shift&&(i|=m.KeyMod.Shift),e.ctrl&&(i|=m.KeyMod.WinCtrl),e.meta&&l.isOSX&&(i|=m.KeyMod.CtrlCmd),i}};n([(0,r.inject)(c.MonacoCommandRegistry),o("design:type",c.MonacoCommandRegistry)],b.prototype,"commands",void 0),n([(0,r.inject)(s.KeybindingRegistry),o("design:type",s.KeybindingRegistry)],b.prototype,"keybindings",void 0),n([(0,r.inject)(l.CommandRegistry),o("design:type",l.CommandRegistry)],b.prototype,"theiaCommandRegistry",void 0),n([(0,r.inject)(g.MonacoContextKeyService),o("design:type",g.MonacoContextKeyService)],b.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],b.prototype,"init",null),b=n([(0,r.injectable)()],b),t.MonacoKeybindingContribution=b},3474:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CODE_MAP=void 0;const n=i(87361),o=i(83489);t.KEY_CODE_MAP=[],t.KEY_CODE_MAP[3]=7,t.KEY_CODE_MAP[8]=1,t.KEY_CODE_MAP[9]=2,t.KEY_CODE_MAP[13]=3,t.KEY_CODE_MAP[16]=4,t.KEY_CODE_MAP[17]=5,t.KEY_CODE_MAP[18]=6,t.KEY_CODE_MAP[19]=7,t.KEY_CODE_MAP[20]=8,t.KEY_CODE_MAP[27]=9,t.KEY_CODE_MAP[32]=10,t.KEY_CODE_MAP[33]=11,t.KEY_CODE_MAP[34]=12,t.KEY_CODE_MAP[35]=13,t.KEY_CODE_MAP[36]=14,t.KEY_CODE_MAP[37]=15,t.KEY_CODE_MAP[38]=16,t.KEY_CODE_MAP[39]=17,t.KEY_CODE_MAP[40]=18,t.KEY_CODE_MAP[45]=19,t.KEY_CODE_MAP[46]=20,t.KEY_CODE_MAP[48]=21,t.KEY_CODE_MAP[49]=22,t.KEY_CODE_MAP[50]=23,t.KEY_CODE_MAP[51]=24,t.KEY_CODE_MAP[52]=25,t.KEY_CODE_MAP[53]=26,t.KEY_CODE_MAP[54]=27,t.KEY_CODE_MAP[55]=28,t.KEY_CODE_MAP[56]=29,t.KEY_CODE_MAP[57]=30,t.KEY_CODE_MAP[65]=31,t.KEY_CODE_MAP[66]=32,t.KEY_CODE_MAP[67]=33,t.KEY_CODE_MAP[68]=34,t.KEY_CODE_MAP[69]=35,t.KEY_CODE_MAP[70]=36,t.KEY_CODE_MAP[71]=37,t.KEY_CODE_MAP[72]=38,t.KEY_CODE_MAP[73]=39,t.KEY_CODE_MAP[74]=40,t.KEY_CODE_MAP[75]=41,t.KEY_CODE_MAP[76]=42,t.KEY_CODE_MAP[77]=43,t.KEY_CODE_MAP[78]=44,t.KEY_CODE_MAP[79]=45,t.KEY_CODE_MAP[80]=46,t.KEY_CODE_MAP[81]=47,t.KEY_CODE_MAP[82]=48,t.KEY_CODE_MAP[83]=49,t.KEY_CODE_MAP[84]=50,t.KEY_CODE_MAP[85]=51,t.KEY_CODE_MAP[86]=52,t.KEY_CODE_MAP[87]=53,t.KEY_CODE_MAP[88]=54,t.KEY_CODE_MAP[89]=55,t.KEY_CODE_MAP[90]=56,t.KEY_CODE_MAP[93]=58,t.KEY_CODE_MAP[96]=93,t.KEY_CODE_MAP[97]=94,t.KEY_CODE_MAP[98]=95,t.KEY_CODE_MAP[99]=96,t.KEY_CODE_MAP[100]=97,t.KEY_CODE_MAP[101]=98,t.KEY_CODE_MAP[102]=99,t.KEY_CODE_MAP[103]=100,t.KEY_CODE_MAP[104]=101,t.KEY_CODE_MAP[105]=102,t.KEY_CODE_MAP[106]=103,t.KEY_CODE_MAP[107]=104,t.KEY_CODE_MAP[108]=105,t.KEY_CODE_MAP[109]=106,t.KEY_CODE_MAP[110]=107,t.KEY_CODE_MAP[111]=108,t.KEY_CODE_MAP[112]=59,t.KEY_CODE_MAP[113]=60,t.KEY_CODE_MAP[114]=61,t.KEY_CODE_MAP[115]=62,t.KEY_CODE_MAP[116]=63,t.KEY_CODE_MAP[117]=64,t.KEY_CODE_MAP[118]=65,t.KEY_CODE_MAP[119]=66,t.KEY_CODE_MAP[120]=67,t.KEY_CODE_MAP[121]=68,t.KEY_CODE_MAP[122]=69,t.KEY_CODE_MAP[123]=70,t.KEY_CODE_MAP[124]=71,t.KEY_CODE_MAP[125]=72,t.KEY_CODE_MAP[126]=73,t.KEY_CODE_MAP[127]=74,t.KEY_CODE_MAP[128]=75,t.KEY_CODE_MAP[129]=76,t.KEY_CODE_MAP[130]=77,t.KEY_CODE_MAP[144]=78,t.KEY_CODE_MAP[145]=79,t.KEY_CODE_MAP[186]=80,t.KEY_CODE_MAP[187]=81,t.KEY_CODE_MAP[188]=82,t.KEY_CODE_MAP[189]=83,t.KEY_CODE_MAP[190]=84,t.KEY_CODE_MAP[191]=85,t.KEY_CODE_MAP[192]=86,t.KEY_CODE_MAP[193]=110,t.KEY_CODE_MAP[194]=111,t.KEY_CODE_MAP[219]=87,t.KEY_CODE_MAP[220]=88,t.KEY_CODE_MAP[221]=89,t.KEY_CODE_MAP[222]=90,t.KEY_CODE_MAP[223]=91,t.KEY_CODE_MAP[226]=92,t.KEY_CODE_MAP[229]=109,n.isIE?t.KEY_CODE_MAP[91]=57:n.isFirefox?(t.KEY_CODE_MAP[59]=80,t.KEY_CODE_MAP[107]=81,t.KEY_CODE_MAP[109]=83,2===o.OS&&(t.KEY_CODE_MAP[224]=57)):n.isWebKit&&(t.KEY_CODE_MAP[91]=57,2===o.OS?t.KEY_CODE_MAP[93]=57:t.KEY_CODE_MAP[92]=57)},51873:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoLanguages=void 0;const r=i(70801),s=i(5275),a=i(30970),c=i(51138),l=i(39377),d=i(39155),u=i(39539);let h=class{constructor(){this.workspaceSymbolProviders=[],this.markers=new Map}init(){this.problemManager.onDidChangeMarkers((e=>this.updateMarkers(e))),u.editor.onDidCreateModel((e=>this.updateModelMarkers(e)))}updateMarkers(e){const t=this.problemManager.findMarkers({uri:e}),i=e.toString(),n=this.markers.get(i)||new l.MonacoMarkerCollection(e,this.p2m);this.markers.set(i,n),n.updateMarkers(t)}updateModelMarkers(e){const t=e.uri.toString(),i=new a.default(t),n=this.markers.get(t)||new l.MonacoMarkerCollection(i,this.p2m);this.markers.set(t,n),n.updateModelMarkers(e)}registerWorkspaceSymbolProvider(e){return this.workspaceSymbolProviders.push(e),c.Disposable.create((()=>{const t=this.workspaceSymbolProviders.indexOf(e);-1!==t&&this.workspaceSymbolProviders.splice(t,1)}))}get languages(){return[...this.mergeLanguages(u.languages.getLanguages()).values()]}getLanguage(e){return this.mergeLanguages(u.languages.getLanguages().filter((t=>t.id===e))).get(e)}getExtension(e){var t;return null===(t=this.getLanguage(e))||void 0===t?void 0:t.extensions.values().next().value}mergeLanguages(e){const t=new Map;for(const{id:i,aliases:n,extensions:o,filenames:r}of e){const e=t.get(i)||{id:i,name:"",extensions:new Set,filenames:new Set};if(!e.name&&n&&n.length&&(e.name=n[0]),o&&o.length)for(const t of o)e.extensions.add(t);if(r&&r.length)for(const t of r)e.filenames.add(t);t.set(i,e)}for(const[e,i]of t)i.name||(i.name=e);return t}};n([(0,r.inject)(s.ProblemManager),o("design:type",s.ProblemManager)],h.prototype,"problemManager",void 0),n([(0,r.inject)(d.ProtocolToMonacoConverter),o("design:type",d.ProtocolToMonacoConverter)],h.prototype,"p2m",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],h.prototype,"init",null),h=n([(0,r.injectable)()],h),t.MonacoLanguages=h},39377:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoMarkerCollection=void 0;const n=i(39539);t.MonacoMarkerCollection=class{constructor(e,t){this.markers=[],this.owners=new Map,this.didUpdate=!1,this.uri=n.Uri.parse(e.toString()),this.p2m=t}updateMarkers(e){this.markers=e;const t=n.editor.getModel(this.uri);this.doUpdateMarkers(t||void 0)}updateModelMarkers(e){if(this.didUpdate)for(const[t,i]of this.owners)this.setModelMarkers(e,t,i);else this.doUpdateMarkers(e)}doUpdateMarkers(e){if(!e)return void(this.didUpdate=!1);this.didUpdate=!0;const t=new Set(this.owners.keys());this.owners.clear();for(const e of this.markers){const t=this.owners.get(e.owner)||[];t.push(e.data),this.owners.set(e.owner,t)}for(const[i,n]of this.owners)t.delete(i),this.setModelMarkers(e,i,n);for(const i of t)this.clearModelMarkers(e,i)}setModelMarkers(e,t,i){n.editor.setModelMarkers(e,t,this.p2m.asDiagnostics(i))}clearModelMarkers(e,t){n.editor.setModelMarkers(e,t,[])}}},81330:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoEditorMenuContribution=t.MonacoMenus=void 0;const s=i(70801),a=i(9825),c=i(30566),l=i(62477),d=i(44989),u=i(97559);var h;!function(e){e.SELECTION=[...a.MAIN_MENU_BAR,"3_selection"],e.PEEK_CONTEXT_SUBMENU=[...c.EDITOR_CONTEXT_MENU,"navigation","peek_submenu"],e.MARKERS_GROUP=[...c.EditorMainMenu.GO,"5_markers_group"]}(h=t.MonacoMenus||(t.MonacoMenus={}));let p=class{constructor(e){this.commands=e}registerMenus(e){for(const t of u.MenuRegistry.getMenuItems(u.MenuId.EditorContext)){if(!(0,u.isIMenuItem)(t))continue;const i=this.commands.validate(t.command.id);if(i){const n=[...c.EDITOR_CONTEXT_MENU,t.group||""];e.registerMenuAction(n,this.buildMenuAction(i,t))}}this.registerPeekSubmenu(e),e.registerSubmenu(h.SELECTION,d.nls.localizeByDefault("Selection"));for(const t of u.MenuRegistry.getMenuItems(u.MenuId.MenubarSelectionMenu)){if(!(0,u.isIMenuItem)(t))continue;const i=this.commands.validate(t.command.id);if(i){const n=[...h.SELECTION,t.group||""];e.registerMenuAction(n,this.buildMenuAction(i,t))}}e.registerMenuAction(c.EditorMainMenu.LANGUAGE_FEATURES_GROUP,{commandId:"editor.action.quickOutline",label:d.nls.localizeByDefault("Go to Symbol in Editor..."),order:"1"}),e.registerMenuAction(c.EditorMainMenu.LANGUAGE_FEATURES_GROUP,{commandId:"editor.action.revealDefinition",label:d.nls.localizeByDefault("Go to Definition"),order:"2"}),e.registerMenuAction(c.EditorMainMenu.LANGUAGE_FEATURES_GROUP,{commandId:"editor.action.revealDeclaration",label:d.nls.localizeByDefault("Go to Declaration"),order:"3"}),e.registerMenuAction(c.EditorMainMenu.LANGUAGE_FEATURES_GROUP,{commandId:"editor.action.goToTypeDefinition",label:d.nls.localizeByDefault("Go to Type Definition"),order:"4"}),e.registerMenuAction(c.EditorMainMenu.LANGUAGE_FEATURES_GROUP,{commandId:"editor.action.goToImplementation",label:d.nls.localizeByDefault("Go to Implementations"),order:"5"}),e.registerMenuAction(c.EditorMainMenu.LANGUAGE_FEATURES_GROUP,{commandId:"editor.action.goToReferences",label:d.nls.localizeByDefault("Go to References"),order:"6"}),e.registerMenuAction(c.EditorMainMenu.LOCATION_GROUP,{commandId:"editor.action.jumpToBracket",label:d.nls.localizeByDefault("Go to Bracket"),order:"2"}),e.registerMenuAction(h.MARKERS_GROUP,{commandId:"editor.action.marker.nextInFiles",label:d.nls.localizeByDefault("Next Problem"),order:"1"}),e.registerMenuAction(h.MARKERS_GROUP,{commandId:"editor.action.marker.prevInFiles",label:d.nls.localizeByDefault("Previous Problem"),order:"2"})}registerPeekSubmenu(e){e.registerSubmenu(h.PEEK_CONTEXT_SUBMENU,d.nls.localizeByDefault("Peek"));for(const t of u.MenuRegistry.getMenuItems(u.MenuId.EditorContextPeek)){if(!(0,u.isIMenuItem)(t))continue;const i=this.commands.validate(t.command.id);i&&e.registerMenuAction([...h.PEEK_CONTEXT_SUBMENU,t.group||""],this.buildMenuAction(i,t))}}buildMenuAction(e,t){const i="string"==typeof t.command.title?t.command.title:t.command.title.value,n=this.removeMnemonic(i);return{commandId:e,order:t.order?String(t.order):"",label:n}}removeMnemonic(e){return e.replace(/\(&&\w\)|&&/g,"")}};p=n([(0,s.injectable)(),r(0,(0,s.inject)(l.MonacoCommandRegistry)),o("design:paramtypes",[l.MonacoCommandRegistry])],p),t.MonacoEditorMenuContribution=p},37012:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoMimeService=void 0;const r=i(69972),s=i(70801),a=i(89370),c=i(65948),l=i(49659),d=i(39539),u=i(81025);let h=class extends a.MimeService{constructor(){super(),this.associations=[],this.updatingAssociations=!1,this.updateAssociations=r((()=>{this.updatingAssociations=!0;try{(0,u.clearConfiguredLanguageAssociations)();for(const e of this.associations){const t=this.getMimeForMode(e.id)||`text/x-${e.id}`;(0,u.registerConfiguredLanguageAssociation)({id:e.id,mime:t,filepattern:e.filepattern})}c.StandaloneServices.get(l.ILanguageService)._onDidChange.fire(void 0)}finally{this.updatingAssociations=!1}})),c.StandaloneServices.get(l.ILanguageService).onDidChange((()=>{this.updatingAssociations||this.updateAssociations()}))}setAssociations(e){this.associations=e,this.updateAssociations()}getMimeForMode(e){for(const t of d.languages.getLanguages())if(t.id===e&&t.mimetypes)return t.mimetypes[0]}};h=n([(0,s.injectable)(),o("design:paramtypes",[])],h),t.MonacoMimeService=h},57959:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoOutlineSymbolInformationNode=t.MonacoOutlineContribution=void 0;const r=i(70801),s=i(30566),a=i(9825),c=i(46047),l=i(30929),d=i(30970),u=i(91174),h=i(69972),p=i(39539),g=i(42763),f=i(65948);let m=class{constructor(){this.toDisposeOnEditor=new a.DisposableCollection,this.canUpdateOutline=!0,this.tokenSource=new p.CancellationTokenSource}onStart(e){f.StandaloneServices.get(g.ILanguageFeaturesService).documentSymbolProvider.onDidChange(h((()=>this.updateOutline()))),this.editorManager.onCurrentEditorChanged(h((()=>this.handleCurrentEditorChanged()),50)),this.handleCurrentEditorChanged(),this.outlineViewService.onDidSelect((async e=>{if(b.is(e)&&e.parent){const t={mode:"reveal",selection:e.range};await this.selectInEditor(e,t)}})),this.outlineViewService.onDidOpen((async e=>{if(b.is(e)){const t={selection:{start:e.range.start}};await this.selectInEditor(e,t)}}))}async selectInEditor(e,t){this.canUpdateOutline=!1;try{await this.editorManager.open(e.uri,t)}finally{this.canUpdateOutline=!0}}handleCurrentEditorChanged(){this.toDisposeOnEditor.dispose(),this.toDisposeOnEditor.push(a.Disposable.create((()=>this.roots=void 0)));const e=this.editorManager.currentEditor;if(e){const t=u.MonacoEditor.get(e).getControl().getModel();t&&this.toDisposeOnEditor.push(t.onDidChangeContent((()=>{this.roots=void 0,this.updateOutline()}))),this.toDisposeOnEditor.push(e.editor.onSelectionChanged((e=>this.updateOutline(e))))}this.updateOutline()}async updateOutline(e){if(!this.canUpdateOutline)return;this.tokenSource.cancel(),this.tokenSource=new p.CancellationTokenSource;const t=this.tokenSource.token,i=u.MonacoEditor.get(this.editorManager.currentEditor),n=i&&i.getControl().getModel(),o=n&&await this.createRoots(n,t,e);t.isCancellationRequested||this.outlineViewService.publish(o||[])}async createRoots(e,t,i){var n;if(this.roots&&this.roots.length>0){const e=t=>{t.selected=!1,t.children.forEach(e)};this.roots.forEach(e)}else{this.roots=[];const i=f.StandaloneServices.get(g.ILanguageFeaturesService).documentSymbolProvider.all(e);if(t.isCancellationRequested)return[];const o=new d.default(e.uri.toString());for(const r of i)try{const s=null!==(n=await r.provideDocumentSymbols(e,t))&&void 0!==n?n:[];if(t.isCancellationRequested)return[];const a=this.createNodes(o,s);if(i.length>1&&r.displayName){const e=this.createProviderRootNode(o,r.displayName,a);this.roots.push(e)}else this.roots.push(...a)}catch{}}return this.applySelection(this.roots,i),this.roots}createProviderRootNode(e,t,i){return{uri:e,id:t,name:t,iconClass:"",range:this.asRange(new p.Range(1,1,1,1)),fullRange:this.asRange(new p.Range(1,1,1,1)),children:i,parent:void 0,selected:!1,expanded:!0}}createNodes(e,t){let i=!1;const n=new Map,o=[],r=t.sort(this.orderByPosition).reduce(((t,r)=>{const s=this.createNode(e,r,n);if(r.children)b.insert(o,s);else{i=i||r.range.startLineNumber!==r.range.endLineNumber;const e=t.get(r.name)||[];e.push({symbol:r,node:s}),t.set(r.name,e)}return t}),new Map);for(const e of r.values())for(const{node:t,symbol:n}of e)if(n.containerName){const e=r.get(n.containerName);if(e){const o=e.find((e=>this.parentContains(n,e.symbol,i)));o&&(t.parent=o.node,b.insert(o.node.children,t))}}else b.insert(o,t);if(!o.length){const e=r.values().next().value;return e&&!e[0].node.parent?[e[0].node]:[]}return o}applySelection(e,t){if(t)for(const i of e)if(this.parentContains(t,i.fullRange,!0)){const{children:e}=i;return i.selected=!i.expanded||!this.applySelection(e,t),!0}return!1}parentContains(e,t,i){const n=s.Range.is(e)?e:this.getFullRange(e),o=s.Range.is(t)?t:this.getFullRange(t),r=n.start.line===o.start.line,a=n.start.character>=o.start.character,c=n.start.line>o.start.line,l=n.end.line===o.end.line,d=n.end.character<=o.end.character,u=n.end.line<o.end.line;return(r&&a||c)&&(l&&d||u)||!i}asRange(e){const{startLineNumber:t,startColumn:i,endLineNumber:n,endColumn:o}=e;return{start:{line:t-1,character:i-1},end:{line:n-1,character:o-1}}}getFullRange(e){return this.asRange(e.range)}getNameRange(e){return this.asRange(e.selectionRange)}createNode(e,t,i,n){const o=[],r={children:o,id:this.createId(t.name,i),iconClass:p.languages.SymbolKind[t.kind].toString().toLowerCase(),name:this.getName(t),detail:this.getDetail(t),parent:n,uri:e,range:this.getNameRange(t),fullRange:this.getFullRange(t),selected:!1,expanded:this.shouldExpand(t)};if(t.children)for(const n of t.children)b.insert(o,this.createNode(e,n,i,r));return r}getName(e){return e.name}getDetail(e){return e.detail}createId(e,t){const i=t.get(e),n="number"==typeof i?i+1:0;return t.set(e,n),e+"_"+n}shouldExpand(e){return-1!==[p.languages.SymbolKind.Class,p.languages.SymbolKind.Enum,p.languages.SymbolKind.File,p.languages.SymbolKind.Interface,p.languages.SymbolKind.Module,p.languages.SymbolKind.Namespace,p.languages.SymbolKind.Object,p.languages.SymbolKind.Package,p.languages.SymbolKind.Struct].indexOf(e.kind)}orderByPosition(e,t){const i=e.range.startLineNumber-t.range.startLineNumber;if(0!==i)return i;const n=e.range.startColumn-t.range.startColumn;if(0!==n)return n;const o=e.range.endLineNumber-t.range.endLineNumber;return 0!==o?o:e.range.endColumn-t.range.endColumn}};var b;n([(0,r.inject)(c.OutlineViewService),o("design:type",c.OutlineViewService)],m.prototype,"outlineViewService",void 0),n([(0,r.inject)(s.EditorManager),o("design:type",s.EditorManager)],m.prototype,"editorManager",void 0),m=n([(0,r.injectable)()],m),t.MonacoOutlineContribution=m,function(e){function t(e,t){const i=e.range.start.line-t.range.start.line;if(0!==i)return i;const n=e.range.start.character-t.range.start.character;if(0!==n)return n;const o=t.range.end.line-e.range.end.line;return 0!==o?o:t.range.end.character-e.range.end.character}e.is=function(e){return l.OutlineSymbolInformationNode.is(e)&&"uri"in e&&"range"in e},e.insert=function(e,i){const n=e.findIndex((e=>t(i,e)<0));-1===n?e.push(i):e.splice(n,0,i)},e.compare=t}(b=t.MonacoOutlineSymbolInformationNode||(t.MonacoOutlineSymbolInformationNode={}))},4035:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoOutlineDecorator=void 0;const o=i(70801),r=i(18894),s=i(31456),a=i(57959);let c=class{constructor(){this.id="theia-monaco-outline-decorator",this.emitter=new r.Emitter}async decorations(e){return this.collectDecorations(e)}get onDidChangeDecorations(){return this.emitter.event}collectDecorations(e){const t=new Map;if(void 0===e.root)return t;for(const i of new s.DepthFirstTreeIterator(e.root))a.MonacoOutlineSymbolInformationNode.is(i)&&i.detail&&t.set(i.id,this.toDecoration(i));return t}toDecoration(e){return{captionSuffixes:[{data:e.detail||"",fontData:{color:"var(--theia-descriptionForeground)"}}]}}};c=n([(0,o.injectable)()],c),t.MonacoOutlineDecorator=c},42827:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoQuickAccessRegistry=void 0;const r=i(87361),s=i(70801),a=i(98457),c=i(77450),l=i(41950),d=i(81437);class u extends c.PickerQuickAccessProvider{constructor(e,t){super(e,t)}}class h{constructor(e,t,i,n,o){this.theiaDescriptor=e,this.ctor=t,this.prefix=i,this.helpEntries=n,this.placeholder=o}}let p=class{get monacoRegistry(){return d.Registry.as(l.Extensions.Quickaccess)}registerQuickAccessProvider(e){const t=e=>r.QuickPickSeparator.is(e)?e:new a.MonacoQuickPickItem(e,this.keybindingRegistry);return this.monacoRegistry.registerQuickAccessProvider(new h(e,class extends u{getDescriptor(){return e}constructor(){super(e.prefix)}async _getPicks(i,n,o){return(await Promise.resolve(e.getInstance().getPicks(i,o))).map(t)}},e.prefix,e.helpEntries,e.placeholder))}getQuickAccessProviders(){return this.monacoRegistry.getQuickAccessProviders().filter((e=>e instanceof h)).map((e=>e.theiaDescriptor))}getQuickAccessProvider(e){const t=this.monacoRegistry.getQuickAccessProvider(e);return t?t.theiaDescriptor:void 0}clear(){this.monacoRegistry instanceof l.QuickAccessRegistry&&this.monacoRegistry.clear()}};n([(0,s.inject)(r.KeybindingRegistry),o("design:type",r.KeybindingRegistry)],p.prototype,"keybindingRegistry",void 0),p=n([(0,s.injectable)()],p),t.MonacoQuickAccessRegistry=p},98457:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoQuickPickItem=t.MonacoQuickInputService=t.MonacoQuickInputImplementation=void 0;const r=i(87361),s=i(70801),a=i(44832),c=i(55614),l=i(34959),d=i(95080),u=i(94545),h=i(28888),p=i(65948),g=i(9825),f=i(4625),m=i(20311),b=i(85813);let v=class{get backButton(){return this.controller.backButton}get onShow(){return this.controller.onShow}get onHide(){return this.controller.onHide}init(){this.initContainer(),this.initController(),this.quickAccess=new l.QuickAccessController(this,p.StandaloneServices.get(h.IInstantiationService)),this.inQuickOpen=this.contextKeyService.createKey("inQuickOpen",!1),this.controller.onShow((()=>{this.container.style.top=this.shell.mainPanel.node.getBoundingClientRect().top+"px",this.inQuickOpen.set(!0)})),this.controller.onHide((()=>this.inQuickOpen.set(!1))),this.themeService.initialized.then((()=>this.controller.applyStyles(this.getStyles()))),p.StandaloneServices.get(b.IStandaloneThemeService).onDidColorThemeChange((()=>this.controller.applyStyles(this.getStyles()))),window.addEventListener("resize",(()=>this.updateLayout()))}setContextKey(e){e&&this.contextKeyService.createKey(e,void 0)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}open(e){this.quickAccess.show(e),setTimeout((()=>{this.quickInputList.focusNth(0)}),300)}input(e,t){return this.controller.input(e,t)}pick(e,t,i){return this.controller.pick(e,t,i)}hide(){this.controller.hide()}focus(){this.controller.focus()}toggle(){this.controller.toggle()}applyStyles(e){this.controller.applyStyles(e)}layout(e,t){this.controller.layout(e,t)}navigate(e,t){this.controller.navigate(e,t)}dispose(){this.controller.dispose()}async cancel(){this.controller.cancel()}async back(){this.controller.back()}async accept(e){this.controller.accept(e)}initContainer(){(this.container=document.createElement("div")).id="quick-input-container",document.body.appendChild(this.container)}initController(){this.controller=new a.QuickInputController(this.getOptions()),this.updateLayout()}updateLayout(){this.controller.layout(this.getClientDimension(),0)}getClientDimension(){return{width:window.innerWidth,height:window.innerHeight}}getOptions(){return{idPrefix:"quickInput_",container:this.container,styles:{widget:{},list:{},inputBox:{},countBadge:{},button:{},progressBar:{},keybindingLabel:{}},ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>!1,backKeybindingLabel:()=>{},setContextKey:e=>this.setContextKey(e),returnFocus:()=>this.container.focus(),createList:(e,t,i,n,o)=>this.quickInputList=new u.List(e,t,i,n,o)}}getStyles(){return{widget:{quickInputBackground:this.colorRegistry.getColor("quickInput.background"),quickInputForeground:this.colorRegistry.getColor("quickInput.foreground"),quickInputTitleBackground:this.colorRegistry.getColor("quickInputTitle.background")},list:{listBackground:this.colorRegistry.getColor("quickInput.background"),listInactiveFocusForeground:this.colorRegistry.getColor("quickInputList.focusForeground"),listInactiveSelectionIconForeground:this.colorRegistry.getColor("quickInputList.focusIconForeground"),listInactiveFocusBackground:this.colorRegistry.getColor("quickInputList.focusBackground"),listFocusOutline:this.colorRegistry.getColor("activeContrastBorder"),listInactiveFocusOutline:this.colorRegistry.getColor("activeContrastBorder"),pickerGroupBorder:this.colorRegistry.getColor("pickerGroup.border"),pickerGroupForeground:this.colorRegistry.getColor("pickerGroup.foreground")},inputBox:{inputForeground:this.colorRegistry.getColor("inputForeground"),inputBackground:this.colorRegistry.getColor("inputBackground"),inputBorder:this.colorRegistry.getColor("inputBorder"),inputValidationInfoBackground:this.colorRegistry.getColor("inputValidation.infoBackground"),inputValidationInfoForeground:this.colorRegistry.getColor("inputValidation.infoForeground"),inputValidationInfoBorder:this.colorRegistry.getColor("inputValidation.infoBorder"),inputValidationWarningBackground:this.colorRegistry.getColor("inputValidation.warningBackground"),inputValidationWarningForeground:this.colorRegistry.getColor("inputValidation.warningForeground"),inputValidationWarningBorder:this.colorRegistry.getColor("inputValidation.warningBorder"),inputValidationErrorBackground:this.colorRegistry.getColor("inputValidation.errorBackground"),inputValidationErrorForeground:this.colorRegistry.getColor("inputValidation.errorForeground"),inputValidationErrorBorder:this.colorRegistry.getColor("inputValidation.errorBorder")},countBadge:{badgeBackground:this.colorRegistry.getColor("badge.background"),badgeForeground:this.colorRegistry.getColor("badge.foreground"),badgeBorder:this.colorRegistry.getColor("contrastBorder")},button:{buttonForeground:this.colorRegistry.getColor("button.foreground"),buttonBackground:this.colorRegistry.getColor("button.background"),buttonHoverBackground:this.colorRegistry.getColor("button.hoverBackground"),buttonBorder:this.colorRegistry.getColor("contrastBorder")},progressBar:{progressBarBackground:this.colorRegistry.getColor("progressBar.background")},keybindingLabel:{keybindingLabelBackground:this.colorRegistry.getColor("keybindingLabe.background"),keybindingLabelForeground:this.colorRegistry.getColor("keybindingLabel.foreground"),keybindingLabelBorder:this.colorRegistry.getColor("keybindingLabel.border"),keybindingLabelBottomBorder:this.colorRegistry.getColor("keybindingLabel.bottomBorder"),keybindingLabelShadow:this.colorRegistry.getColor("widget.shadow")}}}};n([(0,s.inject)(r.ApplicationShell),o("design:type",r.ApplicationShell)],v.prototype,"shell",void 0),n([(0,s.inject)(f.MonacoColorRegistry),o("design:type",f.MonacoColorRegistry)],v.prototype,"colorRegistry",void 0),n([(0,s.inject)(m.ThemeService),o("design:type",m.ThemeService)],v.prototype,"themeService",void 0),n([(0,s.inject)(d.ContextKeyService),o("design:type",d.ContextKeyService)],v.prototype,"contextKeyService",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],v.prototype,"init",null),v=n([(0,s.injectable)()],v),t.MonacoQuickInputImplementation=v;let A=class{get backButton(){return this.monacoService.backButton}get onShow(){return this.monacoService.onShow}get onHide(){return this.monacoService.onHide}open(e){this.monacoService.open(e)}createInputBox(){return this.monacoService.createInputBox()}input(e,t){let i;if(e){const{validateInput:t,...n}=e;i={...n},t&&(i.validateInput=async e=>t(e))}return this.monacoService.input(i,t)}async pick(e,t,i){const n=new Promise((async t=>{t((await e).map((e=>("separator"!==e.type&&e.buttons&&(e.buttons=e.buttons.map(r.QuickInputButton.normalize)),e))))})),o=t,s=await this.monacoService.pick(n,o,i);return s?(null==t?void 0:t.canPickMany)?Array.isArray(s)?s:[s]:Array.isArray(s)?s[0]:s:s}showQuickPick(e,t){return new Promise(((i,n)=>{var o,r,s,a;const c=this.createQuickPick();c.items=e,t&&(c.canSelectMany=!!t.canSelectMany,c.contextKey=t.contextKey,c.description=t.description,c.enabled=null===(o=t.enabled)||void 0===o||o,c.ignoreFocusOut=!!t.ignoreFocusOut,c.matchOnDescription=null===(r=t.matchOnDescription)||void 0===r||r,c.matchOnDetail=null===(s=t.matchOnDetail)||void 0===s||s,c.keepScrollPosition=null!==(a=t.keepScrollPosition)&&void 0!==a&&a,c.placeholder=t.placeholder,c.step=t.step,c.title=t.title,c.totalSteps=t.totalSteps,t.activeItem&&(c.activeItems=[t.activeItem]),c.onDidAccept((()=>{(null==t?void 0:t.onDidAccept)&&t.onDidAccept(),c.hide(),i(c.selectedItems[0])})),c.onDidHide((()=>{t.onDidHide&&t.onDidHide(),c.dispose(),setTimeout((()=>i(void 0)))})),c.onDidChangeValue((e=>{t.onDidChangeValue&&t.onDidChangeValue(c,e)})),c.onDidChangeActive((e=>{t.onDidChangeActive&&t.onDidChangeActive(c,e)})),c.onDidTriggerButton((e=>{t.onDidTriggerButton&&t.onDidTriggerButton(e)})),c.onDidTriggerItemButton((e=>{t.onDidTriggerItemButton&&t.onDidTriggerItemButton({...e,removeItem:()=>{c.items=c.items.filter((t=>t!==e.item)),c.activeItems=c.activeItems.filter((t=>t!==e.item))}})})),c.onDidChangeSelection((e=>{t.onDidChangeSelection&&t.onDidChangeSelection(c,e)}))),c.show()})).then((e=>((null==e?void 0:e.execute)&&e.execute(),e)))}createQuickPick(){const e=this.monacoService.createQuickPick();return this.wrapQuickPick(e)}wrapQuickPick(e){return new C(e,this.keybindingRegistry)}convertItems(e){return new w(e,this.keybindingRegistry)}hide(){return this.monacoService.hide()}};n([(0,s.inject)(v),o("design:type",v)],A.prototype,"monacoService",void 0),n([(0,s.inject)(r.KeybindingRegistry),o("design:type",r.KeybindingRegistry)],A.prototype,"keybindingRegistry",void 0),A=n([(0,s.injectable)()],A),t.MonacoQuickInputService=A;class y{constructor(e){this.wrapped=e}get onDidHide(){return this.wrapped.onDidHide}get onDispose(){return this.wrapped.onDispose}get title(){return this.wrapped.title}set title(e){this.wrapped.title=e}get description(){return this.wrapped.description}set description(e){this.wrapped.description=e}get step(){return this.wrapped.step}set step(e){this.wrapped.step=e}get enabled(){return this.wrapped.enabled}set enabled(e){this.wrapped.enabled=e}get totalSteps(){return this.wrapped.totalSteps}set totalSteps(e){this.wrapped.totalSteps=e}get contextKey(){return this.wrapped.contextKey}set contextKey(e){this.wrapped.contextKey=e}get busy(){return this.wrapped.busy}set busy(e){this.wrapped.busy=e}get ignoreFocusOut(){return this.wrapped.ignoreFocusOut}set ignoreFocusOut(e){this.wrapped.ignoreFocusOut=e}show(){this.wrapped.show()}hide(){this.wrapped.hide()}dispose(){this.wrapped.dispose()}}class C extends y{constructor(e,t){super(e),this.wrapped=e,this.keybindingRegistry=t,this.onDidAccept=this.wrapped.onDidAccept,this.onDidChangeValue=this.wrapped.onDidChangeValue,this.onDidTriggerButton=this.wrapped.onDidTriggerButton,this.onDidTriggerItemButton=g.Event.map(this.wrapped.onDidTriggerItemButton,(e=>({item:e.item.item,button:e.button}))),this.onDidChangeActive=g.Event.map(this.wrapped.onDidChangeActive,(e=>e.map((e=>e.item)))),this.onDidChangeSelection=g.Event.map(this.wrapped.onDidChangeSelection,(e=>e.map((e=>e.item))))}get value(){return this.wrapped.value}set value(e){this.wrapped.value=e}get placeholder(){return this.wrapped.placeholder}set placeholder(e){this.wrapped.placeholder=e}get canSelectMany(){return this.wrapped.canSelectMany}set canSelectMany(e){this.wrapped.canSelectMany=e}get matchOnDescription(){return this.wrapped.matchOnDescription}set matchOnDescription(e){this.wrapped.matchOnDescription=e}get matchOnDetail(){return this.wrapped.matchOnDetail}set matchOnDetail(e){this.wrapped.matchOnDetail=e}get keepScrollPosition(){return this.wrapped.keepScrollPosition}set keepScrollPosition(e){this.wrapped.keepScrollPosition=e}get items(){return this.wrapped.items.map((e=>r.QuickPickSeparator.is(e)?e:e.item))}set items(e){const t=this.activeItems;this.wrapped.items=e.map((e=>r.QuickPickSeparator.is(e)?e:new w(e,this.keybindingRegistry))),0!==t.length&&(this.activeItems=t)}set activeItems(e){this.wrapped.activeItems=this.findMonacoItemReferences(this.wrapped.items,e)}get activeItems(){return this.wrapped.activeItems.map((e=>e.item))}set selectedItems(e){this.wrapped.selectedItems=this.findMonacoItemReferences(this.wrapped.items,e)}get selectedItems(){return this.wrapped.selectedItems.map((e=>e.item))}findMonacoItemReferences(e,t){const i=[];for(const n of t)for(const t of e)r.QuickPickSeparator.is(t)||t.item!==n||i.push(t);return i}}class w{constructor(e,t){var i;this.item=e,this.type=e.type,this.id=e.id,this.label=e.label,this.meta=e.meta,this.ariaLabel=e.ariaLabel,this.description=e.description,this.detail=e.detail,this.keybinding=e.keySequence?new c.MonacoResolvedKeybinding(e.keySequence,t):void 0,this.iconClasses=e.iconClasses,this.buttons=null===(i=e.buttons)||void 0===i?void 0:i.map(r.QuickInputButton.normalize),this.alwaysShow=e.alwaysShow,this.highlights=e.highlights}accept(){this.item.execute&&this.item.execute()}}t.MonacoQuickPickItem=w},55614:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoResolvedKeybinding=void 0;const n=i(86146),o=i(86542),r=i(73086),s=i(83489),a=i(85524),c=i(4836),l=i(3474);class d extends n.ResolvedKeybinding{constructor(e,t){super(),this.keySequence=e,this.parts=e.map((e=>{const i=e.key?t.acceleratorForKey(e.key):null,o=i;return new n.ResolvedKeybindingPart(e.ctrl,e.shift,e.alt,e.meta,i,o)}))}getLabel(){return o.UILabelProvider.toLabel(s.OS,this.parts,(e=>e.keyLabel))}getAriaLabel(){return o.UILabelProvider.toLabel(s.OS,this.parts,(e=>e.keyAriaLabel))}getElectronAccelerator(){return this.isChord()?null:o.ElectronAcceleratorLabelProvider.toLabel(s.OS,this.parts,(e=>e.keyLabel))}getUserSettingsLabel(){return o.UserSettingsLabelProvider.toLabel(s.OS,this.parts,(e=>e.keyLabel))}isWYSIWYG(){return!0}isChord(){return this.parts.length>1}getDispatchParts(){return this.keySequence.map((e=>r.USLayoutResolvedKeybinding.getDispatchStr(this.toKeybinding(e))))}getSingleModifierDispatchParts(){return this.keySequence.map((e=>this.getSingleModifierDispatchPart(e)))}getSingleModifierDispatchPart(e){var t,i,n,o,r;return void 0===(null===(t=e.key)||void 0===t?void 0:t.keyCode)?null:5!==l.KEY_CODE_MAP[null===(i=e.key)||void 0===i?void 0:i.keyCode]||e.shift||e.alt||e.meta?4!==l.KEY_CODE_MAP[null===(n=e.key)||void 0===n?void 0:n.keyCode]||e.ctrl||e.alt||e.meta?6!==l.KEY_CODE_MAP[null===(o=e.key)||void 0===o?void 0:o.keyCode]||e.shift||e.ctrl||e.meta?57!==l.KEY_CODE_MAP[null===(r=e.key)||void 0===r?void 0:r.keyCode]||e.shift||e.alt||e.ctrl?null:"meta":"alt":"shift":"ctrl"}toKeybinding(e){return new n.SimpleKeybinding(e.ctrl,e.shift,e.alt,e.meta,l.KEY_CODE_MAP[e.key.keyCode])}getParts(){return this.parts}static toKeybinding(e){return e.map((e=>this.keyCode(e))).join(" ")}static keyCode(e){const t=e instanceof n.SimpleKeybinding?e.keyCode:r.USLayoutResolvedKeybinding._scanCodeToKeyCode(e.scanCode),i={first:a.Key.getKey(this.monaco2BrowserKeyCode(255&t)),modifiers:[]};return e.ctrlKey&&(c.isOSX?i.modifiers.push(a.KeyModifier.MacCtrl):i.modifiers.push(a.KeyModifier.CtrlCmd)),e.shiftKey&&i.modifiers.push(a.KeyModifier.Shift),e.altKey&&i.modifiers.push(a.KeyModifier.Alt),e.metaKey&&-1===i.modifiers.indexOf(a.KeyModifier.CtrlCmd)&&i.modifiers.push(a.KeyModifier.CtrlCmd),a.KeyCode.createKeyCode(i)}static keySequence(e){return e.parts.map((e=>this.keyCode(e)))}static monaco2BrowserKeyCode(e){for(let t=0;t<l.KEY_CODE_MAP.length;t++)if(l.KEY_CODE_MAP[t]===e)return t;return-1}}t.MonacoResolvedKeybinding=d},89555:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoSnippetSuggestion=t.JsonSerializedSnippet=t.MonacoSnippetSuggestProvider=void 0;const s=i(69592),a=i(70801),c=i(30970),l=i(51138),d=i(14304),u=i(36090),h=i(39539),p=i(50898),g=i(9825);let f=n=class{constructor(){this.snippets=new Map,this.pendingSnippets=new Map}async provideCompletionItems(e,t,i){if(t.column>=n._maxPrefix)return;if(i.triggerKind===h.languages.CompletionTriggerKind.TriggerCharacter&&" "===i.triggerCharacter)return;const o=e.getLanguageId();await this.loadSnippets(o);const r=this.snippets.get(o)||[],s={lineNumber:t.lineNumber,column:1},a=[],c=e.getLineContent(t.lineNumber).substring(0,t.column-1).toLowerCase(),l=c.match(/\s$/);for(;s.column<t.column;){const t=e.getWordAtPosition(s);t?(a.push(t.startColumn-1),s.column=t.endColumn+1,t.endColumn-1<c.length&&!/\s/.test(c[t.endColumn-1])&&a.push(t.endColumn-1)):(/\s/.test(c[s.column-1])||a.push(s.column-1),s.column+=1)}const d=new Set;r.forEach(d.add,d);const u=[];for(const e of a)d.forEach((i=>{this.isPatternInWord(c,e,c.length,i.prefix.toLowerCase(),0,i.prefix.length)&&(u.push(new b(i,h.Range.fromPositions(t.delta(0,-(c.length-e)),t))),d.delete(i))}));return(l||0===a.length)&&d.forEach((e=>{u.push(new b(e,h.Range.fromPositions(t)))})),u.sort(b.compareByLabel),{suggestions:u}}resolveCompletionItem(e,t){return e instanceof b?e.resolve():e}async loadSnippets(e){const t=[];t.push(...this.pendingSnippets.get(e)||[]),t.push(...this.pendingSnippets.get("*")||[]),t.length&&await Promise.all(t)}fromURI(e,t){const i=new l.DisposableCollection(l.Disposable.create((()=>{}))),n=this.loadURI(e,t,i),{language:o}=t,r=Array.isArray(o)?o:o?[o]:["*"];for(const e of r){const t=this.pendingSnippets.get(e)||[];t.push(n),this.pendingSnippets.set(e,t),i.push(l.Disposable.create((()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)})))}return i}async loadURI(e,t,i){try{const n="string"==typeof e?new c.default(e):e,{value:o}=await this.fileService.read(n);if(i.disposed)return;const r=o&&s.parse(o,void 0,{disallowComments:!1});i.push(this.fromJSON(r,t))}catch(e){e instanceof u.FileOperationError||console.error(e)}}fromJSON(e,{language:t,source:i}){const n=new l.DisposableCollection;return this.parseSnippets(e,((e,o)=>{const{isFileTemplate:r,prefix:s,body:a,description:c}=o,l=Array.isArray(a)?a.join("\n"):a,d=s?Array.isArray(s)?s:[s]:[""];if("string"!=typeof l)return;const u=[];if(t)Array.isArray(t)?u.push(...t):u.push(t);else if("string"==typeof o.scope)for(const e of o.scope.split(",")){const t=e.trim();t&&u.push(t)}d.forEach((t=>n.push(this.push({isFileTemplate:Boolean(r),scopes:u,name:e,prefix:t,description:c,body:l,source:i}))))})),n}parseSnippets(e,t){for(const[i,n]of Object.entries(null!=e?e:{}))if(m.is(n))t(i,n);else for(const[e,i]of Object.entries(n))t(e,i)}push(...e){const t=new l.DisposableCollection;for(const i of e)for(const e of i.scopes){const n=this.snippets.get(e)||[];n.push(i),this.snippets.set(e,n),t.push(l.Disposable.create((()=>{const e=n.indexOf(i);-1!==e&&n.splice(e,1)})))}return t}isPatternInWord(e,t,i,n,o,r){for(;t<i&&o<r;)e[t]===n[o]&&(t+=1),o+=1;return t===i}};var m;f._maxPrefix=1e4,o([(0,a.inject)(d.FileService),r("design:type",d.FileService)],f.prototype,"fileService",void 0),f=n=o([(0,a.injectable)()],f),t.MonacoSnippetSuggestProvider=f,function(e){e.is=function(e){return(0,g.isObject)(e)&&"body"in e}}(m=t.JsonSerializedSnippet||(t.JsonSerializedSnippet={}));class b{constructor(e,t){this.snippet=e,this.range=t,this.noAutoAccept=!0,this.kind=h.languages.CompletionItemKind.Snippet,this.insertTextRules=h.languages.CompletionItemInsertTextRule.InsertAsSnippet,this.resolved=!1,this.label=e.prefix,this.detail=`${e.description||e.name} (${e.source})`,this.insertText=e.body,this.sortText=`z-${e.prefix}`,this.range=t}resolve(){if(!this.resolved){const e=(new p.SnippetParser).parse(this.snippet.body).toString();this.documentation={value:"```\n"+e+"```"},this.resolved=!0}return this}static compareByLabel(e,t){return e.label>t.label?1:e.label<t.label?-1:0}}t.MonacoSnippetSuggestion=b},74489:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoStatusBarContribution=void 0;const s=i(70801),a=i(9825),c=i(87361),l=i(30566),d=i(91174);let u=class{constructor(e,t){this.editorManager=e,this.statusBar=t,this.toDispose=new a.DisposableCollection}onStart(e){this.updateStatusBar(),this.editorManager.onCurrentEditorChanged((()=>this.updateStatusBar()))}updateStatusBar(){const e=this.editorManager.currentEditor,t=this.getModel(e);if(e&&t){this.setConfigTabSizeWidget(),this.setLineEndingWidget(),this.toDispose.dispose(),this.toDispose.push(t.onDidChangeOptions((()=>{this.setConfigTabSizeWidget(),this.setLineEndingWidget()})));let e=t.getEOL();this.toDispose.push(t.onDidChangeContent((t=>{e!==t.eol&&(e=t.eol,this.setLineEndingWidget())})))}else this.removeConfigTabSizeWidget(),this.removeLineEndingWidget()}setConfigTabSizeWidget(){const e=this.editorManager.currentEditor,t=this.getModel(e);if(e&&t){const e=t.getOptions(),i=e.tabSize,n=e.insertSpaces?a.nls.localizeByDefault("Spaces: {0}",i):a.nls.localizeByDefault("Tab Size: {0}",i);this.statusBar.setElement("editor-status-tabbing-config",{text:n,alignment:c.StatusBarAlignment.RIGHT,priority:10,command:l.EditorCommands.CONFIG_INDENTATION.id,tooltip:a.nls.localizeByDefault("Select Indentation")})}}removeConfigTabSizeWidget(){this.statusBar.removeElement("editor-status-tabbing-config")}setLineEndingWidget(){const e=this.editorManager.currentEditor,t=this.getModel(e);if(e&&t){const e="\n"===t.getEOL()?"LF":"CRLF";this.statusBar.setElement("editor-status-eol",{text:`${e}`,alignment:c.StatusBarAlignment.RIGHT,priority:11,command:l.EditorCommands.CONFIG_EOL.id,tooltip:a.nls.localizeByDefault("Select End of Line Sequence")})}}removeLineEndingWidget(){this.statusBar.removeElement("editor-status-eol")}getModel(e){const t=d.MonacoEditor.get(e);return t&&t.getControl().getModel()||void 0}};u=n([(0,s.injectable)(),r(0,(0,s.inject)(l.EditorManager)),r(1,(0,s.inject)(c.StatusBar)),o("design:paramtypes",[l.EditorManager,Object])],u),t.MonacoStatusBarContribution=u},731:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoTextModelService=t.MonacoEditorModelFactory=void 0;const r=i(70801),s=i(30970),a=i(9825),c=i(30566),l=i(89461),d=i(51902),u=i(39155),h=i(43118),p=i(14304),g=i(65948),f=i(52427);t.MonacoEditorModelFactory=Symbol("MonacoEditorModelFactory");let m=class{constructor(){this.ready=Promise.resolve(),this._models=new a.ReferenceCollection((e=>this.loadModel(new s.default(e)))),this.modelOptions={"editor.tabSize":"tabSize","editor.insertSpaces":"insertSpaces"}}init(){const e=g.StandaloneServices.get(f.ITextResourcePropertiesService);e&&(e.getEOL=()=>{const e=this.editorPreferences["files.eol"];return e&&"auto"!==e?e:a.OS.backend.EOL})}get models(){return this._models.values()}get(e){return this._models.get(e)}get onDidCreate(){return this._models.onDidCreate}createModelReference(e){return this._models.acquire(e.toString())}async loadModel(e){await this.editorPreferences.ready;const t=await this.resourceProvider(e),i=await(await this.createModel(t)).load();this.updateModel(i),i.textEditorModel.onDidChangeLanguage((()=>this.updateModel(i)));const n=this.editorPreferences.onPreferenceChanged((e=>this.updateModel(i,e)));return i.onDispose((()=>n.dispose())),i}createModel(e){const t=this.factories.getContributions().find((({scheme:t})=>e.uri.scheme===t));return t?t.createModel(e):new l.MonacoEditorModel(e,this.m2p,this.p2m,this.logger,this.editorPreferences)}toModelOption(e){switch(e){case"editor.tabSize":return"tabSize";case"editor.insertSpaces":return"insertSpaces";case"editor.bracketPairColorization.enabled":case"editor.bracketPairColorization.independentColorPoolPerBracketType":return"bracketColorizationOptions";case"editor.trimAutoWhitespace":return"trimAutoWhitespace"}}updateModel(e,t){t?t.affects(e.uri,e.languageId)&&("files.autoSave"===t.preferenceName&&(e.autoSave=this.editorPreferences.get("files.autoSave",void 0,e.uri)),"files.autoSaveDelay"===t.preferenceName&&(e.autoSaveDelay=this.editorPreferences.get("files.autoSaveDelay",void 0,e.uri)),this.toModelOption(t.preferenceName)&&e.textEditorModel.updateOptions(this.getModelOptions(e))):(e.autoSave=this.editorPreferences.get("files.autoSave",void 0,e.uri),e.autoSaveDelay=this.editorPreferences.get("files.autoSaveDelay",void 0,e.uri),e.textEditorModel.updateOptions(this.getModelOptions(e)))}getModelOptions(e){const t="string"==typeof e?e:e.uri,i="string"==typeof e?void 0:e.languageId;return{tabSize:this.editorPreferences.get({preferenceName:"editor.tabSize",overrideIdentifier:i},void 0,t),insertSpaces:this.editorPreferences.get({preferenceName:"editor.insertSpaces",overrideIdentifier:i},void 0,t),bracketColorizationOptions:{enabled:this.editorPreferences.get({preferenceName:"editor.bracketPairColorization.enabled",overrideIdentifier:i},void 0,t),independentColorPoolPerBracketType:this.editorPreferences.get({preferenceName:"editor.bracketPairColorization.independentColorPoolPerBracketType",overrideIdentifier:i},void 0,t)},trimAutoWhitespace:this.editorPreferences.get({preferenceName:"editor.trimAutoWhitespace",overrideIdentifier:i},void 0,t)}}registerTextModelContentProvider(e,t){return{dispose(){}}}canHandleResource(e){return this.fileService.canHandleResource(new s.default(e))}};n([(0,r.inject)(a.ResourceProvider),o("design:type",Function)],m.prototype,"resourceProvider",void 0),n([(0,r.inject)(c.EditorPreferences),o("design:type",Object)],m.prototype,"editorPreferences",void 0),n([(0,r.inject)(d.MonacoToProtocolConverter),o("design:type",d.MonacoToProtocolConverter)],m.prototype,"m2p",void 0),n([(0,r.inject)(u.ProtocolToMonacoConverter),o("design:type",u.ProtocolToMonacoConverter)],m.prototype,"p2m",void 0),n([(0,r.inject)(a.ContributionProvider),(0,r.named)(t.MonacoEditorModelFactory),o("design:type",Object)],m.prototype,"factories",void 0),n([(0,r.inject)(h.ILogger),o("design:type",Object)],m.prototype,"logger",void 0),n([(0,r.inject)(p.FileService),o("design:type",p.FileService)],m.prototype,"fileService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],m.prototype,"init",null),m=n([(0,r.injectable)()],m),t.MonacoTextModelService=m},82153:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoThemingService=void 0;const s=i(70801),a=i(69592),c=i(66325),l=i(30970),d=i(51138),u=i(63106),h=i(40591),p=i(14304);let g=n=class{constructor(){this.toUpdateUiTheme=new d.DisposableCollection}register(e,t={}){const i=new d.DisposableCollection(d.Disposable.create((()=>{})));return this.doRegister(e,t,i),i}async doRegister(e,t,i){try{const n={},o=await this.loadTheme(e.uri,n,t,i);if(i.disposed)return;const r=e.label||new l.default(e.uri).path.base,{id:s,description:a,uiTheme:c}=e;i.push(this.registerParsedTheme({id:s,label:r,description:a,uiTheme:c,json:o,includes:n}))}catch(t){console.error("Failed to load theme from "+e.uri,t)}}async loadTheme(e,t,i,n){const o=(await this.fileService.read(new l.default(e))).value;if(n.disposed)return;const r=new l.default(e);if(".json"!==r.path.ext){const t=c.parse(o);if(t&&"settings"in t&&Array.isArray(t.settings))return{tokenColors:t.settings};throw new Error(`Problem parsing tmTheme file: ${e}. 'settings' is not array.`)}const s=a.parse(o,void 0,{disallowComments:!1});if("tokenColors"in s&&"string"==typeof s.tokenColors){const e=await this.doLoadTheme(r,s.tokenColors,t,i,n);if(n.disposed)return;s.tokenColors=e.tokenColors}return s.include&&(t[s.include]=await this.doLoadTheme(r,s.include,t,i,n),n.disposed)?void 0:(this.clean(s.colors),s)}doLoadTheme(e,t,i,n,o){const r=e.parent.resolve(t).toString();return n[r]||(n[r]=this.loadTheme(r,i,n,o)),n[r]}initialize(){this.monacoThemeRegistry.initializeDefaultThemes(),this.updateBodyUiTheme(),this.themeService.onDidColorThemeChange((()=>this.updateBodyUiTheme())),this.themeService.onDidRetrieveTheme((e=>this.monacoThemeRegistry.setTheme(n.toCssSelector(e.id),e.data))),this.restore()}registerParsedTheme(e){const t=e.uiTheme||"vs-dark",{label:i,description:o,json:r,includes:s}=e,a=e.id||i,c=n.toCssSelector(a),l=this.monacoThemeRegistry.register(r,s,c,t);return this.doRegisterParsedTheme({id:a,label:i,description:o,uiTheme:t,data:l})}updateBodyUiTheme(){this.toUpdateUiTheme.dispose();const e=this.themeService.getCurrentTheme().type,t="hc"===e?"hc-black":"light"===e?"vs":"vs-dark";document.body.classList.add(t),this.toUpdateUiTheme.push(d.Disposable.create((()=>document.body.classList.remove(t))))}doRegisterParsedTheme(e){return new d.DisposableCollection(this.themeService.register((0,h.stateToTheme)(e)),(0,h.putTheme)(e))}async restore(){try{const e=await(0,h.getThemes)();for(const t of e)this.monacoThemeRegistry.setTheme(t.data.name,t.data),this.doRegisterParsedTheme(t)}catch(e){console.error("Failed to restore monaco themes",e)}}static toCssSelector(e){return(e=e.replace(/[^\-a-zA-Z0-9]/g,"-")).charAt(0).match(/[0-9\-]/)&&(e="-"+e),e}clean(e){for(const t in e)"string"!=typeof e[t]&&delete e[t]}};o([(0,s.inject)(p.FileService),r("design:type",p.FileService)],g.prototype,"fileService",void 0),o([(0,s.inject)(u.MonacoThemeRegistry),r("design:type",u.MonacoThemeRegistry)],g.prototype,"monacoThemeRegistry",void 0),o([(0,s.inject)(h.ThemeServiceWithDB),r("design:type",h.ThemeServiceWithDB)],g.prototype,"themeService",void 0),g=n=o([(0,s.injectable)()],g),t.MonacoThemingService=g},51902:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoToProtocolConverter=t.MonacoRangeReplace=void 0;const o=i(70801);var r;!function(e){e.is=function(e){return void 0!==e.insert}}(r=t.MonacoRangeReplace||(t.MonacoRangeReplace={}));let s=class{asPosition(e,t){return{line:"number"!=typeof e?void 0:e-1,character:"number"!=typeof t?void 0:t-1}}asRange(e){if(void 0!==e)return r.is(e)?this.asRange(e.insert):{start:this.asPosition(e.startLineNumber,e.startColumn),end:this.asPosition(e.endLineNumber,e.endColumn)}}};s=n([(0,o.injectable)()],s),t.MonacoToProtocolConverter=s},77582:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoWorkspace=t.ResourceTextEdit=t.ResourceFileEdit=t.WorkspaceTextEdit=t.WorkspaceFileEdit=void 0;const r=i(70801),s=i(30970),a=i(18894),c=i(21549),l=i(30566),d=i(731),u=i(91174),h=i(61177),p=i(85964),g=i(14304),f=i(39539),m=i(5993),b=i(45103),v=i(65948),A=i(50898),y=i(9825);(t.WorkspaceFileEdit||(t.WorkspaceFileEdit={})).is=function(e){return"oldResource"in e&&f.Uri.isUri(e.oldResource)||"newResource"in e&&f.Uri.isUri(e.newResource)},(t.WorkspaceTextEdit||(t.WorkspaceTextEdit={})).is=function(e){return(0,y.isObject)(e)&&f.Uri.isUri(e.resource)&&(0,y.isObject)(e.textEdit)},(t.ResourceFileEdit||(t.ResourceFileEdit={})).is=function(e){return(0,y.isObject)(e)&&(f.Uri.isUri(e.oldResource)||f.Uri.isUri(e.newResource))},(t.ResourceTextEdit||(t.ResourceTextEdit={})).is=function(e){return"resource"in e&&f.Uri.isUri(e.resource)};let C=class{constructor(){this.ready=new Promise((e=>{this.resolveReady=e})),this.onDidOpenTextDocumentEmitter=new a.Emitter,this.onDidOpenTextDocument=this.onDidOpenTextDocumentEmitter.event,this.onDidCloseTextDocumentEmitter=new a.Emitter,this.onDidCloseTextDocument=this.onDidCloseTextDocumentEmitter.event,this.onDidChangeTextDocumentEmitter=new a.Emitter,this.onDidChangeTextDocument=this.onDidChangeTextDocumentEmitter.event,this.onWillSaveTextDocumentEmitter=new a.Emitter,this.onWillSaveTextDocument=this.onWillSaveTextDocumentEmitter.event,this.onDidSaveTextDocumentEmitter=new a.Emitter,this.onDidSaveTextDocument=this.onDidSaveTextDocumentEmitter.event,this.suppressedOpenIfDirty=[]}init(){this.resolveReady();for(const e of this.textModelService.models)this.fireDidOpen(e);this.textModelService.onDidCreate((e=>this.fireDidOpen(e)))}get textDocuments(){return this.textModelService.models}getTextDocument(e){return this.textModelService.get(e)}fireDidOpen(e){this.doFireDidOpen(e),e.textEditorModel.onDidChangeLanguage((t=>{this.problems.cleanAllMarkers(new s.default(e.uri)),e.setLanguageId(t.oldLanguage);try{this.fireDidClose(e)}finally{e.setLanguageId(void 0)}this.doFireDidOpen(e)})),e.onDidChangeContent((e=>this.fireDidChangeContent(e))),e.onDidSaveModel((()=>this.fireDidSave(e))),e.onWillSaveModel((e=>this.fireWillSave(e))),e.onDirtyChanged((()=>this.openEditorIfDirty(e))),e.onDispose((()=>this.fireDidClose(e)))}doFireDidOpen(e){this.onDidOpenTextDocumentEmitter.fire(e)}fireDidClose(e){this.onDidCloseTextDocumentEmitter.fire(e)}fireDidChangeContent(e){this.onDidChangeTextDocumentEmitter.fire(e)}fireWillSave(e){this.onWillSaveTextDocumentEmitter.fire(e)}fireDidSave(e){this.onDidSaveTextDocumentEmitter.fire(e)}openEditorIfDirty(e){e.suppressOpenEditorWhenDirty||-1!==this.suppressedOpenIfDirty.indexOf(e)||e.dirty&&0===u.MonacoEditor.findByDocument(this.editorManager,e).length&&this.textModelService.createModelReference(e.textEditorModel.uri).then((t=>{("off"!==e.autoSave?new Promise((t=>e.onDidSaveModel(t))):this.editorManager.open(new s.default(e.uri),{mode:"open"})).then((()=>t.dispose()))}))}async suppressOpenIfDirty(e,t){this.suppressedOpenIfDirty.push(e);try{await t()}finally{const t=this.suppressedOpenIfDirty.indexOf(e);-1!==t&&this.suppressedOpenIfDirty.splice(t,1)}}applyBackgroundEdit(e,t,i=!0){return this.suppressOpenIfDirty(e,(async()=>{const n=u.MonacoEditor.findByDocument(this.editorManager,e)[0],o=n&&n.getControl().getSelections()||[];e.textEditorModel.pushStackElement(),e.textEditorModel.pushEditOperations(o,t,(()=>o)),e.textEditorModel.pushStackElement(),!n&&i&&await e.save()}))}async applyBulkEdit(e,t){try{let i=0,n=0;const o=e.filter((e=>e instanceof m.ResourceFileEdit)),[r,s]=p.ArrayUtils.partition(e.filter((e=>e instanceof m.ResourceTextEdit)),(e=>{var t,i;return e.textEdit.insertAsSnippet&&e.resource.toString()===(null===(i=null===(t=this.editorManager.activeEditor)||void 0===t?void 0:t.getResourceUri())||void 0===i?void 0:i.toString())}));if(o.length>0&&await this.performFileEdits(o),s.length>0){const e=await this.performTextEdits(s);i+=e.totalEdits,n+=e.totalFiles}r.length>0&&await this.performSnippetEdits(r);const a=new Set(e.filter((e=>e instanceof m.ResourceTextEdit)).map((e=>e.resource.toString())));return a.size>0&&(null==t?void 0:t.respectAutoSaveConfig)&&!0===this.editorPreferences.get("files.refactoring.autoSave")&&await this.saveAll(a),{ariaSummary:this.getAriaSummary(i,n),success:!0}}catch(e){return console.error("Failed to apply Resource edits:",e),{ariaSummary:`Error applying Resource edits: ${e.toString()}`,success:!1}}}async saveAll(e){await Promise.all(Array.from(e.values()).map((e=>{var t;return null===(t=this.textModelService.get(e))||void 0===t?void 0:t.save()})))}getAriaSummary(e,t){return 0===e?y.nls.localizeByDefault("Made no edits"):e>1&&t>1?y.nls.localizeByDefault("Made {0} text edits in {1} files",e,t):y.nls.localizeByDefault("Made {0} text edits in one file",e)}async performTextEdits(e){let t=0,i=0;const n=new Map;for(const t of e){if("number"==typeof t.versionId){const e=this.textModelService.get(t.resource.toString());if(e&&e.textEditorModel.getVersionId()!==t.versionId)throw new Error(`${e.uri} has changed in the meantime`)}const e=t.resource.toString();let i=n.get(e);i||(i=[],n.set(e,i)),i.push(t)}const o=[];for(const[e,r]of n)o.push((async()=>{var n;const o=f.Uri.parse(e);let s;const a=[],c=await v.StandaloneServices.get(b.IEditorWorkerService).computeMoreMinimalEdits(o,r.map((e=>this.transformSnippetStringToInsertText(e))));if(c)for(const e of c)"number"==typeof e.eol&&(s=e.eol),f.Range.isEmpty(e.range)&&!e.text||a.push({forceMoveMarkers:!1,range:f.Range.lift(e.range),text:e.text});if(!a.length&&void 0===s)return;const l=await this.textModelService.createModelReference(o);try{const e=l.object,o=e.textEditorModel,r=u.MonacoEditor.findByDocument(this.editorManager,e)[0],c=null!==(n=null==r?void 0:r.getControl().getSelections())&&void 0!==n?n:[];o.pushStackElement(),a.length&&o.pushEditOperations(c,a,(()=>c)),void 0!==s&&o.pushEOL(s),o.pushStackElement(),i+=1,t+=a.length}finally{l.dispose()}})());return await Promise.all(o),{totalEdits:t,totalFiles:i}}async performFileEdits(e){for(const t of e){const e=t.options||{};if(t.newResource&&t.oldResource){if(void 0===e.overwrite&&e.ignoreIfExists&&await this.fileService.exists(new s.default(t.newResource)))return;await this.fileService.move(new s.default(t.oldResource),new s.default(t.newResource),{overwrite:e.overwrite})}else if(!t.newResource&&t.oldResource){if(await this.fileService.exists(new s.default(t.oldResource))){let i=this.filePreferences["files.enableTrash"];i&&!this.fileService.hasCapability(new s.default(t.oldResource),4096)&&(i=!1),await this.fileService.delete(new s.default(t.oldResource),{useTrash:i,recursive:e.recursive})}else if(!e.ignoreIfNotExists)throw new Error(`${t.oldResource} does not exist and can not be deleted`)}else if(t.newResource&&!t.oldResource){if(void 0===e.overwrite&&e.ignoreIfExists&&await this.fileService.exists(new s.default(t.newResource)))return;await this.fileService.create(new s.default(t.newResource),void 0,{overwrite:e.overwrite})}}}async performSnippetEdits(e){var t;const i=null===(t=u.MonacoEditor.getActive(this.editorManager))||void 0===t?void 0:t.getControl();i&&i.getContribution("snippetController2").apply(e.map((e=>({range:f.Range.lift(e.textEdit.range),template:e.textEdit.text}))))}transformSnippetStringToInsertText(e){return e.textEdit.insertAsSnippet?{...e.textEdit,insertAsSnippet:!1,text:A.SnippetParser.asInsertText(e.textEdit.text)}:e.textEdit}};n([(0,r.inject)(g.FileService),o("design:type",g.FileService)],C.prototype,"fileService",void 0),n([(0,r.inject)(c.FileSystemPreferences),o("design:type",Object)],C.prototype,"filePreferences",void 0),n([(0,r.inject)(l.EditorPreferences),o("design:type",Object)],C.prototype,"editorPreferences",void 0),n([(0,r.inject)(d.MonacoTextModelService),o("design:type",d.MonacoTextModelService)],C.prototype,"textModelService",void 0),n([(0,r.inject)(l.EditorManager),o("design:type",l.EditorManager)],C.prototype,"editorManager",void 0),n([(0,r.inject)(h.ProblemManager),o("design:type",h.ProblemManager)],C.prototype,"problems",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],C.prototype,"init",null),C=n([(0,r.injectable)()],C),t.MonacoWorkspace=C},39155:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolToMonacoConverter=void 0;const o=i(70801),r=i(39539);let s=class{asRange(e){if(void 0===e)return;const t=this.asPosition(e.start),i=this.asPosition(e.end);return t instanceof r.Position&&i instanceof r.Position?new r.Range(t.lineNumber,t.column,i.lineNumber,i.column):{startLineNumber:t&&void 0!==t.lineNumber?t.lineNumber:void 0,startColumn:t&&void 0!==t.column?t.column:void 0,endLineNumber:i&&void 0!==i.lineNumber?i.lineNumber:void 0,endColumn:i&&void 0!==i.column?i.column:void 0}}asPosition(e){if(void 0===e)return;const{line:t,character:i}=e,n=void 0===t?void 0:t+1,o=void 0===i?void 0:i+1;return void 0!==n&&void 0!==o?new r.Position(n,o):{lineNumber:n,column:o}}asLocation(e){if(e)return{uri:r.Uri.parse(e.uri),range:this.asRange(e.range)}}asTextEdit(e){if(e)return{range:this.asRange(e.range),text:e.newText}}asTextEdits(e){if(e)return e.map((e=>this.asTextEdit(e)))}asSeverity(e){return 1===e?r.MarkerSeverity.Error:2===e?r.MarkerSeverity.Warning:3===e?r.MarkerSeverity.Info:r.MarkerSeverity.Hint}asDiagnostics(e){if(e)return e.map((e=>this.asDiagnostic(e)))}asDiagnostic(e){return{code:"number"==typeof e.code?e.code.toString():e.code,severity:this.asSeverity(e.severity),message:e.message,source:e.source,startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,relatedInformation:this.asRelatedInformations(e.relatedInformation),tags:e.tags}}asRelatedInformations(e){if(e)return e.map((e=>this.asRelatedInformation(e)))}asRelatedInformation(e){return{resource:r.Uri.parse(e.location.uri),startLineNumber:e.location.range.start.line+1,startColumn:e.location.range.start.character+1,endLineNumber:e.location.range.end.line+1,endColumn:e.location.range.end.character+1,message:e.message}}};s=n([(0,o.injectable)()],s),t.ProtocolToMonacoConverter=s},56451:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(82824),t),o(i(42517),t),o(i(47563),t),o(i(1102),t)},1102:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchOnigasm=t.createOnigasmLib=t.OnigasmLib=void 0;const n=i(87361),o=i(9825),r=i(82824),s=i(42517),a=i(47563),c=i(63106),l=i(11548),d=i(70684),u=i(17e3);class h{createOnigScanner(e){return(0,l.createOnigScanner)(e)}createOnigString(e){return(0,l.createOnigString)(e)}}async function p(){if(!n.isBasicWasmSupported)throw new Error("wasm not supported");const e=await g();return await(0,l.loadWASM)(e),new h}async function g(){const e=i(10761);return(await fetch(e,{method:"GET"})).arrayBuffer()}t.OnigasmLib=h,t.default=(e,t,i,l)=>{const h=p();e(u.OnigasmProvider).toConstantValue((()=>h)),e(a.MonacoTextmateService).toSelf().inSingletonScope(),e(n.FrontendApplicationContribution).toService(a.MonacoTextmateService),(0,o.bindContributionProvider)(e,s.LanguageGrammarDefinitionContribution),e(r.TextmateRegistry).toSelf().inSingletonScope(),e(c.MonacoThemeRegistry).toSelf().inSingletonScope(),e(u.TextmateRegistryFactory).toFactory((({container:e})=>t=>{const i=e.get(u.OnigasmProvider),n=e.get(r.TextmateRegistry);return new d.Registry({onigLib:i(),theme:t,loadGrammar:async e=>{const t=n.getProvider(e);if(t){const e=await t.getGrammarDefinition();let i;return i="string"==typeof e.content?(0,d.parseRawGrammar)(e.content,"json"===e.format?"grammar.json":"grammar.plist"):e.content,i}},getInjections:e=>{const t=n.getProvider(e);return t&&t.getInjections?t.getInjections(e):[]}})}))},t.createOnigasmLib=p,t.fetchOnigasm=g},47563:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoTextmateService=void 0;const r=i(70801),s=i(9825),a=i(87361),c=i(20311),l=i(42517),d=i(90193),u=i(82824),h=i(63106),p=i(10473),g=i(39539),f=i(40215),m=i(85813),b=i(65948),v=i(49659),A=i(24738),y=i(17e3);let C=class{constructor(){this.tokenizerOption={lineLimit:400},this._activatedLanguages=new Set,this.toDisposeOnUpdateTheme=new s.DisposableCollection}initialize(){if(a.isBasicWasmSupported){for(const e of this.grammarProviders.getContributions())try{e.registerTextmateLanguage(this.textmateRegistry)}catch(e){console.error(e)}this.grammarRegistry=this.registryFactory(this.monacoThemeRegistry.getThemeData(this.currentEditorTheme)),this.tokenizerOption.lineLimit=this.preferences["editor.maxTokenizationLineLength"],this.preferences.onPreferenceChanged((e=>{"editor.maxTokenizationLineLength"===e.preferenceName&&(this.tokenizerOption.lineLimit=e.newValue)})),this.updateTheme(),this.themeService.onDidColorThemeChange((()=>this.updateTheme()));for(const e of this.textmateRegistry.languages)this.activateLanguage(e)}else console.log("Textmate support deactivated because WebAssembly is not detected.")}updateTheme(){this.toDisposeOnUpdateTheme.dispose();const e=this.currentEditorTheme;document.body.classList.add(e),this.toDisposeOnUpdateTheme.push(s.Disposable.create((()=>document.body.classList.remove(e))));const t=this.monacoThemeRegistry.getThemeData(e);t&&this.grammarRegistry.setTheme(t),g.editor.setTheme(e)}get currentEditorTheme(){return this.themeService.getCurrentTheme().editorTheme||h.MonacoThemeRegistry.DARK_DEFAULT_THEME}activateLanguage(e){const t=new s.DisposableCollection(s.Disposable.create((()=>{})));return t.push(this.waitForLanguage(e,(()=>this.doActivateLanguage(e,t)))),t}async doActivateLanguage(e,t){if(this._activatedLanguages.has(e))return;this._activatedLanguages.add(e),t.push(s.Disposable.create((()=>this._activatedLanguages.delete(e))));const i=this.textmateRegistry.getScope(e);if(!i)return;if(!this.textmateRegistry.getProvider(i))return;const n=this.textmateRegistry.getGrammarConfiguration(e),o=(0,l.getEncodedLanguageId)(e);if(await this.onigasmProvider(),!t.disposed)try{const r=await this.grammarRegistry.loadGrammarWithConfiguration(i,o,n);if(t.disposed)return;if(!r)throw new Error(`no grammar for ${i}, ${o}, ${JSON.stringify(n)}`);const s=n.tokenizerOption?n.tokenizerOption:this.tokenizerOption,a=(0,d.createTextmateTokenizer)(r,s);t.push(g.languages.setTokensProvider(e,a));const c=f.TokenizationRegistry.get(e),l=b.StandaloneServices.get(m.IStandaloneThemeService),u=b.StandaloneServices.get(v.ILanguageService),h=new A.TokenizationSupportAdapter(e,a,u,l);c.tokenize=h.tokenize.bind(h)}catch(t){this.logger.warn("No grammar for this language id",e,t)}}waitForLanguage(e,t){return b.StandaloneServices.get(v.ILanguageService)._encounteredLanguages.has(e)?(t(),s.Disposable.NULL):g.languages.onLanguage(e,t)}};n([(0,r.inject)(s.ContributionProvider),(0,r.named)(l.LanguageGrammarDefinitionContribution),o("design:type",Object)],C.prototype,"grammarProviders",void 0),n([(0,r.inject)(u.TextmateRegistry),o("design:type",u.TextmateRegistry)],C.prototype,"textmateRegistry",void 0),n([(0,r.inject)(s.ILogger),o("design:type",Object)],C.prototype,"logger",void 0),n([(0,r.inject)(y.OnigasmProvider),o("design:type",Function)],C.prototype,"onigasmProvider",void 0),n([(0,r.inject)(c.ThemeService),o("design:type",c.ThemeService)],C.prototype,"themeService",void 0),n([(0,r.inject)(h.MonacoThemeRegistry),o("design:type",h.MonacoThemeRegistry)],C.prototype,"monacoThemeRegistry",void 0),n([(0,r.inject)(p.EditorPreferences),o("design:type",Object)],C.prototype,"preferences",void 0),n([(0,r.inject)(y.TextmateRegistryFactory),o("design:type",Function)],C.prototype,"registryFactory",void 0),C=n([(0,r.injectable)()],C),t.MonacoTextmateService=C},63106:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoThemeRegistry=void 0;const r=i(70801),s=i(39539),a=i(85813),c=i(65948),l=i(17e3);let d=class{initializeDefaultThemes(){this.register(i(24530),{"./dark_vs.json":i(9103),"./dark_plus.json":i(74711)},"dark-theia","vs-dark"),this.register(i(81794),{"./light_vs.json":i(51028),"./light_plus.json":i(93799)},"light-theia","vs"),this.register(i(51735),{"./hc_black.json":i(98297)},"hc-theia","hc-black"),this.register(i(57271),{"./hc_light.json":i(17505)},"hc-theia-light","hc-light")}getThemeData(e){const t=this.doGetTheme(e);return t&&t.themeData}getTheme(e){return this.doGetTheme(e)}doGetTheme(e){const t=c.StandaloneServices.get(a.IStandaloneThemeService);return e?t._knownThemes.get(e):t.getColorTheme()}setTheme(e,t){s.editor.defineTheme(e,t)}register(e,t,i,n){const o={name:i||e.name,base:n||"vs",inherit:!0,colors:{},rules:[],settings:[]};if(void 0!==e.include)if(t&&t[e.include]){const i=this.register(t[e.include],t);Object.assign(o.colors,i.colors),o.rules.push(...i.rules),o.settings.push(...i.settings)}else console.error(`Couldn't resolve includes theme ${e.include}.`);const r=e.tokenColors;if(Array.isArray(r))for(const e of r)e.scope&&e.settings&&o.settings.push({scope:e.scope,settings:{foreground:this.normalizeColor(e.settings.foreground),background:this.normalizeColor(e.settings.background),fontStyle:e.settings.fontStyle}});if(e.colors&&(Object.assign(o.colors,e.colors),o.encodedTokensColors=Object.keys(o.colors).map((e=>o.colors[e]))),n&&i){for(const e of o.settings)this.transform(e,(e=>o.rules.push(e)));const e=c.StandaloneServices.get(a.IStandaloneThemeService)._knownThemes.get(o.base),t=o.colors["editor.foreground"]||e.getColor("editor.foreground"),n=o.colors["editor.background"]||e.getColor("editor.background");o.settings.unshift({settings:{foreground:this.normalizeColor(t),background:this.normalizeColor(n)}});const r=this.registryFactory(o);o.encodedTokensColors=r.getColorMap(),o.encodedTokensColors[0]=null,this.setTheme(i,o)}return o}transform(e,t){void 0===e.scope?e.scope=[""]:"string"==typeof e.scope&&(e.scope=e.scope.split(",").map((e=>e.trim())));for(const i of e.scope)t({...e.settings,token:i})}normalizeColor(e){if(!e)return;const t=String(e).replace(/^\#/,"").slice(0,6);if(!(t.length<6)&&t.match(/^[0-9A-Fa-f]{6}$/))return"#"+t;console.error(`Color '${t}' is NOT normalized, it must have 6 positions.`)}};n([(0,r.inject)(l.TextmateRegistryFactory),o("design:type",Function)],d.prototype,"registryFactory",void 0),d=n([(0,r.injectable)()],d),t.MonacoThemeRegistry=d,function(e){e.DARK_DEFAULT_THEME="dark-theia",e.LIGHT_DEFAULT_THEME="light-theia",e.HC_DEFAULT_THEME="hc-theia",e.HC_LIGHT_THEME="hc-theia-light"}(d=t.MonacoThemeRegistry||(t.MonacoThemeRegistry={})),t.MonacoThemeRegistry=d},17e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextmateRegistryFactory=t.OnigasmProvider=void 0,t.OnigasmProvider=Symbol("OnigasmProvider"),t.TextmateRegistryFactory=Symbol("TextmateRegistryFactory")},42517:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEncodedLanguageId=t.LanguageGrammarDefinitionContribution=void 0;const n=i(39539);t.LanguageGrammarDefinitionContribution=Symbol("LanguageGrammarDefinitionContribution"),t.getEncodedLanguageId=function(e){return n.languages.getEncodedLanguageId(e)}},82824:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TextmateRegistry=void 0;const o=i(70801),r=i(51138);let s=class{constructor(){this.scopeToProvider=new Map,this.languageToConfig=new Map,this.languageIdToScope=new Map}get languages(){return this.languageIdToScope.keys()}registerTextmateGrammarScope(e,t){const i=this.scopeToProvider.get(e)||[],n=i[0];return n&&Promise.all([n.getGrammarDefinition(),t.getGrammarDefinition()]).then((([t,i])=>{t.location===i.location&&(t.location||i.location)||console.warn(`a registered grammar provider for '${e}' scope is overridden`)})),i.unshift(t),this.scopeToProvider.set(e,i),r.Disposable.create((()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}getProvider(e){const t=this.scopeToProvider.get(e);return t&&t[0]}mapLanguageIdToTextmateGrammar(e,t){const i=this.languageIdToScope.get(e)||[],n=i[0];return"string"==typeof n&&console.warn(`'${e}' language is remapped from '${n}' to '${t}' scope`),i.unshift(t),this.languageIdToScope.set(e,i),r.Disposable.create((()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}getScope(e){const t=this.languageIdToScope.get(e);return t&&t[0]}getLanguageId(e){for(const t of this.languageIdToScope.keys())if(this.getScope(t)===e)return t}registerGrammarConfiguration(e,t){const i=this.languageToConfig.get(e)||[];return i[0]&&console.warn(`a registered grammar configuration for '${e}' language is overridden`),i.unshift(t),this.languageToConfig.set(e,i),r.Disposable.create((()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}getGrammarConfiguration(e){const t=this.languageToConfig.get(e);return t&&t[0]||{}}};s=n([(0,o.injectable)()],s),t.TextmateRegistry=s},90193:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTextmateTokenizer=t.TokenizerState=void 0;const n=i(70684);class o{constructor(e){this.stackElement=e}clone(){return new o(this.stackElement)}equals(e){return e instanceof o&&(e===this||e.stackElement===this.stackElement)}}t.TokenizerState=o,t.createTextmateTokenizer=function(e,t){if(void 0!==t.lineLimit&&(t.lineLimit<=0||!Number.isInteger(t.lineLimit)))throw new Error(`The 'lineLimit' must be a positive integer. It was ${t.lineLimit}.`);return{getInitialState:()=>new o(n.INITIAL),tokenizeEncoded(i,n){if(void 0!==t.lineLimit&&i.length>t.lineLimit)return{endState:n.stackElement,tokens:new Uint32Array};const r=e.tokenizeLine2(i,n.stackElement,500);return{endState:new o(r.ruleStack),tokens:r.tokens}},tokenize(i,n){if(void 0!==t.lineLimit&&i.length>t.lineLimit)return{endState:n.stackElement,tokens:[]};const r=e.tokenizeLine(i,n.stackElement,500);return{endState:new o(r.ruleStack),tokens:r.tokens.map((e=>({startIndex:e.startIndex,scopes:e.scopes.reverse().join(" ")})))}}}}},30142:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolCommand=void 0;const s=i(70801),a=i(48074),c=i(87361),l=i(2879),d=i(9825),u=i(75437),h=i(51873),p=i(30970),g=i(30566);let f=n=class{constructor(){this.command=d.Command.toDefaultLocalizedCommand({id:"languages.workspace.symbol",label:"Go to Symbol in Workspace..."})}isEnabled(){return void 0!==this.languages.workspaceSymbolProviders}execute(){this.quickInputService.open(n.PREFIX)}registerCommands(e){e.registerCommand(this.command,this)}registerMenus(e){e.registerMenuAction(g.EditorMainMenu.WORKSPACE_GROUP,{commandId:this.command.id,order:"2"})}isElectron(){return a.environment.electron.is()}registerKeybindings(e){e.registerKeybinding({command:this.command.id,keybinding:this.isElectron()?"ctrlcmd+t":"ctrlcmd+o"})}registerQuickAccessProvider(){this.quickAccessRegistry.registerQuickAccessProvider({getInstance:()=>this,prefix:n.PREFIX,placeholder:"",helpEntries:[{description:d.nls.localizeByDefault("Go to Symbol in Workspace"),needsEditor:!1}]})}async getPicks(e,t){const i=[];if(this.languages.workspaceSymbolProviders){const n={query:e},o=[];for(const r of this.languages.workspaceSymbolProviders)o.push((async()=>{const o=await r.provideWorkspaceSymbols(n,t);if(o&&!t.isCancellationRequested)for(const n of o)i.push(this.createItem(n,r,e,t));return o})());await Promise.all(o.map((e=>e.then((e=>e),(e=>{}))))).then((t=>{0===t.filter((e=>e&&0!==e.length)).length&&i.push({label:0===e.length?d.nls.localize("theia/monaco/typeToSearchForSymbols","Type to search for symbols"):d.nls.localize("theia/monaco/noSymbolsMatching","No symbols matching")})})).catch()}return i}createItem(e,t,i,n){const o=new p.default(e.location.uri),r=this.toCssClassName(e.kind);let s=e.containerName;s&&(s+=" - ");const a=(s||"")+this.labelProvider.getName(o);return{label:e.name,description:a,ariaLabel:o.toString(),iconClasses:r,highlights:{label:(0,l.findMatches)(e.name,i),description:(0,l.findMatches)(a,i)},execute:()=>{t.resolveWorkspaceSymbol?t.resolveWorkspaceSymbol(e,n).then((t=>{t?this.openURL(o,t.location.range.start,t.location.range.end):this.openURL(o,e.location.range.start,e.location.range.end)})):this.openURL(o,e.location.range.start,e.location.range.end)}}}toCssClassName(e,t){const i=m[e];if(i)return[`codicon ${t?"inline":"block"} codicon-symbol-${i.toLowerCase()||"property"}`]}openURL(e,t,i){this.openerService.getOpener(e).then((n=>n.open(e,{selection:u.Range.create(t,i)})))}};var m;f.PREFIX="#",o([(0,s.inject)(h.MonacoLanguages),r("design:type",h.MonacoLanguages)],f.prototype,"languages",void 0),o([(0,s.inject)(c.OpenerService),r("design:type",Object)],f.prototype,"openerService",void 0),o([(0,s.inject)(l.QuickInputService),r("design:type",Object)],f.prototype,"quickInputService",void 0),o([(0,s.inject)(l.QuickAccessRegistry),r("design:type",Object)],f.prototype,"quickAccessRegistry",void 0),o([(0,s.inject)(d.SelectionService),r("design:type",d.SelectionService)],f.prototype,"selectionService",void 0),o([(0,s.inject)(c.LabelProvider),r("design:type",c.LabelProvider)],f.prototype,"labelProvider",void 0),f=n=o([(0,s.injectable)()],f),t.WorkspaceSymbolCommand=f,function(e){e[e.File=1]="File",e[e.Module=2]="Module",e[e.Namespace=3]="Namespace",e[e.Package=4]="Package",e[e.Class=5]="Class",e[e.Method=6]="Method",e[e.Property=7]="Property",e[e.Field=8]="Field",e[e.Constructor=9]="Constructor",e[e.Enum=10]="Enum",e[e.Interface=11]="Interface",e[e.Function=12]="Function",e[e.Variable=13]="Variable",e[e.Constant=14]="Constant",e[e.String=15]="String",e[e.Number=16]="Number",e[e.Boolean=17]="Boolean",e[e.Array=18]="Array",e[e.Object=19]="Object",e[e.Key=20]="Key",e[e.Null=21]="Null",e[e.EnumMember=22]="EnumMember",e[e.Struct=23]="Struct",e[e.Event=24]="Event",e[e.Operator=25]="Operator",e[e.TypeParameter=26]="TypeParameter"}(m||(m={}))},94952:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractNavigatorTreeWidget=void 0;const r=i(70801),s=i(10338),a=i(91085),c=i(21549);let l=class extends c.FileTreeWidget{init(){super.init(),this.toDispose.push(this.preferenceService.onPreferenceChanged((e=>{"explorer.decorations.colors"===e.preferenceName&&this.update()})))}decorateCaption(e,t){const i=super.decorateCaption(e,t);return this.navigatorPreferences.get("explorer.decorations.colors")?i:{...i,style:{...i.style,color:void 0}}}};n([(0,r.inject)(a.PreferenceService),o("design:type",Object)],l.prototype,"preferenceService",void 0),n([(0,r.inject)(s.FileNavigatorPreferences),o("design:type",Object)],l.prototype,"navigatorPreferences",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"init",null),l=n([(0,r.injectable)()],l),t.AbstractNavigatorTreeWidget=l},39254:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileNavigatorCommands=void 0;const n=i(87361),o=i(9825),r=i(73246);var s;(s=t.FileNavigatorCommands||(t.FileNavigatorCommands={})).REVEAL_IN_NAVIGATOR=o.Command.toLocalizedCommand({id:"navigator.reveal",label:"Reveal in Explorer"},"theia/navigator/reveal"),s.TOGGLE_HIDDEN_FILES=o.Command.toLocalizedCommand({id:"navigator.toggle.hidden.files",label:"Toggle Hidden Files"},"theia/navigator/toggleHiddenFiles"),s.TOGGLE_AUTO_REVEAL=o.Command.toLocalizedCommand({id:"navigator.toggle.autoReveal",category:n.CommonCommands.FILE_CATEGORY,label:"Auto Reveal"},"theia/navigator/autoReveal",n.CommonCommands.FILE_CATEGORY_KEY),s.REFRESH_NAVIGATOR=o.Command.toLocalizedCommand({id:"navigator.refresh",category:n.CommonCommands.FILE_CATEGORY,label:"Refresh in Explorer",iconClass:(0,n.codicon)("refresh")},"theia/navigator/refresh",n.CommonCommands.FILE_CATEGORY_KEY),s.COLLAPSE_ALL=o.Command.toDefaultLocalizedCommand({id:"navigator.collapse.all",category:n.CommonCommands.FILE_CATEGORY,label:"Collapse Folders in Explorer",iconClass:(0,n.codicon)("collapse-all")}),s.ADD_ROOT_FOLDER={id:"navigator.addRootFolder"},s.FOCUS=o.Command.toDefaultLocalizedCommand({id:"workbench.files.action.focusFilesExplorer",category:n.CommonCommands.FILE_CATEGORY,label:"Focus on Files Explorer"}),s.OPEN=o.Command.toDefaultLocalizedCommand({id:"navigator.open",category:n.CommonCommands.FILE_CATEGORY,label:"Open"}),s.NEW_FILE_TOOLBAR={id:`${r.WorkspaceCommands.NEW_FILE.id}.toolbar`,iconClass:(0,n.codicon)("new-file")},s.NEW_FOLDER_TOOLBAR={id:`${r.WorkspaceCommands.NEW_FOLDER.id}.toolbar`,iconClass:(0,n.codicon)("new-folder")},s.COPY_RELATIVE_FILE_PATH=r.WorkspaceCommands.COPY_RELATIVE_FILE_PATH},22448:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(27059),t),o(i(54062),t),o(i(51625),t),o(i(60765),t)},68894:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileNavigatorWidget=t.createFileNavigatorContainer=t.FILE_NAVIGATOR_PROPS=void 0;const n=i(87361),o=i(21549),r=i(49068),s=i(27059),a=i(54062),c=i(10483),l=i(60765);function d(e){return(0,o.createFileTreeContainer)(e,{tree:r.FileNavigatorTree,model:s.FileNavigatorModel,widget:a.FileNavigatorWidget,decoratorService:l.NavigatorDecoratorService,props:t.FILE_NAVIGATOR_PROPS})}t.FILE_NAVIGATOR_PROPS={...n.defaultTreeProps,contextMenuPath:c.NAVIGATOR_CONTEXT_MENU,multiSelect:!0,search:!0,globalSelection:!0},t.createFileNavigatorContainer=d,t.createFileNavigatorWidget=function(e){return d(e).get(a.FileNavigatorWidget)}},28709:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorContextKeyService=void 0;const r=i(70801),s=i(949);let a=class{get explorerViewletVisible(){return this._explorerViewletVisible}get explorerViewletFocus(){return this._explorerViewletFocus}get filesExplorerFocus(){return this._filesExplorerFocus}get explorerResourceIsFolder(){return this._explorerResourceIsFolder}init(){this._explorerViewletVisible=this.contextKeyService.createKey("explorerViewletVisible",!1),this._explorerViewletFocus=this.contextKeyService.createKey("explorerViewletFocus",!1),this._filesExplorerFocus=this.contextKeyService.createKey("filesExplorerFocus",!1),this._explorerResourceIsFolder=this.contextKeyService.createKey("explorerResourceIsFolder",!1)}};n([(0,r.inject)(s.ContextKeyService),o("design:type",Object)],a.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],a.prototype,"init",null),a=n([(0,r.injectable)()],a),t.NavigatorContextKeyService=a},10483:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileNavigatorContribution=t.FILE_NAVIGATOR_TOGGLE_COMMAND_ID=t.NavigatorContextMenu=t.SHELL_TABBAR_CONTEXT_REVEAL=t.NAVIGATOR_CONTEXT_MENU=t.NavigatorMoreToolbarGroups=t.FileNavigatorCommands=void 0;const s=i(70801),a=i(94930),c=i(87361),l=i(16442),d=i(9825),u=i(73246),h=i(51625),p=i(54062),g=i(10338),f=i(97282),m=i(11106),b=i(49068),v=i(28709),A=i(23119),y=i(58653),C=i(56256),w=i(21549),_=i(8594),S=i(93425),E=i(11842),k=i(159),x=i(47535),D=i(44989),T=i(8433),M=i(39254);var B,I;Object.defineProperty(t,"FileNavigatorCommands",{enumerable:!0,get:function(){return M.FileNavigatorCommands}}),function(e){e.NEW_OPEN="1_navigator_new_open",e.TOOLS="2_navigator_tools",e.WORKSPACE="3_navigator_workspace"}(B=t.NavigatorMoreToolbarGroups||(t.NavigatorMoreToolbarGroups={})),t.NAVIGATOR_CONTEXT_MENU=["navigator-context-menu"],t.SHELL_TABBAR_CONTEXT_REVEAL=[...c.SHELL_TABBAR_CONTEXT_MENU,"2_reveal"],function(e){e.NAVIGATION=[...t.NAVIGATOR_CONTEXT_MENU,"navigation"],e.OPEN=e.NAVIGATION,e.NEW=e.NAVIGATION,e.WORKSPACE=[...t.NAVIGATOR_CONTEXT_MENU,"2_workspace"],e.COMPARE=[...t.NAVIGATOR_CONTEXT_MENU,"3_compare"],e.DIFF=e.COMPARE,e.SEARCH=[...t.NAVIGATOR_CONTEXT_MENU,"4_search"],e.CLIPBOARD=[...t.NAVIGATOR_CONTEXT_MENU,"5_cutcopypaste"],e.MODIFICATION=[...t.NAVIGATOR_CONTEXT_MENU,"7_modification"],e.MOVE=e.MODIFICATION,e.ACTIONS=e.MODIFICATION,e.OPEN_WITH=[...e.NAVIGATION,"open_with"]}(I=t.NavigatorContextMenu||(t.NavigatorContextMenu={})),t.FILE_NAVIGATOR_TOGGLE_COMMAND_ID="fileNavigator:toggle";let L=class extends a.AbstractViewContribution{constructor(e,i,n,o,r){super({viewContainerId:h.EXPLORER_VIEW_CONTAINER_ID,widgetId:p.FILE_NAVIGATOR_ID,widgetName:h.EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS.label,defaultWidgetOptions:{area:"left",rank:100},toggleCommandId:t.FILE_NAVIGATOR_TOGGLE_COMMAND_ID,toggleKeybinding:"ctrlcmd+shift+e"}),this.fileNavigatorPreferences=e,this.openerService=i,this.fileNavigatorFilter=n,this.workspaceService=o,this.workspacePreferences=r,this.registerMoreToolbarItem=e=>{const t=e.command,i="navigator.tabbar.toolbar."+t,n=this.commandRegistry.getCommand(t);this.commandRegistry.registerCommand({id:i,iconClass:n&&n.iconClass},{execute:(e,...i)=>e instanceof p.FileNavigatorWidget&&this.commandRegistry.executeCommand(t,...i),isEnabled:(e,...i)=>e instanceof p.FileNavigatorWidget&&this.commandRegistry.isEnabled(t,...i),isVisible:(e,...i)=>e instanceof p.FileNavigatorWidget&&this.commandRegistry.isVisible(t,...i),isToggled:(e,...i)=>e instanceof p.FileNavigatorWidget&&this.commandRegistry.isToggled(t,...i)}),e.command=i,this.tabbarToolbarRegistry.registerItem(e)}}init(){this.doInit()}async doInit(){await this.fileNavigatorPreferences.ready,this.shell.onDidChangeCurrentWidget((()=>this.onCurrentWidgetChangedHandler()));const e=()=>{const e=this.shell.activeWidget instanceof p.FileNavigatorWidget;this.contextKeyService.explorerViewletFocus.set(e),this.contextKeyService.filesExplorerFocus.set(e)};e(),this.shell.onDidChangeActiveWidget(e),this.workspaceCommandContribution.onDidCreateNewFile((async e=>this.onDidCreateNewResource(e))),this.workspaceCommandContribution.onDidCreateNewFolder((async e=>this.onDidCreateNewResource(e)))}async onDidCreateNewResource(e){const t=this.tryGetWidget();if(!t||!t.isVisible)return;const i=t.model,n=await i.revealFile(e.parent);w.DirNode.is(n)&&await i.refresh(n);const o=await i.revealFile(e.uri);c.SelectableTreeNode.is(o)&&(i.selectNode(o),w.DirNode.is(o)&&this.openView({activate:!0}))}async initializeLayout(e){await this.openView()}registerCommands(e){super.registerCommands(e),e.registerCommand(M.FileNavigatorCommands.FOCUS,{execute:()=>this.openView({activate:!0})}),e.registerCommand(M.FileNavigatorCommands.REVEAL_IN_NAVIGATOR,T.UriAwareCommandHandler.MonoSelect(this.selectionService,{execute:async e=>{await this.selectFileNode(e)&&this.openView({activate:!1,reveal:!0})},isEnabled:e=>!!this.workspaceService.getWorkspaceRootUri(e),isVisible:e=>!!this.workspaceService.getWorkspaceRootUri(e)})),e.registerCommand(M.FileNavigatorCommands.TOGGLE_HIDDEN_FILES,{execute:()=>{this.fileNavigatorFilter.toggleHiddenFiles()},isEnabled:()=>!0,isVisible:()=>!0}),e.registerCommand(M.FileNavigatorCommands.TOGGLE_AUTO_REVEAL,{isEnabled:e=>this.withWidget(e,(()=>this.workspaceService.opened)),isVisible:e=>this.withWidget(e,(()=>this.workspaceService.opened)),execute:()=>{const e=!this.fileNavigatorPreferences["explorer.autoReveal"];this.preferenceService.set("explorer.autoReveal",e,c.PreferenceScope.User),e&&this.selectWidgetFileNode(this.shell.currentWidget)},isToggled:()=>this.fileNavigatorPreferences["explorer.autoReveal"]}),e.registerCommand(M.FileNavigatorCommands.COLLAPSE_ALL,{execute:e=>this.withWidget(e,(()=>this.collapseFileNavigatorTree())),isEnabled:e=>this.withWidget(e,(()=>this.workspaceService.opened)),isVisible:e=>this.withWidget(e,(()=>this.workspaceService.opened))}),e.registerCommand(M.FileNavigatorCommands.REFRESH_NAVIGATOR,{execute:e=>this.withWidget(e,(()=>this.refreshWorkspace())),isEnabled:e=>this.withWidget(e,(()=>this.workspaceService.opened)),isVisible:e=>this.withWidget(e,(()=>this.workspaceService.opened))}),e.registerCommand(M.FileNavigatorCommands.ADD_ROOT_FOLDER,{execute:(...t)=>e.executeCommand(u.WorkspaceCommands.ADD_FOLDER.id,...t),isEnabled:(...t)=>e.isEnabled(u.WorkspaceCommands.ADD_FOLDER.id,...t),isVisible:(...t)=>{if(!e.isVisible(u.WorkspaceCommands.ADD_FOLDER.id,...t))return!1;const i=this.tryGetWidget();return(null==i?void 0:i.model.getFocusedNode())===(null==i?void 0:i.getContainerTreeNode())}}),e.registerCommand(C.NavigatorDiffCommands.COMPARE_FIRST,{execute:()=>{this.navigatorDiff.addFirstComparisonFile()},isEnabled:()=>!0,isVisible:()=>!0}),e.registerCommand(C.NavigatorDiffCommands.COMPARE_SECOND,{execute:()=>{this.navigatorDiff.compareFiles()},isEnabled:()=>this.navigatorDiff.isFirstFileSelected,isVisible:()=>this.navigatorDiff.isFirstFileSelected}),e.registerCommand(M.FileNavigatorCommands.OPEN,{isEnabled:()=>this.getSelectedFileNodes().length>0,isVisible:()=>this.getSelectedFileNodes().length>0,execute:()=>{this.getSelectedFileNodes().forEach((async e=>{(await this.openerService.getOpener(e.uri)).open(e.uri)}))}}),e.registerCommand(x.OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR,{execute:e=>this.withOpenEditorsWidget(e,(()=>this.shell.closeMany(this.editorWidgets))),isEnabled:e=>this.withOpenEditorsWidget(e,(()=>!0)),isVisible:e=>this.withOpenEditorsWidget(e,(()=>!0))}),e.registerCommand(x.OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR,{execute:t=>this.withOpenEditorsWidget(t,(()=>e.executeCommand(c.CommonCommands.SAVE_ALL.id))),isEnabled:e=>this.withOpenEditorsWidget(e,(()=>!0)),isVisible:e=>this.withOpenEditorsWidget(e,(()=>!0))});const t=e=>{const{owner:t}=e;return c.NavigatableWidget.is(t)};e.registerCommand(x.OpenEditorsCommands.CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON,{execute:e=>{this.shell.closeTabs(e,t)},isVisible:()=>!1}),e.registerCommand(x.OpenEditorsCommands.SAVE_ALL_IN_GROUP_FROM_ICON,{execute:e=>{this.shell.saveTabs(e,t)},isVisible:()=>!1}),e.registerCommand(M.FileNavigatorCommands.NEW_FILE_TOOLBAR,{execute:(...t)=>e.executeCommand(u.WorkspaceCommands.NEW_FILE.id,...t),isEnabled:e=>this.withWidget(e,(()=>this.workspaceService.opened)),isVisible:e=>this.withWidget(e,(()=>this.workspaceService.opened))}),e.registerCommand(M.FileNavigatorCommands.NEW_FOLDER_TOOLBAR,{execute:(...t)=>e.executeCommand(u.WorkspaceCommands.NEW_FOLDER.id,...t),isEnabled:e=>this.withWidget(e,(()=>this.workspaceService.opened)),isVisible:e=>this.withWidget(e,(()=>this.workspaceService.opened))})}get editorWidgets(){var e;const t=this.widgetManager.tryGetWidget(E.OpenEditorsWidget.ID);return null!==(e=null==t?void 0:t.editorWidgets)&&void 0!==e?e:[]}getSelectedFileNodes(){var e;return(null===(e=this.tryGetWidget())||void 0===e?void 0:e.model.selectedNodes.filter(w.FileNode.is))||[]}withWidget(e=this.tryGetWidget(),t){return e instanceof p.FileNavigatorWidget&&e.id===p.FILE_NAVIGATOR_ID&&t(e)}withOpenEditorsWidget(e,t){return e instanceof E.OpenEditorsWidget&&e.id===E.OpenEditorsWidget.ID&&t(e)}registerMenus(e){super.registerMenus(e),e.registerMenuAction(t.SHELL_TABBAR_CONTEXT_REVEAL,{commandId:M.FileNavigatorCommands.REVEAL_IN_NAVIGATOR.id,label:M.FileNavigatorCommands.REVEAL_IN_NAVIGATOR.label,order:"5"}),e.registerMenuAction(I.NAVIGATION,{commandId:M.FileNavigatorCommands.OPEN.id,label:M.FileNavigatorCommands.OPEN.label}),e.registerSubmenu(I.OPEN_WITH,D.nls.localizeByDefault("Open With...")),this.openerService.getOpeners().then((t=>{for(const i of t){const t=u.WorkspaceCommands.FILE_OPEN_WITH(i);e.registerMenuAction(I.OPEN_WITH,{commandId:t.id,label:i.label,icon:i.iconClass})}})),e.registerMenuAction(I.CLIPBOARD,{commandId:c.CommonCommands.COPY.id,order:"a"}),e.registerMenuAction(I.CLIPBOARD,{commandId:c.CommonCommands.PASTE.id,order:"b"}),e.registerMenuAction(I.CLIPBOARD,{commandId:c.CommonCommands.COPY_PATH.id,order:"c"}),e.registerMenuAction(I.CLIPBOARD,{commandId:u.WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,label:u.WorkspaceCommands.COPY_RELATIVE_FILE_PATH.label,order:"d"}),e.registerMenuAction(I.CLIPBOARD,{commandId:l.FileDownloadCommands.COPY_DOWNLOAD_LINK.id,order:"z"}),e.registerMenuAction(I.MODIFICATION,{commandId:u.WorkspaceCommands.FILE_RENAME.id}),e.registerMenuAction(I.MODIFICATION,{commandId:u.WorkspaceCommands.FILE_DELETE.id}),e.registerMenuAction(I.MODIFICATION,{commandId:u.WorkspaceCommands.FILE_DUPLICATE.id});const i=[...t.NAVIGATOR_CONTEXT_MENU,"6_downloadupload"];e.registerMenuAction(i,{commandId:y.FileSystemCommands.UPLOAD.id,order:"a"}),e.registerMenuAction(i,{commandId:l.FileDownloadCommands.DOWNLOAD.id,order:"b"}),e.registerMenuAction(I.NAVIGATION,{commandId:u.WorkspaceCommands.NEW_FILE.id,when:"explorerResourceIsFolder"}),e.registerMenuAction(I.NAVIGATION,{commandId:u.WorkspaceCommands.NEW_FOLDER.id,when:"explorerResourceIsFolder"}),e.registerMenuAction(I.COMPARE,{commandId:u.WorkspaceCommands.FILE_COMPARE.id}),e.registerMenuAction(I.MODIFICATION,{commandId:M.FileNavigatorCommands.COLLAPSE_ALL.id,label:D.nls.localizeByDefault("Collapse All"),order:"z2"}),e.registerMenuAction(I.COMPARE,{commandId:C.NavigatorDiffCommands.COMPARE_FIRST.id,order:"za"}),e.registerMenuAction(I.COMPARE,{commandId:C.NavigatorDiffCommands.COMPARE_SECOND.id,order:"zb"}),e.registerMenuAction(k.OpenEditorsContextMenu.CLIPBOARD,{commandId:c.CommonCommands.COPY_PATH.id,order:"a"}),e.registerMenuAction(k.OpenEditorsContextMenu.CLIPBOARD,{commandId:u.WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,order:"b"}),e.registerMenuAction(k.OpenEditorsContextMenu.SAVE,{commandId:c.CommonCommands.SAVE.id,order:"a"}),e.registerMenuAction(k.OpenEditorsContextMenu.COMPARE,{commandId:C.NavigatorDiffCommands.COMPARE_FIRST.id,order:"a"}),e.registerMenuAction(k.OpenEditorsContextMenu.COMPARE,{commandId:C.NavigatorDiffCommands.COMPARE_SECOND.id,order:"b"}),e.registerMenuAction(k.OpenEditorsContextMenu.MODIFICATION,{commandId:c.CommonCommands.CLOSE_TAB.id,label:D.nls.localizeByDefault("Close"),order:"a"}),e.registerMenuAction(k.OpenEditorsContextMenu.MODIFICATION,{commandId:c.CommonCommands.CLOSE_OTHER_TABS.id,label:D.nls.localizeByDefault("Close Others"),order:"b"}),e.registerMenuAction(k.OpenEditorsContextMenu.MODIFICATION,{commandId:c.CommonCommands.CLOSE_ALL_MAIN_TABS.id,label:D.nls.localizeByDefault("Close All"),order:"c"}),e.registerMenuAction(I.WORKSPACE,{commandId:M.FileNavigatorCommands.ADD_ROOT_FOLDER.id,label:u.WorkspaceCommands.ADD_FOLDER.label}),e.registerMenuAction(I.WORKSPACE,{commandId:u.WorkspaceCommands.REMOVE_FOLDER.id})}registerKeybindings(e){super.registerKeybindings(e),e.registerKeybinding({command:M.FileNavigatorCommands.REVEAL_IN_NAVIGATOR.id,keybinding:"alt+r"}),e.registerKeybinding({command:u.WorkspaceCommands.FILE_DELETE.id,keybinding:d.isOSX?"cmd+backspace":"del",context:f.NavigatorKeybindingContexts.navigatorActive}),e.registerKeybinding({command:u.WorkspaceCommands.FILE_RENAME.id,keybinding:"f2",context:f.NavigatorKeybindingContexts.navigatorActive}),e.registerKeybinding({command:M.FileNavigatorCommands.TOGGLE_HIDDEN_FILES.id,keybinding:"ctrlcmd+i",context:f.NavigatorKeybindingContexts.navigatorActive})}async registerToolbarItems(e){e.registerItem({id:M.FileNavigatorCommands.NEW_FILE_TOOLBAR.id,command:M.FileNavigatorCommands.NEW_FILE_TOOLBAR.id,tooltip:D.nls.localizeByDefault("New File..."),priority:0}),e.registerItem({id:M.FileNavigatorCommands.NEW_FOLDER_TOOLBAR.id,command:M.FileNavigatorCommands.NEW_FOLDER_TOOLBAR.id,tooltip:D.nls.localizeByDefault("New Folder..."),priority:1}),e.registerItem({id:M.FileNavigatorCommands.REFRESH_NAVIGATOR.id,command:M.FileNavigatorCommands.REFRESH_NAVIGATOR.id,tooltip:D.nls.localizeByDefault("Refresh Explorer"),priority:2}),e.registerItem({id:M.FileNavigatorCommands.COLLAPSE_ALL.id,command:M.FileNavigatorCommands.COLLAPSE_ALL.id,tooltip:D.nls.localizeByDefault("Collapse All"),priority:3}),this.registerMoreToolbarItem({id:M.FileNavigatorCommands.TOGGLE_AUTO_REVEAL.id,command:M.FileNavigatorCommands.TOGGLE_AUTO_REVEAL.id,tooltip:M.FileNavigatorCommands.TOGGLE_AUTO_REVEAL.label,group:B.TOOLS}),this.registerMoreToolbarItem({id:u.WorkspaceCommands.ADD_FOLDER.id,command:u.WorkspaceCommands.ADD_FOLDER.id,tooltip:u.WorkspaceCommands.ADD_FOLDER.label,group:B.WORKSPACE}),e.registerItem({id:x.OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR.id,command:x.OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR.id,tooltip:x.OpenEditorsCommands.SAVE_ALL_TABS_FROM_TOOLBAR.label,priority:0}),e.registerItem({id:x.OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR.id,command:x.OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR.id,tooltip:x.OpenEditorsCommands.CLOSE_ALL_TABS_FROM_TOOLBAR.label,priority:1})}async selectWidgetFileNode(e){return this.selectFileNode(c.NavigatableWidget.getUri(e))}async selectFileNode(e){if(e){const{model:t}=await this.widget,i=await t.revealFile(e);if(c.SelectableTreeNode.is(i))return t.selectNode(i),!0}return!1}onCurrentWidgetChangedHandler(){this.fileNavigatorPreferences["explorer.autoReveal"]&&this.selectWidgetFileNode(this.shell.currentWidget)}async collapseFileNavigatorTree(){const{model:e}=await this.widget;let t=e.root;b.WorkspaceNode.is(t)&&1===t.children.length&&(t=t.children[0]),t.children.forEach((t=>c.CompositeTreeNode.is(t)&&e.collapseAll(t)));const i=b.WorkspaceNode.is(t)?t.children[0]:t;c.SelectableTreeNode.is(i)&&e.selectNode(i)}async refreshWorkspace(){const{model:e}=await this.widget;await e.refresh()}};n([(0,s.inject)(_.ClipboardService),o("design:type",Object)],L.prototype,"clipboardService",void 0),n([(0,s.inject)(d.CommandRegistry),o("design:type",d.CommandRegistry)],L.prototype,"commandRegistry",void 0),n([(0,s.inject)(A.TabBarToolbarRegistry),o("design:type",A.TabBarToolbarRegistry)],L.prototype,"tabbarToolbarRegistry",void 0),n([(0,s.inject)(v.NavigatorContextKeyService),o("design:type",v.NavigatorContextKeyService)],L.prototype,"contextKeyService",void 0),n([(0,s.inject)(d.MenuModelRegistry),o("design:type",d.MenuModelRegistry)],L.prototype,"menuRegistry",void 0),n([(0,s.inject)(C.NavigatorDiff),o("design:type",C.NavigatorDiff)],L.prototype,"navigatorDiff",void 0),n([(0,s.inject)(c.PreferenceService),o("design:type",Object)],L.prototype,"preferenceService",void 0),n([(0,s.inject)(S.SelectionService),o("design:type",S.SelectionService)],L.prototype,"selectionService",void 0),n([(0,s.inject)(u.WorkspaceCommandContribution),o("design:type",u.WorkspaceCommandContribution)],L.prototype,"workspaceCommandContribution",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],L.prototype,"init",null),L=n([(0,s.injectable)(),r(0,(0,s.inject)(g.FileNavigatorPreferences)),r(1,(0,s.inject)(c.OpenerService)),r(2,(0,s.inject)(m.FileNavigatorFilter)),r(3,(0,s.inject)(u.WorkspaceService)),r(4,(0,s.inject)(u.WorkspacePreferences)),o("design:paramtypes",[Object,Object,m.FileNavigatorFilter,u.WorkspaceService,Object])],L),t.FileNavigatorContribution=L},60765:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorDecoratorService=t.NavigatorTreeDecorator=void 0;const s=i(70801),a=i(12704),c=i(79530);t.NavigatorTreeDecorator=Symbol("NavigatorTreeDecorator");let l=class extends c.AbstractTreeDecoratorService{constructor(e){super(e.getContributions()),this.contributions=e}};l=n([(0,s.injectable)(),r(0,(0,s.inject)(a.ContributionProvider)),r(0,(0,s.named)(t.NavigatorTreeDecorator)),o("design:paramtypes",[Object])],l),t.NavigatorDecoratorService=l},56256:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorDiff=t.NavigatorDiffCommands=void 0;const r=i(70801),s=i(9825),a=i(50869),c=i(13318),l=i(12202),d=i(40598),u=i(14304),h=i(36090);!function(e){const t="Compare";e.COMPARE_FIRST=l.Command.toDefaultLocalizedCommand({id:"compare:first",category:t,label:"Select for Compare"}),e.COMPARE_SECOND=l.Command.toDefaultLocalizedCommand({id:"compare:second",category:t,label:"Compare with Selected"})}(t.NavigatorDiffCommands||(t.NavigatorDiffCommands={}));let p=class{constructor(){this._firstCompareFile=void 0}get firstCompareFile(){return this._firstCompareFile}set firstCompareFile(e){this._firstCompareFile=e,this._isFirstFileSelected=!0}get isFirstFileSelected(){return this._isFirstFileSelected}async isDirectory(e){try{return(await this.fileService.resolve(e)).isDirectory}catch(e){if(e instanceof h.FileOperationError&&1===e.fileOperationResult)return!0}return!1}async getURISelection(){const e=s.UriSelection.getUri(this.selectionService.selection);if(e&&!await this.isDirectory(e))return e}async addFirstComparisonFile(){const e=await this.getURISelection();return void 0!==e&&(this.firstCompareFile=e,!0)}async compareFiles(){const e=await this.getURISelection();if(void 0===this.firstCompareFile||void 0===e)return!1;const t=d.DiffUris.encode(this.firstCompareFile,e);return(0,a.open)(this.openerService,t).catch((e=>{this.notifications.error(e.message)})),!0}};n([(0,r.inject)(u.FileService),o("design:type",u.FileService)],p.prototype,"fileService",void 0),n([(0,r.inject)(a.OpenerService),o("design:type",Object)],p.prototype,"openerService",void 0),n([(0,r.inject)(c.MessageService),o("design:type",c.MessageService)],p.prototype,"notifications",void 0),n([(0,r.inject)(s.SelectionService),o("design:type",s.SelectionService)],p.prototype,"selectionService",void 0),p=n([(0,r.injectable)(),o("design:paramtypes",[])],p),t.NavigatorDiff=p},11106:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileNavigatorFilterPredicate=t.FileNavigatorFilter=void 0;const s=i(70801),a=i(74267),c=i(18894),l=i(69069),d=i(10338);let u=class{constructor(e){this.preferences=e,this.emitter=new c.Emitter}init(){this.doInit()}async doInit(){this.filterPredicate=this.createFilterPredicate(this.filesPreferences["files.exclude"]),this.filesPreferences.onPreferenceChanged((e=>this.onFilesPreferenceChanged(e))),this.preferences.onPreferenceChanged((e=>this.onPreferenceChanged(e)))}async filter(e){return(await e).filter((e=>this.filterItem(e)))}get onFilterChanged(){return this.emitter.event}filterItem(e){return this.filterPredicate.filter(e)}fireFilterChanged(){this.emitter.fire(void 0)}onFilesPreferenceChanged(e){const{preferenceName:t,newValue:i}=e;"files.exclude"===t&&(this.filterPredicate=this.createFilterPredicate(i||{}),this.fireFilterChanged())}onPreferenceChanged(e){}createFilterPredicate(e){return new h(this.interceptExclusions(e))}toggleHiddenFiles(){this.showHiddenFiles=!this.showHiddenFiles;const e=this.filesPreferences["files.exclude"];this.filterPredicate=this.createFilterPredicate(e||{}),this.fireFilterChanged()}interceptExclusions(e){return{...e,"**/.*":this.showHiddenFiles}}};n([(0,s.inject)(l.FileSystemPreferences),o("design:type",Object)],u.prototype,"filesPreferences",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,s.injectable)(),r(0,(0,s.inject)(d.FileNavigatorPreferences)),o("design:paramtypes",[Object])],u),t.FileNavigatorFilter=u,function(e){let t;!function(e){e.and=function(...e){return{filter:t=>e.every((e=>e.filter(t)))}}}(t=e.Predicate||(e.Predicate={}))}(u=t.FileNavigatorFilter||(t.FileNavigatorFilter={})),t.FileNavigatorFilter=u;class h{constructor(e){const t=Object.keys(e).map((t=>({pattern:t,enabled:e[t]}))).filter((e=>e.enabled)).map((e=>e.pattern));this.delegate=u.Predicate.and(...t.map((e=>this.createDelegate(e))))}filter(e){return this.delegate.filter(e)}createDelegate(e){const t=new a.Minimatch(e,{matchBase:!0});return{filter:e=>!t.match(e.id)}}}t.FileNavigatorFilterPredicate=h},21380:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(57807),i(34771);const n=i(70801),o=i(87361),r=i(54062),s=i(97282),a=i(10483),c=i(68894),l=i(9791),d=i(10338),u=i(11106),h=i(28709),p=i(23119),g=i(56256),f=i(91302),m=i(34857),b=i(20422),v=i(51625),A=i(9825),y=i(99098),C=i(11842),w=i(60765),_=i(10430),S=i(61273),E=i(21549);t.default=new n.ContainerModule((e=>{(0,d.bindFileNavigatorPreferences)(e),e(u.FileNavigatorFilter).toSelf().inSingletonScope(),e(h.NavigatorContextKeyService).toSelf().inSingletonScope(),(0,o.bindViewContribution)(e,a.FileNavigatorContribution),e(o.FrontendApplicationContribution).toService(a.FileNavigatorContribution),e(p.TabBarToolbarContribution).toService(a.FileNavigatorContribution),e(o.KeybindingContext).to(s.NavigatorActiveContext).inSingletonScope(),e(r.FileNavigatorWidget).toDynamicValue((e=>(0,c.createFileNavigatorWidget)(e.container))),e(l.WidgetFactory).toDynamicValue((({container:e})=>({id:r.FILE_NAVIGATOR_ID,createWidget:()=>e.get(r.FileNavigatorWidget)}))).inSingletonScope(),(0,A.bindContributionProvider)(e,w.NavigatorTreeDecorator),(0,A.bindContributionProvider)(e,y.OpenEditorsTreeDecorator),e(w.NavigatorTreeDecorator).toService(E.FileTreeDecoratorAdapter),e(y.OpenEditorsTreeDecorator).toService(E.FileTreeDecoratorAdapter),e(_.NavigatorDeletedEditorDecorator).toSelf().inSingletonScope(),e(y.OpenEditorsTreeDecorator).toService(_.NavigatorDeletedEditorDecorator),e(l.WidgetFactory).toDynamicValue((({container:e})=>({id:C.OpenEditorsWidget.ID,createWidget:()=>C.OpenEditorsWidget.createWidget(e)}))).inSingletonScope(),e(v.NavigatorWidgetFactory).toSelf().inSingletonScope(),e(l.WidgetFactory).toService(v.NavigatorWidgetFactory),e(o.ApplicationShellLayoutMigration).to(f.NavigatorLayoutVersion3Migration).inSingletonScope(),e(o.ApplicationShellLayoutMigration).to(f.NavigatorLayoutVersion5Migration).inSingletonScope(),e(g.NavigatorDiff).toSelf().inSingletonScope(),e(m.NavigatorTabBarDecorator).toSelf().inSingletonScope(),e(o.FrontendApplicationContribution).toService(m.NavigatorTabBarDecorator),e(b.TabBarDecorator).toService(m.NavigatorTabBarDecorator),e(S.NavigatorSymlinkDecorator).toSelf().inSingletonScope(),e(w.NavigatorTreeDecorator).toService(S.NavigatorSymlinkDecorator),e(y.OpenEditorsTreeDecorator).toService(S.NavigatorSymlinkDecorator)}))},97282:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorActiveContext=t.NavigatorKeybindingContexts=void 0;const r=i(70801),s=i(87361),a=i(54062);var c;!function(e){e.navigatorActive="navigatorActive"}(c=t.NavigatorKeybindingContexts||(t.NavigatorKeybindingContexts={}));let l=class{constructor(){this.id=c.navigatorActive}isEnabled(){return this.applicationShell.activeWidget instanceof a.FileNavigatorWidget}};n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],l.prototype,"applicationShell",void 0),l=n([(0,r.injectable)()],l),t.NavigatorActiveContext=l},91302:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorLayoutVersion5Migration=t.NavigatorLayoutVersion3Migration=void 0;const o=i(70801),r=i(51625),s=i(54062);let a=class{constructor(){this.layoutVersion=3}onWillInflateWidget(e,{parent:t}){if(e.constructionOptions.factoryId===s.FILE_NAVIGATOR_ID&&!t)return{constructionOptions:{factoryId:r.EXPLORER_VIEW_CONTAINER_ID},innerWidgetState:{parts:[{widget:{constructionOptions:{factoryId:s.FILE_NAVIGATOR_ID},innerWidgetState:e.innerWidgetState},partId:{factoryId:s.FILE_NAVIGATOR_ID},collapsed:!1,hidden:!1}],title:r.EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS}}}};a=n([(0,o.injectable)()],a),t.NavigatorLayoutVersion3Migration=a;let c=class{constructor(){this.layoutVersion=5}onWillInflateWidget(e){if(e.constructionOptions.factoryId===r.EXPLORER_VIEW_CONTAINER_ID&&"string"==typeof e.innerWidgetState)return e.innerWidgetState=e.innerWidgetState.replace(/navigator-tab-icon/g,r.EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS.iconClass),e}};c=n([(0,o.injectable)()],c),t.NavigatorLayoutVersion5Migration=c},27059:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FileNavigatorModel=void 0;const r=i(70801),s=i(21549),a=i(87361),c=i(49068),l=i(73246),d=i(27372),u=i(18948),h=i(60516),p=i(51138);let g=class extends s.FileTreeModel{constructor(){super(...arguments),this.pendingBusyProgress=new Map}init(){super.init(),this.reportBusyProgress(),this.initializeRoot()}reportBusyProgress(){this.toDispose.push(this.onDidChangeBusy((e=>{const t=this.pendingBusyProgress.get(e.id);if(t)e.busy||(t.resolve(),this.pendingBusyProgress.delete(e.id));else if(e.busy){const t=new h.Deferred;this.pendingBusyProgress.set(e.id,t),this.progressService.withProgress("","explorer",(()=>t.promise))}}))),this.toDispose.push(p.Disposable.create((()=>{for(const e of this.pendingBusyProgress.values())e.resolve();this.pendingBusyProgress.clear()})))}async initializeRoot(){if(await Promise.all([this.applicationState.reachedState("initialized_layout"),this.workspaceService.roots]),await this.updateRoot(),this.toDispose.disposed)return;if(this.toDispose.push(this.workspaceService.onWorkspaceChanged((()=>this.updateRoot()))),this.toDispose.push(this.workspaceService.onWorkspaceLocationChanged((()=>this.updateRoot()))),this.selectedNodes.length)return;const e=this.root;if(a.CompositeTreeNode.is(e)&&1===e.children.length){const t=e.children[0];a.SelectableTreeNode.is(t)&&!t.selected&&a.ExpandableTreeNode.is(t)&&(this.selectNode(t),this.expandNode(t))}}previewNode(e){s.FileNode.is(e)&&(0,a.open)(this.openerService,e.uri,{mode:"reveal",preview:!0})}doOpenNode(e){!1!==e.visible&&(s.FileNode.is(e)?(0,a.open)(this.openerService,e.uri):super.doOpenNode(e))}*getNodesByUri(e){const t=this.root;if(c.WorkspaceNode.is(t))for(const i of t.children){const t=this.tree.createId(i,e),n=this.getNode(t);n&&(yield n)}}async updateRoot(){this.root=await this.createRoot()}async createRoot(){if(this.workspaceService.opened){const e=this.workspaceService.workspace,t=e&&!e.isDirectory?this.createMultipleRootNode():c.WorkspaceNode.createRoot(),i=await this.workspaceService.roots;for(const e of i)t.children.push(await this.tree.createWorkspaceRoot(e,t));return t}}createMultipleRootNode(){const e=this.workspaceService.workspace;let t=e?e.resource.path.name:"untitled";return t+=" (Workspace)",c.WorkspaceNode.createRoot(t)}async move(e,t){if(!e.parent||!c.WorkspaceRootNode.is(e))return super.move(e,t)}async revealFile(e){if(!e.path.isAbsolute)return;let t=this.getNodeClosestToRootByUri(e);return c.WorkspaceRootNode.is(t)?a.ExpandableTreeNode.is(t)?(t.expanded||(t=await this.expandNode(t)),t):void 0:e.path.isRoot?void 0:await this.revealFile(e.parent)?(void 0===t&&(t=this.getNodeClosestToRootByUri(e)),a.ExpandableTreeNode.is(t)&&!t.expanded&&(t=await this.expandNode(t)),t):void 0}getNodeClosestToRootByUri(e){const t=[...this.getNodesByUri(e)];return t.length>0?t.reduce(((e,t)=>e.id.length>=t.id.length?e:t)):void 0}};n([(0,r.inject)(a.OpenerService),o("design:type",Object)],g.prototype,"openerService",void 0),n([(0,r.inject)(c.FileNavigatorTree),o("design:type",c.FileNavigatorTree)],g.prototype,"tree",void 0),n([(0,r.inject)(l.WorkspaceService),o("design:type",l.WorkspaceService)],g.prototype,"workspaceService",void 0),n([(0,r.inject)(d.FrontendApplicationStateService),o("design:type",d.FrontendApplicationStateService)],g.prototype,"applicationState",void 0),n([(0,r.inject)(u.ProgressService),o("design:type",u.ProgressService)],g.prototype,"progressService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"init",null),g=n([(0,r.injectable)()],g),t.FileNavigatorModel=g},10338:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindFileNavigatorPreferences=t.createNavigatorPreferences=t.FileNavigatorPreferences=t.FileNavigatorPreferenceContribution=t.FileNavigatorConfigSchema=t.EXPLORER_COMPACT_FOLDERS=void 0;const n=i(87361),o=i(44989);function r(e,i=t.FileNavigatorConfigSchema){return(0,n.createPreferenceProxy)(e,i)}t.EXPLORER_COMPACT_FOLDERS="explorer.compactFolders",t.FileNavigatorConfigSchema={type:"object",properties:{"explorer.autoReveal":{type:"boolean",description:o.nls.localizeByDefault("Controls whether the Explorer should automatically reveal and select files when opening them."),default:!0},"explorer.decorations.colors":{type:"boolean",description:o.nls.localizeByDefault("Controls whether file decorations should use colors."),default:!0},[t.EXPLORER_COMPACT_FOLDERS]:{type:"boolean",description:o.nls.localizeByDefault("Controls whether the Explorer should render folders in a compact form. In such a form, single child folders will be compressed in a combined tree element. Useful for Java package structures, for example."),default:!0}}},t.FileNavigatorPreferenceContribution=Symbol("FileNavigatorPreferenceContribution"),t.FileNavigatorPreferences=Symbol("NavigatorPreferences"),t.createNavigatorPreferences=r,t.bindFileNavigatorPreferences=function(e){e(t.FileNavigatorPreferences).toDynamicValue((e=>r(e.container.get(n.PreferenceService),e.container.get(t.FileNavigatorPreferenceContribution).schema))).inSingletonScope(),e(t.FileNavigatorPreferenceContribution).toConstantValue({schema:t.FileNavigatorConfigSchema}),e(n.PreferenceContribution).toService(t.FileNavigatorPreferenceContribution)}},61273:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorSymlinkDecorator=void 0;const r=i(70801),s=i(9825),a=i(87361),c=i(21549),l=i(16967);let d=class{constructor(){this.id="theia-navigator-symlink-decorator",this.onDidChangeDecorationsEmitter=new s.Emitter}init(){this.decorationsService.onDidChangeDecorations((()=>{this.fireDidChangeDecorations((e=>this.collectDecorator(e)))}))}async decorations(e){return this.collectDecorator(e)}collectDecorator(e){const t=new Map;if(void 0===e.root)return t;for(const i of new a.DepthFirstTreeIterator(e.root))if(c.FileStatNode.is(i)&&i.fileStat.isSymbolicLink){const e={tailDecorations:[{data:"⤷",tooltip:s.nls.localizeByDefault("Symbolic Link")}]};t.set(i.id,e)}return t}get onDidChangeDecorations(){return this.onDidChangeDecorationsEmitter.event}fireDidChangeDecorations(e){this.onDidChangeDecorationsEmitter.fire(e)}};n([(0,r.inject)(l.DecorationsService),o("design:type",Object)],d.prototype,"decorationsService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.NavigatorSymlinkDecorator=d},34857:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorTabBarDecorator=void 0;const o=i(70801),r=i(18894),s=i(87361),a=i(51138),c=i(11842);let l=class{constructor(){this.id="theia-navigator-tabbar-decorator",this.emitter=new r.Emitter,this.toDispose=new a.DisposableCollection,this.toDisposeOnDirtyChanged=new Map}onStart(e){this.applicationShell=e.shell,this.getDirtyEditorsCount()&&this.fireDidChangeDecorations(),this.toDispose.pushAll([this.applicationShell.onDidAddWidget((e=>{const t=s.Saveable.get(e);t&&this.toDisposeOnDirtyChanged.set(e.id,t.onDirtyChanged((()=>this.fireDidChangeDecorations())))})),this.applicationShell.onDidRemoveWidget((e=>{var t;return null===(t=this.toDisposeOnDirtyChanged.get(e.id))||void 0===t?void 0:t.dispose()}))])}decorate(e){const{owner:t}=e;if(t instanceof s.ViewContainer&&t.getParts().find((e=>e.wrapped instanceof c.OpenEditorsWidget))){const e=this.getDirtyEditorsCount();return e>0?[{badge:e}]:[]}return[]}getDirtyEditorsCount(){return this.applicationShell.widgets.filter((e=>s.Saveable.isDirty(e))).length}get onDidChangeDecorations(){return this.emitter.event}fireDidChangeDecorations(){this.emitter.fire(void 0)}};l=n([(0,o.injectable)()],l),t.NavigatorTabBarDecorator=l},49068:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceRootNode=t.WorkspaceNode=t.FileNavigatorTree=void 0;const r=i(70801),s=i(21549),a=i(87361),c=i(11106),l=i(10338);let d=class extends s.FileTree{init(){this.toDispose.push(this.filter.onFilterChanged((()=>this.refresh()))),this.navigatorPreferences.ready.then((()=>this.toggleCompression())),this.toDispose.push(this.navigatorPreferences.onPreferenceChanged((({preferenceName:e})=>{e===l.EXPLORER_COMPACT_FOLDERS&&this.toggleCompression()})))}toggleCompression(){this.compressionToggle.compress=this.navigatorPreferences.get(l.EXPLORER_COMPACT_FOLDERS,!0),this.refresh()}async resolveChildren(e){return u.is(e)?e.children:this.filter.filter(super.resolveChildren(e))}toNodeId(e,t){const i=h.find(t);return i?this.createId(i,e):super.toNodeId(e,t)}createId(e,t){const i=super.toNodeId(t,e);return i===e.id?i:`${e.id}:${i}`}async createWorkspaceRoot(e,t){const i=this.toNode(e,t);return Object.assign(i,{visible:t.name!==u.name}),i}};var u,h;n([(0,r.inject)(c.FileNavigatorFilter),o("design:type",c.FileNavigatorFilter)],d.prototype,"filter",void 0),n([(0,r.inject)(l.FileNavigatorPreferences),o("design:type",Object)],d.prototype,"navigatorPreferences",void 0),n([(0,r.inject)(a.CompressionToggle),o("design:type",Object)],d.prototype,"compressionToggle",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.FileNavigatorTree=d,function(e){e.id="WorkspaceNodeId",e.name="WorkspaceNode",e.is=function(t){return a.CompositeTreeNode.is(t)&&t.id===e.id},e.createRoot=function(t){return{id:e.id,name:t||e.name,parent:void 0,children:[],visible:!1,selected:!1}}}(u=t.WorkspaceNode||(t.WorkspaceNode={})),function(e){function t(e){return s.DirNode.is(e)&&u.is(e.parent)}e.is=t,e.find=function e(i){if(i)return t(i)?i:e(i.parent)}}(h=t.WorkspaceRootNode||(t.WorkspaceRootNode={}))},51625:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorWidgetFactory=t.EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS=t.EXPLORER_VIEW_CONTAINER_ID=void 0;const s=i(70801),a=i(87361),c=i(54062),l=i(11842),d=i(44989);t.EXPLORER_VIEW_CONTAINER_ID="explorer-view-container",t.EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS={label:d.nls.localizeByDefault("Explorer"),iconClass:(0,a.codicon)("files"),closeable:!0};let u=n=class{constructor(){this.id=n.ID,this.openEditorsWidgetOptions={order:0,canHide:!0,initiallyCollapsed:!0,weight:20},this.fileNavigatorWidgetOptions={order:1,canHide:!1,initiallyCollapsed:!1,weight:80,disableDraggingToOtherContainers:!0}}async createWidget(){const e=this.viewContainerFactory({id:t.EXPLORER_VIEW_CONTAINER_ID,progressLocationId:"explorer"});e.setTitleOptions(t.EXPLORER_VIEW_CONTAINER_TITLE_OPTIONS);const i=await this.widgetManager.getOrCreateWidget(l.OpenEditorsWidget.ID),n=await this.widgetManager.getOrCreateWidget(c.FILE_NAVIGATOR_ID);return e.addWidget(n,this.fileNavigatorWidgetOptions),e.addWidget(i,this.openEditorsWidgetOptions),e}};u.ID=t.EXPLORER_VIEW_CONTAINER_ID,o([(0,s.inject)(a.ViewContainer.Factory),r("design:type",Function)],u.prototype,"viewContainerFactory",void 0),o([(0,s.inject)(a.WidgetManager),r("design:type",a.WidgetManager)],u.prototype,"widgetManager",void 0),u=n=o([(0,s.injectable)()],u),t.NavigatorWidgetFactory=u},54062:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileNavigatorWidget=t.CLASS=t.LABEL=t.FILE_NAVIGATOR_ID=void 0;const s=i(70801),a=i(30970),c=i(9825),l=i(87361),d=i(21549),u=i(73246),h=i(49068),p=i(27059),g=i(9825),f=i(92664),m=i(28709),b=i(44989),v=i(94952);t.FILE_NAVIGATOR_ID="files",t.LABEL=b.nls.localizeByDefault("No Folder Opened"),t.CLASS="theia-Files";let A=class extends v.AbstractNavigatorTreeWidget{constructor(e,i,n){super(e,i,n),this.model=i,this.canOpenWorkspaceFileAndFolder=g.isOSX||!g.environment.electron.is(),this.openWorkspace=()=>this.doOpenWorkspace(),this.openFolder=()=>this.doOpenFolder(),this.addFolder=()=>this.doAddFolder(),this.keyUpHandler=e=>{l.Key.ENTER.keyCode===e.keyCode&&e.target.click()},this.id=t.FILE_NAVIGATOR_ID,this.addClass(t.CLASS)}init(){super.init();const e={...this.title.dataset,visibilityCommandLabel:b.nls.localizeByDefault("Folders")};this.title.dataset=e,this.updateSelectionContextKeys(),this.toDispose.pushAll([this.model.onSelectionChanged((()=>this.updateSelectionContextKeys())),this.model.onExpansionChanged((e=>{if(e.expanded&&1===e.children.length){const t=e.children[0];l.ExpandableTreeNode.is(t)&&!t.expanded&&this.model.expandNode(t)}}))])}doUpdateRows(){if(super.doUpdateRows(),this.title.label=t.LABEL,h.WorkspaceNode.is(this.model.root))if(this.model.root.name===h.WorkspaceNode.name){const e=this.model.root.children[0];h.WorkspaceRootNode.is(e)&&(this.title.label=this.toNodeName(e),this.title.caption=this.labelProvider.getLongName(e.uri))}else this.title.label=this.toNodeName(this.model.root),this.title.caption=this.title.label;else this.title.caption=this.title.label}getContainerTreeNode(){const e=this.model.root;return this.workspaceService.isMultiRootWorkspaceOpened?e:h.WorkspaceNode.is(e)?e.children[0]:void 0}renderTree(e){return this.model.root&&this.isEmptyMultiRootWorkspace(e)?this.renderEmptyMultiRootWorkspace():super.renderTree(e)}shouldShowWelcomeView(){return void 0===this.model.root}onAfterAttach(e){super.onAfterAttach(e),this.addClipboardListener(this.node,"copy",(e=>this.handleCopy(e))),this.addClipboardListener(this.node,"paste",(e=>this.handlePaste(e)))}handleCopy(e){const t=this.model.selectedFileStatNodes.map((e=>e.uri.toString()));t.length>0&&e.clipboardData&&(e.clipboardData.setData("text/plain",t.join("\n")),e.preventDefault())}handlePaste(e){if(e.clipboardData){const t=e.clipboardData.getData("text/plain");if(!t)return;const i=this.model.selectedFileStatNodes[0];if(!i)return;for(const n of t.split("\n")){e.preventDefault();const t=new a.default(n);this.model.copy(t,i)}}}doOpenWorkspace(){this.commandService.executeCommand(u.WorkspaceCommands.OPEN_WORKSPACE.id)}doOpenFolder(){this.commandService.executeCommand(u.WorkspaceCommands.OPEN_FOLDER.id)}doAddFolder(){this.commandService.executeCommand(u.WorkspaceCommands.ADD_FOLDER.id)}renderEmptyMultiRootWorkspace(){return f.createElement("div",{className:"theia-navigator-container"},f.createElement("div",{className:"center"},"You have not yet added a folder to the workspace."),f.createElement("div",{className:"open-workspace-button-container"},f.createElement("button",{className:"theia-button open-workspace-button",title:"Add a folder to your workspace",onClick:this.addFolder,onKeyUp:this.keyUpHandler},"Add Folder")))}isEmptyMultiRootWorkspace(e){return h.WorkspaceNode.is(e.root)&&0===e.root.children.length}tapNode(e){e&&"singleClick"===this.corePreferences["workbench.list.openMode"]&&this.model.previewNode(e),super.tapNode(e)}onAfterShow(e){super.onAfterShow(e),this.contextKeyService.explorerViewletVisible.set(!0)}onAfterHide(e){super.onAfterHide(e),this.contextKeyService.explorerViewletVisible.set(!1)}updateSelectionContextKeys(){this.contextKeyService.explorerResourceIsFolder.set(d.DirNode.is(this.model.selectedNodes[0]))}};n([(0,s.inject)(c.CommandService),o("design:type",Object)],A.prototype,"commandService",void 0),n([(0,s.inject)(m.NavigatorContextKeyService),o("design:type",m.NavigatorContextKeyService)],A.prototype,"contextKeyService",void 0),n([(0,s.inject)(u.WorkspaceService),o("design:type",u.WorkspaceService)],A.prototype,"workspaceService",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],A.prototype,"init",null),A=n([(0,s.injectable)(),r(0,(0,s.inject)(l.TreeProps)),r(1,(0,s.inject)(p.FileNavigatorModel)),r(2,(0,s.inject)(l.ContextMenuRenderer)),o("design:paramtypes",[Object,p.FileNavigatorModel,l.ContextMenuRenderer])],A),t.FileNavigatorWidget=A},10430:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorDeletedEditorDecorator=void 0;const r=i(70801),s=i(87361),a=i(58653),c=i(9825),l=i(21549);let d=class{constructor(){this.id="theia-deleted-editor-decorator",this.onDidChangeDecorationsEmitter=new c.Emitter,this.onDidChangeDecorations=this.onDidChangeDecorationsEmitter.event,this.deletedURIs=new Set}init(){this.fileSystemContribution.onDidChangeEditorFile((({editor:e,type:t})=>{var i;const n=null===(i=e.getResourceUri())||void 0===i?void 0:i.toString();n&&(2===t?this.deletedURIs.add(n):1===t&&this.deletedURIs.delete(n),this.fireDidChangeDecorations((e=>this.collectDecorators(e))))})),this.shell.onDidAddWidget((()=>{const e=new Set;this.shell.widgets.forEach((t=>{var i;if(s.NavigatableWidget.is(t)){const n=null===(i=t.getResourceUri())||void 0===i?void 0:i.toString();n&&this.deletedURIs.has(n)&&e.add(n)}})),this.deletedURIs=e}))}decorations(e){return this.collectDecorators(e)}collectDecorators(e){const t=new Map;if(void 0===e.root)return t;for(const i of new s.DepthFirstTreeIterator(e.root))if(l.FileStatNode.is(i)){const e=i.uri.toString();if(this.deletedURIs.has(e)){const e={fontData:{style:"line-through"}};t.set(i.id,e)}}return t}fireDidChangeDecorations(e){this.onDidChangeDecorationsEmitter.fire(e)}};n([(0,r.inject)(a.FileSystemFrontendContribution),o("design:type",a.FileSystemFrontendContribution)],d.prototype,"fileSystemContribution",void 0),n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],d.prototype,"shell",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.NavigatorDeletedEditorDecorator=d},47535:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenEditorsCommands=void 0;const n=i(87361),o=i(9825);var r;(r=t.OpenEditorsCommands||(t.OpenEditorsCommands={})).CLOSE_ALL_TABS_FROM_TOOLBAR=o.Command.toDefaultLocalizedCommand({id:"navigator.close.all.editors.toolbar",category:n.CommonCommands.FILE_CATEGORY,label:"Close All Editors",iconClass:"codicon codicon-close-all"}),r.SAVE_ALL_TABS_FROM_TOOLBAR=o.Command.toDefaultLocalizedCommand({id:"navigator.save.all.editors.toolbar",category:n.CommonCommands.FILE_CATEGORY,label:"Save All",iconClass:"codicon codicon-save-all"}),r.CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON=o.Command.toDefaultLocalizedCommand({id:"navigator.close.all.in.area.icon",category:n.CommonCommands.VIEW_CATEGORY,label:"Close Group",iconClass:"codicon codicon-close-all"}),r.SAVE_ALL_IN_GROUP_FROM_ICON=o.Command.toDefaultLocalizedCommand({id:"navigator.save.all.in.area.icon",category:n.CommonCommands.FILE_CATEGORY,label:"Save All in Group",iconClass:"codicon codicon-save-all"})},99098:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenEditorsTreeDecoratorService=t.OpenEditorsTreeDecorator=void 0;const s=i(70801),a=i(79530),c=i(9825);t.OpenEditorsTreeDecorator=Symbol("OpenEditorsTreeDecorator");let l=class extends a.AbstractTreeDecoratorService{constructor(e){super(e.getContributions()),this.contributions=e}};l=n([(0,s.injectable)(),r(0,(0,s.inject)(c.ContributionProvider)),r(0,(0,s.named)(t.OpenEditorsTreeDecorator)),o("design:paramtypes",[Object])],l),t.OpenEditorsTreeDecoratorService=l},159:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.OpenEditorsContextMenu=t.OPEN_EDITORS_CONTEXT_MENU=void 0,t.OPEN_EDITORS_CONTEXT_MENU=["open-editors-context-menu"],(i=t.OpenEditorsContextMenu||(t.OpenEditorsContextMenu={})).NAVIGATION=[...t.OPEN_EDITORS_CONTEXT_MENU,"1_navigation"],i.CLIPBOARD=[...t.OPEN_EDITORS_CONTEXT_MENU,"2_clipboard"],i.SAVE=[...t.OPEN_EDITORS_CONTEXT_MENU,"3_save"],i.COMPARE=[...t.OPEN_EDITORS_CONTEXT_MENU,"4_compare"],i.MODIFICATION=[...t.OPEN_EDITORS_CONTEXT_MENU,"5_modification"]},46512:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenEditorsModel=t.OpenEditorNode=void 0;const s=i(70801),a=i(21549),c=i(87361),l=i(73246),d=i(69972),u=i(9825);(t.OpenEditorNode||(t.OpenEditorNode={})).is=function(e){return a.FileStatNode.is(e)&&"widget"in e};let h=n=class extends a.FileTreeModel{constructor(){super(...arguments),this.toDisposeOnPreviewWidgetReplaced=new u.DisposableCollection,this._editorWidgetsByGroup=new Map,this._editorWidgetsByArea=new Map,this._lastEditorWidgetsByArea=new Map,this.cachedFileStats=new Map,this.updateOpenWidgets=d(this.doUpdateOpenWidgets,250)}get editorWidgets(){const e=[];return this._editorWidgetsByArea.forEach((t=>e.push(...t))),e}getTabBarForGroup(e){var t;return null===(t=this._editorWidgetsByGroup.get(e))||void 0===t?void 0:t.tabbar}init(){super.init(),this.setupHandlers(),this.initializeRoot()}setupHandlers(){this.toDispose.push(this.applicationShell.onDidChangeCurrentWidget((({newValue:e})=>{const t=this.tree.getNode(null==e?void 0:e.id);t&&c.SelectableTreeNode.is(t)&&this.selectNode(t)}))),this.toDispose.push(this.applicationShell.onDidAddWidget((async()=>{await this.updateOpenWidgets();const e=new Set(this.editorWidgets.map((e=>e.id)));this.cachedFileStats.forEach(((t,i)=>{e.has(i)||this.cachedFileStats.delete(i)}))}))),this.toDispose.push(this.applicationShell.onDidRemoveWidget((()=>this.updateOpenWidgets()))),this.applicationShell.mainPanel.layoutModified.connect((()=>this.doUpdateOpenWidgets("main"))),this.applicationShell.bottomPanel.layoutModified.connect((()=>this.doUpdateOpenWidgets("bottom")))}async initializeRoot(){await this.updateOpenWidgets(),this.fireChanged()}async doUpdateOpenWidgets(e){this._lastEditorWidgetsByArea=this._editorWidgetsByArea,this._editorWidgetsByArea=new Map;let t=!0;["main","bottom","left","right","top","secondaryWindow"].forEach((e=>{const t=this.applicationShell.getWidgets(e).filter((e=>c.NavigatableWidget.is(e)));t.length&&this._editorWidgetsByArea.set(e,t)})),0===this._lastEditorWidgetsByArea.size&&(this._lastEditorWidgetsByArea=this._editorWidgetsByArea),e&&(t=this.shouldRebuildTreeOnLayoutModified(e)),t&&(this.root=await this.buildRootFromOpenedWidgets(this._editorWidgetsByArea))}shouldRebuildTreeOnLayoutModified(e){const t=this._editorWidgetsByArea.get(e),i=this._lastEditorWidgetsByArea.get(e);return 1===(null==t?void 0:t.length)||(null==t?void 0:t.length)!==(null==i?void 0:i.length)||!t||!i||!t.every(((e,t)=>e===i[t]))}tryCreateWidgetGroupMap(){const e=this.applicationShell.mainAreaTabBars;this._editorWidgetsByGroup=new Map;const t=new Map;return e.length>1&&e.forEach(((e,i)=>{const o=i+1,r=u.nls.localizeByDefault("Group {0}",o),s={parent:void 0,id:`${n.GROUP_NODE_ID_PREFIX}:${o}`,name:r,children:[]},a=[];e.titles.map((e=>{const{owner:i}=e;t.set(i,s),c.NavigatableWidget.is(i)&&a.push(i)})),this._editorWidgetsByGroup.set(o,{widgets:a,tabbar:e})})),t}async buildRootFromOpenedWidgets(e){const t={id:"open-editors:root",parent:void 0,visible:!1,children:[]},i=this.tryCreateWidgetGroupMap();for(const[o,r]of e.entries()){const s={id:`${n.AREA_NODE_ID_PREFIX}:${o}`,parent:t,name:c.ApplicationShell.areaLabels[o],expanded:!0,children:[]};for(const e of r){const t=e.getResourceUri();if(t){let n;try{n=await this.fileService.resolve(t),this.cachedFileStats.set(e.id,n)}catch{const t=this.cachedFileStats.get(e.id);if(!t)continue;n=t}const r={id:e.id,fileStat:n,uri:t,selected:!1,parent:void 0,name:e.title.label,icon:e.title.iconClass,widget:e};if("main"===o&&i.size>1){const t=i.get(e);t&&(c.CompositeTreeNode.addChild(t,r),c.CompositeTreeNode.addChild(s,t))}else c.CompositeTreeNode.addChild(s,r)}}1===e.size&&e.has("main")&&"main"===o?s.children.forEach((e=>c.CompositeTreeNode.addChild(t,e))):c.CompositeTreeNode.addChild(t,s)}return t}doOpenNode(e){!1!==e.visible&&(a.FileNode.is(e)?(0,c.open)(this.openerService,e.uri):super.doOpenNode(e))}};h.GROUP_NODE_ID_PREFIX="group-node",h.AREA_NODE_ID_PREFIX="area-node",o([(0,s.inject)(c.ApplicationShell),r("design:type",c.ApplicationShell)],h.prototype,"applicationShell",void 0),o([(0,s.inject)(l.WorkspaceService),r("design:type",l.WorkspaceService)],h.prototype,"workspaceService",void 0),o([(0,s.inject)(c.OpenerService),r("design:type",Object)],h.prototype,"openerService",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],h.prototype,"init",null),h=n=o([(0,s.injectable)()],h),t.OpenEditorsModel=h},11842:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenEditorsWidget=t.OPEN_EDITORS_PROPS=void 0;const a=i(92664),c=i(70801),l=i(87361),d=i(46512),u=i(21549),h=i(99098),p=i(159),g=i(9825),f=i(47535),m=i(44989),b=i(73246),v=i(94952);t.OPEN_EDITORS_PROPS={...l.defaultTreeProps,virtualized:!1,contextMenuPath:p.OPEN_EDITORS_CONTEXT_MENU,leftPadding:22};let A=n=class extends v.AbstractNavigatorTreeWidget{constructor(e,t,i){super(e,t,i),this.model=t,this.handleGroupActionIconClicked=async e=>this.doHandleGroupActionIconClicked(e),this.closeEditor=async e=>this.doCloseEditor(e)}static createContainer(e){const i=(0,u.createFileTreeContainer)(e);return i.unbind(u.FileTreeModel),i.bind(d.OpenEditorsModel).toSelf(),i.rebind(l.TreeModel).toService(d.OpenEditorsModel),i.unbind(u.FileTreeWidget),i.bind(n).toSelf(),i.rebind(l.TreeProps).toConstantValue(t.OPEN_EDITORS_PROPS),i.bind(h.OpenEditorsTreeDecoratorService).toSelf().inSingletonScope(),i.rebind(l.TreeDecoratorService).toService(h.OpenEditorsTreeDecoratorService),i}static createWidget(e){return n.createContainer(e).get(n)}init(){super.init(),this.id=n.ID,this.title.label=n.LABEL,this.addClass(n.ID),this.update()}get editorWidgets(){return this.model.editorWidgets}renderNode(e,t){if(!l.TreeNode.isVisible(e))return;const i=this.createNodeAttributes(e,t),n=!(e.id.startsWith(d.OpenEditorsModel.GROUP_NODE_ID_PREFIX)||e.id.startsWith(d.OpenEditorsModel.AREA_NODE_ID_PREFIX)),o=a.createElement("div",{className:`${l.TREE_NODE_CONTENT_CLASS}`},this.renderExpansionToggle(e,t),n&&this.renderPrefixIcon(e),this.decorateIcon(e,this.renderIcon(e,t)),a.createElement("div",{className:"noWrapInfo theia-TreeNodeSegmentGrow"},this.renderCaptionAffixes(e,t,"captionPrefixes"),this.renderCaption(e,t),this.renderCaptionAffixes(e,t,"captionSuffixes")),this.renderTailDecorations(e,t),(this.isGroupNode(e)||this.isAreaNode(e))&&this.renderInteractables(e,t));return a.createElement("div",i,o)}getDecorationData(e,t){const i=super.getDecorationData(e,t);return"captionSuffixes"===t&&d.OpenEditorNode.is(e)&&i.push(this.getWorkspaceDecoration(e)),i}getWorkspaceDecoration(e){var t;return[{fontData:{color:null===(t=this.getDecorationData(e,"fontData").find((e=>e.color)))||void 0===t?void 0:t.color},data:this.labelProvider.getDetails(e.fileStat)}]}isGroupNode(e){return e.id.startsWith(d.OpenEditorsModel.GROUP_NODE_ID_PREFIX)}isAreaNode(e){return e.id.startsWith(d.OpenEditorsModel.AREA_NODE_ID_PREFIX)}doRenderNodeRow({node:e,depth:t}){let i="";return this.isGroupNode(e)?i="group-node":this.isAreaNode(e)&&(i="area-node"),a.createElement("div",{className:`open-editors-node-row ${this.getPrefixIconClass(e)}${i}`},this.renderNode(e,{depth:t}))}renderInteractables(e,t){return a.createElement("div",{className:"open-editors-inline-actions-container"},a.createElement("div",{className:"open-editors-inline-action"},a.createElement("a",{className:"codicon codicon-save-all",title:f.OpenEditorsCommands.SAVE_ALL_IN_GROUP_FROM_ICON.label,onClick:this.handleGroupActionIconClicked,"data-id":e.id,id:f.OpenEditorsCommands.SAVE_ALL_IN_GROUP_FROM_ICON.id})),a.createElement("div",{className:"open-editors-inline-action"},a.createElement("a",{className:"codicon codicon-close-all",title:f.OpenEditorsCommands.CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON.label,onClick:this.handleGroupActionIconClicked,"data-id":e.id,id:f.OpenEditorsCommands.CLOSE_ALL_EDITORS_IN_GROUP_FROM_ICON.id})))}async doHandleGroupActionIconClicked(e){e.stopPropagation();const t=e.currentTarget.getAttribute("data-id"),i=e.currentTarget.id;if(t&&i){const e=t.split(":").pop(),n=this.sanitizeInputFromClickHandler(e);if(n)return this.commandService.executeCommand(i,n)}}sanitizeInputFromClickHandler(e){let t;if(e)if(l.ApplicationShell.isValidArea(e))t=e;else{const i=parseInt(e);isNaN(i)||(t=this.model.getTabBarForGroup(i))}return t}renderPrefixIcon(e){return a.createElement("div",{className:"open-editors-prefix-icon-container"},a.createElement("div",{"data-id":e.id,className:`open-editors-prefix-icon dirty ${(0,l.codicon)("circle-filled",!0)}`}),a.createElement("div",{"data-id":e.id,onClick:this.closeEditor,className:`open-editors-prefix-icon close ${(0,l.codicon)("close",!0)}`}))}getPrefixIconClass(e){const t=l.Saveable.get(e.widget);return t&&t.dirty?"dirty":""}async doCloseEditor(e){const t=e.currentTarget.getAttribute("data-id");t&&await this.applicationShell.closeWidget(t)}tapNode(e){d.OpenEditorNode.is(e)&&this.applicationShell.activateWidget(e.widget.id),super.tapNode(e)}handleContextMenuEvent(e,t){super.handleContextMenuEvent(e,t),e&&this.applicationShell.activateWidget(e.widget.id)}getPaddingLeft(e){return e.id.startsWith(d.OpenEditorsModel.AREA_NODE_ID_PREFIX)?0:this.props.leftPadding}storeState(){return{}}restoreState(){}};A.ID="theia-open-editors-widget",A.LABEL=m.nls.localizeByDefault("Open Editors"),o([(0,c.inject)(l.ApplicationShell),r("design:type",l.ApplicationShell)],A.prototype,"applicationShell",void 0),o([(0,c.inject)(g.CommandService),r("design:type",Object)],A.prototype,"commandService",void 0),o([(0,c.inject)(b.WorkspaceService),r("design:type",b.WorkspaceService)],A.prototype,"workspaceService",void 0),o([(0,c.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],A.prototype,"init",null),A=n=o([(0,c.injectable)(),s(0,(0,c.inject)(l.TreeProps)),s(1,(0,c.inject)(d.OpenEditorsModel)),s(2,(0,c.inject)(l.ContextMenuRenderer)),r("design:paramtypes",[Object,d.OpenEditorsModel,l.ContextMenuRenderer])],A),t.OpenEditorsWidget=A},71801:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronNavigatorMenuContribution=t.OPEN_CONTAINING_FOLDER=void 0;const r=i(9825),s=i(87361),a=i(9791),c=i(70801),l=i(21549),d=i(22448),u=i(10483),h=i(4836),p=i(73246),g=i(8433);i(16063),t.OPEN_CONTAINING_FOLDER=r.Command.toDefaultLocalizedCommand({id:"revealFileInOS",category:s.CommonCommands.FILE_CATEGORY,label:h.isWindows?"Reveal in File Explorer":h.isOSX?"Reveal in Finder":"Open Containing Folder"});let f=class{registerCommands(e){e.registerCommand(t.OPEN_CONTAINING_FOLDER,g.UriAwareCommandHandler.MonoSelect(this.selectionService,{execute:async e=>{window.electronTheiaCore.showItemInFolder(e.codeUri.fsPath)},isEnabled:e=>!!this.workspaceService.getWorkspaceRootUri(e),isVisible:e=>!!this.workspaceService.getWorkspaceRootUri(e)}))}registerMenus(e){e.registerMenuAction(u.NavigatorContextMenu.NAVIGATION,{commandId:t.OPEN_CONTAINING_FOLDER.id,label:t.OPEN_CONTAINING_FOLDER.label}),e.registerMenuAction(u.SHELL_TABBAR_CONTEXT_REVEAL,{commandId:t.OPEN_CONTAINING_FOLDER.id,label:t.OPEN_CONTAINING_FOLDER.label,order:"4"})}registerKeybindings(e){e.registerKeybinding({command:t.OPEN_CONTAINING_FOLDER.id,keybinding:"ctrlcmd+alt+p",when:"filesExplorerFocus"})}getSelectedFileStatNodes(){const e=this.tryGetNavigatorWidget();return e?e.model.selectedNodes.filter(l.FileStatNode.is):[]}tryGetNavigatorWidget(){return this.widgetManager.tryGetWidget(d.FILE_NAVIGATOR_ID)}};n([(0,c.inject)(r.SelectionService),o("design:type",r.SelectionService)],f.prototype,"selectionService",void 0),n([(0,c.inject)(a.WidgetManager),o("design:type",a.WidgetManager)],f.prototype,"widgetManager",void 0),n([(0,c.inject)(p.WorkspaceService),o("design:type",p.WorkspaceService)],f.prototype,"workspaceService",void 0),f=n([(0,c.injectable)()],f),t.ElectronNavigatorMenuContribution=f},76081:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(9825),o=i(70801),r=i(87361),s=i(71801);t.default=new o.ContainerModule((e=>{e(n.MenuContribution).to(s.ElectronNavigatorMenuContribution).inSingletonScope(),e(n.CommandContribution).to(s.ElectronNavigatorMenuContribution).inSingletonScope(),e(r.KeybindingContribution).to(s.ElectronNavigatorMenuContribution).inSingletonScope()}))},55237:(e,t,i)=>{var n=i(18533);const o="object"==typeof n&&n&&"win32"===n.platform;e.exports=o?{sep:"\\"}:{sep:"/"}},74267:(e,t,i)=>{const n=e.exports=(e,t,i={})=>(m(t),!(!i.nocomment&&"#"===t.charAt(0))&&new v(t,i).match(e));e.exports=n;const o=i(55237);n.sep=o.sep;const r=Symbol("globstar **");n.GLOBSTAR=r;const s=i(67828),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",l=c+"*?",d=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),u=d("().*{}+?[]^$\\!"),h=d("[.("),p=/\/+/;n.filter=(e,t={})=>(i,o,r)=>n(i,e,t);const g=(e,t={})=>{const i={};return Object.keys(e).forEach((t=>i[t]=e[t])),Object.keys(t).forEach((e=>i[e]=t[e])),i};n.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return n;const t=n,i=(i,n,o)=>t(i,n,g(e,o));return(i.Minimatch=class extends t.Minimatch{constructor(t,i){super(t,g(e,i))}}).defaults=i=>t.defaults(g(e,i)).Minimatch,i.filter=(i,n)=>t.filter(i,g(e,n)),i.defaults=i=>t.defaults(g(e,i)),i.makeRe=(i,n)=>t.makeRe(i,g(e,n)),i.braceExpand=(i,n)=>t.braceExpand(i,g(e,n)),i.match=(i,n,o)=>t.match(i,n,g(e,o)),i},n.braceExpand=(e,t)=>f(e,t);const f=(e,t={})=>(m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)),m=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},b=Symbol("subparse");n.makeRe=(e,t)=>new v(e,t||{}).makeRe(),n.match=(e,t,i={})=>{const n=new v(t,i);return e=e.filter((e=>n.match(e))),n.options.nonull&&!e.length&&e.push(t),e};class v{constructor(e,t){m(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let i=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,i),i=this.globParts=i.map((e=>e.split(p))),this.debug(this.pattern,i),i=i.map(((e,t,i)=>e.map(this.parse,this))),this.debug(this.pattern,i),i=i.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,i),this.set=i}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,i=0;for(let n=0;n<e.length&&"!"===e.charAt(n);n++)t=!t,i++;i&&(this.pattern=e.slice(i)),this.negate=t}matchOne(e,t,i){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,d=t[s],u=e[o];if(this.debug(t,d,u),!1===d)return!1;if(d===r){this.debug("GLOBSTAR",[t,d,u]);var h=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var g=e[h];if(this.debug("\nglobstar while",e,h,t,p,g),this.matchOne(e.slice(h),t.slice(p),i))return this.debug("globstar found match!",h,a,g),!0;if("."===g||".."===g||!n.dot&&"."===g.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!i||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof d?(l=u===d,this.debug("string match",d,u,l)):(l=u.match(d),this.debug("pattern match",d,u,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return i;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return f(this.pattern,this.options)}parse(e,t){m(e);const i=this.options;if("**"===e){if(!i.noglobstar)return r;e="*"}if(""===e)return"";let n="",o=!1,s=!1;const d=[],p=[];let g,f,v,A,y=!1,C=-1,w=-1,_="."===e.charAt(0),S=i.dot||_;const E=e=>"."===e.charAt(0)?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",k=()=>{if(g){switch(g){case"*":n+=l,o=!0;break;case"?":n+=c,o=!0;break;default:n+="\\"+g}this.debug("clearStateChar %j %j",g,n),g=!1}};for(let t,r=0;r<e.length&&(t=e.charAt(r));r++)if(this.debug("%s\t%s %s %j",e,r,n,t),s){if("/"===t)return!1;u[t]&&(n+="\\"),n+=t,s=!1}else switch(t){case"/":return!1;case"\\":if(y&&"-"===e.charAt(r+1)){n+=t;continue}k(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,r,n,t),y){this.debug("  in class"),"!"===t&&r===w+1&&(t="^"),n+=t;continue}this.debug("call clearStateChar %j",g),k(),g=t,i.noext&&k();continue;case"(":{if(y){n+="(";continue}if(!g){n+="\\(";continue}const t={type:g,start:r-1,reStart:n.length,open:a[g].open,close:a[g].close};this.debug(this.pattern,"\t",t),d.push(t),n+=t.open,0===t.start&&"!"!==t.type&&(_=!0,n+=E(e.slice(r+1))),this.debug("plType %j %j",g,n),g=!1;continue}case")":{const e=d[d.length-1];if(y||!e){n+="\\)";continue}d.pop(),k(),o=!0,v=e,n+=v.close,"!"===v.type&&p.push(Object.assign(v,{reEnd:n.length}));continue}case"|":{const t=d[d.length-1];if(y||!t){n+="\\|";continue}k(),n+="|",0===t.start&&"!"!==t.type&&(_=!0,n+=E(e.slice(r+1)));continue}case"[":if(k(),y){n+="\\"+t;continue}y=!0,w=r,C=n.length,n+=t;continue;case"]":if(r===w+1||!y){n+="\\"+t;continue}f=e.substring(w+1,r);try{RegExp("["+(f.replace(/\\([^-\]])/g,"$1").replace(/[[\]\\]/g,"\\$&")+"]")),n+=t}catch(e){n=n.substring(0,C)+"(?:$.)"}o=!0,y=!1;continue;default:k(),!u[t]||"^"===t&&y||(n+="\\"),n+=t}for(y&&(f=e.slice(w+1),A=this.parse(f,b),n=n.substring(0,C)+"\\["+A[0],o=o||A[1]),v=d.pop();v;v=d.pop()){let e;e=n.slice(v.reStart+v.open.length),this.debug("setting tail",n,v),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,i)=>(i||(i="\\"),t+t+i+"|"))),this.debug("tail=%j\n   %s",e,e,v,n);const t="*"===v.type?l:"?"===v.type?c:"\\"+v.type;o=!0,n=n.slice(0,v.reStart)+t+"\\("+e}k(),s&&(n+="\\\\");const x=h[n.charAt(0)];for(let e=p.length-1;e>-1;e--){const i=p[e],o=n.slice(0,i.reStart),r=n.slice(i.reStart,i.reEnd-8);let s=n.slice(i.reEnd);const a=n.slice(i.reEnd-8,i.reEnd)+s,c=o.split(")").length,l=o.split("(").length-c;let d=s;for(let e=0;e<l;e++)d=d.replace(/\)[+*?]?/,"");s=d,n=o+r+s+(""===s&&t!==b?"(?:$|\\/)":"")+a}if(""!==n&&o&&(n="(?=.)"+n),x&&(n=(_?"":S?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+n),t===b)return[n,o];if(i.nocase&&!o&&(o=e.toUpperCase()!==e.toLowerCase()),!o)return(e=>e.replace(/\\(.)/g,"$1"))(e);const D=i.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",D),{_glob:e,_src:n})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,i=t.noglobstar?l:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"";let o=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===r?r:e._src)).reduce(((e,t)=>(e[e.length-1]===r&&t===r||e.push(t),e)),[]),e.forEach(((t,n)=>{t===r&&e[n-1]!==r&&(0===n?e.length>1?e[n+1]="(?:\\/|"+i+"\\/)?"+e[n+1]:e[n]=i:n===e.length-1?e[n-1]+="(?:\\/|"+i+")?":(e[n-1]+="(?:\\/|\\/"+i+"\\/)"+e[n+1],e[n+1]=r))})),e.filter((e=>e!==r)).join("/")))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const i=this.options;"/"!==o.sep&&(e=e.split(o.sep).join("/")),e=e.split(p),this.debug(this.pattern,"split",e);const n=this.set;let r;this.debug(this.pattern,"set",n);for(let t=e.length-1;t>=0&&(r=e[t],!r);t--);for(let o=0;o<n.length;o++){const s=n[o];let a=e;if(i.matchBase&&1===s.length&&(a=[r]),this.matchOne(a,s,t))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate}static defaults(e){return n.defaults(e).Minimatch}}n.Minimatch=v},72288:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineBreadcrumb=t.OutlineBreadcrumbsContribution=t.BreadcrumbPopupOutlineView=t.OUTLINE_BREADCRUMB_CONTAINER_CLASS=t.BreadcrumbPopupOutlineViewFactory=t.OutlineBreadcrumbType=void 0;const r=i(70801),s=i(87361),a=i(46047),c=i(30929),l=i(9825);t.OutlineBreadcrumbType=Symbol("OutlineBreadcrumb"),t.BreadcrumbPopupOutlineViewFactory=Symbol("BreadcrumbPopupOutlineViewFactory"),t.OUTLINE_BREADCRUMB_CONTAINER_CLASS="outline-element";class d extends c.OutlineViewWidget{tapNode(e){l.UriSelection.is(e)&&c.OutlineSymbolInformationNode.hasRange(e)?(0,s.open)(this.openerService,e.uri,{selection:e.range}):super.tapNode(e)}cloneState(e){const t=this.reconcileTreeState(e),i=this.getRoot(t);this.model.root=this.inflateFromStorage(this.deflateForStorage(i))}}n([(0,r.inject)(s.OpenerService),o("design:type",Object)],d.prototype,"openerService",void 0),t.BreadcrumbPopupOutlineView=d;let u=class{constructor(){this.type=t.OutlineBreadcrumbType,this.priority=200,this.currentUri=void 0,this.currentBreadcrumbs=[],this.roots=[],this.onDidChangeBreadcrumbsEmitter=new l.Emitter}get onDidChangeBreadcrumbs(){return this.onDidChangeBreadcrumbsEmitter.event}init(){this.outlineView=this.outlineFactory(),this.outlineView.node.style.height="auto",this.outlineView.node.style.maxHeight="200px",this.outlineViewService.onDidChangeOutline((e=>{if(e.length>0){this.roots=e;const t=e[0];l.UriSelection.is(t)&&this.updateOutlineItems(t.uri,this.findSelectedNode(e))}else this.currentBreadcrumbs=[],this.roots=[]})),this.outlineViewService.onDidSelect((e=>{l.UriSelection.is(e)&&this.updateOutlineItems(e.uri,e)}))}async updateOutlineItems(e,i){this.currentUri=e;const n=this.toOutlinePath(i);n&&i?(this.currentBreadcrumbs=n.map(((i,n)=>new h(i,e,n.toString(),this.labelProvider.getName(i),"symbol-icon-center codicon codicon-symbol-"+i.iconClass,t.OUTLINE_BREADCRUMB_CONTAINER_CLASS))),i.children&&i.children.length>0&&this.currentBreadcrumbs.push(new h(i.children,e,this.currentBreadcrumbs.length.toString(),"…","",t.OUTLINE_BREADCRUMB_CONTAINER_CLASS))):(this.currentBreadcrumbs=[],this.roots&&this.currentBreadcrumbs.push(new h(this.roots,e,this.currentBreadcrumbs.length.toString(),"…","",t.OUTLINE_BREADCRUMB_CONTAINER_CLASS))),this.onDidChangeBreadcrumbsEmitter.fire(e)}async computeBreadcrumbs(e){return this.currentUri&&e.toString()===this.currentUri.toString()?this.currentBreadcrumbs:[]}async attachPopupContent(e,t){if(!h.is(e))return;const i=Array.isArray(e.node)?e.node[0]:e.node;if(!i.parent)return;const n=i.parent.children.filter((e=>c.OutlineSymbolInformationNode.is(e))),o=new l.DisposableCollection;return this.outlineView.cloneState(n),this.outlineView.model.selectNode(i),this.outlineView.model.collapseAll(),s.Widget.attach(this.outlineView,t),this.outlineView.activate(),o.pushAll([this.outlineView.model.onExpansionChanged((e=>s.SelectableTreeNode.is(e)&&this.outlineView.model.selectNode(e))),l.Disposable.create((()=>{this.outlineView.model.root=void 0,s.Widget.detach(this.outlineView)}))]),o}toOutlinePath(e,t=[]){if(e)return"outline-view-root"===e.id?t:e.parent?this.toOutlinePath(e.parent,[e,...t]):[e,...t]}findSelectedNode(e){const t=e.find((e=>e.selected));if(t)return t;for(const t of e){const e=this.findSelectedNode(t.children.map((e=>e)));if(e)return e}}};n([(0,r.inject)(s.LabelProvider),o("design:type",s.LabelProvider)],u.prototype,"labelProvider",void 0),n([(0,r.inject)(a.OutlineViewService),o("design:type",a.OutlineViewService)],u.prototype,"outlineViewService",void 0),n([(0,r.inject)(s.BreadcrumbsService),o("design:type",s.BreadcrumbsService)],u.prototype,"breadcrumbsService",void 0),n([(0,r.inject)(t.BreadcrumbPopupOutlineViewFactory),o("design:type",Function)],u.prototype,"outlineFactory",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.OutlineBreadcrumbsContribution=u;class h{constructor(e,t,i,n,o,r){this.node=e,this.uri=t,this.index=i,this.label=n,this.iconClass=o,this.containerClass=r}get id(){return this.type.toString()+"_"+this.uri.toString()+"_"+this.index}get type(){return t.OutlineBreadcrumbType}get longLabel(){return this.label}}t.OutlineBreadcrumb=h,function(e){e.is=function(e){return"node"in e&&"uri"in e}}(h=t.OutlineBreadcrumb||(t.OutlineBreadcrumb={}))},76726:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineDecoratorService=t.OutlineTreeDecorator=void 0;const s=i(70801),a=i(12704),c=i(79530);t.OutlineTreeDecorator=Symbol("OutlineTreeDecorator");let l=class extends c.AbstractTreeDecoratorService{constructor(e){super(e.getContributions()),this.contributions=e}};l=n([(0,s.injectable)(),r(0,(0,s.inject)(a.ContributionProvider)),r(0,(0,s.named)(t.OutlineTreeDecorator)),o("design:paramtypes",[Object])],l),t.OutlineDecoratorService=l},36454:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineViewContribution=t.OutlineViewCommands=t.OUTLINE_WIDGET_FACTORY_ID=void 0;const r=i(70801),s=i(94930),a=i(6388),c=i(30929),l=i(21810),d=i(4836),u=i(44989);var h;t.OUTLINE_WIDGET_FACTORY_ID="outline-view",function(e){e.COLLAPSE_ALL={id:"outlineView.collapse.all",iconClass:(0,a.codicon)("collapse-all")},e.EXPAND_ALL={id:"outlineView.expand.all",iconClass:(0,a.codicon)("expand-all")}}(h=t.OutlineViewCommands||(t.OutlineViewCommands={}));let p=class extends s.AbstractViewContribution{constructor(){super({widgetId:t.OUTLINE_WIDGET_FACTORY_ID,widgetName:c.OutlineViewWidget.LABEL,defaultWidgetOptions:{area:"right",rank:500},toggleCommandId:"outlineView:toggle",toggleKeybinding:d.OS.type()!==d.OS.Type.Linux?"ctrlcmd+shift+i":void 0})}async initializeLayout(e){await this.openView()}registerCommands(e){super.registerCommands(e),e.registerCommand(h.COLLAPSE_ALL,{isEnabled:e=>this.withWidget(e,(()=>!0)),isVisible:e=>this.withWidget(e,(e=>!e.model.areNodesCollapsed())),execute:()=>this.collapseAllItems()}),e.registerCommand(h.EXPAND_ALL,{isEnabled:e=>this.withWidget(e,(()=>!0)),isVisible:e=>this.withWidget(e,(e=>e.model.areNodesCollapsed())),execute:()=>this.expandAllItems()})}async registerToolbarItems(e){const t=(await this.widget).onDidUpdate;e.registerItem({id:h.COLLAPSE_ALL.id,command:h.COLLAPSE_ALL.id,tooltip:u.nls.localizeByDefault("Collapse All"),priority:0,onDidChange:t}),e.registerItem({id:h.EXPAND_ALL.id,command:h.EXPAND_ALL.id,tooltip:u.nls.localizeByDefault("Expand All"),priority:0,onDidChange:t})}async collapseAllItems(){const{model:e}=await this.widget,t=e.root;l.CompositeTreeNode.is(t)&&e.collapseAll(t)}async expandAllItems(){const{model:e}=await this.widget;e.expandAll(e.root)}withWidget(e=this.tryGetWidget(),i){return e instanceof c.OutlineViewWidget&&e.id===t.OUTLINE_WIDGET_FACTORY_ID&&i(e)}};p=n([(0,r.injectable)(),o("design:paramtypes",[])],p),t.OutlineViewContribution=p},95847:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(46047),r=i(36454),s=i(9791),a=i(87361),c=i(23119),l=i(30929);i(97660);const d=i(12704),u=i(76726),h=i(7776),p=i(72288);function g(e){const t=(0,a.createTreeContainer)(e,{props:{expandOnlyOnExpansionToggleClick:!0,search:!0},widget:l.OutlineViewWidget,model:h.OutlineViewTreeModel,decoratorService:u.OutlineDecoratorService});return(0,d.bindContributionProvider)(t,u.OutlineTreeDecorator),t}t.default=new n.ContainerModule((e=>{e(l.OutlineViewWidgetFactory).toFactory((e=>()=>g(e.container).get(l.OutlineViewWidget))),e(p.BreadcrumbPopupOutlineViewFactory).toFactory((({container:e})=>()=>{const t=g(e);return t.rebind(l.OutlineViewWidget).to(p.BreadcrumbPopupOutlineView),t.rebind(a.TreeProps).toConstantValue({...a.defaultTreeProps,expandOnlyOnExpansionToggleClick:!0,search:!1,virtualized:!1}),t.get(l.OutlineViewWidget)})),e(o.OutlineViewService).toSelf().inSingletonScope(),e(s.WidgetFactory).toService(o.OutlineViewService),(0,a.bindViewContribution)(e,r.OutlineViewContribution),e(a.FrontendApplicationContribution).toService(r.OutlineViewContribution),e(c.TabBarToolbarContribution).toService(r.OutlineViewContribution),e(p.OutlineBreadcrumbsContribution).toSelf().inSingletonScope(),e(a.BreadcrumbsContribution).toService(p.OutlineBreadcrumbsContribution)}))},46047:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineViewService=void 0;const s=i(70801),a=i(9825),c=i(30929);let l=class{constructor(e){this.factory=e,this.id="outline-view",this.onDidChangeOutlineEmitter=new a.Emitter,this.onDidChangeOpenStateEmitter=new a.Emitter,this.onDidSelectEmitter=new a.Emitter,this.onDidOpenEmitter=new a.Emitter}get onDidSelect(){return this.onDidSelectEmitter.event}get onDidOpen(){return this.onDidOpenEmitter.event}get onDidChangeOutline(){return this.onDidChangeOutlineEmitter.event}get onDidChangeOpenState(){return this.onDidChangeOpenStateEmitter.event}get open(){return void 0!==this.widget&&this.widget.isVisible}publish(e){this.widget&&this.widget.setOutlineTree(e),this.onDidChangeOutlineEmitter.fire(e)}createWidget(){this.widget=this.factory();const e=new a.DisposableCollection;return e.push(this.widget.onDidChangeOpenStateEmitter.event((e=>this.onDidChangeOpenStateEmitter.fire(e)))),e.push(this.widget.model.onOpenNode((e=>this.onDidOpenEmitter.fire(e)))),e.push(this.widget.model.onSelectionChanged((e=>this.onDidSelectEmitter.fire(e[0])))),this.widget.disposed.connect((()=>{this.widget=void 0,e.dispose()})),Promise.resolve(this.widget)}};l=n([(0,s.injectable)(),r(0,(0,s.inject)(c.OutlineViewWidgetFactory)),o("design:paramtypes",[Function])],l),t.OutlineViewService=l},7776:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineViewTreeModel=void 0;const o=i(70801),r=i(87361);let s=class extends r.TreeModelImpl{handleExpansion(e){}async collapseAll(e){const t=e||this.getFocusedNode();return!!r.CompositeTreeNode.is(t)&&this.expansionService.collapseAll(t)}openNode(e){const t=e||this.getFocusedNode();t&&this.onOpenNodeEmitter.fire(t)}expandAll(e){if(r.CompositeTreeNode.is(e))for(const t of e.children)r.ExpandableTreeNode.is(t)&&this.expandAll(t);r.ExpandableTreeNode.is(e)&&this.expandNode(e)}areNodesCollapsed(){if(r.CompositeTreeNode.is(this.root))for(const e of this.root.children)if(!r.ExpandableTreeNode.isCollapsed(e))return!1;return!0}};s=n([(0,o.injectable)()],s),t.OutlineViewTreeModel=s},30929:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutlineViewWidget=t.OutlineViewWidgetFactory=t.OutlineSymbolInformationNode=void 0;const a=i(70801),c=i(87361),l=i(7776),d=i(9825),u=i(92664),h=i(75437),p=i(30970),g=i(44989);var f;!function(e){e.is=function(e){return!!e&&c.SelectableTreeNode.is(e)&&"iconClass"in e},e.hasRange=function(e){return(0,d.isObject)(e)&&h.Range.is(e.range)}}(f=t.OutlineSymbolInformationNode||(t.OutlineSymbolInformationNode={})),t.OutlineViewWidgetFactory=Symbol("OutlineViewWidgetFactory");let m=n=class extends c.TreeWidget{constructor(e,t,i){super(e,t,i),this.model=t,this.onDidChangeOpenStateEmitter=new d.Emitter,this.onDidUpdateEmitter=new d.Emitter,this.onDidUpdate=this.onDidUpdateEmitter.event,this.id="outline-view",this.title.label=n.LABEL,this.title.caption=n.LABEL,this.title.closable=!0,this.title.iconClass=(0,c.codicon)("symbol-class"),this.addClass("theia-outline-view")}init(){super.init(),this.toDispose.push(this.model.onExpansionChanged((()=>this.onDidUpdateEmitter.fire())))}setOutlineTree(e){const t=this.reconcileTreeState(e);this.model.root=this.getRoot(t)}getRoot(e){return{id:"outline-view-root",name:n.LABEL,visible:!1,children:e,parent:void 0}}reconcileTreeState(e){return e.forEach((e=>{if(f.is(e)){const t=this.model.getNode(e.id);t&&f.is(t)&&(t.expanded=e.expanded,t.selected=e.selected),this.reconcileTreeState(Array.from(e.children))}})),e}onAfterHide(e){super.onAfterHide(e),this.onDidChangeOpenStateEmitter.fire(!1)}onAfterShow(e){super.onAfterShow(e),this.onDidChangeOpenStateEmitter.fire(!0)}renderIcon(e,t){if(f.is(e))return u.createElement("div",{className:"symbol-icon-center codicon codicon-symbol-"+e.iconClass})}createNodeAttributes(e,t){return{...super.createNodeAttributes(e,t),title:this.getNodeTooltip(e)}}getNodeTooltip(e){if(f.is(e))return e.name+` (${e.iconClass})`}isExpandable(e){return f.is(e)&&e.children.length>0}renderTree(e){return c.CompositeTreeNode.is(this.model.root)&&!this.model.root.children.length?u.createElement("div",{className:"theia-widget-noInfo no-outline"},g.nls.localizeByDefault("The active editor cannot provide outline information.")):super.renderTree(e)}deflateForStorage(e){const t=super.deflateForStorage(e);return d.UriSelection.is(e)&&(t.uri=e.uri.toString()),t}inflateFromStorage(e,t){const i=super.inflateFromStorage(e,t);return e&&"uri"in e&&"string"==typeof e.uri&&(i.uri=new p.default(e.uri)),i}};m.LABEL=g.nls.localizeByDefault("Outline"),o([(0,a.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],m.prototype,"init",null),m=n=o([(0,a.injectable)(),s(0,(0,a.inject)(c.TreeProps)),s(1,(0,a.inject)(l.OutlineViewTreeModel)),s(2,(0,a.inject)(c.ContextMenuRenderer)),r("design:paramtypes",[Object,l.OutlineViewTreeModel,c.ContextMenuRenderer])],m),t.OutlineViewWidget=m},12690:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputChannel=t.OutputChannelSeverity=t.OutputChannelManager=void 0;const r=i(621),s=i(70801),a=i(60516),c=i(9825),l=i(731),d=i(24958),u=i(77444),h=i(22728),p=i(39539);let g=class{constructor(){this.channels=new Map,this.resources=new Map,this.channelAddedEmitter=new c.Emitter,this.channelDeletedEmitter=new c.Emitter,this.channelWasShownEmitter=new c.Emitter,this.channelWasHiddenEmitter=new c.Emitter,this.selectedChannelChangedEmitter=new c.Emitter,this.onChannelAdded=this.channelAddedEmitter.event,this.onChannelDeleted=this.channelDeletedEmitter.event,this.onChannelWasShown=this.channelWasShownEmitter.event,this.onChannelWasHidden=this.channelWasHiddenEmitter.event,this.onSelectedChannelChanged=this.selectedChannelChangedEmitter.event,this.toDispose=new c.DisposableCollection,this.toDisposeOnChannelDeletion=new Map}getChannel(e){const t=this.channels.get(e);if(t)return t;let i=this.resources.get(e);if(!i){const t=d.OutputUri.create(e),n=new a.Deferred;i=this.createResource({uri:t,editorModelRef:n}),this.resources.set(e,i),this.textModelService.createModelReference(t).then((e=>n.resolve(e)))}const n=this.createChannel(i);return this.channels.set(e,n),this.toDisposeOnChannelDeletion.set(e,this.registerListeners(n)),this.channelAddedEmitter.fire(n),this.selectedChannel||(this.selectedChannel=n),n}registerListeners(e){const{name:t}=e;return new c.DisposableCollection(e,e.onVisibilityChange((({isVisible:i,preserveFocus:n})=>{i?(this.selectedChannel=e,this.channelWasShownEmitter.fire({name:t,preserveFocus:n})):(e===this.selectedChannel&&(this.selectedChannel=this.getVisibleChannels()[0]),this.channelWasHiddenEmitter.fire({name:t}))})),e.onDisposed((()=>this.deleteChannel(t))),c.Disposable.create((()=>{const e=this.resources.get(t);e?(e.dispose(),this.resources.delete(t)):console.warn(`Could not dispose. No resource was for output channel: '${t}'.`)})),c.Disposable.create((()=>{const e=this.channels.get(t);e?(this.channels.delete(t),e.dispose(),this.channelDeletedEmitter.fire({name:t}),this.selectedChannel&&this.selectedChannel.name===t&&(this.selectedChannel=this.getVisibleChannels()[0])):console.warn(`Could not dispose. No channel exist with name: '${t}'.`)})))}deleteChannel(e){const t=this.toDisposeOnChannelDeletion.get(e);t&&t.dispose()}getChannels(){return Array.from(this.channels.values()).sort(this.channelComparator)}getVisibleChannels(){return this.getChannels().filter((e=>e.isVisible))}get channelComparator(){return(e,t)=>e.isVisible!==t.isVisible?e.isVisible?-1:1:e.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase())}dispose(){this.toDispose.dispose()}get selectedChannel(){return this._selectedChannel}set selectedChannel(e){this._selectedChannel=e,this._selectedChannel?this.selectedChannelChangedEmitter.fire({name:this._selectedChannel.name}):this.selectedChannelChangedEmitter.fire(void 0)}async resolve(e){if(!d.OutputUri.is(e))throw new Error(`Expected '${d.OutputUri.SCHEME}' URI scheme. Got: ${e} instead.`);const t=this.resources.get(d.OutputUri.channelName(e));if(!t)throw new Error(`No output resource was registered with URI: ${e.toString()}`);return t}createResource({uri:e,editorModelRef:t}){return new u.OutputResource(e,t)}createChannel(e){return new m(e,this.preferences)}};var f;n([(0,s.inject)(l.MonacoTextModelService),o("design:type",l.MonacoTextModelService)],g.prototype,"textModelService",void 0),n([(0,s.inject)(h.OutputPreferences),o("design:type",Object)],g.prototype,"preferences",void 0),g=n([(0,s.injectable)()],g),t.OutputChannelManager=g,function(e){e[e.Error=1]="Error",e[e.Warning=2]="Warning",e[e.Info=3]="Info"}(f=t.OutputChannelSeverity||(t.OutputChannelSeverity={}));class m{constructor(e,t){this.resource=e,this.preferences=t,this.contentChangeEmitter=new c.Emitter,this.visibilityChangeEmitter=new c.Emitter,this.disposedEmitter=new c.Emitter,this.textModifyQueue=new r({autoStart:!0,concurrency:1}),this.toDispose=new c.DisposableCollection(c.Disposable.create((()=>this.textModifyQueue.clear())),this.contentChangeEmitter,this.visibilityChangeEmitter,this.disposedEmitter),this.disposed=!1,this.visible=!0,this.decorationIds=new Set,this.onVisibilityChange=this.visibilityChangeEmitter.event,this.onContentChange=this.contentChangeEmitter.event,this.onDisposed=this.disposedEmitter.event,this._maxLineNumber=this.preferences["output.maxChannelHistory"],this.toDispose.push(e),this.toDispose.push(c.Disposable.create((()=>this.decorationIds.clear()))),this.toDispose.push(this.preferences.onPreferenceChanged((e=>{if("output.maxChannelHistory"===e.preferenceName){const t=e.newValue;this.maxLineNumber!==t&&(this.maxLineNumber=t)}})))}get name(){return d.OutputUri.channelName(this.uri)}get uri(){return this.resource.uri}hide(){this.visible=!1,this.visibilityChangeEmitter.fire({isVisible:this.isVisible})}show({preserveFocus:e}={preserveFocus:!1}){this.visible=!0,this.visibilityChangeEmitter.fire({isVisible:this.isVisible,preserveFocus:e})}get isVisible(){return this.visible}clear(){this.textModifyQueue.add((async()=>{const e=(await this.resource.editorModelRef.promise).object.textEditorModel;e.deltaDecorations(Array.from(this.decorationIds),[]),this.decorationIds.clear(),e.setValue(""),this.contentChangeEmitter.fire()}))}dispose(){this.disposed||(this.disposed=!0,this.toDispose.dispose(),this.disposedEmitter.fire())}append(e,t=f.Info){this.textModifyQueue.add((()=>this.doAppend({content:e,severity:t})))}appendLine(e,t=f.Info){this.textModifyQueue.add((()=>this.doAppend({content:e,severity:t,appendEol:!0})))}async doAppend({content:e,severity:t,appendEol:i}){const n=(await this.resource.editorModelRef.promise).object.textEditorModel,o=n.getLineCount(),r=n.getLineMaxColumn(o),s=new p.Position(o,r),a=new p.Range(s.lineNumber,s.column,s.lineNumber,s.column),c=[{range:a,text:i?`${e}${n.getEOL()}`:e,forceMoveMarkers:!0}];if(n.applyEdits(c),t!==f.Info){const e=t===f.Error?"theia-output-error":"theia-output-warning";let i=n.getLineCount();n.getLineFirstNonWhitespaceColumn(i)||i--;const o=n.getLineLastNonWhitespaceColumn(i),r=[{range:new p.Range(a.startLineNumber,a.startColumn,i,o),options:{inlineClassName:e}}];for(const e of n.deltaDecorations([],r))this.decorationIds.add(e)}this.ensureMaxChannelHistory(n),this.contentChangeEmitter.fire()}ensureMaxChannelHistory(e){this.contentChangeEmitter.fire();const t=e.getLineCount()-this.maxLineNumber-1;if(t>0){const i=e.getLineMaxColumn(t),n=new p.Range(1,1,t,i+1),o=null,r=e.getLinesDecorations(n.startLineNumber,n.endLineNumber).filter((({id:e})=>this.decorationIds.has(e))).map((({id:e})=>e));if(r.length){for(const t of e.deltaDecorations(r,[]))this.decorationIds.add(t);for(const e of r)this.decorationIds.delete(e)}e.applyEdits([{range:new p.Range(1,1,t+1,e.getLineFirstNonWhitespaceColumn(t+1)),text:o,forceMoveMarkers:!0}])}}get maxLineNumber(){return this._maxLineNumber}set maxLineNumber(e){this._maxLineNumber=e,this.append("")}}t.OutputChannel=m},35713:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputCommands=void 0;const n=i(87361),o=i(9825);!function(e){const t="Output",i=o.nls.getDefaultKey(t);e.APPEND={id:"output:append"},e.APPEND_LINE={id:"output:appendLine"},e.CLEAR={id:"output:clear"},e.SHOW={id:"output:show"},e.HIDE={id:"output:hide"},e.DISPOSE={id:"output:dispose"},e.CLEAR__WIDGET=o.Command.toLocalizedCommand({id:"output:widget:clear",category:t,iconClass:(0,n.codicon)("clear-all")},"",i),e.LOCK__WIDGET=o.Command.toLocalizedCommand({id:"output:widget:lock",category:t,iconClass:(0,n.codicon)("unlock")},"",i),e.UNLOCK__WIDGET=o.Command.toLocalizedCommand({id:"output:widget:unlock",category:t,iconClass:(0,n.codicon)("lock")},"",i),e.CLEAR__QUICK_PICK=o.Command.toLocalizedCommand({id:"output:pick-clear",label:"Clear Output Channel...",category:t},"theia/output/clearOutputChannel",i),e.SHOW__QUICK_PICK=o.Command.toLocalizedCommand({id:"output:pick-show",label:"Show Output Channel...",category:t},"theia/output/showOutputChannel",i),e.HIDE__QUICK_PICK=o.Command.toLocalizedCommand({id:"output:pick-hide",label:"Hide Output Channel...",category:t},"theia/output/hideOutputChannel",i),e.DISPOSE__QUICK_PICK=o.Command.toLocalizedCommand({id:"output:pick-dispose",label:"Close Output Channel...",category:t},"theia/output/closeOutputChannel",i),e.COPY_ALL={id:"output:copy-all"}}(t.OutputCommands||(t.OutputCommands={}))},96426:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputContextMenuService=t.OutputContextMenu=void 0;const o=i(70801),r=i(29104);var s;!function(e){e.MENU_PATH=["output_context_menu"],e.TEXT_EDIT_GROUP=[...e.MENU_PATH,"0_text_edit_group"],e.COMMAND_GROUP=[...e.MENU_PATH,"1_command_group"],e.WIDGET_GROUP=[...e.MENU_PATH,"2_widget_group"]}(s=t.OutputContextMenu||(t.OutputContextMenu={}));let a=class extends r.MonacoContextMenuService{menuPath(){return s.MENU_PATH}};a=n([(0,o.injectable)()],a),t.OutputContextMenuService=a},15119:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputContribution=void 0;const r=i(70801),s=i(35022),a=i(87361),c=i(9825),l=i(94930),d=i(13825),u=i(96426),h=i(24958),p=i(8594),g=i(12690),f=i(35713),m=i(36856),b=i(44989);let v=class extends l.AbstractViewContribution{constructor(){super({widgetId:d.OutputWidget.ID,widgetName:d.OutputWidget.LABEL,defaultWidgetOptions:{area:"bottom"},toggleCommandId:"output:toggle",toggleKeybinding:"CtrlCmd+Shift+U"}),this.id=`${d.OutputWidget.ID}-opener`}init(){this.outputChannelManager.onChannelWasShown((({name:e,preserveFocus:t})=>(0,a.open)(this.openerService,h.OutputUri.create(e),{activate:!t,reveal:!0})))}registerCommands(e){super.registerCommands(e),e.registerCommand(f.OutputCommands.CLEAR__WIDGET,{isEnabled:e=>e instanceof s.Widget?e instanceof d.OutputWidget:this.shell.currentWidget instanceof d.OutputWidget,isVisible:e=>e instanceof s.Widget?e instanceof d.OutputWidget:this.shell.currentWidget instanceof d.OutputWidget,execute:()=>{this.widget.then((e=>{this.withWidget(e,(e=>(e.clear(),!0)))}))}}),e.registerCommand(f.OutputCommands.LOCK__WIDGET,{isEnabled:e=>this.withWidget(e,(e=>!e.isLocked)),isVisible:e=>this.withWidget(e,(e=>!e.isLocked)),execute:e=>this.withWidget(e,(e=>(e.lock(),!0)))}),e.registerCommand(f.OutputCommands.UNLOCK__WIDGET,{isEnabled:e=>this.withWidget(e,(e=>e.isLocked)),isVisible:e=>this.withWidget(e,(e=>e.isLocked)),execute:e=>this.withWidget(e,(e=>(e.unlock(),!0)))}),e.registerCommand(f.OutputCommands.COPY_ALL,{execute:()=>{var e;const t=null===(e=this.tryGetWidget())||void 0===e?void 0:e.getText();t&&this.clipboardService.writeText(t)}}),e.registerCommand(f.OutputCommands.APPEND,{execute:({name:e,text:t})=>{e&&t&&this.outputChannelManager.getChannel(e).append(t)}}),e.registerCommand(f.OutputCommands.APPEND_LINE,{execute:({name:e,text:t})=>{e&&t&&this.outputChannelManager.getChannel(e).appendLine(t)}}),e.registerCommand(f.OutputCommands.CLEAR,{execute:({name:e})=>{e&&this.outputChannelManager.getChannel(e).clear()}}),e.registerCommand(f.OutputCommands.DISPOSE,{execute:({name:e})=>{e&&this.outputChannelManager.deleteChannel(e)}}),e.registerCommand(f.OutputCommands.SHOW,{execute:({name:e,options:t})=>{if(e){const i=t&&t.preserveFocus||!1;this.outputChannelManager.getChannel(e).show({preserveFocus:i})}}}),e.registerCommand(f.OutputCommands.HIDE,{execute:({name:e})=>{e&&this.outputChannelManager.getChannel(e).hide()}}),e.registerCommand(f.OutputCommands.CLEAR__QUICK_PICK,{execute:async()=>{const e=await this.pick({placeholder:f.OutputCommands.CLEAR__QUICK_PICK.label,channels:this.outputChannelManager.getChannels().slice()});e&&e.clear()},isEnabled:()=>!!this.outputChannelManager.getChannels().length,isVisible:()=>!!this.outputChannelManager.getChannels().length}),e.registerCommand(f.OutputCommands.SHOW__QUICK_PICK,{execute:async()=>{const t=await this.pick({placeholder:f.OutputCommands.SHOW__QUICK_PICK.label,channels:this.outputChannelManager.getChannels().slice()});if(t){const{name:i}=t;e.executeCommand(f.OutputCommands.SHOW.id,{name:i,options:{preserveFocus:!1}})}},isEnabled:()=>!!this.outputChannelManager.getChannels().length,isVisible:()=>!!this.outputChannelManager.getChannels().length}),e.registerCommand(f.OutputCommands.HIDE__QUICK_PICK,{execute:async()=>{const t=await this.pick({placeholder:f.OutputCommands.HIDE__QUICK_PICK.label,channels:this.outputChannelManager.getVisibleChannels().slice()});if(t){const{name:i}=t;e.executeCommand(f.OutputCommands.HIDE.id,{name:i})}},isEnabled:()=>!!this.outputChannelManager.getVisibleChannels().length,isVisible:()=>!!this.outputChannelManager.getVisibleChannels().length}),e.registerCommand(f.OutputCommands.DISPOSE__QUICK_PICK,{execute:async()=>{const t=await this.pick({placeholder:f.OutputCommands.DISPOSE__QUICK_PICK.label,channels:this.outputChannelManager.getChannels().slice()});if(t){const{name:i}=t;e.executeCommand(f.OutputCommands.DISPOSE.id,{name:i})}},isEnabled:()=>!!this.outputChannelManager.getChannels().length,isVisible:()=>!!this.outputChannelManager.getChannels().length})}registerMenus(e){super.registerMenus(e),e.registerMenuAction(u.OutputContextMenu.TEXT_EDIT_GROUP,{commandId:a.CommonCommands.COPY.id}),e.registerMenuAction(u.OutputContextMenu.TEXT_EDIT_GROUP,{commandId:f.OutputCommands.COPY_ALL.id,label:b.nls.localizeByDefault("Copy All")}),e.registerMenuAction(u.OutputContextMenu.COMMAND_GROUP,{commandId:a.quickCommand.id,label:b.nls.localizeByDefault("Command Palette...")}),e.registerMenuAction(u.OutputContextMenu.WIDGET_GROUP,{commandId:f.OutputCommands.CLEAR__WIDGET.id,label:b.nls.localizeByDefault("Clear Output")})}canHandle(e){return h.OutputUri.is(e)?200:0}async open(e,t){if(!h.OutputUri.is(e))throw new Error(`Expected '${h.OutputUri.SCHEME}' URI scheme. Got: ${e} instead.`);return await this.openView(t)}withWidget(e=this.tryGetWidget(),t=(()=>!0)){return e instanceof d.OutputWidget&&t(e)}async pick({channels:e,placeholder:t}){const i=[],n=b.nls.localize("theia/output/outputChannels","Output Channels"),o=b.nls.localize("theia/output/hiddenChannels","Hidden Channels");for(let t=0;t<e.length;t++){const r=e[t];0===t?i.push({label:r.isVisible?n:o,type:"separator"}):!r.isVisible&&e[t-1].isVisible&&i.push({label:o,type:"separator"}),i.push({label:r.name,value:r})}const r=await this.quickPickService.show(i,{placeholder:t});return r&&"value"in r?r.value:void 0}};n([(0,r.inject)(p.ClipboardService),o("design:type",Object)],v.prototype,"clipboardService",void 0),n([(0,r.inject)(c.CommandService),o("design:type",Object)],v.prototype,"commandService",void 0),n([(0,r.inject)(g.OutputChannelManager),o("design:type",g.OutputChannelManager)],v.prototype,"outputChannelManager",void 0),n([(0,r.inject)(a.OpenerService),o("design:type",Object)],v.prototype,"openerService",void 0),n([(0,r.inject)(m.QuickPickService),o("design:type",Object)],v.prototype,"quickPickService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],v.prototype,"init",null),v=n([(0,r.injectable)(),o("design:paramtypes",[])],v),t.OutputContribution=v},80495:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputEditorFactory=void 0;const r=i(70801),s=i(30970),a=i(29104),c=i(91174),l=i(24958),d=i(96426),u=i(48963);let h=class{constructor(){this.scheme=l.OutputUri.SCHEME}create(e,t,i){const n=new s.default(e.uri),o=this.createOptions(e,t),r=this.createOverrides(e,i);return new c.MonacoEditor(n,e,document.createElement("div"),this.services,o,r)}createOptions(e,t){return{...t,overviewRulerLanes:3,lineNumbersMinChars:3,fixedOverflowWidgets:!0,wordWrap:"off",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:20,rulers:[],folding:!1,scrollBeyondLastLine:!1,readOnly:!0,renderLineHighlight:"none",minimap:{enabled:!1},matchBrackets:"never"}}*createOverrides(e,t){yield[u.IContextMenuService,this.contextMenuService];for(const[e,i]of t)e!==u.IContextMenuService&&(yield[e,i])}};n([(0,r.inject)(c.MonacoEditorServices),o("design:type",c.MonacoEditorServices)],h.prototype,"services",void 0),n([(0,r.inject)(d.OutputContextMenuService),o("design:type",a.MonacoContextMenuService)],h.prototype,"contextMenuService",void 0),h=n([(0,r.injectable)()],h),t.OutputEditorFactory=h},88548:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputEditorModel=t.OutputEditorModelFactory=void 0;const r=i(70801),s=i(89461),a=i(24958),c=i(51902),l=i(39155);let d=class{constructor(){this.scheme=a.OutputUri.SCHEME}createModel(e){return new u(e,this.m2p,this.p2m)}};n([(0,r.inject)(c.MonacoToProtocolConverter),o("design:type",c.MonacoToProtocolConverter)],d.prototype,"m2p",void 0),n([(0,r.inject)(l.ProtocolToMonacoConverter),o("design:type",l.ProtocolToMonacoConverter)],d.prototype,"p2m",void 0),d=n([(0,r.injectable)()],d),t.OutputEditorModelFactory=d;class u extends s.MonacoEditorModel{get readOnly(){return!0}setDirty(e){}}t.OutputEditorModel=u},1269:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(13825),r=i(23119),s=i(9825),a=i(87361),c=i(12690),l=i(22728),d=i(13518),u=i(15119),h=i(83514),p=i(96426),g=i(80495),f=i(731),m=i(88548);t.default=new n.ContainerModule((e=>{e(c.OutputChannelManager).toSelf().inSingletonScope(),e(s.ResourceResolver).toService(c.OutputChannelManager),e(g.OutputEditorFactory).toSelf().inSingletonScope(),e(h.MonacoEditorFactory).toService(g.OutputEditorFactory),e(m.OutputEditorModelFactory).toSelf().inSingletonScope(),e(f.MonacoEditorModelFactory).toService(m.OutputEditorModelFactory),e(p.OutputContextMenuService).toSelf().inSingletonScope(),(0,l.bindOutputPreferences)(e),e(o.OutputWidget).toSelf(),e(a.WidgetFactory).toDynamicValue((e=>({id:o.OutputWidget.ID,createWidget:()=>e.container.get(o.OutputWidget)}))),(0,a.bindViewContribution)(e,u.OutputContribution),e(a.OpenHandler).to(u.OutputContribution).inSingletonScope(),e(d.OutputToolbarContribution).toSelf().inSingletonScope(),e(r.TabBarToolbarContribution).toService(d.OutputToolbarContribution)}))},22728:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindOutputPreferences=t.createOutputPreferences=t.OutputPreferences=t.OutputPreferenceContribution=t.OutputConfigSchema=void 0;const n=i(98516),o=i(44989);function r(e,i=t.OutputConfigSchema){return(0,n.createPreferenceProxy)(e,i)}t.OutputConfigSchema={type:"object",properties:{"output.maxChannelHistory":{type:"number",description:o.nls.localize("theia/output/maxChannelHistory","The maximum number of entries in an output channel."),default:1e3}}},t.OutputPreferenceContribution=Symbol("OutputPreferenceContribution"),t.OutputPreferences=Symbol("OutputPreferences"),t.createOutputPreferences=r,t.bindOutputPreferences=function(e){e(t.OutputPreferences).toDynamicValue((e=>r(e.container.get(n.PreferenceService),e.container.get(t.OutputPreferenceContribution).schema))).inSingletonScope(),e(t.OutputPreferenceContribution).toConstantValue({schema:t.OutputConfigSchema}),e(n.PreferenceContribution).toService(t.OutputPreferenceContribution)}},77444:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputResource=void 0;const n=i(9825);t.OutputResource=class{constructor(e,t){this.uri=e,this.editorModelRef=t,this.onDidChangeContentsEmitter=new n.Emitter,this.toDispose=new n.DisposableCollection(this.onDidChangeContentsEmitter),this.editorModelRef.promise.then((e=>{if(this.toDispose.disposed)return void e.dispose();const t=e.object.textEditorModel;this._textModel=t,this.toDispose.push(e),this.toDispose.push(this._textModel.onDidChangeContent((()=>this.onDidChangeContentsEmitter.fire())))}))}get textModel(){return this._textModel}get onDidChangeContents(){return this.onDidChangeContentsEmitter.event}async readContents(e){return this._textModel?(await this.editorModelRef.promise).object.textEditorModel.getValue():""}dispose(){this.toDispose.dispose()}}},13518:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputToolbarContribution=void 0;const r=i(92664),s=i(70801),a=i(18894),c=i(3594),l=i(13825),d=i(35713),u=i(15119),h=i(12690),p=i(44989);let g=class{constructor(){this.onOutputWidgetStateChangedEmitter=new a.Emitter,this.onOutputWidgetStateChanged=this.onOutputWidgetStateChangedEmitter.event,this.onChannelsChangedEmitter=new a.Emitter,this.onChannelsChanged=this.onChannelsChangedEmitter.event,this.NONE="<no channels>",this.OUTPUT_CHANNEL_LIST_ID="outputChannelList",this.changeChannel=e=>{const t=e.value;t!==this.NONE&&t&&this.outputChannelManager.getChannel(t).show()}}init(){this.outputContribution.widget.then((e=>{e.onStateChanged((()=>this.onOutputWidgetStateChangedEmitter.fire()))}));const e=()=>this.onChannelsChangedEmitter.fire();this.outputChannelManager.onSelectedChannelChanged(e),this.outputChannelManager.onChannelAdded(e),this.outputChannelManager.onChannelDeleted(e),this.outputChannelManager.onChannelWasShown(e),this.outputChannelManager.onChannelWasHidden(e)}registerToolbarItems(e){e.registerItem({id:"channels",render:()=>this.renderChannelSelector(),isVisible:e=>e instanceof l.OutputWidget,onDidChange:this.onChannelsChanged}),e.registerItem({id:d.OutputCommands.CLEAR__WIDGET.id,command:d.OutputCommands.CLEAR__WIDGET.id,tooltip:p.nls.localizeByDefault("Clear Output"),priority:1}),e.registerItem({id:d.OutputCommands.LOCK__WIDGET.id,command:d.OutputCommands.LOCK__WIDGET.id,tooltip:p.nls.localizeByDefault("Turn Auto Scrolling Off"),onDidChange:this.onOutputWidgetStateChanged,priority:2}),e.registerItem({id:d.OutputCommands.UNLOCK__WIDGET.id,command:d.OutputCommands.UNLOCK__WIDGET.id,tooltip:p.nls.localizeByDefault("Turn Auto Scrolling On"),onDidChange:this.onOutputWidgetStateChanged,priority:2})}renderChannelSelector(){var e,t;const i=[];return this.outputChannelManager.getVisibleChannels().forEach(((e,t)=>{i.push({value:e.name})})),0===i.length&&i.push({value:this.NONE}),r.createElement("div",{id:this.OUTPUT_CHANNEL_LIST_ID,key:this.OUTPUT_CHANNEL_LIST_ID},r.createElement(c.SelectComponent,{key:null===(e=this.outputChannelManager.selectedChannel)||void 0===e?void 0:e.name,options:i,defaultValue:null===(t=this.outputChannelManager.selectedChannel)||void 0===t?void 0:t.name,onChange:e=>this.changeChannel(e)}))}};n([(0,s.inject)(h.OutputChannelManager),o("design:type",h.OutputChannelManager)],g.prototype,"outputChannelManager",void 0),n([(0,s.inject)(u.OutputContribution),o("design:type",u.OutputContribution)],g.prototype,"outputContribution",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"init",null),g=n([(0,s.injectable)()],g),t.OutputToolbarContribution=g},13825:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputWidget=void 0,i(19060);const s=i(70801),a=i(97347),c=i(30566),l=i(91174),d=i(93425),u=i(83514),h=i(51138),p=i(87361),g=i(24958),f=i(12690),m=i(9825),b=i(44989),v=i(39539);let A=n=class extends p.BaseWidget{constructor(){super(),this._state={locked:!1},this.toDisposeOnSelectedChannelChanged=new h.DisposableCollection,this.onStateChangedEmitter=new m.Emitter,this.id=n.ID,this.title.label=n.LABEL,this.title.caption=n.LABEL,this.title.iconClass=(0,p.codicon)("output"),this.title.closable=!0,this.addClass("theia-output"),this.node.tabIndex=0,this.editorContainer=new y({spacing:0,mode:"single-document"}),this.editorContainer.addClass("editor-container"),this.editorContainer.node.tabIndex=-1}init(){this.toDispose.pushAll([this.outputChannelManager.onChannelWasHidden((()=>this.refreshEditorWidget())),this.outputChannelManager.onChannelWasShown((({preserveFocus:e})=>this.refreshEditorWidget({preserveFocus:!!e}))),this.toDisposeOnSelectedChannelChanged,this.onStateChangedEmitter,this.onStateChanged((()=>this.update()))]),this.refreshEditorWidget()}storeState(){return this.state}restoreState(e){const t=(0,m.deepClone)(this.state);e.locked&&(t.locked=e.locked),this.state=t}get state(){return this._state}set state(e){this._state=e,this.onStateChangedEmitter.fire(this._state)}async refreshEditorWidget({preserveFocus:e}={preserveFocus:!1}){const{selectedChannel:t}=this,i=this.editorWidget;if(t&&i){const n=i.editor.getControl().getModel();if(n&&n.uri.toString()===t.uri.toString())return void(e||this.activate())}if(this.toDisposeOnSelectedChannelChanged.dispose(),t){const i=await this.createEditorWidget();i&&(this.editorContainer.addWidget(i),this.toDisposeOnSelectedChannelChanged.pushAll([h.Disposable.create((()=>i.close())),t.onContentChange((()=>this.revealLastLine()))]),e||this.activate(),this.revealLastLine())}}onAfterAttach(e){super.onAfterAttach(e),p.Widget.attach(this.editorContainer,this.node),this.toDisposeOnDetach.push(h.Disposable.create((()=>p.Widget.detach(this.editorContainer))))}onActivateRequest(e){super.onActivateRequest(e),this.editor?this.editor.focus():this.node.focus()}onResize(e){super.onResize(e),p.MessageLoop.sendMessage(this.editorContainer,p.Widget.ResizeMessage.UnknownSize);for(const e of(0,a.toArray)(this.editorContainer.widgets()))p.MessageLoop.sendMessage(e,p.Widget.ResizeMessage.UnknownSize)}onAfterShow(e){super.onAfterShow(e),this.onResize(p.Widget.ResizeMessage.UnknownSize)}get onStateChanged(){return this.onStateChangedEmitter.event}clear(){this.selectedChannel&&this.selectedChannel.clear()}selectAll(){const e=this.editor;if(e){const t=e.getControl().getModel();if(t){const i=t.getLineCount(),n=t.getLineMaxColumn(i);e.getControl().setSelection(new v.Range(1,1,i,n))}}}lock(){this.state={...(0,m.deepClone)(this.state),locked:!0}}unlock(){this.state={...(0,m.deepClone)(this.state),locked:!1}}get isLocked(){return!!this.state.locked}revealLastLine(){if(this.isLocked)return;const e=this.editor;if(e){const t=e.getControl().getModel();if(t){const i=t.getLineCount(),n=t.getLineMaxColumn(i);e.getControl().revealPosition({lineNumber:i,column:n},v.editor.ScrollType.Smooth)}}}get selectedChannel(){return this.outputChannelManager.selectedChannel}async createEditorWidget(){if(!this.selectedChannel)return;const{name:e}=this.selectedChannel,t=await this.editorProvider.get(g.OutputUri.create(e));return new c.EditorWidget(t,this.selectionService)}get editorWidget(){for(const e of(0,a.toArray)(this.editorContainer.children()))if(e instanceof c.EditorWidget)return e}get editor(){const e=this.editorWidget;if(e instanceof c.EditorWidget&&e.editor instanceof l.MonacoEditor)return e.editor}getText(){var e,t;return null===(t=null===(e=this.editor)||void 0===e?void 0:e.getControl().getModel())||void 0===t?void 0:t.getValue()}};A.ID="outputView",A.LABEL=b.nls.localizeByDefault("Output"),o([(0,s.inject)(d.SelectionService),r("design:type",d.SelectionService)],A.prototype,"selectionService",void 0),o([(0,s.inject)(u.MonacoEditorProvider),r("design:type",u.MonacoEditorProvider)],A.prototype,"editorProvider",void 0),o([(0,s.inject)(f.OutputChannelManager),r("design:type",f.OutputChannelManager)],A.prototype,"outputChannelManager",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],A.prototype,"init",null),A=n=o([(0,s.injectable)(),r("design:paramtypes",[])],A),t.OutputWidget=A;class y extends p.DockPanel{}y.prototype._evtDragOver=()=>{},y.prototype._evtDrop=()=>{},y.prototype._evtDragLeave=()=>{}},24958:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputUri=void 0;const n=i(30970);!function(e){function t(i){return i instanceof n.default?i.scheme===e.SCHEME:t(new n.default(i))}e.SCHEME="output",e.is=t,e.create=function(t){if(!t)throw new Error("'name' must be defined.");if(!t.trim().length)throw new Error("'name' must contain at least one non-whitespace character.");return new n.default(encodeURIComponent(t)).withScheme(e.SCHEME)},e.channelName=function(i){if(!t(i))throw new Error(`Expected '${e.SCHEME}' URI scheme. Got: ${i} instead.`);return(i instanceof n.default?i:new n.default(i)).toString(!0).slice(`${e.SCHEME}:/`.length)}}(t.OutputUri||(t.OutputUri={}))},95871:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginVscodeCommandsContribution=t.VscodeCommands=void 0;const r=i(9825),s=i(87361),a=i(949),c=i(80882),l=i(12202),d=i(30970),u=i(30566),h=i(48444),p=i(10373),g=i(73246),f=i(27030),m=i(71056),b=i(70801),v=i(10433),A=i(32147),y=i(75906),C=i(21648),w=i(24227),_=i(10483),S=i(22448),E=i(39976),k=i(14304),x=i(74868),D=i(71182),T=i(731),M=i(23518),B=i(40940),I=i(44989),L=i(51208),P=i(39539),O=i(37439),R=i(22987);var N;!function(e){e.OPEN={id:"vscode.open"},e.OPEN_WITH={id:"vscode.openWith"},e.OPEN_FOLDER={id:"vscode.openFolder"},e.DIFF={id:"vscode.diff"},e.INSTALL_FROM_VSIX={id:"workbench.extensions.installExtension"}}(N=t.VscodeCommands||(t.VscodeCommands={}));let F=class{async openWith(e,t,i,n){if(!t)throw new Error(`${e} command requires at least URI argument.`);if(!v.URI.isUri(t))throw new Error(`Invalid argument for ${e} command with URI argument. Found ${t}`);let o;"number"==typeof i?o={viewColumn:i}:i&&(o={...i});const r=new d.default(t),s=h.DocumentsMainImpl.toEditorOpenerOptions(this.shell,o);let a;if("string"==typeof n){const e=n.toLowerCase(),t=await this.openerService.getOpeners();for(const i of t)if(e===i.id.toLowerCase()){a=i;break}}else a=await this.openerService.getOpener(r,s);return!!a&&(await a.open(r,s),!0)}registerCommands(e){e.registerCommand(N.OPEN,{isVisible:()=>!1,execute:async(e,t)=>{try{await this.openWith(N.OPEN.id,e,t)}catch(t){const i=I.nls.localizeByDefault("Unable to open '{0}'",e.path),n=I.nls.localizeByDefault("Error: {0}",t.message);this.messageService.error(`${i}\n${n}`),console.warn(t)}}}),e.registerCommand(N.OPEN_WITH,{isVisible:()=>!1,execute:async(t,i,n)=>{if(!i)throw new Error(`Running the contributed command: ${N.OPEN_WITH} failed.`);if("default"===i.toLowerCase())return e.executeCommand(N.OPEN.id,t,n);let o=await this.openWith(N.OPEN_WITH.id,t,n,i);if(o||(o=await this.openWith(N.OPEN_WITH.id,t,n,B.CustomEditorOpener.toCustomEditorId(i))),!o)throw new Error(`Could not find an editor for '${i}'`)}}),e.registerCommand(N.OPEN_FOLDER,{isVisible:()=>!1,execute:async(t,i={})=>{if(!t)return e.executeCommand(g.WorkspaceCommands.OPEN_WORKSPACE.id);if(!v.URI.isUri(t))throw new Error(`Invalid argument for ${N.OPEN_FOLDER.id} command with URI argument. Found ${t}`);let n;n="boolean"==typeof i?{preserveWindow:!i}:{preserveWindow:!i.forceNewWindow},this.workspaceService.open(new d.default(t),n)}}),e.registerCommand(N.DIFF,{isVisible:()=>!1,execute:async(e,t,i,n)=>{if(!e||!t)throw new Error(`${N.DIFF} command requires at least two URI arguments. Found left=${e}, right=${t} as arguments`);if(!v.URI.isUri(e))throw new Error(`Invalid argument for ${N.DIFF.id} command with left argument. Expecting URI left type but found ${e}`);if(!v.URI.isUri(t))throw new Error(`Invalid argument for ${N.DIFF.id} command with right argument. Expecting URI right type but found ${t}`);const o=new d.default(e),r=h.DocumentsMainImpl.toEditorOpenerOptions(this.shell,n);await this.diffService.openDiffEditor(o,new d.default(t),i,r)}}),r.environment.electron.is()&&!r.isOSX||e.registerCommand({id:"workbench.action.files.openFileFolder"},{execute:()=>e.executeCommand(g.WorkspaceCommands.OPEN.id)}),e.registerCommand({id:"workbench.action.files.openFile"},{execute:()=>e.executeCommand(g.WorkspaceCommands.OPEN_FILE.id)}),e.registerCommand({id:"workbench.action.files.openFolder"},{execute:()=>e.executeCommand(g.WorkspaceCommands.OPEN_FOLDER.id)}),e.registerCommand({id:"workbench.action.addRootFolder"},{execute:()=>e.executeCommand(g.WorkspaceCommands.ADD_FOLDER.id)}),e.registerCommand({id:"workbench.action.saveWorkspaceAs"},{execute:()=>e.executeCommand(g.WorkspaceCommands.SAVE_WORKSPACE_AS.id)}),e.registerCommand({id:"workbench.action.gotoLine"},{execute:()=>e.executeCommand(u.EditorCommands.GOTO_LINE_COLUMN.id)}),e.registerCommand({id:"workbench.action.quickOpen"},{execute:e=>this.quickInput.open("string"==typeof e?e:"")}),e.registerCommand({id:"workbench.action.openSettings"},{execute:t=>e.executeCommand(s.CommonCommands.OPEN_PREFERENCES.id,t)}),e.registerCommand({id:"workbench.action.openWorkspaceConfigFile"},{execute:()=>e.executeCommand(g.WorkspaceCommands.OPEN_WORKSPACE_FILE.id)}),e.registerCommand({id:"workbench.files.action.refreshFilesExplorer"},{execute:()=>e.executeCommand(_.FileNavigatorCommands.REFRESH_NAVIGATOR.id)}),e.registerCommand({id:N.INSTALL_FROM_VSIX.id},{execute:async e=>{if("string"==typeof e)await this.pluginServer.deploy(O.VSCodeExtensionUri.toVsxExtensionUriString(e));else{const t=(0,p.isUriComponents)(e)?v.URI.revive(e).fsPath:await this.fileService.fsPath(e);await this.pluginServer.deploy(`local-file:${t}`)}}}),e.registerCommand({id:"workbench.action.files.save"},{execute:e=>{if(e){const t=e.toString(),i=this.shell.widgets.find((e=>{const i=s.Saveable.is(e)&&s.NavigatableWidget.is(e)&&e.getResourceUri();return(i&&i.toString())===t}));s.Saveable.is(i)&&s.Saveable.save(i)}else this.shell.save()}}),e.registerCommand({id:"workbench.action.files.saveAll"},{execute:()=>this.shell.saveAll()}),e.registerCommand({id:"workbench.action.closeActiveEditor"},{execute:()=>e.executeCommand(s.CommonCommands.CLOSE_MAIN_TAB.id)}),e.registerCommand({id:"workbench.action.closeOtherEditors"},{execute:async e=>{let t=this.editorManager.currentEditor||this.shell.currentWidget;if(e){const i=e.toString();t=this.editorManager.all.find((e=>{const t=e.getResourceUri();return(t&&t.toString())===i}))}const i=this.shell.widgets.filter((e=>e!==t&&this.codeEditorWidgetUtil.is(e)));await this.shell.closeMany(i)}});const t=(e,t)=>{let i=this.editorManager.currentEditor||this.shell.currentWidget;if(t){const e=t.toString();i=this.editorManager.all.find((t=>{const i=t.getResourceUri();return(i&&i.toString())===e}))}if(i){const t=this.shell.getTabBarFor(i);t&&e(t,(({owner:e})=>this.codeEditorWidgetUtil.is(e)))}};e.registerCommand({id:"workbench.action.closeEditorsInGroup",label:I.nls.localizeByDefault("Close All Editors in Group")},{execute:e=>t(this.shell.closeTabs,e)}),e.registerCommand({id:"workbench.files.saveAllInGroup",label:I.nls.localizeByDefault("Save All in Group")},{execute:e=>t(this.shell.saveTabs,e)}),e.registerCommand({id:"workbench.action.closeEditorsInOtherGroups"},{execute:()=>{const e=this.editorManager.currentEditor||this.shell.currentWidget;if(e){const t=this.shell.getTabBarFor(e);for(const e of this.shell.allTabBars)e!==t&&this.shell.closeTabs(e,(({owner:e})=>this.codeEditorWidgetUtil.is(e)))}}}),e.registerCommand({id:"workbench.action.closeEditorsToTheLeft"},{execute:()=>{const e=this.editorManager.currentEditor||this.shell.currentWidget;if(e){const t=this.shell.getTabBarFor(e);if(t){let i=!0;this.shell.closeTabs(t,(({owner:t})=>t===e?(i=!1,!1):i&&this.codeEditorWidgetUtil.is(t)))}}}}),e.registerCommand({id:"workbench.action.closeEditorsToTheRight"},{execute:()=>{const e=this.editorManager.currentEditor||this.shell.currentWidget;if(e){const t=this.shell.getTabBarFor(e);if(t){let i=!0;this.shell.closeTabs(t,(({owner:t})=>t===e?(i=!1,!1):!i&&this.codeEditorWidgetUtil.is(t)))}}}}),e.registerCommand({id:"workbench.action.closeAllEditors"},{execute:async()=>{const e=this.shell.widgets.filter((e=>this.codeEditorWidgetUtil.is(e)));await this.shell.closeMany(e)}}),e.registerCommand({id:"workbench.action.nextEditor"},{execute:()=>this.shell.activateNextTab()}),e.registerCommand({id:"workbench.action.previousEditor"},{execute:()=>this.shell.activatePreviousTab()}),e.registerCommand({id:"workbench.action.navigateBack"},{execute:()=>e.executeCommand(u.EditorCommands.GO_BACK.id)}),e.registerCommand({id:"workbench.action.navigateForward"},{execute:()=>e.executeCommand(u.EditorCommands.GO_FORWARD.id)}),e.registerCommand({id:"workbench.action.navigateToLastEditLocation"},{execute:()=>e.executeCommand(u.EditorCommands.GO_LAST_EDIT.id)}),e.registerCommand({id:"openInTerminal"},{execute:e=>this.terminalContribution.openInTerminal(new d.default(e.toString()))}),e.registerCommand({id:"workbench.action.reloadWindow"},{execute:()=>{this.windowService.reload()}}),e.registerCommand({id:"vscode.executeDefinitionProvider"},{execute:(t,i)=>e.executeCommand("_executeDefinitionProvider",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeDeclarationProvider"},{execute:(t,i)=>e.executeCommand("_executeDeclarationProvider",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeTypeDefinitionProvider"},{execute:(t,i)=>e.executeCommand("_executeTypeDefinitionProvider",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeImplementationProvider"},{execute:(t,i)=>e.executeCommand("_executeImplementationProvider",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeHoverProvider"},{execute:(t,i)=>e.executeCommand("_executeHoverProvider",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeDocumentHighlights"},{execute:(t,i)=>e.executeCommand("_executeDocumentHighlights",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeReferenceProvider"},{execute:(t,i)=>e.executeCommand("_executeReferenceProvider",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeDocumentSymbolProvider"},{execute:t=>e.executeCommand("_executeDocumentSymbolProvider",P.Uri.parse(t.toString())).then((e=>{if(Array.isArray(e)&&void 0!==e)return e.map((e=>(0,p.toDocumentSymbol)(e)))}))}),e.registerCommand({id:"vscode.executeFormatDocumentProvider"},{execute:(t,i)=>e.executeCommand("_executeFormatDocumentProvider",P.Uri.from(t),i)}),e.registerCommand({id:"vscode.executeFormatRangeProvider"},{execute:(t,i,n)=>e.executeCommand("_executeFormatRangeProvider",P.Uri.from(t),i,n)}),e.registerCommand({id:"vscode.executeFormatOnTypeProvider"},{execute:(t,i,n,o)=>e.executeCommand("_executeFormatOnTypeProvider",P.Uri.from(t),i,n,o)}),e.registerCommand({id:"vscode.prepareCallHierarchy"},{execute:async(e,t)=>{const i=await this.getCallHierarchyServiceForUri(e),n=await(null==i?void 0:i.getRootDefinition(e.path,(0,p.toPosition)(t),(new r.CancellationTokenSource).token));return n?n.items.map((e=>(0,M.fromItemHierarchyDefinition)(e))):[]}}),e.registerCommand({id:"vscode.provideIncomingCalls"},{execute:async e=>{const t=v.URI.from(e.uri),i=await this.getCallHierarchyServiceForUri(t),n=await(null==i?void 0:i.getCallers((0,M.toItemHierarchyDefinition)(e),(new r.CancellationTokenSource).token));return n?n.map(M.fromCallHierarchyCallerToModelCallHierarchyIncomingCall):[]}}),e.registerCommand({id:"vscode.provideOutgoingCalls"},{execute:async e=>{var t;const i=v.URI.from(e.uri),n=await this.getCallHierarchyServiceForUri(i),o=await(null===(t=null==n?void 0:n.getCallees)||void 0===t?void 0:t.call(n,(0,M.toItemHierarchyDefinition)(e),(new r.CancellationTokenSource).token));return o?o.map(M.fromCallHierarchyCalleeToModelCallHierarchyOutgoingCall):[]}}),e.registerCommand({id:"vscode.prepareTypeHierarchy"},{execute:async(e,t)=>{const i=await this.getTypeHierarchyServiceForUri(e),n=await(null==i?void 0:i.prepareSession(e.path,(0,p.toPosition)(t),(new r.CancellationTokenSource).token));return n?n.items.map((e=>(0,M.fromItemHierarchyDefinition)(e))):[]}}),e.registerCommand({id:"vscode.provideSupertypes"},{execute:async e=>{if(!e._sessionId||!e._itemId)return[];const t=v.URI.from(e.uri),i=await this.getTypeHierarchyServiceForUri(t);return(await(null==i?void 0:i.provideSuperTypes(e._sessionId,e._itemId,(new r.CancellationTokenSource).token))||[]).map((e=>(0,M.fromItemHierarchyDefinition)(e)))}}),e.registerCommand({id:"vscode.provideSubtypes"},{execute:async e=>{if(!e._sessionId||!e._itemId)return[];const t=v.URI.from(e.uri),i=await this.getTypeHierarchyServiceForUri(t);return(await(null==i?void 0:i.provideSubTypes(e._sessionId,e._itemId,(new r.CancellationTokenSource).token))||[]).map((e=>(0,M.fromItemHierarchyDefinition)(e)))}}),e.registerCommand({id:"workbench.action.openRecent"},{execute:()=>this.quickOpenWorkspace.select()}),e.registerCommand({id:"explorer.newFolder"},{execute:()=>e.executeCommand(g.WorkspaceCommands.NEW_FOLDER.id)}),e.registerCommand({id:"workbench.action.terminal.sendSequence"},{execute:e=>{if(void 0===e||void 0===e.text)return;const t=this.terminalService.currentTerminal;void 0!==t&&t.sendText(e.text)}}),e.registerCommand({id:"workbench.action.terminal.kill"},{execute:()=>{const e=this.terminalService.currentTerminal;void 0!==e&&e.dispose()}}),e.registerCommand({id:"workbench.view.explorer"},{execute:()=>e.executeCommand(_.FileNavigatorCommands.FOCUS.id)}),e.registerCommand({id:"copyFilePath"},{execute:()=>e.executeCommand(s.CommonCommands.COPY_PATH.id)}),e.registerCommand({id:"copyRelativeFilePath"},{execute:()=>e.executeCommand(g.WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id)}),e.registerCommand({id:"revealInExplorer"},{execute:async e=>{if(!v.URI.isUri(e))return;let t=await this.shell.revealWidget(S.FILE_NAVIGATOR_ID);if(t||(await this.commandService.executeCommand(_.FILE_NAVIGATOR_TOGGLE_COMMAND_ID),t=await this.shell.revealWidget(S.FILE_NAVIGATOR_ID)),t instanceof S.FileNavigatorWidget){const i=t.model,n=await i.revealFile(new d.default(e));E.SelectableTreeNode.is(n)&&i.selectNode(n)}}}),e.registerCommand({id:"workbench.experimental.requestUsbDevice"},{execute:async e=>{var t;const i=navigator.usb;if(!i)return;const n=await i.requestDevice({filters:null!==(t=null==e?void 0:e.filters)&&void 0!==t?t:[]});return n?{deviceClass:n.deviceClass,deviceProtocol:n.deviceProtocol,deviceSubclass:n.deviceSubclass,deviceVersionMajor:n.deviceVersionMajor,deviceVersionMinor:n.deviceVersionMinor,deviceVersionSubminor:n.deviceVersionSubminor,manufacturerName:n.manufacturerName,productId:n.productId,productName:n.productName,serialNumber:n.serialNumber,usbVersionMajor:n.usbVersionMajor,usbVersionMinor:n.usbVersionMinor,usbVersionSubminor:n.usbVersionSubminor,vendorId:n.vendorId}:void 0}}),e.registerCommand({id:"workbench.experimental.requestSerialPort"},{execute:async e=>{var t;const i=navigator.serial;if(!i)return;const n=await i.requestPort({filters:null!==(t=null==e?void 0:e.filters)&&void 0!==t?t:[]});if(!n)return;const o=n.getInfo();return{usbVendorId:o.usbVendorId,usbProductId:o.usbProductId}}}),e.registerCommand({id:"workbench.experimental.requestHidDevice"},{execute:async e=>{var t;const i=navigator.hid;if(!i)return;const n=await i.requestDevice({filters:null!==(t=null==e?void 0:e.filters)&&void 0!==t?t:[]});if(!n.length)return;const o=n[0];return{opened:o.opened,vendorId:o.vendorId,productId:o.productId,productName:o.productName,collections:o.collections}}})}async resolveLanguageId(e){const t=await this.textModelService.createModelReference(e),i=t.object.languageId;return t.dispose(),i}async getCallHierarchyServiceForUri(e){const t=await this.resolveLanguageId(e);return this.callHierarchyProvider.get(t,new d.default(e))}async getTypeHierarchyServiceForUri(e){const t=await this.resolveLanguageId(e);return this.typeHierarchyProvider.get(t,new d.default(e))}};n([(0,b.inject)(l.CommandService),o("design:type",Object)],F.prototype,"commandService",void 0),n([(0,b.inject)(a.ContextKeyService),o("design:type",Object)],F.prototype,"contextKeyService",void 0),n([(0,b.inject)(u.EditorManager),o("design:type",u.EditorManager)],F.prototype,"editorManager",void 0),n([(0,b.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],F.prototype,"shell",void 0),n([(0,b.inject)(m.DiffService),o("design:type",m.DiffService)],F.prototype,"diffService",void 0),n([(0,b.inject)(s.OpenerService),o("design:type",Object)],F.prototype,"openerService",void 0),n([(0,b.inject)(c.ApplicationShellMouseTracker),o("design:type",c.ApplicationShellMouseTracker)],F.prototype,"mouseTracker",void 0),n([(0,b.inject)(s.QuickInputService),(0,b.optional)(),o("design:type",Object)],F.prototype,"quickInput",void 0),n([(0,b.inject)(f.WorkspaceService),o("design:type",f.WorkspaceService)],F.prototype,"workspaceService",void 0),n([(0,b.inject)(y.TerminalFrontendContribution),o("design:type",y.TerminalFrontendContribution)],F.prototype,"terminalContribution",void 0),n([(0,b.inject)(C.QuickOpenWorkspace),o("design:type",C.QuickOpenWorkspace)],F.prototype,"quickOpenWorkspace",void 0),n([(0,b.inject)(w.TerminalService),o("design:type",Object)],F.prototype,"terminalService",void 0),n([(0,b.inject)(R.CodeEditorWidgetUtil),o("design:type",R.CodeEditorWidgetUtil)],F.prototype,"codeEditorWidgetUtil",void 0),n([(0,b.inject)(A.PluginServer),o("design:type",Object)],F.prototype,"pluginServer",void 0),n([(0,b.inject)(k.FileService),o("design:type",k.FileService)],F.prototype,"fileService",void 0),n([(0,b.inject)(x.CallHierarchyServiceProvider),o("design:type",x.CallHierarchyServiceProvider)],F.prototype,"callHierarchyProvider",void 0),n([(0,b.inject)(D.TypeHierarchyServiceProvider),o("design:type",D.TypeHierarchyServiceProvider)],F.prototype,"typeHierarchyProvider",void 0),n([(0,b.inject)(T.MonacoTextModelService),o("design:type",T.MonacoTextModelService)],F.prototype,"textModelService",void 0),n([(0,b.inject)(L.WindowService),o("design:type",Object)],F.prototype,"windowService",void 0),n([(0,b.inject)(r.MessageService),o("design:type",r.MessageService)],F.prototype,"messageService",void 0),F=n([(0,b.injectable)()],F),t.PluginVscodeCommandsContribution=F},92836:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginVSCodeContribution=void 0;const o=i(70801),r=i(46522),s=i(40824),a=i(85201);let c=class{registerFileSystemProviders(e){this.mapSchemas(e,s.Schemes.vscodeRemote,"file"),this.mapSchemas(e,s.Schemes.userData,r.UserStorageUri.scheme)}mapSchemas(e,t,i){e.onWillActivateFileSystemProvider((n=>{n.scheme===t&&n.waitUntil((async()=>{const n=await e.activateProvider(i);e.registerProvider(t,new a.DelegatingFileSystemProvider(n,{uriConverter:{to:e=>e.withScheme(i),from:e=>e.withScheme(t)}}))})())}))}};c=n([(0,o.injectable)()],c),t.PluginVSCodeContribution=c},58823:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(9825),r=i(95871),s=i(88233),a=i(92836),c=i(14304);t.default=new n.ContainerModule((e=>{e(s.PluginVSCodeEnvironment).toSelf().inSingletonScope(),e(r.PluginVscodeCommandsContribution).toSelf().inSingletonScope(),e(o.CommandContribution).toService(r.PluginVscodeCommandsContribution),e(a.PluginVSCodeContribution).toSelf().inSingletonScope(),e(c.FileServiceContribution).toService(a.PluginVSCodeContribution)}))},88233:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginVSCodeEnvironment=void 0;const r=i(70801),s=i(18234),a=i(30970);let c=class{async getExtensionsDirUri(){if(!this._extensionsDirUri){const e=new a.default(await this.environments.getConfigDirUri());this._extensionsDirUri=e.resolve("extensions")}return this._extensionsDirUri}};n([(0,r.inject)(s.EnvVariablesServer),o("design:type",Object)],c.prototype,"environments",void 0),c=n([(0,r.injectable)()],c),t.PluginVSCodeEnvironment=c},37439:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeExtensionUri=void 0;const n=i(30970);!function(e){function t(t){return`${e.VSCODE_PREFIX}${t}`}e.VSCODE_PREFIX="vscode:extension/",e.toVsxExtensionUriString=t,e.toUri=function(e,i){return"string"==typeof i?new n.default(t(`${i}.${e}`)):new n.default(t(e))},e.toId=function(e){if("vscode"===e.scheme&&"extension"===e.path.dir.toString())return e.path.base}}(t.VSCodeExtensionUri||(t.VSCodeExtensionUri={}))},47584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isReadonlyArray=t.flatten=t.isNonEmptyArray=t.coalesce=void 0,t.coalesce=function(e){return e.filter((e=>!!e))},t.isNonEmptyArray=function(e){return Array.isArray(e)&&e.length>0},t.flatten=function(e){return[].concat(...e)},t.isReadonlyArray=function(e){return Array.isArray(e)}},77674:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionImpl=t.PluginChannel=void 0;const n=i(18894);class o{constructor(e,t){this.id=e,this.connection=t,this.messageEmitter=new n.Emitter,this.errorEmitter=new n.Emitter,this.closedEmitter=new n.Emitter}send(e){this.connection.$sendMessage(this.id,e)}fireMessageReceived(e){this.messageEmitter.fire(e)}fireError(e){this.errorEmitter.fire(e)}fireClosed(){this.closedEmitter.fire()}onMessage(e){this.messageEmitter.event(e)}onError(e){this.errorEmitter.event(e)}onClose(e){this.closedEmitter.event((()=>e(-1,"closed")))}close(){this.connection.$deleteConnection(this.id)}}t.PluginChannel=o,t.ConnectionImpl=class{constructor(e){this.connections=new Map,this.proxy=e}async $sendMessage(e,t){this.connections.has(e)?this.connections.get(e).fireMessageReceived(t):console.warn(`Received message for unknown connection: ${e}`)}async $createConnection(e){console.debug(`Creating plugin connection: ${e}`),await this.doEnsureConnection(e)}async $deleteConnection(e){console.debug(`Deleting plugin connection: ${e}`);const t=this.connections.get(e);t&&(this.connections.delete(e),t.fireClosed())}async ensureConnection(e){console.debug(`Creating local connection: ${e}`);const t=await this.doEnsureConnection(e);return await this.proxy.$createConnection(e),t}async doEnsureConnection(e){const t=this.connections.get(e)||await this.doCreateConnection(e);return this.connections.set(e,t),t}async doCreateConnection(e){const t=new o(e,this.proxy);return t.onClose((()=>this.connections.delete(e))),t}}},40662:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=void 0,t.dispose=function e(t,...i){return Array.isArray(t)?(t.forEach((e=>e&&e.dispose())),[]):0===i.length?t?(t.dispose(),t):void 0:(e(t),e(i),[])}},14020:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.cursorStyleToString=t.TextEditorCursorStyle=void 0,function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(i=t.TextEditorCursorStyle||(t.TextEditorCursorStyle={})),t.cursorStyleToString=function(e){switch(e){case i.Line:return"line";case i.Block:return"block";case i.Underline:return"underline";case i.LineThin:return"line-thin";case i.BlockOutline:return"block-outline";case i.UnderlineThin:return"underline-thin";default:throw new Error("cursorStyleToString: Unknown cursorStyle")}}},28929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disposed=t.readonly=t.illegalArgument=void 0,t.illegalArgument=function(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")},t.readonly=function(e){return e?new Error(`readonly property '${e} cannot be changed'`):new Error("readonly property cannot be changed")},t.disposed=function(e){const t=new Error(`${e} has been disposed`);return t.name="DISPOSED",t}},14820:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(32147),t),o(i(16138),t),o(i(65264),t),(0,i(54306).registerMsgPackExtensions)()},53611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguagePackService=t.languagePackServicePath=void 0,t.languagePackServicePath="/services/languagePackService",t.LanguagePackService=Symbol("LanguagePackService")},84380:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectIdentifier=void 0,(i=t.ObjectIdentifier||(t.ObjectIdentifier={})).name="$ident",i.mixin=function(e,t){return Object.defineProperty(e,i.name,{value:t,enumerable:!0}),e},i.of=function(e){return e[i.name]}},20079:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.relative=t.resolve=void 0;const n=i(92579),o=new RegExp("//+","g");function r(...e){let t=[];for(const i of e){if("string"!=typeof i)throw new TypeError("Invalid argument type to path.join: "+typeof i);""!==i&&(i.charAt(0)===n.sep&&(t=[]),t.push(i))}const i=s(t.join(n.sep));return i.length>1&&i.charAt(i.length-1)===n.sep?i.substring(0,i.length-1):i}function s(e){""===e&&(e=".");const t=e.charAt(0)===n.sep,i=(e=function(e){return e=e.replace(o,n.sep)}(e)).split(n.sep),r=[];for(const e of i)"."!==e&&(".."===e&&(t||!t&&r.length>0&&".."!==r[0])?r.pop():r.push(e));return!t&&r.length<2&&(1===r.length?""===r[0]&&r.unshift("."):r.push(".")),e=r.join(n.sep),t&&e.charAt(0)!==n.sep&&(e=n.sep+e),e}t.resolve=r,t.relative=function(e,t){let i;e=r(e),t=r(t);const o=e.split(n.sep),s=t.split(n.sep);s.shift(),o.shift();let a=0,c=[];for(i=0;i<o.length;i++)if(o[i]!==s[i]){a=o.length-i;break}c=s.slice(i),1===o.length&&""===o[0]&&(a=0),a>o.length&&(a=o.length);let l="";for(i=0;i<a;i++)l+="../";return l+=c.join(n.sep),l.length>1&&l.charAt(l.length-1)===n.sep&&(l=l.substring(0,l.length-1)),l},t.normalize=s},13869:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineCompletionTriggerKind=t.InlayHintKind=t.CommentThreadCollapsibleState=t.CommentThreadState=t.CommentMode=t.TypeHierarchyItem=t.HierarchyItem=t.FoldingRangeKind=t.SymbolTag=t.SymbolKind=t.CodeActionTriggerKind=t.DocumentHighlightKind=t.MarkerTag=t.MarkerSeverity=t.IdObject=t.CompletionItemKind=t.CompletionItemInsertTextRule=t.CompletionTriggerKind=t.MarkdownString=void 0;const n=i(93838);var o,r,s,a,c,l,d,u,h,p,g,f,m,b;Object.defineProperty(t,"MarkdownString",{enumerable:!0,get:function(){return n.MarkdownString}}),(s=t.CompletionTriggerKind||(t.CompletionTriggerKind={}))[s.Invoke=0]="Invoke",s[s.TriggerCharacter=1]="TriggerCharacter",s[s.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(r=t.CompletionItemInsertTextRule||(t.CompletionItemInsertTextRule={}))[r.KeepWhitespace=1]="KeepWhitespace",r[r.InsertAsSnippet=4]="InsertAsSnippet",(o=t.CompletionItemKind||(t.CompletionItemKind={}))[o.Method=0]="Method",o[o.Function=1]="Function",o[o.Constructor=2]="Constructor",o[o.Field=3]="Field",o[o.Variable=4]="Variable",o[o.Class=5]="Class",o[o.Struct=6]="Struct",o[o.Interface=7]="Interface",o[o.Module=8]="Module",o[o.Property=9]="Property",o[o.Event=10]="Event",o[o.Operator=11]="Operator",o[o.Unit=12]="Unit",o[o.Value=13]="Value",o[o.Constant=14]="Constant",o[o.Enum=15]="Enum",o[o.EnumMember=16]="EnumMember",o[o.Keyword=17]="Keyword",o[o.Text=18]="Text",o[o.Color=19]="Color",o[o.File=20]="File",o[o.Reference=21]="Reference",o[o.Customcolor=22]="Customcolor",o[o.Folder=23]="Folder",o[o.TypeParameter=24]="TypeParameter",o[o.User=25]="User",o[o.Issue=26]="Issue",o[o.Snippet=27]="Snippet",t.IdObject=class{},(h=t.MarkerSeverity||(t.MarkerSeverity={}))[h.Hint=1]="Hint",h[h.Info=2]="Info",h[h.Warning=4]="Warning",h[h.Error=8]="Error",(u=t.MarkerTag||(t.MarkerTag={}))[u.Unnecessary=1]="Unnecessary",u[u.Deprecated=2]="Deprecated",(d=t.DocumentHighlightKind||(t.DocumentHighlightKind={}))[d.Text=0]="Text",d[d.Read=1]="Read",d[d.Write=2]="Write",(l=t.CodeActionTriggerKind||(t.CodeActionTriggerKind={}))[l.Invoke=1]="Invoke",l[l.Automatic=2]="Automatic",(c=t.SymbolKind||(t.SymbolKind={}))[c.File=0]="File",c[c.Module=1]="Module",c[c.Namespace=2]="Namespace",c[c.Package=3]="Package",c[c.Class=4]="Class",c[c.Method=5]="Method",c[c.Property=6]="Property",c[c.Field=7]="Field",c[c.Constructor=8]="Constructor",c[c.Enum=9]="Enum",c[c.Interface=10]="Interface",c[c.Function=11]="Function",c[c.Variable=12]="Variable",c[c.Constant=13]="Constant",c[c.String=14]="String",c[c.Number=15]="Number",c[c.Boolean=16]="Boolean",c[c.Array=17]="Array",c[c.Object=18]="Object",c[c.Key=19]="Key",c[c.Null=20]="Null",c[c.EnumMember=21]="EnumMember",c[c.Struct=22]="Struct",c[c.Event=23]="Event",c[c.Operator=24]="Operator",c[c.TypeParameter=25]="TypeParameter",(a=t.SymbolTag||(t.SymbolTag={}))[a.Deprecated=1]="Deprecated";class v{constructor(e){this.value=e}}t.FoldingRangeKind=v,v.Comment=new v("comment"),v.Imports=new v("imports"),v.Region=new v("region");class A{}t.HierarchyItem=A,t.TypeHierarchyItem=class extends A{},(b=t.CommentMode||(t.CommentMode={}))[b.Editing=0]="Editing",b[b.Preview=1]="Preview",(m=t.CommentThreadState||(t.CommentThreadState={}))[m.Unresolved=0]="Unresolved",m[m.Resolved=1]="Resolved",(f=t.CommentThreadCollapsibleState||(t.CommentThreadCollapsibleState={}))[f.Collapsed=0]="Collapsed",f[f.Expanded=1]="Expanded",(g=t.InlayHintKind||(t.InlayHintKind={}))[g.Type=1]="Type",g[g.Parameter=2]="Parameter",(p=t.InlineCompletionTriggerKind||(t.InlineCompletionTriggerKind={}))[p.Automatic=0]="Automatic",p[p.Explicit=1]="Explicit"},16138:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAIN_RPC_CONTEXT=t.PLUGIN_RPC_CONTEXT=t.DebugConfigurationProviderTriggerKind=t.OutputChannelRegistryFactory=t.LanguagesMainFactory=t.WorkspaceTextEditDto=t.TrackedRangeStickiness=t.TextEditorRevealType=t.EditorPosition=t.CommentsEditCommandArg=t.CommentsContextCommandArg=t.CommentsCommandArg=t.TimelineCommandArg=t.ScmCommandArg=t.TreeViewItemCollapsibleState=t.TreeViewItemReference=t.DataTransferFileDTO=t.MainMessageType=t.emptyPlugin=t.UIKind=void 0;const n=i(54306),o=i(9825);var r,s,a,c,l,d,u;(s=t.UIKind||(t.UIKind={}))[s.Desktop=1]="Desktop",s[s.Web=2]="Web",t.emptyPlugin={lifecycle:{startMethod:"empty",stopMethod:"empty"},model:{id:"emptyPlugin",name:"emptyPlugin",publisher:"Theia",version:"empty",displayName:"empty",description:"empty",engine:{type:"empty",version:"empty"},packagePath:"empty",packageUri:"empty",entryPoint:{}},pluginPath:"empty",pluginFolder:"empty",pluginUri:"empty",rawModel:{name:"emptyPlugin",publisher:"Theia",version:"empty",displayName:"empty",description:"empty",engines:{type:"empty",version:"empty"},packagePath:"empty"},isUnderDevelopment:!1},(r=t.MainMessageType||(t.MainMessageType={}))[r.Error=0]="Error",r[r.Warning=1]="Warning",r[r.Info=2]="Info",t.DataTransferFileDTO=class{constructor(e,t,i){this.name=e,this.contentId=t,this.uri=i}static is(e){return!("string"==typeof e)}},(t.TreeViewItemReference||(t.TreeViewItemReference={})).is=function(e){return(0,o.isObject)(e)&&(0,o.isString)(e.viewId)&&(0,o.isString)(e.itemId)},(u=t.TreeViewItemCollapsibleState||(t.TreeViewItemCollapsibleState={}))[u.None=0]="None",u[u.Collapsed=1]="Collapsed",u[u.Expanded=2]="Expanded",(t.ScmCommandArg||(t.ScmCommandArg={})).is=function(e){return(0,o.isObject)(e)&&"sourceControlHandle"in e},(t.TimelineCommandArg||(t.TimelineCommandArg={})).is=function(e){return(0,o.isObject)(e)&&"timelineHandle"in e},(t.CommentsCommandArg||(t.CommentsCommandArg={})).is=function(e){return(0,o.isObject)(e)&&"commentControlHandle"in e&&"commentThreadHandle"in e&&"text"in e&&!("commentUniqueId"in e)},(t.CommentsContextCommandArg||(t.CommentsContextCommandArg={})).is=function(e){return(0,o.isObject)(e)&&"commentControlHandle"in e&&"commentThreadHandle"in e&&"commentUniqueId"in e&&!("text"in e)},(t.CommentsEditCommandArg||(t.CommentsEditCommandArg={})).is=function(e){return(0,o.isObject)(e)&&"commentControlHandle"in e&&"commentThreadHandle"in e&&"commentUniqueId"in e&&"text"in e},(d=t.EditorPosition||(t.EditorPosition={}))[d.ONE=0]="ONE",d[d.TWO=1]="TWO",d[d.THREE=2]="THREE",d[d.FOUR=3]="FOUR",d[d.FIVE=4]="FIVE",d[d.SIX=5]="SIX",d[d.SEVEN=6]="SEVEN",d[d.EIGHT=7]="EIGHT",d[d.NINE=8]="NINE",(l=t.TextEditorRevealType||(t.TextEditorRevealType={}))[l.Default=0]="Default",l[l.InCenter=1]="InCenter",l[l.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",l[l.AtTop=3]="AtTop",(c=t.TrackedRangeStickiness||(t.TrackedRangeStickiness={}))[c.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",c[c.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",c[c.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",c[c.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",(t.WorkspaceTextEditDto||(t.WorkspaceTextEditDto={})).is=function(e){return!!e&&"resource"in e&&"textEdit"in e&&null!==e.textEdit&&"object"==typeof e.textEdit},t.LanguagesMainFactory=Symbol("LanguagesMainFactory"),t.OutputChannelRegistryFactory=Symbol("OutputChannelRegistryFactory"),(a=t.DebugConfigurationProviderTriggerKind||(t.DebugConfigurationProviderTriggerKind={}))[a.Initial=1]="Initial",a[a.Dynamic=2]="Dynamic",t.PLUGIN_RPC_CONTEXT={AUTHENTICATION_MAIN:(0,n.createProxyIdentifier)("AuthenticationMain"),COMMAND_REGISTRY_MAIN:(0,n.createProxyIdentifier)("CommandRegistryMain"),QUICK_OPEN_MAIN:(0,n.createProxyIdentifier)("QuickOpenMain"),DIALOGS_MAIN:(0,n.createProxyIdentifier)("DialogsMain"),WORKSPACE_MAIN:(0,n.createProxyIdentifier)("WorkspaceMain"),MESSAGE_REGISTRY_MAIN:(0,n.createProxyIdentifier)("MessageRegistryMain"),TEXT_EDITORS_MAIN:(0,n.createProxyIdentifier)("TextEditorsMain"),DOCUMENTS_MAIN:(0,n.createProxyIdentifier)("DocumentsMain"),STATUS_BAR_MESSAGE_REGISTRY_MAIN:(0,n.createProxyIdentifier)("StatusBarMessageRegistryMain"),ENV_MAIN:(0,n.createProxyIdentifier)("EnvMain"),NOTIFICATION_MAIN:(0,n.createProxyIdentifier)("NotificationMain"),TERMINAL_MAIN:(0,n.createProxyIdentifier)("TerminalServiceMain"),TREE_VIEWS_MAIN:(0,n.createProxyIdentifier)("TreeViewsMain"),PREFERENCE_REGISTRY_MAIN:(0,n.createProxyIdentifier)("PreferenceRegistryMain"),OUTPUT_CHANNEL_REGISTRY_MAIN:(0,n.createProxyIdentifier)("OutputChannelRegistryMain"),LANGUAGES_MAIN:(0,n.createProxyIdentifier)("LanguagesMain"),CONNECTION_MAIN:(0,n.createProxyIdentifier)("ConnectionMain"),WEBVIEWS_MAIN:(0,n.createProxyIdentifier)("WebviewsMain"),CUSTOM_EDITORS_MAIN:(0,n.createProxyIdentifier)("CustomEditorsMain"),WEBVIEW_VIEWS_MAIN:(0,n.createProxyIdentifier)("WebviewViewsMain"),STORAGE_MAIN:(0,n.createProxyIdentifier)("StorageMain"),TASKS_MAIN:(0,n.createProxyIdentifier)("TasksMain"),DEBUG_MAIN:(0,n.createProxyIdentifier)("DebugMain"),FILE_SYSTEM_MAIN:(0,n.createProxyIdentifier)("FileSystemMain"),SCM_MAIN:(0,n.createProxyIdentifier)("ScmMain"),SECRETS_MAIN:(0,n.createProxyIdentifier)("SecretsMain"),DECORATIONS_MAIN:(0,n.createProxyIdentifier)("DecorationsMain"),WINDOW_MAIN:(0,n.createProxyIdentifier)("WindowMain"),CLIPBOARD_MAIN:(0,n.createProxyIdentifier)("ClipboardMain"),LABEL_SERVICE_MAIN:(0,n.createProxyIdentifier)("LabelServiceMain"),TIMELINE_MAIN:(0,n.createProxyIdentifier)("TimelineMain"),THEMING_MAIN:(0,n.createProxyIdentifier)("ThemingMain"),COMMENTS_MAIN:(0,n.createProxyIdentifier)("CommentsMain"),TABS_MAIN:(0,n.createProxyIdentifier)("TabsMain"),TELEMETRY_MAIN:(0,n.createProxyIdentifier)("TelemetryMain"),LOCALIZATION_MAIN:(0,n.createProxyIdentifier)("LocalizationMain")},t.MAIN_RPC_CONTEXT={AUTHENTICATION_EXT:(0,n.createProxyIdentifier)("AuthenticationExt"),HOSTED_PLUGIN_MANAGER_EXT:(0,n.createProxyIdentifier)("PluginManagerExt"),COMMAND_REGISTRY_EXT:(0,n.createProxyIdentifier)("CommandRegistryExt"),QUICK_OPEN_EXT:(0,n.createProxyIdentifier)("QuickOpenExt"),WINDOW_STATE_EXT:(0,n.createProxyIdentifier)("WindowStateExt"),NOTIFICATION_EXT:(0,n.createProxyIdentifier)("NotificationExt"),WORKSPACE_EXT:(0,n.createProxyIdentifier)("WorkspaceExt"),TEXT_EDITORS_EXT:(0,n.createProxyIdentifier)("TextEditorsExt"),EDITORS_AND_DOCUMENTS_EXT:(0,n.createProxyIdentifier)("EditorsAndDocumentsExt"),DOCUMENTS_EXT:(0,n.createProxyIdentifier)("DocumentsExt"),TERMINAL_EXT:(0,n.createProxyIdentifier)("TerminalServiceExt"),OUTPUT_CHANNEL_REGISTRY_EXT:(0,n.createProxyIdentifier)("OutputChannelRegistryExt"),TREE_VIEWS_EXT:(0,n.createProxyIdentifier)("TreeViewsExt"),PREFERENCE_REGISTRY_EXT:(0,n.createProxyIdentifier)("PreferenceRegistryExt"),LANGUAGES_EXT:(0,n.createProxyIdentifier)("LanguagesExt"),CONNECTION_EXT:(0,n.createProxyIdentifier)("ConnectionExt"),WEBVIEWS_EXT:(0,n.createProxyIdentifier)("WebviewsExt"),CUSTOM_EDITORS_EXT:(0,n.createProxyIdentifier)("CustomEditorsExt"),WEBVIEW_VIEWS_EXT:(0,n.createProxyIdentifier)("WebviewViewsExt"),STORAGE_EXT:(0,n.createProxyIdentifier)("StorageExt"),TASKS_EXT:(0,n.createProxyIdentifier)("TasksExt"),DEBUG_EXT:(0,n.createProxyIdentifier)("DebugExt"),FILE_SYSTEM_EXT:(0,n.createProxyIdentifier)("FileSystemExt"),ExtHostFileSystemEventService:(0,n.createProxyIdentifier)("ExtHostFileSystemEventService"),SCM_EXT:(0,n.createProxyIdentifier)("ScmExt"),SECRETS_EXT:(0,n.createProxyIdentifier)("SecretsExt"),DECORATIONS_EXT:(0,n.createProxyIdentifier)("DecorationsExt"),LABEL_SERVICE_EXT:(0,n.createProxyIdentifier)("LabelServiceExt"),TIMELINE_EXT:(0,n.createProxyIdentifier)("TimeLineExt"),THEMING_EXT:(0,n.createProxyIdentifier)("ThemingExt"),COMMENTS_EXT:(0,n.createProxyIdentifier)("CommentsExt"),TABS_EXT:(0,n.createProxyIdentifier)("TabsExt"),TELEMETRY_EXT:(0,n.createProxyIdentifier)("TelemetryExt)")}},65264:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainPluginApiProvider=t.ExtPluginApiProvider=void 0,t.ExtPluginApiProvider="extPluginApi",t.MainPluginApiProvider=Symbol("mainPluginApi")},20174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginIdentifiers=void 0,function(e){function t({publisher:t=e.UNPUBLISHED,name:i}){return`${t.toLowerCase()}.${i.toLowerCase()}`}e.UNPUBLISHED="<unpublished>",e.componentsToUnversionedId=t,e.componentsToVersionedId=function({publisher:t=e.UNPUBLISHED,name:i,version:n}){return`${t.toLowerCase()}.${i.toLowerCase()}@${n}`},e.componentsToVersionWithId=function(e){return{id:t(e),version:e.version}},e.idAndVersionToVersionedId=function({id:e,version:t}){return`${e}@${t}`},e.unversionedFromVersioned=function(e){const t=e.indexOf("@");return e.slice(0,t)},e.identifiersFromVersionedId=function(e){const t=e.indexOf("."),i=e.indexOf("@",t);if(-1!==t&&-1!==i)return{publisher:e.slice(0,t),name:e.slice(t+1,i),version:e.slice(i+1)}},e.idAndVersionFromVersionedId=function(e){const t=e.indexOf("."),i=e.indexOf("@",t);if(-1!==t&&-1!==i)return{id:e.slice(0,i),version:e.slice(i+1)}}}(t.PluginIdentifiers||(t.PluginIdentifiers={}))},32147:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginHostEnvironmentVariable=t.ServerPluginRunner=t.PluginServer=t.pluginServerJsonRpcPath=t.PLUGIN_HOST_BACKEND=t.HostedPluginServer=t.PluginDeployerHandler=t.HostedPluginClient=t.buildFrontendModuleName=t.getPluginId=t.MetadataProcessor=t.PluginType=t.PluginDeployerEntryType=t.PluginDeployerParticipant=t.PluginDeployer=t.PluginDeployerFileHandler=t.PluginDeployerDirectoryHandler=t.PluginDeployerResolver=t.PluginScanner=t.PluginViewType=t.CustomEditorPriority=t.PluginPackage=t.hostedServicePath=t.PluginIdentifiers=void 0;const n=i(20174);function o(e){return`${e.publisher}_${e.name}`.replace(/\W/g,"_")}var r,s,a,c;Object.defineProperty(t,"PluginIdentifiers",{enumerable:!0,get:function(){return n.PluginIdentifiers}}),t.hostedServicePath="/services/hostedPlugin",(t.PluginPackage||(t.PluginPackage={})).toPluginUrl=function(e,t){return`hostedPlugin/${o(e)}/${encodeURIComponent(t)}`},(c=t.CustomEditorPriority||(t.CustomEditorPriority={})).default="default",c.builtin="builtin",c.option="option",(a=t.PluginViewType||(t.PluginViewType={})).Tree="tree",a.Webview="webview",t.PluginScanner=Symbol("PluginScanner"),t.PluginDeployerResolver=Symbol("PluginDeployerResolver"),t.PluginDeployerDirectoryHandler=Symbol("PluginDeployerDirectoryHandler"),t.PluginDeployerFileHandler=Symbol("PluginDeployerFileHandler"),t.PluginDeployer=Symbol("PluginDeployer"),t.PluginDeployerParticipant=Symbol("PluginDeployerParticipant"),(s=t.PluginDeployerEntryType||(t.PluginDeployerEntryType={}))[s.FRONTEND=0]="FRONTEND",s[s.BACKEND=1]="BACKEND",(r=t.PluginType||(t.PluginType={}))[r.System=0]="System",r[r.User=1]="User",t.MetadataProcessor=Symbol("MetadataProcessor"),t.getPluginId=o,t.buildFrontendModuleName=function(e){return`${e.publisher}_${e.name}`.replace(/\W/g,"_")},t.HostedPluginClient=Symbol("HostedPluginClient"),t.PluginDeployerHandler=Symbol("PluginDeployerHandler"),t.HostedPluginServer=Symbol("HostedPluginServer"),t.PLUGIN_HOST_BACKEND="main",t.pluginServerJsonRpcPath="/services/plugin-ext",t.PluginServer=Symbol("PluginServer"),t.ServerPluginRunner=Symbol("ServerPluginRunner"),t.PluginHostEnvironmentVariable=Symbol("PluginHostEnvironmentVariable")},93590:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcInvocationHandler=t.ClientProxyHandler=void 0;const n=i(9825),o=i(60516);t.ClientProxyHandler=class{constructor(e){this.rpcDeferred=new o.Deferred,this.isRpcInitialized=!1,Object.assign(this,e)}initializeRpc(){const e={encoder:this.encoder,decoder:this.decoder,mode:"clientOnly"};this.channelProvider().then((t=>{const i=new n.RpcProtocol(t,void 0,e);this.rpcDeferred.resolve(i),this.isRpcInitialized=!0}))}get(e,t,i){if(this.isRpcInitialized||this.initializeRpc(),e[t]||36!==t.charCodeAt(0))return e[t];const n=this.isNotification(t);return(...e)=>{const i=t.toString();return this.rpcDeferred.promise.then((async t=>{if(!n)return await t.sendRequest(i,e);t.sendNotification(i,e)}))}}isNotification(e){let t=e.toString();return 36===t.charCodeAt(0)&&(t=t.substring(1)),t.startsWith("notify")||t.startsWith("on")}},t.RpcInvocationHandler=class{constructor(e){this.rpcDeferred=new o.Deferred,Object.assign(this,e)}listen(e){const t={encoder:this.encoder,decoder:this.decoder,mode:"serverOnly"},i=new n.RpcProtocol(e,((e,t)=>this.handleRequest(e,t)),t);i.onNotification((e=>this.onNotification(e.method,e.args))),this.rpcDeferred.resolve(i)}handleRequest(e,t){return this.rpcDeferred.promise.then((()=>this.target[e](...t)))}onNotification(e,t){this.target[e](...t)}}},54306:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerMsgPackExtensions=t.BatchingChannel=t.RPCProtocolImpl=t.ConnectionClosedError=t.createProxyIdentifier=t.ProxyIdentifier=t.RPCProtocol=void 0;const n=i(9825),o=i(18894),r=i(16009),s=i(86256),a=i(45952),c=i(93590),l=i(1253),d=i(10433),u=i(58710),h=i(92147);t.RPCProtocol=Symbol("RPCProtocol");class p{constructor(e,t){this.isMain=e,this.id=t.toString()}}var g;t.ProxyIdentifier=p,t.createProxyIdentifier=function(e){return new p(!1,e)},function(e){const t="RPC_PROTOCOL_CLOSED";e.create=function(e="connection is closed"){return Object.assign(new Error(e),{code:t})},e.is=function(e){return(0,n.isObject)(e)&&"code"in e&&e.code===t}}(g=t.ConnectionClosedError||(t.ConnectionClosedError={})),t.RPCProtocolImpl=class{constructor(e){this.locals=new Map,this.proxies=new Map,this.encoder=new s.MsgPackMessageEncoder,this.decoder=new s.MsgPackMessageDecoder,this.toDispose=new n.DisposableCollection(n.Disposable.create((()=>{}))),this.toDispose.push(this.multiplexer=new r.ChannelMultiplexer(new f(e))),this.toDispose.push(n.Disposable.create((()=>this.proxies.clear())))}dispose(){this.toDispose.dispose()}get isDisposed(){return this.toDispose.disposed}getProxy(e){if(this.isDisposed)throw g.create();let t=this.proxies.get(e.id);return t||(t=this.createProxy(e.id),this.proxies.set(e.id,t)),t}createProxy(e){const t=new c.ClientProxyHandler({id:e,encoder:this.encoder,decoder:this.decoder,channelProvider:()=>this.multiplexer.open(e)});return new Proxy(Object.create(null),t)}set(e,t){if(this.isDisposed)throw g.create();if(!this.locals.get(e.id)){const i=new c.RpcInvocationHandler({id:e.id,target:t,encoder:this.encoder,decoder:this.decoder}),o=this.multiplexer.getOpenChannel(e.id);if(o)i.listen(o);else{const t=this.multiplexer.onDidOpenChannel((n=>{n.id===e.id&&(i.listen(n.channel),t.dispose())}))}this.locals.set(e.id,i),n.Disposable.is(t)&&this.toDispose.push(t),this.toDispose.push(n.Disposable.create((()=>this.locals.delete(e.id))))}return t}};class f{constructor(e){this.underlyingChannel=e,this.messagesToSend=[],this.onMessageEmitter=new o.Emitter,this.onClose=this.underlyingChannel.onClose,this.onError=this.underlyingChannel.onError,e.onMessage((e=>this.handleMessages(e())))}get onMessage(){return this.onMessageEmitter.event}close(){this.underlyingChannel.close(),this.onMessageEmitter.dispose(),this.messagesToSend=[]}getWriteBuffer(){const e=new a.Uint8ArrayWriteBuffer;return e.onCommit((e=>this.commitSingleMessage(e))),e}commitSingleMessage(e){0===this.messagesToSend.length&&("undefined"!=typeof setImmediate?setImmediate((()=>this.sendAccumulated())):setTimeout((()=>this.sendAccumulated()),0)),this.messagesToSend.push(e)}sendAccumulated(){const e=this.messagesToSend;this.messagesToSend=[];const t=this.underlyingChannel.getWriteBuffer();e.length>0&&(t.writeLength(e.length),e.forEach((e=>{t.writeBytes(e)}))),t.commit()}handleMessages(e){const t=e.readLength();if(t>0)for(let i=0;i<t;i++){const t=e.readBytes();this.onMessageEmitter.fire((()=>new a.Uint8ArrayReadBuffer(t)))}}}t.BatchingChannel=f,t.registerMsgPackExtensions=function(){l.MsgPackExtensionManager.getInstance().registerExtensions({class:n.URI,tag:2,serialize:e=>e.toString(),deserialize:e=>new n.URI(e)},{class:h.Range,tag:3,serialize:e=>({start:{line:e.start.line,character:e.start.character},end:{line:e.end.line,character:e.end.character}}),deserialize:e=>{const t=new h.Position(e.start.line,e.start.character),i=new h.Position(e.end.line,e.end.character);return new h.Range(t,i)}},{class:d.URI,tag:4,serialize:e=>e.toString(),deserialize:e=>d.URI.parse(e)},{class:u.BinaryBuffer,tag:5,serialize:e=>e.buffer,deserialize:e=>u.BinaryBuffer.wrap(e)})}},18102:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeSemanticTokensDto=t.encodeSemanticTokensDto=void 0;const n=i(58710);let o=!0,r=!1;function s(){if(!r){r=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);o=513===t[0]}return o}function a(e){for(let t=0,i=e.length;t<i;t+=4){const i=e[t+0],n=e[t+1],o=e[t+2],r=e[t+3];e[t+0]=r,e[t+1]=o,e[t+2]=n,e[t+3]=i}}t.encodeSemanticTokensDto=function(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const i of e.deltas)i.data&&(t+=i.data.length)}return t}(e));let i=0;if(t[i++]=e.id,"full"===e.type)t[i++]=1,t[i++]=e.data.length,t.set(e.data,i),i+=e.data.length;else{t[i++]=2,t[i++]=e.deltas.length;for(const n of e.deltas)t[i++]=n.start,t[i++]=n.deleteCount,n.data?(t[i++]=n.data.length,t.set(n.data,i),i+=n.data.length):t[i++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return s()||a(t),n.BinaryBuffer.wrap(t)}(t)},t.decodeSemanticTokensDto=function(e){const t=function(e){const t=e.buffer;if(s()||a(t),t.byteOffset%4==0)return new Uint32Array(t.buffer,t.byteOffset,t.length/4);{const e=new Uint8Array(t.byteLength);return e.set(t),new Uint32Array(e.buffer,e.byteOffset,e.length/4)}}(e);let i=0;const n=t[i++];if(1===t[i++]){const e=t[i++],o=t.subarray(i,i+e);return i+=e,{id:n,type:"full",data:o}}const o=t[i++],r=[];for(let e=0;e<o;e++){const n=t[i++],o=t[i++],s=t[i++];let a;s>0&&(a=t.subarray(i,i+s),i+=s),r[e]={start:n,deleteCount:o,data:a}}return{id:n,type:"delta",deltas:r}}},67037:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertIsDefined=t.isUndefinedOrNull=t.isUndefined=t.isArray=t.es5ClassCompat=t.LogType=t.mixin=t.isObject=void 0;const n=i(9825);function o(e){return(0,n.isObject)(e)&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}var r;t.isObject=o,t.mixin=function e(t,i,n=!0){return o(t)?(o(i)&&Object.keys(i).forEach((r=>{r in t?n&&(o(t[r])&&o(i[r])?e(t[r],i[r],n):t[r]=i[r]):t[r]=i[r]})),t):i},(r=t.LogType||(t.LogType={}))[r.Info=0]="Info",r[r.Error=1]="Error",t.es5ClassCompat=function(e){function t(){return Reflect.construct(e,arguments,this.constructor)}return Object.defineProperty(t,"name",Object.getOwnPropertyDescriptor(e,"name")),Object.setPrototypeOf(t,e),Object.setPrototypeOf(t.prototype,e.prototype),t};const s={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function a(e){return typeof e===s.undefined}function c(e){return a(e)||null===e}t.isArray=function(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==s.number||e.constructor!==Array)},t.isUndefined=a,t.isUndefinedOrNull=c,t.assertIsDefined=function(e){if(c(e))throw new Error("Assertion Failed: argument is undefined or null");return e}},40824:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.theiaUritoUriComponents=t.Schemes=void 0,(i=t.Schemes||(t.Schemes={})).inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.userData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeSettings="vscode-settings",i.webviewPanel="webview-panel",t.theiaUritoUriComponents=function(e){return e.toComponents()}},83019:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.HostedPluginWatcher=void 0;const o=i(70801),r=i(18894);let s=class{constructor(){this.onPostMessage=new r.Emitter,this.onLogMessage=new r.Emitter,this.onDidDeployEmitter=new r.Emitter,this.onDidDeploy=this.onDidDeployEmitter.event}getHostedPluginClient(){const e=this.onPostMessage,t=this.onLogMessage;return{postMessage:(t,i)=>(e.fire({pluginHostId:t,message:i}),Promise.resolve()),log:e=>(t.fire(e),Promise.resolve()),onDidDeploy:()=>this.onDidDeployEmitter.fire(void 0)}}get onPostMessageEvent(){return this.onPostMessage.event}get onLogMessageEvent(){return this.onLogMessage.event}};s=n([(0,o.injectable)()],s),t.HostedPluginWatcher=s},81602:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginContributions=t.HostedPluginSupport=t.ALL_ACTIVATION_EVENT=t.PluginProgressLocation=void 0;const r=i(69972),s=i(28563),a=i(70801),c=i(16641),l=i(32147),d=i(83019),u=i(16138),h=i(34581),p=i(54306),g=i(9825),f=i(98516),m=i(73246),b=i(68975),v=i(79298),A=i(65264),y=i(39119),C=i(26625),w=i(60516),_=i(19950),S=i(75605),E=i(47252),k=i(27372),x=i(79467),D=i(46544),T=i(22950),M=i(47225),B=i(4196),I=i(9791),L=i(24227),P=i(18234),O=i(30970),R=i(50058),N=i(48074),F=i(11234),j=i(14304),W=i(4626),z=i(4434),U=i(65948),H=i(49659),V=i(9825),K=i(45952),G=i(16009);t.PluginProgressLocation="plugin",t.ALL_ACTIVATION_EVENT="*";let $=class{constructor(){this.clientId=s.UUID.uuid4(),this.managers=new Map,this.contributions=new Map,this.activationEvents=new Set,this.onDidChangePluginsEmitter=new g.Emitter,this.onDidChangePlugins=this.onDidChangePluginsEmitter.event,this.deferredWillStart=new w.Deferred,this.deferredDidStart=new w.Deferred,this.loadQueue=Promise.resolve(void 0),this.load=r((()=>this.loadQueue=this.loadQueue.then((async()=>{try{await this.progressService.withProgress("",t.PluginProgressLocation,(()=>this.doLoad()))}catch(e){console.error("Failed to load plugins:",e)}}))),50,{leading:!0}),this.webviewsToRestore=new Set,this.webviewRevivers=new Map}get willStart(){return this.deferredWillStart.promise}get didStart(){return this.deferredDidStart.promise}init(){this.theiaReadyPromise=Promise.all([this.preferenceServiceImpl.ready,this.workspaceService.roots]),this.workspaceService.onWorkspaceChanged((()=>this.updateStoragePath()));const e=U.StandaloneServices.get(H.ILanguageService);for(const t of e._encounteredLanguages)this.activateByLanguage(t);e.onDidEncounterLanguage((e=>this.activateByLanguage(e))),this.commands.onWillExecuteCommand((e=>this.ensureCommandHandlerRegistration(e))),this.debugSessionManager.onWillStartDebugSession((e=>this.ensureDebugActivation(e))),this.debugSessionManager.onWillResolveDebugConfiguration((e=>this.ensureDebugActivation(e,"onDebugResolve",e.debugType))),this.debugConfigurationManager.onWillProvideDebugConfiguration((e=>this.ensureDebugActivation(e,"onDebugInitialConfigurations"))),this.debugConfigurationManager.onWillProvideDynamicDebugConfiguration((e=>this.ensureDebugActivation(e,"onDebugDynamicConfigurations",t.ALL_ACTIVATION_EVENT))),this.viewRegistry.onDidExpandView((e=>this.activateByView(e))),this.taskProviderRegistry.onWillProvideTaskProvider((e=>this.ensureTaskActivation(e))),this.taskResolverRegistry.onWillProvideTaskResolver((e=>this.ensureTaskActivation(e))),this.fileService.onWillActivateFileSystemProvider((e=>this.ensureFileSystemActivation(e))),this.customEditorRegistry.onWillOpenCustomEditor((e=>this.activateByCustomEditor(e))),this.widgets.onDidCreateWidget((({factoryId:e,widget:t})=>{if((e===B.WebviewWidget.FACTORY_ID||e===z.CustomEditorWidget.FACTORY_ID)&&t instanceof B.WebviewWidget){const e=t.storeState.bind(t),i=t.restoreState.bind(t);t.storeState=()=>{if(this.webviewRevivers.has(t.viewType))return e()},t.restoreState=e=>{e.viewType?(i(e),this.preserveWebview(t)):t.dispose()}}}))}get plugins(){const e=[];return this.contributions.forEach((t=>e.push(t.plugin.metadata))),e}getPlugin(e){const t=this.contributions.get(e);return t&&t.plugin}onStart(e){this.container=e,this.load(),this.watcher.onDidDeploy((()=>this.load())),this.server.onDidOpenConnection((()=>this.load()))}async doLoad(){const e=new g.DisposableCollection(g.Disposable.create((()=>{})));if(e.push(g.Disposable.create((()=>this.preserveWebviews()))),this.server.onDidCloseConnection((()=>e.dispose())),await this.syncPlugins(),this.deferredWillStart.resolve(),await this.appState.reachedState("initialized_layout"),e.disposed)return;const t=this.loadContributions(e);await this.viewRegistry.initWidgets(),this.viewRegistry.removeStaleWidgets(),await this.theiaReadyPromise,e.disposed||(await this.startPlugins(t,e),this.deferredDidStart.resolve(),this.restoreWebviews())}async syncPlugins(){var e;let t=0;const i=this.measure("waitForDeployment");let n;const o=new Set(this.contributions.keys());let r=!1;try{const s=[],[a,c]=await Promise.all([this.server.getDeployedPluginIds(),this.server.getUninstalledPluginIds()]);i.log("Waiting for backend deployment"),n=this.measure("syncPlugins");for(const e of a){const t=l.PluginIdentifiers.unversionedFromVersioned(e);o.delete(t),this.contributions.has(t)||s.push(e)}for(const t of o)null===(e=this.contributions.get(t))||void 0===e||e.dispose();for(const e of c){const t=this.getPlugin(l.PluginIdentifiers.unversionedFromVersioned(e));t&&l.PluginIdentifiers.componentsToVersionedId(t.metadata.model)===e&&!t.metadata.outOfSync&&(t.metadata.outOfSync=r=!0)}for(const e of this.contributions.values())e.plugin.metadata.outOfSync&&!c.includes(l.PluginIdentifiers.componentsToVersionedId(e.plugin.metadata.model))&&(e.plugin.metadata.outOfSync=!1,r=!0);if(s.length){const e=await this.server.getDeployedPlugins({pluginIds:s});for(const i of e){const e=l.PluginIdentifiers.componentsToUnversionedId(i.metadata.model),n=new q(i);this.contributions.set(e,n),n.push(g.Disposable.create((()=>this.contributions.delete(e)))),t++}}}finally{(t||o.size||r)&&this.onDidChangePluginsEmitter.fire(void 0),n||i.error("Backend deployment failed.")}null==n||n.log(`Sync of ${this.getPluginCount(t)}`)}loadContributions(e){let t=0;const i=this.measure("loadPlugins"),n=new Map;console.log(`[${this.clientId}] Loading plugin contributions`);for(const i of this.contributions.values()){const o=i.plugin.metadata,r=o.model.id;if(i.state===q.State.INITIALIZING&&(i.state=q.State.LOADING,i.push(g.Disposable.create((()=>console.log(`[${r}]: Unloaded plugin.`)))),i.push(this.contributionHandler.handleContributions(this.clientId,i.plugin)),i.state=q.State.LOADED,console.debug(`[${this.clientId}][${r}]: Loaded contributions.`),t++),i.state===q.State.LOADED){i.state=q.State.STARTING;const t=o.model.entryPoint.frontend?"frontend":o.host,s=n.get(t)||[];s.push(i),n.set(t,s),e.push(g.Disposable.create((()=>{i.state=q.State.LOADED,console.debug(`[${this.clientId}][${r}]: Disconnected.`)})))}}return i.log(`Load contributions of ${this.getPluginCount(t)}`),n}async startPlugins(e,t){let i=0;const n=this.measure("startPlugins"),[o,r,s]=await Promise.all([this.pluginPathsService.getHostLogPath(),this.getStoragePath(),this.getHostGlobalStoragePath()]);if(t.disposed)return;const a=[],c={hostLogPath:o,hostStoragePath:r,hostGlobalStoragePath:s};for(const[n,o]of e){if("frontend"===n&&N.environment.electron.is())continue;const e=await this.obtainManager(n,o,t);if(!e)continue;const r=o.map((e=>e.plugin.metadata));a.push((async()=>{try{const n=[...this.activationEvents];if(await e.$start({plugins:r,configStorage:c,activationEvents:n}),t.disposed)return;console.log(`[${this.clientId}] Starting plugins.`);for(const n of o){i++;const o=n.plugin,r=o.metadata.model.id;n.state=q.State.STARTED,console.debug(`[${this.clientId}][${r}]: Started plugin.`),t.push(n.push(g.Disposable.create((()=>{console.debug(`[${this.clientId}][${r}]: Stopped plugin.`),e.$stop(r)})))),this.activateByWorkspaceContains(e,o)}}catch(e){console.error(`Failed to start plugins for '${n}' host`,e)}})())}await Promise.all(a),await this.activateByEvent("onStartupFinished"),t.disposed||n.log(`Start of ${this.getPluginCount(i)}`)}async obtainManager(e,t,i){var n;let o=this.managers.get(e);if(!o){const r=(0,l.getPluginId)(t[0].plugin.metadata.model),s=this.initRpc(e,r);i.push(s),o=s.getProxy(u.MAIN_RPC_CONTEXT.HOSTED_PLUGIN_MANAGER_EXT),this.managers.set(e,o),i.push(g.Disposable.create((()=>this.managers.delete(e))));const[a,c,d,h,p,f,m]=await Promise.all([this.server.getExtPluginAPI(),this.pluginServer.getAllStorageValues(void 0),this.pluginServer.getAllStorageValues({workspace:null===(n=this.workspaceService.workspace)||void 0===n?void 0:n.resource.toString(),roots:this.workspaceService.tryGetRoots().map((e=>e.resource.toString()))}),this.webviewEnvironment.resourceRoot(e),this.webviewEnvironment.cspSource(),this.terminalService.getDefaultShell(),this.jsonSchemaStore.schemas]);if(i.disposed)return;const b=N.environment.electron.is();if(await o.$init({preferences:(0,C.getPreferences)(this.preferenceProviderProvider,this.workspaceService.tryGetRoots()),globalState:c,workspaceState:d,env:{queryParams:(0,v.getQueryParameters)(),language:g.nls.locale||g.nls.defaultLocale,shell:f,uiKind:b?u.UIKind.Desktop:u.UIKind.Web,appName:R.FrontendApplicationConfigProvider.get().applicationName,appHost:b?"desktop":"web"},extApi:a,webview:{webviewResourceRoot:h,webviewCspSource:p},jsonValidation:m}),i.disposed)return}return o}initRpc(e,t){const i="frontend"===e?(new c.PluginWorker).rpc:this.createServerRpc(e);return(0,h.setUpPluginApi)(i,this.container),this.mainPluginApiProviders.getContributions().forEach((e=>e.initialize(i,this.container))),i}createServerRpc(e){const t=new G.BasicChannel((()=>{const t=new K.Uint8ArrayWriteBuffer;return t.onCommit((t=>{this.server.onMessage(e,t)})),t})),i=new p.RPCProtocolImpl(t);return this.watcher.onPostMessageEvent((i=>{e===i.pluginHostId&&t.onMessageEmitter.fire((()=>new K.Uint8ArrayReadBuffer(i.message)))})),i}async updateStoragePath(){const e=await this.getStoragePath();for(const t of this.managers.values())t.$updateStoragePath(e)}async getStoragePath(){var e;const t=await this.workspaceService.roots;return this.pluginPathsService.getHostStoragePath(null===(e=this.workspaceService.workspace)||void 0===e?void 0:e.resource.toString(),t.map((e=>e.resource.toString())))}async getHostGlobalStoragePath(){const e=await this.envServer.getConfigDirUri(),t=new O.default(e).resolve("globalStorage");await this.fileService.exists(t)||await this.fileService.createFolder(t,{fromUserGesture:!1});const i=await this.fileService.fsPath(t);if(!i)throw new Error(`Could not resolve the FS path for URI: ${t}`);return i}async activateByEvent(e){this.activationEvents.has(e)||(this.activationEvents.add(e),await Promise.all(Array.from(this.managers.values(),(t=>t.$activateByEvent(e)))))}async activateByViewContainer(e){await Promise.all(this.viewRegistry.getContainerViews(e).map((e=>this.activateByView(e))))}async activateByView(e){await this.activateByEvent(`onView:${e}`)}async activateByLanguage(e){await this.activateByEvent(`onLanguage:${e}`)}async activateByCommand(e){await this.activateByEvent(`onCommand:${e}`)}async activateByTaskType(e){await this.activateByEvent(`onTaskType:${e}`)}async activateByCustomEditor(e){await this.activateByEvent(`onCustomEditor:${e}`)}activateByFileSystem(e){return this.activateByEvent(`onFileSystem:${e.scheme}`)}activateByTerminalProfile(e){return this.activateByEvent(`onTerminalProfile:${e}`)}ensureFileSystemActivation(e){e.waitUntil(this.activateByFileSystem(e))}ensureCommandHandlerRegistration(e){const t=this.activateByCommand(e.commandId);if(this.commands.getCommand(e.commandId)&&(!this.contributionHandler.hasCommand(e.commandId)||this.contributionHandler.hasCommandHandler(e.commandId)))return;const i=new w.Deferred,n=this.contributionHandler.onDidRegisterCommandHandler((t=>{t===e.commandId&&(n.dispose(),i.resolve())})),o=Promise.all([t,i.promise]);o.then((()=>n.dispose()),(()=>n.dispose())),e.waitUntil(o)}ensureTaskActivation(e){const i=[this.activateByCommand("workbench.action.tasks.runTask")],n=e.taskType;if(n)if(n===t.ALL_ACTIVATION_EVENT)for(const e of this.taskDefinitionRegistry.getAll())i.push(this.activateByTaskType(e.taskType));else i.push(this.activateByTaskType(n));e.waitUntil(Promise.all(i))}ensureDebugActivation(e,t,i){e.waitUntil(this.activateByDebug(t,i))}async activateByDebug(e,t){const i=[this.activateByEvent("onDebug")];e&&(i.push(this.activateByEvent(e)),t&&i.push(this.activateByEvent(e+":"+t))),await Promise.all(i)}async activateByWorkspaceContains(e,i){const n=i.contributes&&i.contributes.activationEvents;if(!n)return;const o=[],r=[];for(const e of n)if(/^workspaceContains:/.test(e)){const i=e.substring(18);i.indexOf(t.ALL_ACTIVATION_EVENT)>=0||i.indexOf("?")>=0?r.push(i):o.push(i)}const s=()=>e.$activateByEvent(`onPlugin:${i.metadata.model.id}`),a=[];if(o.length&&a.push(this.workspaceService.containsSome(o)),r.length){const e=new g.CancellationTokenSource,t=setTimeout((()=>{e.cancel(),s()}),7e3);a.push((async()=>{try{return(await this.fileSearchService.find("",{rootUris:this.workspaceService.tryGetRoots().map((e=>e.resource.toString())),includePatterns:r,limit:1},e.token)).length>0}catch(e){return(0,g.isCancelled)(e)||console.error(e),!1}finally{clearTimeout(t)}})())}a.length&&await Promise.all(a).then((e=>e.some((e=>e))))&&await s()}async activatePlugin(e){const t=[];for(const i of this.managers.values())t.push(i.$activatePlugin(e));await Promise.all(t)}measure(e){return this.stopwatch.start(e,{context:this.clientId})}getPluginCount(e){return`${e} plugin${1===e?"":"s"}`}registerWebviewReviver(e,t){if(this.webviewRevivers.has(e))throw new Error(`Reviver for ${e} already registered`);this.webviewRevivers.set(e,t)}unregisterWebviewReviver(e){this.webviewRevivers.delete(e)}async preserveWebviews(){for(const e of this.widgets.getWidgets(B.WebviewWidget.FACTORY_ID))this.preserveWebview(e);for(const e of this.widgets.getWidgets(z.CustomEditorWidget.FACTORY_ID))e.modelRef.dispose(),e.closeWithoutSaving&&delete e.closeWithoutSaving,this.customEditorRegistry.resolveWidget(e)}preserveWebview(e){this.webviewsToRestore.has(e)||(this.webviewsToRestore.add(e),e.disposed.connect((()=>this.webviewsToRestore.delete(e))))}restoreWebviews(){for(const e of this.webviewsToRestore)this.restoreWebview(e);this.webviewsToRestore.clear()}async restoreWebview(e){await this.activateByEvent(`onWebviewPanel:${e.viewType}`);const t=this.webviewRevivers.get(e.viewType);if(t)try{await t(e)}catch(t){e.setHTML(this.getDeserializationFailedContents(`\n                An error occurred while restoring '${e.viewType}' view. Please check logs.\n                `)),console.error("Failed to restore the webview",t)}}getDeserializationFailedContents(e){return`<!DOCTYPE html>\n        <html>\n            <head>\n                <meta http-equiv="Content-type" content="text/html;charset=UTF-8">\n                <meta http-equiv="Content-Security-Policy" content="default-src 'none';">\n            </head>\n            <body>${e}</body>\n        </html>`}};n([(0,a.inject)(g.ILogger),o("design:type",Object)],$.prototype,"logger",void 0),n([(0,a.inject)(l.HostedPluginServer),o("design:type",Object)],$.prototype,"server",void 0),n([(0,a.inject)(d.HostedPluginWatcher),o("design:type",d.HostedPluginWatcher)],$.prototype,"watcher",void 0),n([(0,a.inject)(b.PluginContributionHandler),o("design:type",b.PluginContributionHandler)],$.prototype,"contributionHandler",void 0),n([(0,a.inject)(g.ContributionProvider),(0,a.named)(A.MainPluginApiProvider),o("design:type",Object)],$.prototype,"mainPluginApiProviders",void 0),n([(0,a.inject)(l.PluginServer),o("design:type",Object)],$.prototype,"pluginServer",void 0),n([(0,a.inject)(f.PreferenceProviderProvider),o("design:type",Function)],$.prototype,"preferenceProviderProvider",void 0),n([(0,a.inject)(f.PreferenceServiceImpl),o("design:type",f.PreferenceServiceImpl)],$.prototype,"preferenceServiceImpl",void 0),n([(0,a.inject)(y.PluginPathsService),o("design:type",Object)],$.prototype,"pluginPathsService",void 0),n([(0,a.inject)(m.WorkspaceService),o("design:type",m.WorkspaceService)],$.prototype,"workspaceService",void 0),n([(0,a.inject)(g.CommandRegistry),o("design:type",g.CommandRegistry)],$.prototype,"commands",void 0),n([(0,a.inject)(_.DebugSessionManager),o("design:type",_.DebugSessionManager)],$.prototype,"debugSessionManager",void 0),n([(0,a.inject)(S.DebugConfigurationManager),o("design:type",S.DebugConfigurationManager)],$.prototype,"debugConfigurationManager",void 0),n([(0,a.inject)(j.FileService),o("design:type",j.FileService)],$.prototype,"fileService",void 0),n([(0,a.inject)(E.FileSearchService),o("design:type",Object)],$.prototype,"fileSearchService",void 0),n([(0,a.inject)(k.FrontendApplicationStateService),o("design:type",k.FrontendApplicationStateService)],$.prototype,"appState",void 0),n([(0,a.inject)(x.PluginViewRegistry),o("design:type",x.PluginViewRegistry)],$.prototype,"viewRegistry",void 0),n([(0,a.inject)(D.TaskProviderRegistry),o("design:type",D.TaskProviderRegistry)],$.prototype,"taskProviderRegistry",void 0),n([(0,a.inject)(D.TaskResolverRegistry),o("design:type",D.TaskResolverRegistry)],$.prototype,"taskResolverRegistry",void 0),n([(0,a.inject)(T.TaskDefinitionRegistry),o("design:type",T.TaskDefinitionRegistry)],$.prototype,"taskDefinitionRegistry",void 0),n([(0,a.inject)(g.ProgressService),o("design:type",g.ProgressService)],$.prototype,"progressService",void 0),n([(0,a.inject)(M.WebviewEnvironment),o("design:type",M.WebviewEnvironment)],$.prototype,"webviewEnvironment",void 0),n([(0,a.inject)(I.WidgetManager),o("design:type",I.WidgetManager)],$.prototype,"widgets",void 0),n([(0,a.inject)(L.TerminalService),o("design:type",Object)],$.prototype,"terminalService",void 0),n([(0,a.inject)(P.EnvVariablesServer),o("design:type",Object)],$.prototype,"envServer",void 0),n([(0,a.inject)(F.JsonSchemaStore),o("design:type",F.JsonSchemaStore)],$.prototype,"jsonSchemaStore",void 0),n([(0,a.inject)(W.PluginCustomEditorRegistry),o("design:type",W.PluginCustomEditorRegistry)],$.prototype,"customEditorRegistry",void 0),n([(0,a.inject)(V.Stopwatch),o("design:type",V.Stopwatch)],$.prototype,"stopwatch",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],$.prototype,"init",null),$=n([(0,a.injectable)()],$),t.HostedPluginSupport=$;class q extends g.DisposableCollection{constructor(e){super(),this.plugin=e,this.state=q.State.INITIALIZING}}t.PluginContributions=q,function(e){let t;!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.STARTING=3]="STARTING",e[e.STARTED=4]="STARTED"}(t=e.State||(e.State={}))}(q=t.PluginContributions||(t.PluginContributions={}))},16641:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginWorker=void 0;const r=i(16009),s=i(45952),a=i(70801),c=i(54306);let l=class{constructor(){this.worker=new Worker(new URL(i.p+i.u(285),i.b));const e=new r.BasicChannel((()=>{const e=new s.Uint8ArrayWriteBuffer;return e.onCommit((e=>{this.worker.postMessage(e)})),e}));this.rpc=new c.RPCProtocolImpl(e),this.worker.onmessage=t=>e.onMessageEmitter.fire((()=>new s.Uint8ArrayReadBuffer(t.data))),this.worker.onerror=t=>e.onErrorEmitter.fire(t)}};l=n([(0,a.injectable)(),o("design:paramtypes",[])],l),t.PluginWorker=l},70529:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthenticationProviderImpl=t.AuthenticationMainImpl=t.getAuthenticationProviderActivationEvent=void 0;const n=i(16138),o=i(13318),r=i(87361),s=i(70974),a=i(36856),c=i(44989);async function l(e,t,i,n,o){const r=`authentication-${t}-${i}-usages`,s=await u(e,t,i),a=s.findIndex((e=>e.extensionId===n));a>-1?s.splice(a,1,{extensionId:n,extensionName:o,lastUsed:Date.now()}):s.push({extensionId:n,extensionName:o,lastUsed:Date.now()}),await e.setData(r,JSON.stringify(s))}t.getAuthenticationProviderActivationEvent=function(e){return`onAuthenticationRequest:${e}`},t.AuthenticationMainImpl=class{constructor(e,t){this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.AUTHENTICATION_EXT),this.messageService=t.get(o.MessageService),this.storageService=t.get(r.StorageService),this.authenticationService=t.get(s.AuthenticationService),this.quickPickService=t.get(a.QuickPickService),this.authenticationService.onDidChangeSessions((e=>{this.proxy.$onDidChangeAuthenticationSessions({id:e.providerId,label:e.label})}))}async $registerAuthenticationProvider(e,t,i){const n=new d(this.proxy,e,t,i,this.storageService,this.messageService);this.authenticationService.registerAuthenticationProvider(e,n)}async $unregisterAuthenticationProvider(e){this.authenticationService.unregisterAuthenticationProvider(e)}async $updateSessions(e,t){this.authenticationService.updateSessions(e,t)}$logout(e,t){return this.authenticationService.logout(e,t)}async requestNewSession(e,t,i,n){return this.authenticationService.requestNewSession(e,t,i,n)}async $getSession(e,t,i,n,o){const r=await this.authenticationService.getSessions(e,t);if(o.forceNewSession&&!r.length)throw new Error("No existing sessions found.");if(o.forceNewSession&&o.createIfNone)throw new Error("Invalid combination of options. Please remove one of the following: forceNewSession, createIfNone");if(o.forceNewSession&&o.silent)throw new Error("Invalid combination of options. Please remove one of the following: forceNewSession, silent");if(o.createIfNone&&o.silent)throw new Error("Invalid combination of options. Please remove one of the following: createIfNone, silent");const s=this.authenticationService.supportsMultipleAccounts(e);if(!o.forceNewSession&&r.length)if(s)if(o.clearSessionPreference)await this.storageService.setData(`authentication-session-${n}-${e}`,void 0);else{const t=await this.storageService.getData(`authentication-session-${n}-${e}`);if(t){const n=r.find((e=>e.id===t));if(n&&await this.isAccessAllowed(e,n.account.label,i))return n}}else if(await this.isAccessAllowed(e,r[0].account.label,i))return r[0];if(o.createIfNone||o.forceNewSession){const a=this.authenticationService.getLabel(e),c="object"==typeof o.forceNewSession?o.forceNewSession.detail:void 0;if(!await this.loginPrompt(a,n,!!o.forceNewSession,c))throw new Error("User did not consent to login.");const l=(null==r?void 0:r.length)&&!o.forceNewSession&&s?await this.selectSession(e,a,i,n,r,t,!!o.clearSessionPreference):await this.authenticationService.login(e,t);return await this.setTrustedExtensionAndAccountPreference(e,l.account.label,i,n,l.id),l}const a=r.find((t=>this.isAccessAllowed(e,t.account.label,i)));return o.silent||a||this.authenticationService.requestNewSession(e,t,i,n),a}async selectSession(e,t,i,n,o,r,a){if(!o.length)throw new Error("No potential sessions found");return new Promise((async(a,l)=>{var d,u;const h=o.map((e=>({label:e.account.label,value:{session:e}})));h.push({label:c.nls.localizeByDefault("Sign in to another account"),value:{session:void 0}});const p=await this.quickPickService.show(h,{title:c.nls.localizeByDefault("The extension '{0}' wants to access a {1} account",n,t),ignoreFocusOut:!0});if(p){const t=null!==(u=null===(d=p.value)||void 0===d?void 0:d.session)&&void 0!==u?u:await this.authenticationService.login(e,r),o=t.account.label,c=await(0,s.readAllowedExtensions)(this.storageService,e,o);c.find((e=>e.id===i))||(c.push({id:i,name:n}),this.storageService.setData(`authentication-trusted-extensions-${e}-${o}`,JSON.stringify(c))),this.storageService.setData(`authentication-session-${n}-${e}`,t.id),a(t)}else l("User did not consent to account access")}))}async getSessionsPrompt(e,t,i,n,o){const r=await(0,s.readAllowedExtensions)(this.storageService,e,t);if(r.find((e=>e.id===n)))return l(this.storageService,e,t,n,o),!0;const a="Allow"===await this.messageService.info(`The extension '${o}' wants to access the ${i} account '${t}'.`,"Allow","Cancel");return a&&(await l(this.storageService,e,t,n,o),r.push({id:n,name:o}),this.storageService.setData(`authentication-trusted-extensions-${e}-${t}`,JSON.stringify(r))),a}async loginPrompt(e,t,i,n){const o=i?c.nls.localizeByDefault("The extension '{0}' wants you to sign in again using {1}.",t,e):c.nls.localizeByDefault("The extension '{0}' wants to sign in using {1}.",t,e);return"Allow"===await this.messageService.info(o,"Allow","Cancel")}async isAccessAllowed(e,t,i){return!!(await(0,s.readAllowedExtensions)(this.storageService,e,t)).find((e=>e.id===i))}async setTrustedExtensionAndAccountPreference(e,t,i,n,o){const r=await(0,s.readAllowedExtensions)(this.storageService,e,t);r.find((e=>e.id===i))||(r.push({id:i,name:n}),this.storageService.setData(`authentication-trusted-extensions-${e}-${t}`,JSON.stringify(r))),this.storageService.setData(`authentication-session-${n}-${e}`,o)}$onDidChangeSessions(e,t){this.authenticationService.updateSessions(e,t)}};class d{constructor(e,t,i,n,o,r){this.proxy=e,this.id=t,this.label=i,this.supportsMultipleAccounts=n,this.storageService=o,this.messageService=r,this.accounts=new Map,this.sessions=new Map}hasSessions(){return!!this.sessions.size}registerSession(e){this.sessions.set(e.id,e.account.label);const t=this.accounts.get(e.account.label);t?this.accounts.set(e.account.label,t.concat(e.id)):this.accounts.set(e.account.label,[e.id])}async signOut(e){const t=await u(this.storageService,this.id,e),i=this.accounts.get(e),n=await this.messageService.info(t.length?c.nls.localizeByDefault("The account '{0}' has been used by: \n\n{1}\n\n Sign out from these extensions?",e,t.map((e=>e.extensionName)).join(", ")):c.nls.localizeByDefault("Sign out of '{0}'?",e),c.nls.localizeByDefault("Sign Out"),r.Dialog.CANCEL);n&&n===c.nls.localizeByDefault("Sign Out")&&i&&(i.forEach((e=>this.removeSession(e))),function(e,t,i){const n=`authentication-${t}-${i}-usages`;e.setData(n,void 0)}(this.storageService,this.id,e))}async getSessions(e){return this.proxy.$getSessions(this.id,e)}async updateSessionItems(e){const{added:t,removed:i}=e,n=await this.proxy.$getSessions(this.id),o=t?n.filter((e=>t.some((t=>t.id===e.id)))):[];null==i||i.forEach((e=>{const t=e.id;if(t){const e=this.sessions.get(t);if(e){this.sessions.delete(t);const i=this.accounts.get(e)||[],n=i.indexOf(t);i.splice(n),i.length||this.accounts.delete(e)}}})),o.forEach((e=>this.registerSession(e)))}async login(e){return this.createSession(e)}async logout(e){return this.removeSession(e)}createSession(e){return this.proxy.$createSession(this.id,e)}removeSession(e){return this.proxy.$removeSession(this.id,e).then((()=>{this.messageService.info("Successfully signed out.")}))}}async function u(e,t,i){const n=`authentication-${t}-${i}-usages`,o=await e.getData(n);let r=[];if(o)try{r=JSON.parse(o)}catch(e){console.log(e)}return r}t.AuthenticationProviderImpl=d},96791:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardMainImpl=void 0;const n=i(8594);t.ClipboardMainImpl=class{constructor(e){this.clipboardService=e.get(n.ClipboardService)}async $readText(){return await this.clipboardService.readText()}async $writeText(e){await this.clipboardService.writeText(e)}}},19141:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRegistryMainImpl=void 0;const n=i(12202),o=i(51138),r=i(16138),s=i(87361),a=i(68975);t.CommandRegistryMainImpl=class{constructor(e,t){this.commands=new Map,this.handlers=new Map,this.toDispose=new o.DisposableCollection,this.proxy=e.getProxy(r.MAIN_RPC_CONTEXT.COMMAND_REGISTRY_EXT),this.delegate=t.get(n.CommandRegistry),this.keyBinding=t.get(s.KeybindingRegistry),this.contributions=t.get(a.PluginContributionHandler)}dispose(){this.toDispose.dispose()}$registerCommand(e){const t=e.id;this.commands.set(t,this.contributions.registerCommand(e)),this.toDispose.push(o.Disposable.create((()=>this.$unregisterCommand(t))))}$unregisterCommand(e){const t=this.commands.get(e);t&&(t.dispose(),this.commands.delete(e))}$registerHandler(e){this.handlers.set(e,this.contributions.registerCommandHandler(e,((...t)=>this.proxy.$executeCommand(e,...t)))),this.toDispose.push(o.Disposable.create((()=>this.$unregisterHandler(e))))}$unregisterHandler(e){const t=this.handlers.get(e);t&&(t.dispose(),this.handlers.delete(e))}async $executeCommand(e,...t){if(!this.delegate.getCommand(e))throw new Error(`Command with id '${e}' is not registered.`);try{return await this.delegate.executeCommand(e,...t)}catch(e){if("code"in e&&"NO_ACTIVE_HANDLER"===e.code)return;throw e}}$getKeyBinding(e){try{const t=this.keyBinding.getKeybindingsForCommand(e);return t?Promise.resolve(t.map((t=>({id:e,value:t.keybinding})))):Promise.resolve(void 0)}catch(e){return Promise.reject(e)}}$getCommands(){return Promise.resolve(this.delegate.commandIds)}}},45753:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenUriCommandHandler=void 0;const s=i(70801),a=i(12202),c=i(87361),l=i(51208),d=i(49080),u=i(44989);let h=class{constructor(e,t){this.windowService=e,this.commandService=t,this.openNewTabDialog=new p(e)}execute(e){if(!e)return;const t=e.toString();t.startsWith("http://")||t.startsWith("https://")?this.openWebUri(t):this.commandService.executeCommand("editor.action.openLink",t)}openWebUri(e){try{this.windowService.openNewWindow(e)}catch(t){this.openNewTabDialog.showOpenNewTabDialog(e)}}};h.COMMAND_METADATA={id:"theia.open"},h=n([(0,s.injectable)(),r(0,(0,s.inject)(l.WindowService)),r(1,(0,s.inject)(a.CommandService)),o("design:paramtypes",[Object,Object])],h),t.OpenUriCommandHandler=h;class p extends c.AbstractDialog{constructor(e){super({title:u.nls.localize("theia/plugin/blockNewTab","Your browser prevented opening of a new tab")}),this.windowService=e,this.linkNode=document.createElement("a"),this.linkNode.target="_blank",this.linkNode.setAttribute("style","color: var(--theia-editorWidget-foreground);"),this.contentNode.appendChild(this.linkNode);const t=document.createElement("div");t.innerText="You are going to open: ",t.appendChild(this.linkNode),this.contentNode.appendChild(t),this.appendCloseButton(),this.openButton=this.appendAcceptButton(u.nls.localizeByDefault("Open"))}showOpenNewTabDialog(e){this.value=e,this.linkNode.innerHTML=d.sanitize(e),this.linkNode.href=e,this.openButton.onclick=()=>{this.windowService.openNewWindow(e)},this.open()}}},83312:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentGlyphWidget=void 0,t.CommentGlyphWidget=class{constructor(e){this.commentsDecorations=[],this.commentsOptions={isWholeLine:!0,linesDecorationsClassName:"comment-range-glyph comment-thread"},this.editor=e}getPosition(){const e=this.editor.getModel(),t=e&&this.commentsDecorations&&this.commentsDecorations.length?e.getDecorationRange(this.commentsDecorations[0]):null;return t?t.startLineNumber:this.lineNumber}setLineNumber(e){this.lineNumber=e;const t=[{range:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},options:this.commentsOptions}];this.commentsDecorations=this.editor.deltaDecorations(this.commentsDecorations,t)}dispose(){this.commentsDecorations&&this.editor.deltaDecorations(this.commentsDecorations,[])}}},9720:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentAction=t.CommentActions=t.CommentsInlineAction=t.CommentEditContainer=t.CommentBody=t.ReviewComment=t.CommentForm=t.CommentThreadWidget=t.COMMENT_TITLE=t.COMMENT_CONTEXT=t.COMMENT_THREAD_CONTEXT=void 0;const n=i(98436),o=i(13869),r=i(83312),s=i(87361),a=i(92664),c=i(30566),l=i(9825),d=i(39539),u=i(13558);t.COMMENT_THREAD_CONTEXT=["comment_thread-context-menu"],t.COMMENT_CONTEXT=["comment-context-menu"],t.COMMENT_TITLE=["comment-title-menu"];class h extends s.BaseWidget{constructor(e,i,s,c,d,h,p){super(),this._owner=i,this._commentThread=s,this.commentService=c,this.menus=d,this.contextKeyService=h,this.commands=p,this.commentFormRef=a.createRef(),this.toDispose.push(this.zoneWidget=new n.MonacoEditorZoneWidget(e)),this.containerNodeRoot=(0,u.createRoot)(this.zoneWidget.containerNode),this.toDispose.push(this.commentGlyphWidget=new r.CommentGlyphWidget(e)),this.toDispose.push(this._commentThread.onDidChangeCollapsibleState((e=>{if(e!==o.CommentThreadCollapsibleState.Expanded||this.isExpanded)e===o.CommentThreadCollapsibleState.Collapsed&&this.isExpanded&&this.hide();else{const e=this._commentThread.range.startLineNumber;this.display({afterLineNumber:e,afterColumn:1,heightInLines:2})}}))),this.contextKeyService.commentIsEmpty.set(!0),this.toDispose.push(this.zoneWidget.editor.onMouseDown((e=>this.onEditorMouseDown(e)))),this.toDispose.push(this.contextKeyService.onDidChange((()=>{const e=this.commentFormRef.current;e&&e.update()}))),this.toDispose.push(this._commentThread.onDidChangeCanReply((e=>{const t=this.commentFormRef.current;t&&t.update()}))),this.toDispose.push(this._commentThread.onDidChangeState((e=>{this.update()}))),this.contextMenu=this.menus.getMenu(t.COMMENT_THREAD_CONTEXT),this.contextMenu.children.map((e=>e instanceof l.ActionMenuNode&&e.when)).forEach((e=>{"string"==typeof e&&this.contextKeyService.setExpression(e)}))}getGlyphPosition(){return this.commentGlyphWidget.getPosition()}collapse(){this._commentThread.collapsibleState=o.CommentThreadCollapsibleState.Collapsed,this._commentThread.comments&&0===this._commentThread.comments.length&&this.deleteCommentThread(),this.hide()}deleteCommentThread(){this.dispose(),this.commentService.disposeCommentThread(this.owner,this._commentThread.threadId)}dispose(){super.dispose(),this.commentGlyphWidget&&this.commentGlyphWidget.dispose()}toggleExpand(e){this.isExpanded?(this._commentThread.collapsibleState=o.CommentThreadCollapsibleState.Collapsed,this.hide(),this._commentThread.comments&&this._commentThread.comments.length||this.deleteCommentThread()):(this._commentThread.collapsibleState=o.CommentThreadCollapsibleState.Expanded,this.display({afterLineNumber:e,afterColumn:1,heightInLines:2}))}hide(){this.zoneWidget.hide(),this.isExpanded=!1,super.hide()}display(e){this.isExpanded=!0,this._commentThread.collapsibleState&&this._commentThread.collapsibleState!==o.CommentThreadCollapsibleState.Expanded||(this.commentGlyphWidget.setLineNumber(e.afterLineNumber),this._commentThread.collapsibleState=o.CommentThreadCollapsibleState.Expanded,this.zoneWidget.show(e),this.update())}onEditorMouseDown(e){const t=e.target.range;if(!t)return;if(!e.event.leftButton)return;if(e.target.type!==c.MouseTargetType.GUTTER_LINE_DECORATIONS)return;const i=e.target.detail;if(i.offsetX-i.glyphMarginWidth-i.lineNumbersWidth-i.glyphMarginLeft>14)return;const n={lineNumber:t.startLineNumber},{lineNumber:r}=n;t&&t.startLineNumber===r&&e.target.type===c.MouseTargetType.GUTTER_LINE_DECORATIONS&&e.target.element&&(this.commentGlyphWidget&&this.commentGlyphWidget.getPosition()!==r||(e.target.element.className.indexOf("comment-thread")>=0?this.toggleExpand(r):this._commentThread.collapsibleState===o.CommentThreadCollapsibleState.Collapsed?this.display({afterLineNumber:n.lineNumber,heightInLines:2}):this.hide()))}get owner(){return this._owner}get commentThread(){return this._commentThread}getThreadLabel(){let e;if(e=this._commentThread.label,void 0===e)if(this._commentThread.comments&&this._commentThread.comments.length){const t=(e,t,i)=>i.indexOf(e)===t;e=`Participants: ${this._commentThread.comments.filter(t).map((e=>`@${e.userName}`)).join(", ")} ${this._commentThread.state===o.CommentThreadState.Resolved?"(Resolved)":"(Unresolved)"}`}else e="Start discussion";return e}update(){if(!this.isExpanded)return;this.render();const e=Math.ceil(1.2*this.zoneWidget.editor.getOption(d.editor.EditorOption.lineHeight)),t=this.zoneWidget.editor.getOption(d.editor.EditorOption.lineHeight),i=Math.round(t/3),n=2*Math.round(t/9),o=this.zoneWidget.containerNode.getElementsByClassName("body")[0],r=Math.ceil((e+o.clientHeight+i+n+8)/t);this.zoneWidget.show({afterLineNumber:this._commentThread.range.startLineNumber,heightInLines:r})}render(){var e;const t=Math.ceil(1.2*this.zoneWidget.editor.getOption(d.editor.EditorOption.lineHeight));this.containerNodeRoot.render(a.createElement("div",{className:"review-widget"},a.createElement("div",{className:"head",style:{height:t,lineHeight:`${t}px`}},a.createElement("div",{className:"review-title"},a.createElement("span",{className:"filename"},this.getThreadLabel())),a.createElement("div",{className:"review-actions"},a.createElement("div",{className:"monaco-action-bar animated"},a.createElement("ul",{className:"actions-container",role:"toolbar"},a.createElement("li",{className:"action-item",role:"presentation"},a.createElement("a",{className:"action-label codicon expand-review-action codicon-chevron-up",role:"button",tabIndex:0,title:"Collapse",onClick:()=>this.collapse()})))))),a.createElement("div",{className:"body"},a.createElement("div",{className:"comments-container",role:"presentation",tabIndex:0},null===(e=this._commentThread.comments)||void 0===e?void 0:e.map(((e,t)=>a.createElement(g,{key:t,contextKeyService:this.contextKeyService,menus:this.menus,comment:e,commentForm:this.commentFormRef,commands:this.commands,commentThread:this._commentThread})))),a.createElement(p,{contextKeyService:this.contextKeyService,commands:this.commands,commentThread:this._commentThread,menus:this.menus,widget:this,ref:this.commentFormRef}))))}}t.CommentThreadWidget=h;class p extends a.Component{constructor(e){super(e),this.inputRef=a.createRef(),this.inputValue="",this.getInput=()=>this.inputValue,this.clearInput=()=>{const e=this.inputRef.current;e&&(this.inputValue="",e.value=this.inputValue,this.props.contextKeyService.commentIsEmpty.set(!0))},this.expand=()=>{this.setState({expanded:!0}),setTimeout((()=>{var e;this.props.widget.update(),null===(e=this.inputRef.current)||void 0===e||e.focus()}),100)},this.collapse=()=>{this.setState({expanded:!1}),setTimeout((()=>{this.props.widget.update()}),100)},this.onInput=e=>{const t=e.target.value;0!==this.inputValue.length&&0!==t.length||this.props.contextKeyService.commentIsEmpty.set(0===t.length),this.inputValue=t},this.state={expanded:!1};const i=this.setState.bind(this);this.setState=e=>{i(e)},this.menu=this.props.menus.getMenu(t.COMMENT_THREAD_CONTEXT),this.menu.children.map((e=>e instanceof l.ActionMenuNode&&e.when)).forEach((e=>{"string"==typeof e&&this.props.contextKeyService.setExpression(e)}))}update(){this.setState(this.state)}componentDidMount(){setTimeout((()=>{var e;null===(e=this.inputRef.current)||void 0===e||e.focus()}),100)}render(){const{commands:e,commentThread:t,contextKeyService:i}=this.props,n=t.comments&&t.comments.length>0;return t.canReply?a.createElement("div",{className:"comment-form"+(this.state.expanded||t.comments&&0===t.comments.length?" expand":"")},a.createElement("div",{className:"theia-comments-input-message-container"},a.createElement("textarea",{className:"theia-comments-input-message theia-input",spellCheck:!1,placeholder:n?"Reply...":"Type a new comment",onInput:this.onInput,onBlur:e=>{e.target.value.length>0||(e.relatedTarget&&"comments-button comments-text-button theia-button"===e.relatedTarget.className?this.state={expanded:!1}:this.collapse())},ref:this.inputRef})),a.createElement(v,{menu:this.menu,contextKeyService:i,commands:e,commentThread:t,getInput:this.getInput,clearInput:this.clearInput}),a.createElement("button",{className:"review-thread-reply-button",title:"Reply...",onClick:this.expand},"Reply...")):null}}t.CommentForm=p;class g extends a.Component{constructor(e){super(e),this.detectHover=e=>{e&&window.requestAnimationFrame((()=>{const t=e.matches(":hover");this.setState({hover:t})}))},this.showHover=()=>this.setState({hover:!0}),this.hideHover=()=>this.setState({hover:!1}),this.state={hover:!1};const t=this.setState.bind(this);this.setState=e=>{t(e)}}render(){const{comment:e,commentForm:i,contextKeyService:n,menus:r,commands:s,commentThread:c}=this.props,d=e.uniqueIdInThread,{hover:u}=this.state;return n.comment.set(e.contextValue),a.createElement("div",{className:"review-comment",tabIndex:-1,"aria-label":`${e.userName}, ${e.body.value}`,ref:this.detectHover,onMouseEnter:this.showHover,onMouseLeave:this.hideHover},a.createElement("div",{className:"avatar-container"},a.createElement("img",{className:"avatar",src:e.userIconPath})),a.createElement("div",{className:"review-comment-contents"},a.createElement("div",{className:"comment-title monaco-mouse-cursor-text"},a.createElement("strong",{className:"author"},e.userName),a.createElement("small",{className:"timestamp"},this.localeDate(e.timestamp)),a.createElement("span",{className:"isPending"},e.label),a.createElement("div",{className:"theia-comments-inline-actions-container"},a.createElement("div",{className:"theia-comments-inline-actions",role:"toolbar"},u&&r.getMenu(t.COMMENT_TITLE).children.map(((e,t)=>e instanceof l.ActionMenuNode&&a.createElement(b,{key:t,node:e,commands:s,commentThread:c,commentUniqueId:d,contextKeyService:n})))))),a.createElement(f,{value:e.body.value,isVisible:void 0===e.mode||e.mode===o.CommentMode.Preview}),a.createElement(m,{contextKeyService:n,menus:r,comment:e,commentThread:c,commentForm:i,commands:s})))}localeDate(e){if(void 0===e)return"";const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleString()}}t.ReviewComment=g;class f extends a.Component{render(){const{value:e,isVisible:t}=this.props;return!!t&&a.createElement("div",{className:"comment-body monaco-mouse-cursor-text"},a.createElement("div",null,a.createElement("p",null,e)))}}t.CommentBody=f;class m extends a.Component{constructor(){super(...arguments),this.inputRef=a.createRef()}componentDidUpdate(e,t){var i;const n=null===(i=this.props.commentForm.current)||void 0===i?void 0:i.state,o=this.props.comment.mode;if(this.dirtyCommentMode!==o||this.dirtyCommentFormState!==(null==n?void 0:n.expanded)&&!(null==n?void 0:n.expanded)){const e=this.inputRef.current;e&&setTimeout((()=>{e.focus(),e.setSelectionRange(e.value.length,e.value.length)}),50)}this.dirtyCommentMode=o,this.dirtyCommentFormState=null==n?void 0:n.expanded}render(){const{menus:e,comment:i,commands:n,commentThread:r,contextKeyService:s}=this.props;return i.mode===o.CommentMode.Editing&&a.createElement("div",{className:"edit-container"},a.createElement("div",{className:"edit-textarea"},a.createElement("div",{className:"theia-comments-input-message-container"},a.createElement("textarea",{className:"theia-comments-input-message theia-input",spellCheck:!1,defaultValue:i.body.value,ref:this.inputRef}))),a.createElement("div",{className:"form-actions"},e.getMenu(t.COMMENT_CONTEXT).children.map(((e,t)=>e instanceof l.ActionMenuNode&&a.createElement(A,{key:t,node:e,commands:n,onClick:()=>{n.executeCommand(e.id,{thread:r,commentUniqueId:i.uniqueIdInThread,text:this.inputRef.current?this.inputRef.current.value:""})},contextKeyService:s})))))}}t.CommentEditContainer=m;class b extends a.Component{render(){const{node:e,commands:t,contextKeyService:i,commentThread:n,commentUniqueId:o}=this.props;return!(e.when&&!i.match(e.when))&&a.createElement("div",{className:"theia-comments-inline-action"},a.createElement("a",{className:e.icon,title:e.label,onClick:()=>{t.executeCommand(e.id,{thread:n,commentUniqueId:o})}}))}}t.CommentsInlineAction=b;class v extends a.Component{render(){const{contextKeyService:e,commands:t,menu:i,commentThread:n,getInput:o,clearInput:r}=this.props;return a.createElement("div",{className:"form-actions"},i.children.map(((i,s)=>i instanceof l.ActionMenuNode&&a.createElement(A,{key:s,commands:t,node:i,onClick:()=>{t.executeCommand(i.id,{thread:n,text:o()}),r()},contextKeyService:e}))))}}t.CommentActions=v;class A extends a.Component{render(){const e=["comments-button","comments-text-button","theia-button"],{node:t,commands:i,contextKeyService:n,onClick:o}=this.props;if(t.when&&!n.match(t.when))return!1;const r=i.isEnabled(t.command);return r||e.push(s.DISABLED_CLASS),a.createElement("button",{className:e.join(" "),tabIndex:0,role:"button",onClick:()=>{r&&o()}},t.label)}}t.CommentAction=A},68311:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsContextKeyService=void 0;const r=i(70801),s=i(949),a=i(9825);let c=class{constructor(){this.contextKeys=new Set,this.onDidChangeEmitter=new a.Emitter,this.onDidChange=this.onDidChangeEmitter.event}get commentController(){return this._commentController}get comment(){return this._comment}get commentIsEmpty(){return this._commentIsEmpty}init(){this.contextKeys.add("commentIsEmpty"),this._commentController=this.contextKeyService.createKey("commentController",void 0),this._comment=this.contextKeyService.createKey("comment",void 0),this._commentIsEmpty=this.contextKeyService.createKey("commentIsEmpty",!0),this.contextKeyService.onDidChange((e=>{e.affects(this.contextKeys)&&this.onDidChangeEmitter.fire()}))}setExpression(e){var t;null===(t=this.contextKeyService.parseKeys(e))||void 0===t||t.forEach((e=>{this.contextKeys.add(e)}))}match(e){return!e||this.contextKeyService.match(e)}};n([(0,r.inject)(s.ContextKeyService),o("design:type",Object)],c.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"init",null),c=n([(0,r.injectable)()],c),t.CommentsContextKeyService=c},63494:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsContribution=void 0;const s=i(70801),a=i(39539),c=i(26082),l=i(30566),d=i(23281),u=i(9720),h=i(21162),p=i(9825),g=i(10433),f=i(68311),m=i(949);let b=class{constructor(e,t,i){this.rangeDecorator=e,this.commentService=t,this.editorManager=i,this.emptyThreadsToAddQueue=[],this.commentWidgets=[],this.commentInfos=[],this.commentService.onDidSetResourceCommentInfos((e=>{const t=this.getCurrentEditor(),i=t&&t.editor instanceof d.MonacoDiffEditor&&t.editor.diffEditor.getModifiedEditor().getModel();i&&i.toString()===e.resource.toString()&&this.setComments(e.commentInfos.filter((e=>null!==e)))})),this.editorManager.onCreated((async e=>{const t=new p.DisposableCollection,i=e.editor;if(i instanceof d.MonacoDiffEditor){const e=i.diffEditor.getOriginalEditor().getModel();if(e){const t=await this.commentService.getComments(e.uri);t&&this.rangeDecorator.update(i.diffEditor.getOriginalEditor(),t.filter((e=>!!e)))}const n=i.diffEditor.getModifiedEditor().getModel();if(n){const e=await this.commentService.getComments(n.uri);e&&this.rangeDecorator.update(i.diffEditor.getModifiedEditor(),e.filter((e=>!!e)))}t.push(i.onMouseDown((e=>this.onEditorMouseDown(e)))),t.push(this.commentService.onDidUpdateCommentThreads((async e=>{const t=i.document.uri,n=this.commentInfos.filter((t=>t.owner===e.owner));if(!n||!n.length)return;const o=e.added.filter((e=>e.resource&&e.resource.toString()===t.toString())),r=e.removed.filter((e=>e.resource&&e.resource.toString()===t.toString())),s=e.changed.filter((e=>e.resource&&e.resource.toString()===t.toString()));r.forEach((t=>{const i=this.commentWidgets.filter((i=>i.owner===e.owner&&i.commentThread.threadId===t.threadId&&""!==i.commentThread.threadId));if(i.length){const e=i[0],t=this.commentWidgets.indexOf(e);this.commentWidgets.splice(t,1),e.dispose()}})),s.forEach((t=>{const i=this.commentWidgets.filter((i=>i.owner===e.owner&&i.commentThread.threadId===t.threadId));i.length&&i[0].update()})),o.forEach((t=>{this.displayCommentThread(e.owner,t),this.commentInfos.filter((t=>t.owner===e.owner))[0].threads.push(t)}))}))),i.onDispose((()=>{t.dispose()})),this.beginCompute()}}))}onEditorMouseDown(e){let t=null;const i=e.target.range;if(!i)return;if(e.target.type!==a.editor.MouseTargetType.GUTTER_LINE_DECORATIONS)return;const n=e.target.detail;if(n.offsetX-n.glyphMarginWidth-n.lineNumbersWidth-n.glyphMarginLeft>14)return;t={lineNumber:i.start};const{lineNumber:o}=t;t=null,i&&i.start===o&&e.target.element&&e.target.element.className.indexOf("comment-diff-added")>=0&&this.addOrToggleCommentAtLine(e.target.position.line+1,e)}async beginCompute(){const e=this.editor&&this.editor.getModel(),t=this.editor&&e&&e.uri;if(t){const e=await this.commentService.getComments(t);this.setComments(e.filter((e=>!!e)))}}setComments(e){this.editor&&(this.commentInfos=e)}get editor(){const e=this.getCurrentEditor();if(e&&e.editor instanceof d.MonacoDiffEditor)return e.editor.diffEditor.getModifiedEditor()}displayCommentThread(e,t){const i=this.editor;if(i){const n=this.commentService.getCommentController(e);n&&this.commentsContextKeyService.commentController.set(n.id);const o=new u.CommentThreadWidget(i,e,t,this.commentService,this.menus,this.commentsContextKeyService,this.commands);o.display({afterLineNumber:t.range.startLineNumber,heightInLines:5});const r=this.getCurrentEditor();r&&r.onDispose((()=>o.dispose())),this.commentWidgets.push(o)}}async addOrToggleCommentAtLine(e,t){if(this.addInProgress)this.emptyThreadsToAddQueue.push([e,t]);else{this.addInProgress=!0;const i=this.commentWidgets.filter((t=>t.getGlyphPosition()===e));if(i.length)return i.forEach((t=>t.toggleExpand(e))),void this.processNextThreadToAdd();this.addCommentAtLine(e,t)}}processNextThreadToAdd(){this.addInProgress=!1;const e=this.emptyThreadsToAddQueue.shift();e&&this.addOrToggleCommentAtLine(e[0],e[1])}getCurrentEditor(){return this.editorManager.currentEditor}addCommentAtLine(e,t){const i=this.rangeDecorator.getMatchedCommentAction(e);if(!this.getCurrentEditor())return Promise.resolve();if(!i.length)return Promise.resolve();const{ownerId:n}=i[0];return this.addCommentAtLine2(e,n),Promise.resolve()}addCommentAtLine2(e,t){const i=this.editor&&this.editor.getModel(),n=this.editor&&i&&i.uri;n&&(this.commentService.createCommentThreadTemplate(t,g.URI.parse(n.toString()),{startLineNumber:e,endLineNumber:e,startColumn:1,endColumn:1}),this.processNextThreadToAdd())}};n([(0,s.inject)(p.MenuModelRegistry),o("design:type",p.MenuModelRegistry)],b.prototype,"menus",void 0),n([(0,s.inject)(f.CommentsContextKeyService),o("design:type",f.CommentsContextKeyService)],b.prototype,"commentsContextKeyService",void 0),n([(0,s.inject)(m.ContextKeyService),o("design:type",Object)],b.prototype,"contextKeyService",void 0),n([(0,s.inject)(p.CommandRegistry),o("design:type",p.CommandRegistry)],b.prototype,"commands",void 0),b=n([(0,s.injectable)(),r(0,(0,s.inject)(c.CommentingRangeDecorator)),r(1,(0,s.inject)(h.CommentsService)),r(2,(0,s.inject)(l.EditorManager)),o("design:paramtypes",[c.CommentingRangeDecorator,Object,l.EditorManager])],b),t.CommentsContribution=b},26082:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CommentingRangeDecorator=void 0;const r=i(70801);let s=class{constructor(){this.commentingRangeDecorations=[],this.decorationOptions={isWholeLine:!0,linesDecorationsClassName:"comment-range-glyph comment-diff-added"}}update(e,t){if(!e.getModel())return;const i=[];for(const n of t)n.commentingRanges.ranges.forEach((t=>{i.push(new a(e,n.owner,n.extensionId,n.label,t,this.decorationOptions,n.commentingRanges))}));const n=this.commentingRangeDecorations.map((e=>e.id));e.deltaDecorations(n,[]),this.commentingRangeDecorations=i}getMatchedCommentAction(e){const t=[];for(const i of this.commentingRangeDecorations){const n=i.getActiveRange();n&&n.startLineNumber<=e&&e<=n.endLineNumber&&t.push(i.getCommentAction())}return t}};s=n([(0,r.injectable)(),o("design:paramtypes",[])],s),t.CommentingRangeDecorator=s;class a{constructor(e,t,i,n,o,r,s){this._editor=e,this._ownerId=t,this._extensionId=i,this._label=n,this._range=o,this.commentingRangesInfo=s;const a=[{range:{startLineNumber:o.startLineNumber,startColumn:1,endLineNumber:o.endLineNumber,endColumn:1},options:r}];this.decorationId=this._editor.deltaDecorations([],a)[0]}get id(){return this.decorationId}getCommentAction(){return{extensionId:this._extensionId,label:this._label,ownerId:this._ownerId,commentingRangesInfo:this.commentingRangesInfo}}getOriginalRange(){return this._range}getActiveRange(){const e=this._editor.getModel().getDecorationRange(this.decorationId);if(e)return e}}},53092:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsMainImp=t.CommentController=t.CommentThreadImpl=void 0;const n=i(18894),o=i(16138),r=i(21162),s=i(10433),a=i(79877),c=i(63494);class l{constructor(e,t,i,o,r,s){this.commentThreadHandle=e,this.controllerHandle=t,this.extensionId=i,this.threadId=o,this.resource=r,this._range=s,this.onDidChangeInputEmitter=new n.Emitter,this.onDidChangeLabelEmitter=new n.Emitter,this.onDidChangeLabel=this.onDidChangeLabelEmitter.event,this.onDidChangeCommentsEmitter=new n.Emitter,this.onDidChangeRangeEmitter=new n.Emitter,this.onDidChangeRange=this.onDidChangeRangeEmitter.event,this.onDidChangeCollapsibleStateEmitter=new n.Emitter,this.onDidChangeCollapsibleState=this.onDidChangeCollapsibleStateEmitter.event,this.onDidChangeStateEmitter=new n.Emitter,this.onDidChangeState=this.onDidChangeStateEmitter.event,this.onDidChangeCanReplyEmitter=new n.Emitter,this.onDidChangeCanReply=this.onDidChangeCanReplyEmitter.event,this._canReply=!0,this._isDisposed=!1}get input(){return this._input}set input(e){this._input=e,this.onDidChangeInputEmitter.fire(e)}get onDidChangeInput(){return this.onDidChangeInputEmitter.event}get label(){return this._label}set label(e){this._label=e,this.onDidChangeLabelEmitter.fire(this._label)}get contextValue(){return this._contextValue}set contextValue(e){this._contextValue=e}get comments(){return this._comments}set comments(e){this._comments=e,this.onDidChangeCommentsEmitter.fire(this._comments)}get onDidChangeComments(){return this.onDidChangeCommentsEmitter.event}set range(e){this._range=e,this.onDidChangeRangeEmitter.fire(this._range)}get range(){return this._range}get collapsibleState(){return this._collapsibleState}set collapsibleState(e){this._collapsibleState=e,this.onDidChangeCollapsibleStateEmitter.fire(this._collapsibleState)}get state(){return this._state}set state(e){this._state!==e&&(this._state=e,this.onDidChangeStateEmitter.fire(this._state))}get isDisposed(){return this._isDisposed}get canReply(){return this._canReply}set canReply(e){this._canReply=e,this.onDidChangeCanReplyEmitter.fire(this._canReply)}batchUpdate(e){const t=t=>Object.prototype.hasOwnProperty.call(e,t);t("range")&&(this._range=e.range),t("label")&&(this._label=e.label),t("contextValue")&&(this._contextValue=e.contextValue),t("comments")&&(this._comments=e.comments),t("collapseState")&&(this._collapsibleState=e.collapseState),t("state")&&(this._state=e.state),t("canReply")&&(this._canReply=e.canReply)}dispose(){this._isDisposed=!0,this.onDidChangeCollapsibleStateEmitter.dispose(),this.onDidChangeStateEmitter.dispose(),this.onDidChangeCommentsEmitter.dispose(),this.onDidChangeInputEmitter.dispose(),this.onDidChangeLabelEmitter.dispose(),this.onDidChangeRangeEmitter.dispose(),this.onDidChangeCanReplyEmitter.dispose()}}t.CommentThreadImpl=l;class d{constructor(e,t,i,n,o,r,s){this._proxy=e,this._commentService=t,this._handle=i,this._uniqueId=n,this._id=o,this._label=r,this._features=s,this.threads=new Map}get handle(){return this._handle}get id(){return this._id}get contextValue(){return this._id}get proxy(){return this._proxy}get label(){return this._label}get options(){return this._features.options}get features(){return this._features}updateFeatures(e){this._features=e}createCommentThread(e,t,i,n,o){const r=new l(t,this.handle,e,i,s.URI.revive(n).toString(),o);return this.threads.set(t,r),this._commentService.updateComments(this._uniqueId,{added:[r],removed:[],changed:[]}),r}updateCommentThread(e,t,i,n){const o=this.getKnownThread(e);o.batchUpdate(n),this._commentService.updateComments(this._uniqueId,{added:[],removed:[],changed:[o]})}deleteCommentThread(e){const t=this.getKnownThread(e);this.threads.delete(e),this._commentService.updateComments(this._uniqueId,{added:[],removed:[t],changed:[]}),t.dispose()}deleteCommentThreadMain(e){this.threads.forEach((t=>{t.threadId===e&&this._proxy.$deleteCommentThread(this._handle,t.commentThreadHandle)}))}updateInput(e){const t=this.activeCommentThread;if(t&&t.input){const i=t.input;i.value=e,t.input=i}}getKnownThread(e){const t=this.threads.get(e);if(!t)throw new Error("unknown thread");return t}async getDocumentComments(e,t){const i=[];for(const t of[...this.threads.keys()]){const n=this.threads.get(t);n.resource===e.toString()&&i.push(n)}const n=await this._proxy.$provideCommentingRanges(this.handle,e,t);return{owner:this._uniqueId,label:this.label,threads:i,commentingRanges:{resource:e,ranges:n||[]}}}async getCommentingRanges(e,t){return await this._proxy.$provideCommentingRanges(this.handle,e,t)||[]}getAllComments(){const e=[];for(const t of[...this.threads.keys()])e.push(this.threads.get(t));return e}createCommentThreadTemplate(e,t){this._proxy.$createCommentThreadTemplate(this.handle,e,t)}async updateCommentThreadTemplate(e,t){await this._proxy.$updateCommentThreadTemplate(this.handle,e,t)}}t.CommentController=d,t.CommentsMainImp=class{constructor(e,t){this.documentProviders=new Map,this.workspaceProviders=new Map,this.handlers=new Map,this.commentControllers=new Map,this.proxy=e.getProxy(o.MAIN_RPC_CONTEXT.COMMENTS_EXT),t.get(c.CommentsContribution),this.commentService=t.get(r.CommentsService),this.commentService.onDidChangeActiveCommentThread((async e=>{const t=e.controllerHandle,i=this.commentControllers.get(t);i&&(this.activeCommentThread=e,i.activeCommentThread=this.activeCommentThread)}))}$registerCommentController(e,t,i){const n=(0,a.v4)();this.handlers.set(e,n);const o=new d(this.proxy,this.commentService,e,n,t,i,{});this.commentService.registerCommentController(n,o),this.commentControllers.set(e,o),this.commentService.setWorkspaceComments(String(e),[])}$unregisterCommentController(e){const t=this.handlers.get(e);if("string"!=typeof t)throw new Error("unknown handler");this.commentService.unregisterCommentController(t),this.handlers.delete(e),this.commentControllers.delete(e)}$updateCommentControllerFeatures(e,t){const i=this.commentControllers.get(e);i&&i.updateFeatures(t)}$createCommentThread(e,t,i,n,o,r){const s=this.commentControllers.get(e);if(s)return s.createCommentThread(r,t,i,n,o)}$updateCommentThread(e,t,i,n,o){const r=this.commentControllers.get(e);if(r)return r.updateCommentThread(t,i,n,o)}$deleteCommentThread(e,t){const i=this.commentControllers.get(e);if(i)return i.deleteCommentThread(t)}getHandler(e){if(!this.handlers.has(e))throw new Error("Unknown handler");return this.handlers.get(e)}$onDidCommentThreadsChange(e,t){const i=this.getHandler(e);this.commentService.updateComments(i,t)}dispose(){this.workspaceProviders.forEach((e=>e.dispose())),this.workspaceProviders.clear(),this.documentProviders.forEach((e=>e.dispose())),this.documentProviders.clear()}}},21162:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginCommentService=t.CommentsService=void 0;const o=i(70801),r=i(18894),s=i(67841);t.CommentsService=Symbol("CommentsService");let a=class{constructor(){this.onDidSetDataProviderEmitter=new r.Emitter,this.onDidSetDataProvider=this.onDidSetDataProviderEmitter.event,this.onDidDeleteDataProviderEmitter=new r.Emitter,this.onDidDeleteDataProvider=this.onDidDeleteDataProviderEmitter.event,this.onDidSetResourceCommentInfosEmitter=new r.Emitter,this.onDidSetResourceCommentInfos=this.onDidSetResourceCommentInfosEmitter.event,this.onDidSetAllCommentThreadsEmitter=new r.Emitter,this.onDidSetAllCommentThreads=this.onDidSetAllCommentThreadsEmitter.event,this.onDidUpdateCommentThreadsEmitter=new r.Emitter,this.onDidUpdateCommentThreads=this.onDidUpdateCommentThreadsEmitter.event,this.onDidChangeActiveCommentThreadEmitter=new r.Emitter,this.onDidChangeActiveCommentThread=this.onDidChangeActiveCommentThreadEmitter.event,this.onDidChangeActiveCommentingRangeEmitter=new r.Emitter,this.onDidChangeActiveCommentingRange=this.onDidChangeActiveCommentingRangeEmitter.event,this.commentControls=new Map}setActiveCommentThread(e){this.onDidChangeActiveCommentThreadEmitter.fire(e)}setDocumentComments(e,t){this.onDidSetResourceCommentInfosEmitter.fire({resource:e,commentInfos:t})}setWorkspaceComments(e,t){this.onDidSetAllCommentThreadsEmitter.fire({ownerId:e,commentThreads:t})}removeWorkspaceComments(e){this.onDidSetAllCommentThreadsEmitter.fire({ownerId:e,commentThreads:[]})}registerCommentController(e,t){this.commentControls.set(e,t),this.onDidSetDataProviderEmitter.fire()}unregisterCommentController(e){this.commentControls.delete(e),this.onDidDeleteDataProviderEmitter.fire(e)}getCommentController(e){return this.commentControls.get(e)}createCommentThreadTemplate(e,t,i){const n=this.commentControls.get(e);n&&n.createCommentThreadTemplate(t,i)}async updateCommentThreadTemplate(e,t,i){const n=this.commentControls.get(e);n&&await n.updateCommentThreadTemplate(t,i)}disposeCommentThread(e,t){const i=this.getCommentController(e);i&&i.deleteCommentThreadMain(t)}updateComments(e,t){const i=Object.assign({},t,{owner:e});this.onDidUpdateCommentThreadsEmitter.fire(i)}async getComments(e){const t=[];return this.commentControls.forEach((i=>{t.push(i.getDocumentComments(e,s.CancellationToken.None).catch((e=>(console.log(e),null))))})),Promise.all(t)}async getCommentingRanges(e){const t=[];return this.commentControls.forEach((i=>{t.push(i.getCommentingRanges(e,s.CancellationToken.None))})),(await Promise.all(t)).reduce(((e,t)=>(e.push(...t),e)),[])}};a=n([(0,o.injectable)()],a),t.PluginCommentService=a},69709:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomEditorContribution=void 0;const r=i(70801),s=i(87361),a=i(4434);let c=class{registerCommands(e){e.registerHandler(s.CommonCommands.UNDO.id,{isEnabled:()=>this.shell.activeWidget instanceof a.CustomEditorWidget,execute:()=>this.shell.activeWidget.undo()}),e.registerHandler(s.CommonCommands.REDO.id,{isEnabled:()=>this.shell.activeWidget instanceof a.CustomEditorWidget,execute:()=>this.shell.activeWidget.redo()})}};n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],c.prototype,"shell",void 0),c=n([(0,r.injectable)()],c),t.CustomEditorContribution=c},40940:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomEditorOpener=void 0;const s=i(70801),a=i(87361),c=i(14820),l=i(4434),d=i(79877),u=i(9825),h=i(80982);let p=class e{constructor(t,i,n){this.editor=t,this.shell=i,this.widgetManager=n,this.onDidOpenCustomEditorEmitter=new u.Emitter,this.onDidOpenCustomEditor=this.onDidOpenCustomEditorEmitter.event,this.pendingWidgetPromises=new Map,this.id=e.toCustomEditorId(this.editor.viewType),this.label=this.editor.displayName}static toCustomEditorId(e){return`custom-editor-${e}`}canHandle(e){return this.matches(this.editor.selector,e)?this.getPriority():0}getPriority(){switch(this.editor.priority){case c.CustomEditorPriority.default:return 500;case c.CustomEditorPriority.builtin:return 400;case c.CustomEditorPriority.option:return 1;default:return 200}}async open(e,t){let i;if(i=this.widgetManager.getWidgets(l.CustomEditorWidget.FACTORY_ID).find((t=>t.viewType===this.editor.viewType&&t.resource.toString()===e.toString())),null==i?void 0:i.isVisible)return this.shell.revealWidget(i.id);if(null==i?void 0:i.isAttached)return this.shell.activateWidget(i.id);if(!i){const n=e.toString();let o=this.pendingWidgetPromises.get(n);if(!o){const r=(0,d.v4)();o=this.widgetManager.getOrCreateWidget(l.CustomEditorWidget.FACTORY_ID,{id:r}),this.pendingWidgetPromises.set(n,o),i=await o,this.pendingWidgetPromises.delete(n),i.viewType=this.editor.viewType,i.resource=e,this.onDidOpenCustomEditorEmitter.fire([i,t])}}return i}matches(e,t){return e.some((e=>this.selectorMatches(e,t)))}selectorMatches(e,t){return!(!e.filenamePattern||!(0,h.match)(e.filenamePattern.toLowerCase(),t.path.name.toLowerCase()+t.path.ext.toLowerCase()))}};p=n([r(1,(0,s.inject)(a.ApplicationShell)),r(2,(0,s.inject)(a.WidgetManager)),o("design:paramtypes",[Object,a.ApplicationShell,a.WidgetManager])],p),t.CustomEditorOpener=p},71442:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.once=t.CustomEditorModelManager=t.CustomEditorService=void 0;const o=i(70801);let r=class{constructor(){this._models=new s}get models(){return this._models}};r=n([(0,o.injectable)()],r),t.CustomEditorService=r;class s{constructor(){this.references=new Map}add(e,t,i){const n=this.key(e,t);if(this.references.get(n))throw new Error("Model already exists");return this.references.set(n,{viewType:t,model:i,counter:0}),this.tryRetain(e,t)}async get(e,t){const i=this.key(e,t),n=this.references.get(i);return null==n?void 0:n.model}tryRetain(e,t){const i=this.key(e,t),n=this.references.get(i);if(n)return n.counter++,n.model.then((e=>({object:e,dispose:a((()=>{--n.counter<=0&&(n.model.then((e=>e.dispose())),this.references.delete(i))}))})))}disposeAllModelsForView(e){for(const[t,i]of this.references)i.viewType===e&&(i.model.then((e=>e.dispose())),this.references.delete(t))}key(e,t){return`${e.toString()}@@@${t}`}}function a(e){const t=this;let i,n=!1;return function(){return n||(n=!0,i=e.apply(t,arguments)),i}}t.CustomEditorModelManager=s,t.once=a},41436:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomEditorWidgetFactory=void 0;const n=i(4434),o=i(4196),r=i(47225);t.CustomEditorWidgetFactory=class{constructor(e){this.id=n.CustomEditorWidget.FACTORY_ID,this.container=e}async createWidget(e){let t=(await this.container.get(r.WebviewEnvironment).externalEndpoint()).replace("{{uuid}}",e.id);"/"===t[t.length-1]&&(t=t.slice(0,t.length-1));const i=this.container.createChild();return i.bind(o.WebviewWidgetIdentifier).toConstantValue(e),i.bind(o.WebviewWidgetExternalEndpoint).toConstantValue(t),i.get(n.CustomEditorWidget)}}},4434:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomEditorWidget=void 0;const s=i(70801),a=i(30970),c=i(87361),l=i(63896),d=i(4196),u=i(79558);let h=n=class extends d.WebviewWidget{get modelRef(){return this._modelRef}set modelRef(e){this._modelRef=e,this.doUpdateContent(),c.Saveable.apply(this,(()=>this.shell.widgets.filter((e=>!!c.Saveable.get(e)))),((e,t)=>this.saveService.save(e,t)))}get saveable(){return this._modelRef.object}init(){super.init(),this.id=n.FACTORY_ID+":"+this.identifier.id,this.toDispose.push(this.fileService.onDidRunOperation((e=>{e.isOperation(2)&&this.doMove(e.target.resource)})))}undo(){this.undoRedoService.undo(this.resource)}redo(){this.undoRedoService.redo(this.resource)}async save(e){await this._modelRef.object.saveCustomEditor(e)}async saveAs(e,t,i){const n=await this._modelRef.object.saveCustomEditorAs(e,t,i);return this.doMove(t),n}getResourceUri(){return this.resource}createMoveToUri(e){return this.resource.withPath(e.path)}storeState(){return{...super.storeState(),strResource:this.resource.toString()}}restoreState(e){const{strResource:t}=e;this.resource=new a.default(t),super.restoreState(e)}onMove(e){this._moveHandler=e}doMove(e){this._moveHandler&&this._moveHandler(e)}};h.FACTORY_ID="plugin-custom-editor",o([(0,s.inject)(u.UndoRedoService),r("design:type",u.UndoRedoService)],h.prototype,"undoRedoService",void 0),o([(0,s.inject)(c.ApplicationShell),r("design:type",c.ApplicationShell)],h.prototype,"shell",void 0),o([(0,s.inject)(l.SaveResourceService),r("design:type",l.SaveResourceService)],h.prototype,"saveService",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],h.prototype,"init",null),h=n=o([(0,s.injectable)()],h),t.CustomEditorWidget=h},2248:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomTextEditorModel=t.MainCustomEditorModel=t.CustomEditorsMainImpl=void 0;const n=i(16138),o=i(81602),r=i(4626),s=i(4434),a=i(9825),c=i(10433),l=i(30970),d=i(51138),u=i(67841),h=i(14784),p=i(71442),g=i(14304),f=i(79558),m=i(9791),b=i(87361),v=i(30566),A=i(92147);t.CustomEditorsMainImpl=class{constructor(e,t,i){this.webviewsMain=i,this.editorProviders=new Map,this.pluginService=t.get(o.HostedPluginSupport),this.shell=t.get(b.ApplicationShell),this.textModelService=t.get(h.EditorModelService),this.fileService=t.get(g.FileService),this.customEditorService=t.get(p.CustomEditorService),this.undoRedoService=t.get(f.UndoRedoService),this.customEditorRegistry=t.get(r.PluginCustomEditorRegistry),this.labelProvider=t.get(b.DefaultUriLabelProviderContribution),this.editorPreferences=t.get(v.EditorPreferences),this.widgetManager=t.get(m.WidgetManager),this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.CUSTOM_EDITORS_EXT)}dispose(){for(const e of this.editorProviders.values())e.dispose();this.editorProviders.clear()}$registerTextEditorProvider(e,t,i){this.registerEditorProvider(1,e,t,i,!0)}$registerCustomEditorProvider(e,t,i){this.registerEditorProvider(0,e,t,{},i)}async registerEditorProvider(e,t,i,n,o){if(this.editorProviders.has(t))throw new Error(`Provider for ${t} already registered`);const r=new d.DisposableCollection;r.push(this.customEditorRegistry.registerResolver(t,(async(o,r)=>{const{resource:s,identifier:a}=o;o.options=i;const l=new u.CancellationTokenSource;let d=await this.getOrCreateCustomEditorModel(e,s,t,l.token);if(o.modelRef=d,o.onDidDispose((()=>{if(d.object.dirty){const e=d.object.onDirtyChanged((()=>{d.object.dirty||(e.dispose(),d.dispose())}))}else d.dispose()})),n.supportsMove){const i=new u.CancellationTokenSource;o.onMove((async n=>{const o=d;d=await this.getOrCreateCustomEditorModel(e,n,t,i.token),this.proxy.$onMoveCustomEditor(a.id,c.URI.file(n.path.toString()),t),o.dispose()}))}const h=new u.CancellationTokenSource;await this.proxy.$resolveWebviewEditor(c.URI.file(s.path.toString()),a.id,t,this.labelProvider.getName(s),r,i,h.token)}))),this.editorProviders.set(t,r)}$unregisterEditorProvider(e){const t=this.editorProviders.get(e);if(!t)throw new Error(`No provider for ${e} registered`);t.dispose(),this.editorProviders.delete(e),this.customEditorService.models.disposeAllModelsForView(e)}async getOrCreateCustomEditorModel(e,t,i,n){const o=this.customEditorService.models.tryRetain(t,i);if(o)return o;switch(e){case 1:{const e=C.create(i,t,this.textModelService,this.fileService);return this.customEditorService.models.add(t,i,e)}case 0:{const e=y.create(this.proxy,i,t,this.undoRedoService,this.fileService,this.editorPreferences,n);return this.customEditorService.models.add(t,i,e)}}}async getCustomEditorModel(e,t){const i=c.URI.revive(e),n=await this.customEditorService.models.get(new l.default(i),t);if(!(n&&n instanceof y))throw new Error("Could not find model for custom editor");return n}async $onDidEdit(e,t,i,n){(await this.getCustomEditorModel(e,t)).pushEdit(i,n)}async $onContentChange(e,t){(await this.getCustomEditorModel(e,t)).changeContent()}async $createCustomEditorPanel(e,t,i,n){const o=await this.widgetManager.getOrCreateWidget(s.CustomEditorWidget.FACTORY_ID,{id:e});this.webviewsMain.hookWebview(o),o.title.label=t;const{enableFindWidget:r,retainContextWhenHidden:a,enableScripts:c,enableForms:l,localResourceRoots:d,...u}=n;if(o.viewColumn=A.ViewColumn.One,o.options={enableFindWidget:r,retainContextWhenHidden:a},o.setContentOptions({allowScripts:c,allowForms:l,localResourceRoots:d&&d.map((e=>e.toString())),...u,...o.contentOptions}),o.isAttached)return void(o.isVisible&&this.shell.revealWidget(o.id));const h={preserveFocus:!0};if(i&&("reveal"===i.mode&&(h.preserveFocus=!1),i.widgetOptions)){let e;switch(i.widgetOptions.area){case"main":e=A.WebviewPanelTargetArea.Main;case"left":e=A.WebviewPanelTargetArea.Left;case"right":e=A.WebviewPanelTargetArea.Right;case"bottom":e=A.WebviewPanelTargetArea.Bottom;default:e=A.WebviewPanelTargetArea.Main}h.area=e,"split-right"!==i.widgetOptions.mode&&"open-to-right"!==i.widgetOptions.mode||(h.viewColumn=A.ViewColumn.Beside)}this.webviewsMain.addOrReattachWidget(o,h)}};class y{constructor(e,t,i,n,o,r,s){this.proxy=e,this.viewType=t,this.editorResource=i,this.editable=n,this.undoRedoService=o,this.fileService=r,this.editorPreferences=s,this.currentEditIndex=-1,this.savePoint=-1,this.isDirtyFromContentChange=!1,this.edits=[],this.toDispose=new d.DisposableCollection,this.onDirtyChangedEmitter=new a.Emitter,this.onDirtyChanged=this.onDirtyChangedEmitter.event,this.autoSave=this.editorPreferences.get("files.autoSave",void 0,i.toString()),this.autoSaveDelay=this.editorPreferences.get("files.autoSaveDelay",void 0,i.toString()),this.toDispose.push(this.editorPreferences.onPreferenceChanged((e=>{"files.autoSave"===e.preferenceName&&(this.autoSave=this.editorPreferences.get("files.autoSave",void 0,i.toString())),"files.autoSaveDelay"===e.preferenceName&&(this.autoSaveDelay=this.editorPreferences.get("files.autoSaveDelay",void 0,i.toString()))}))),this.toDispose.push(this.onDirtyChangedEmitter)}static async create(e,t,i,n,o,r,s){const{editable:a}=await e.$createCustomDocument(c.URI.file(i.path.toString()),t,{},s);return new y(e,t,i,a,n,o,r)}get resource(){return c.URI.file(this.editorResource.path.toString())}get dirty(){return!!this.isDirtyFromContentChange||this.edits.length>0&&this.savePoint!==this.currentEditIndex}get readonly(){return!this.editable}setProxy(e){this.proxy=e}dispose(){this.editable&&this.undoRedoService.removeElements(this.editorResource),this.proxy.$disposeCustomDocument(this.resource,this.viewType)}changeContent(){this.change((()=>{this.isDirtyFromContentChange=!0}))}pushEdit(e,t){if(!this.editable)throw new Error("Document is not editable");this.change((()=>{this.spliceEdits(e),this.currentEditIndex=this.edits.length-1})),this.undoRedoService.pushElement(this.editorResource,(()=>this.undo()),(()=>this.redo()))}async revert(e){if(!this.editable)return;if(this.currentEditIndex===this.savePoint&&!this.isDirtyFromContentChange)return;const t=new u.CancellationTokenSource;this.proxy.$revert(this.resource,this.viewType,t.token),this.change((()=>{this.isDirtyFromContentChange=!1,this.currentEditIndex=this.savePoint,this.spliceEdits()}))}async save(e){await this.saveCustomEditor(e)}async saveCustomEditor(e){var t;if(!this.editable)return;const i=new u.CancellationTokenSource,n=this.proxy.$onSave(this.resource,this.viewType,i.token);null===(t=this.ongoingSave)||void 0===t||t.cancel(),this.ongoingSave=i;try{await n,this.ongoingSave===i&&this.change((()=>{this.isDirtyFromContentChange=!1,this.savePoint=this.currentEditIndex}))}finally{this.ongoingSave===i&&(this.ongoingSave=void 0)}}async saveCustomEditorAs(e,t,i){if(this.editable){const e=new u.CancellationTokenSource;await this.proxy.$onSaveAs(this.resource,this.viewType,c.URI.file(t.path.toString()),e.token),this.change((()=>{this.savePoint=this.currentEditIndex}))}else await this.fileService.copy(e,t,{overwrite:!1})}async undo(){if(!this.editable)return;if(this.currentEditIndex<0)return;const e=this.edits[this.currentEditIndex];this.change((()=>{--this.currentEditIndex})),await this.proxy.$undo(this.resource,this.viewType,e,this.dirty)}async redo(){if(!this.editable)return;if(this.currentEditIndex>=this.edits.length-1)return;const e=this.edits[this.currentEditIndex+1];this.change((()=>{++this.currentEditIndex})),await this.proxy.$redo(this.resource,this.viewType,e,this.dirty)}spliceEdits(e){const t=this.currentEditIndex+1,i=this.edits.length-this.currentEditIndex,n="number"==typeof e?this.edits.splice(t,i,e):this.edits.splice(t,i);n.length&&this.proxy.$disposeEdits(this.resource,this.viewType,n)}change(e){const t=this.dirty;if(e(),this.dirty!==t&&this.onDirtyChangedEmitter.fire(),"off"!==this.autoSave&&this.dirty&&this.resource.scheme!==a.UNTITLED_SCHEME){const e=window.setTimeout((()=>{this.save(),window.clearTimeout(e)}),this.autoSaveDelay)}}}t.MainCustomEditorModel=y;class C{constructor(e,t,i,n){this.viewType=e,this.editorResource=t,this.model=i,this.fileService=n,this.toDispose=new d.DisposableCollection,this.onDirtyChangedEmitter=new a.Emitter,this.onDirtyChanged=this.onDirtyChangedEmitter.event,this.toDispose.push(this.editorTextModel.onDirtyChanged((e=>{this.onDirtyChangedEmitter.fire()}))),this.toDispose.push(this.onDirtyChangedEmitter)}static async create(e,t,i,n){const o=await i.createModelReference(t);return o.object.suppressOpenEditorWhenDirty=!0,new C(e,t,o,n)}get autoSave(){return this.editorTextModel.autoSave}get autoSaveDelay(){return this.editorTextModel.autoSaveDelay}dispose(){this.toDispose.dispose(),this.model.dispose()}get resource(){return c.URI.file(this.editorResource.path.toString())}get dirty(){return this.editorTextModel.dirty}get readonly(){return this.editorTextModel.readOnly}get editorTextModel(){return this.model.object}revert(e){return this.editorTextModel.revert(e)}save(e){return this.saveCustomEditor(e)}saveCustomEditor(e){return this.editorTextModel.save(e)}async saveCustomEditorAs(e,t,i){await this.saveCustomEditor(i),await this.fileService.copy(e,t,{overwrite:!1})}}t.CustomTextEditorModel=C},4626:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginCustomEditorRegistry=void 0;const r=i(70801),s=i(51138),a=i(40940),c=i(73246),l=i(9825),d=i(9825),u=i(8433),h=i(10483),p=i(87361),g=i(4434);let f=class{constructor(){this.editors=new Map,this.pendingEditors=new Set,this.resolvers=new Map,this.onWillOpenCustomEditorEmitter=new l.Emitter,this.onWillOpenCustomEditor=this.onWillOpenCustomEditorEmitter.event,this.resolveWidget=(e,t)=>{const i=this.resolvers.get(e.viewType);i?i(e,t):(this.pendingEditors.add(e),this.onWillOpenCustomEditorEmitter.fire(e.viewType))}}init(){this.widgetManager.onDidCreateWidget((({factoryId:e,widget:t})=>{if(e===g.CustomEditorWidget.FACTORY_ID&&t instanceof g.CustomEditorWidget){const e=t.restoreState.bind(t);t.restoreState=i=>{i.viewType&&i.strResource?(e(i),this.resolveWidget(t)):t.dispose()}}}))}registerCustomEditor(e){if(this.editors.has(e.viewType))return console.warn("editor with such id already registered: ",JSON.stringify(e)),s.Disposable.NULL;this.editors.set(e.viewType,e);const t=new s.DisposableCollection;t.push(s.Disposable.create((()=>this.editors.delete(e.viewType))));const i=new a.CustomEditorOpener(e,this.shell,this.widgetManager);t.push(this.defaultOpenerService.addHandler(i));const n=c.WorkspaceCommands.FILE_OPEN_WITH(i);return t.push(this.menuModelRegistry.registerMenuAction(h.NavigatorContextMenu.OPEN_WITH,{commandId:n.id,label:i.label})),t.push(this.commandRegistry.registerCommand(n,u.UriAwareCommandHandler.MonoSelect(this.selectionService,{execute:e=>i.open(e),isEnabled:e=>i.canHandle(e)>0,isVisible:e=>i.canHandle(e)>0}))),t.push(i.onDidOpenCustomEditor((e=>this.resolveWidget(e[0],e[1])))),t}registerResolver(e,t){if(this.resolvers.has(e))throw new Error(`Resolver for ${e} already registered`);for(const i of this.pendingEditors)i.viewType===e&&(t(i),this.pendingEditors.delete(i));return this.resolvers.set(e,t),s.Disposable.create((()=>this.resolvers.delete(e)))}};n([(0,r.inject)(p.DefaultOpenerService),o("design:type",p.DefaultOpenerService)],f.prototype,"defaultOpenerService",void 0),n([(0,r.inject)(l.MenuModelRegistry),o("design:type",l.MenuModelRegistry)],f.prototype,"menuModelRegistry",void 0),n([(0,r.inject)(l.CommandRegistry),o("design:type",l.CommandRegistry)],f.prototype,"commandRegistry",void 0),n([(0,r.inject)(d.SelectionService),o("design:type",d.SelectionService)],f.prototype,"selectionService",void 0),n([(0,r.inject)(p.WidgetManager),o("design:type",p.WidgetManager)],f.prototype,"widgetManager",void 0),n([(0,r.inject)(p.ApplicationShell),o("design:type",p.ApplicationShell)],f.prototype,"shell",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],f.prototype,"init",null),f=n([(0,r.injectable)()],f),t.PluginCustomEditorRegistry=f},79558:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceEditStack=t.UndoRedoService=void 0;const o=i(70801);let r=class{constructor(){this.editStacks=new Map}pushElement(e,t,i){let n;this.editStacks.has(e.toString())?n=this.editStacks.get(e.toString()):(n=new s,this.editStacks.set(e.toString(),n)),n.pushElement({undo:t,redo:i})}removeElements(e){this.editStacks.has(e.toString())&&this.editStacks.delete(e.toString())}undo(e){if(!this.editStacks.has(e.toString()))return;const t=this.editStacks.get(e.toString()),i=t.getClosestPastElement();i&&(t.moveBackward(i),i.undo())}redo(e){if(!this.editStacks.has(e.toString()))return;const t=this.editStacks.get(e.toString()),i=t.getClosestFutureElement();i&&(t.moveForward(i),i.redo())}};r=n([(0,o.injectable)()],r),t.UndoRedoService=r;class s{constructor(){this.past=[],this.future=[]}pushElement(e){this.future=[],this.past.push(e)}getClosestPastElement(){return 0===this.past.length?null:this.past[this.past.length-1]}getClosestFutureElement(){return 0===this.future.length?null:this.future[this.future.length-1]}moveBackward(e){this.past.pop(),this.future.push(e)}moveForward(e){this.future.pop(),this.past.push(e)}}t.ResourceEditStack=s},98700:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataTransfer=t.DataTransferItem=void 0;const n=i(92147);var o;!function(e){function t(e){return e.split("\r\n").map((e=>{if(e.startsWith("#"))return e;try{return n.URI.parse(e)}catch{}return e}))}e.from=async function(e,i){const n=await i.asString();if("text/uri-list"===e)return{id:i.id,asString:"",fileData:void 0,uriListData:t(n)};const o=i.asFile();return{id:i.id,asString:n,fileData:o?{name:o.name,uri:o.uri}:void 0}}}(o=t.DataTransferItem||(t.DataTransferItem={})),function(e){e.toDataTransferDTO=async function(e){return{items:await Promise.all(Array.from(e.entries()).map((async([e,t])=>[e,await o.from(e,t)])))}}}(t.DataTransfer||(t.DataTransfer={}))},49661:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugMainImpl=void 0;const n=i(16138),o=i(19950),r=i(87361),s=i(30566),a=i(58182),c=i(83194),l=i(10433),d=i(75605),u=i(24227),h=i(56079),p=i(12690),g=i(95296),f=i(56102),m=i(59114),b=i(57812),v=i(51138),A=i(26269),y=i(36457),C=i(81602),w=i(39275),_=i(14304),S=i(59539),E=i(68499),k=i(9825),x=i(3933),D=i(73246),T=i(13094);t.DebugMainImpl=class{constructor(e,t,i){this.connectionMain=t,this.debuggerContributions=new Map,this.configurationProviders=new Map,this.toDispose=new v.DisposableCollection,this.debugExt=e.getProxy(n.MAIN_RPC_CONTEXT.DEBUG_EXT),this.sessionManager=i.get(o.DebugSessionManager),this.labelProvider=i.get(r.LabelProvider),this.editorManager=i.get(s.EditorManager),this.breakpointsManager=i.get(a.BreakpointManager),this.consoleSessionManager=i.get(S.ConsoleSessionManager),this.configurationManager=i.get(d.DebugConfigurationManager),this.terminalService=i.get(u.TerminalService),this.messages=i.get(h.MessageClient),this.outputChannelManager=i.get(p.OutputChannelManager),this.debugPreferences=i.get(g.DebugPreferences),this.pluginDebugService=i.get(y.PluginDebugService),this.sessionContributionRegistrator=i.get(b.PluginDebugSessionContributionRegistry),this.debugContributionProvider=i.getNamed(k.ContributionProvider,x.DebugContribution),this.fileService=i.get(_.FileService),this.pluginService=i.get(C.HostedPluginSupport),this.workspaceService=i.get(D.WorkspaceService);const c=({added:e,removed:t,changed:i})=>{this.debugExt.$breakpointsDidChange(this.toTheiaPluginApiBreakpoints(e),t.map((e=>e.id)),this.toTheiaPluginApiBreakpoints(i))};this.debugExt.$breakpointsDidChange(this.toTheiaPluginApiBreakpoints(this.breakpointsManager.getBreakpoints()),[],[]),this.debugExt.$breakpointsDidChange(this.toTheiaPluginApiBreakpoints(this.breakpointsManager.getFunctionBreakpoints()),[],[]),this.toDispose.pushAll([this.breakpointsManager.onDidChangeBreakpoints(c),this.breakpointsManager.onDidChangeFunctionBreakpoints(c),this.sessionManager.onDidCreateDebugSession((e=>this.debugExt.$sessionDidCreate(e.id))),this.sessionManager.onDidStartDebugSession((e=>this.debugExt.$sessionDidStart(e.id))),this.sessionManager.onDidDestroyDebugSession((e=>this.debugExt.$sessionDidDestroy(e.id))),this.sessionManager.onDidChangeActiveDebugSession((e=>this.debugExt.$sessionDidChange(e.current&&e.current.id))),this.sessionManager.onDidReceiveDebugSessionCustomEvent((e=>this.debugExt.$onSessionCustomEvent(e.session.id,e.event,e.body)))])}dispose(){this.toDispose.dispose()}async $appendToDebugConsole(e){const t=this.consoleSessionManager.selectedSession;t instanceof E.DebugConsoleSession&&t.append(e)}async $appendLineToDebugConsole(e){const t=this.consoleSessionManager.selectedSession;t instanceof E.DebugConsoleSession&&t.appendLine(e)}async $registerDebuggerContribution(e){const t=e.type,i=await this.debugExt.$getTerminalCreationOptions(t);if(this.toDispose.disposed)return;const n=new A.PluginDebugSessionFactory(this.terminalService,this.editorManager,this.breakpointsManager,this.labelProvider,this.messages,this.outputChannelManager,this.debugPreferences,(async e=>await this.connectionMain.ensureConnection(e)),this.fileService,i,this.debugContributionProvider,this.workspaceService),o=new v.DisposableCollection(v.Disposable.create((()=>this.debuggerContributions.delete(t))));this.debuggerContributions.set(t,o),o.pushAll([this.pluginDebugService.registerDebugAdapterContribution(new f.PluginDebugAdapterContribution(e,this.debugExt,this.pluginService)),this.sessionContributionRegistrator.registerDebugSessionContribution({debugType:e.type,debugSessionFactory:()=>n})]),this.toDispose.push(v.Disposable.create((()=>this.$unregisterDebuggerConfiguration(t))))}async $unregisterDebuggerConfiguration(e){const t=this.debuggerContributions.get(e);t&&t.dispose()}$registerDebugConfigurationProvider(e){const t=e.handle,i=new v.DisposableCollection(v.Disposable.create((()=>this.configurationProviders.delete(t))));this.configurationProviders.set(t,i),i.push(this.pluginDebugService.registerDebugConfigurationProvider(new m.PluginDebugConfigurationProvider(e,this.debugExt))),this.toDispose.push(v.Disposable.create((()=>this.$unregisterDebugConfigurationProvider(t))))}async $unregisterDebugConfigurationProvider(e){const t=this.configurationProviders.get(e);t&&t.dispose()}async $addBreakpoints(e){const t=new Map;e.forEach((e=>t.set(e.id,e))),this.breakpointsManager.findMarkers({dataFilter:e=>(t.has(e.id)&&t.delete(e.id),!1)});let i=!1;const n=this.breakpointsManager.getFunctionBreakpoints();for(const e of n)t.has(e.id)&&t.delete(e.id);for(const e of t.values())if(e.location){const t=e.location,i=e.location.range.startColumn;this.breakpointsManager.addBreakpoint({id:e.id,uri:l.URI.revive(t.uri).toString(),enabled:e.enabled,raw:{line:e.location.range.startLineNumber+1,column:i>0?i+1:void 0,condition:e.condition,hitCondition:e.hitCondition,logMessage:e.logMessage}})}else e.functionName&&(i=!0,n.push({id:e.id,enabled:e.enabled,raw:{name:e.functionName}}));i&&this.breakpointsManager.setFunctionBreakpoints(n)}async $getDebugProtocolBreakpoint(e,t){var i;const n=this.sessionManager.getSession(e);if(n)return null===(i=n.getBreakpoint(t))||void 0===i?void 0:i.raw;throw new Error(`Debug session '${e}' not found`)}async $removeBreakpoints(e){const{labelProvider:t,breakpointsManager:i,editorManager:n}=this,o=this.sessionManager.currentSession,r=new Set(e);for(const e of this.breakpointsManager.findMarkers({dataFilter:e=>r.has(e.id)}))new c.DebugSourceBreakpoint(e.data,{labelProvider:t,breakpoints:i,editorManager:n,session:o}).remove();for(const e of this.breakpointsManager.getFunctionBreakpoints())r.has(e.id)&&new w.DebugFunctionBreakpoint(e,{labelProvider:t,breakpoints:i,editorManager:n,session:o}).remove()}async $customRequest(e,t,i){const n=this.sessionManager.getSession(e);if(n)return n.sendCustomRequest(t,i);throw new Error(`Debug session '${e}' not found`)}async $startDebugging(e,t,i){let n;if("string"==typeof t)for(const e of this.configurationManager.all)e.name===t&&(n=e);else n={name:t.name,configuration:t};if(!n)return console.error(`There is no debug configuration for ${t}`),!1;const o=e&&l.URI.revive(e.uri).toString();return n=T.DebugSessionOptions.isConfiguration(n)?{...n,configuration:{...n.configuration,...i},workspaceFolderUri:o}:{...n,...i,workspaceFolderUri:o},!!await this.sessionManager.start(n)}async $stopDebugging(e){if(e){const t=this.sessionManager.getSession(e);return this.sessionManager.terminateSession(t)}for(const e of this.sessionManager.sessions)this.sessionManager.terminateSession(e)}toTheiaPluginApiBreakpoints(e){return e.map((e=>this.toTheiaPluginApiBreakpoint(e)))}toTheiaPluginApiBreakpoint(e){if("uri"in e){const t=e.raw;return{id:e.id,enabled:e.enabled,condition:e.raw.condition,hitCondition:e.raw.hitCondition,logMessage:t.logMessage,location:{uri:l.URI.parse(e.uri),range:{startLineNumber:t.line-1,startColumn:(t.column||1)-1,endLineNumber:t.line-1,endColumn:(t.column||1)-1}}}}return{id:e.id,enabled:e.enabled,functionName:e.raw.name}}}},56102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginDebugAdapterContribution=void 0,t.PluginDebugAdapterContribution=class{constructor(e,t,i){this.description=e,this.debugExt=t,this.pluginService=i}get type(){return this.description.type}get label(){return this.description.label}async createDebugSession(e,t){return await this.pluginService.activateByDebug("onDebugAdapterProtocolTracker",e.type),this.debugExt.$createDebugSession(e,t)}async terminateDebugSession(e){this.debugExt.$terminateDebugSession(e)}}},59114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginDebugConfigurationProvider=void 0,t.PluginDebugConfigurationProvider=class{constructor(e,t){this.debugExt=t,this.handle=e.handle,this.type=e.type,this.triggerKind=e.trigger,e.provideDebugConfiguration&&(this.provideDebugConfigurations=async e=>this.debugExt.$provideDebugConfigurationsByHandle(this.handle,e)),e.resolveDebugConfigurations&&(this.resolveDebugConfiguration=async(e,t)=>this.debugExt.$resolveDebugConfigurationByHandle(this.handle,e,t)),e.resolveDebugConfigurationWithSubstitutedVariables&&(this.resolveDebugConfigurationWithSubstitutedVariables=async(e,t)=>this.debugExt.$resolveDebugConfigurationWithSubstitutedVariablesByHandle(this.handle,e,t))}}},36457:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginDebugService=void 0;const r=i(64002),s=i(69972),a=i(9825),c=i(51138),l=i(70801),d=i(82321),u=i(73246),h=i(16138);let p=class{constructor(){this.onDidChangeDebuggersEmitter=new a.Emitter,this.debuggers=[],this.contributors=new Map,this.configurationProviders=new Map,this.toDispose=new c.DisposableCollection(this.onDidChangeDebuggersEmitter),this.onDidChangeDebugConfigurationProvidersEmitter=new a.Emitter,this.sessionId2contrib=new Map,this.fireOnDidConfigurationProvidersChanged=s((()=>{this.onDidChangeDebugConfigurationProvidersEmitter.fire()}),100)}get onDidChangeDebuggers(){return this.onDidChangeDebuggersEmitter.event}get onDidChangeDebugConfigurationProviders(){return this.onDidChangeDebugConfigurationProvidersEmitter.event}init(){this.delegated=this.connectionProvider.createProxy(r.DebugPath),this.toDispose.pushAll([c.Disposable.create((()=>this.delegated.dispose())),c.Disposable.create((()=>{for(const e of this.sessionId2contrib.keys())this.sessionId2contrib.get(e).terminateDebugSession(e);this.sessionId2contrib.clear()}))])}registerDebugAdapterContribution(e){const{type:t}=e;return this.contributors.has(t)?(console.warn(`Debugger with type '${t}' already registered.`),c.Disposable.NULL):(this.contributors.set(t,e),c.Disposable.create((()=>this.unregisterDebugAdapterContribution(t))))}unregisterDebugAdapterContribution(e){this.contributors.delete(e)}registerDebugConfigurationProvider(e){const t=e.handle;return this.configurationProviders.set(t,e),this.fireOnDidConfigurationProvidersChanged(),c.Disposable.create((()=>this.unregisterDebugConfigurationProvider(t)))}unregisterDebugConfigurationProvider(e){this.configurationProviders.delete(e),this.fireOnDidConfigurationProvidersChanged()}async debugTypes(){const e=new Set(await this.delegated.debugTypes());for(const t of this.debuggers)e.add(t.type);for(const t of this.contributors.keys())e.add(t);return[...e]}async provideDebugConfigurations(e,t){const i=Array.from(this.configurationProviders.values()).filter((t=>t.triggerKind===h.DebugConfigurationProviderTriggerKind.Initial&&(t.type===e||"*"===t.type)&&t.provideDebugConfigurations));if(0===i.length)return this.delegated.provideDebugConfigurations(e,t);const n=[];return await Promise.all(i.map((async e=>{const i=await e.provideDebugConfigurations(t);i&&n.push(...i)}))),n}async fetchDynamicDebugConfiguration(e,t,i){const n=Array.from(this.configurationProviders.values()).filter((e=>e.triggerKind===h.DebugConfigurationProviderTriggerKind.Dynamic&&e.type===t&&e.provideDebugConfigurations));for(const t of n){const n=await t.provideDebugConfigurations(i);for(const t of n)if(t.name===e)return t}}async provideDynamicDebugConfigurations(e){const t=Array.from(this.configurationProviders.values()).filter((e=>e.triggerKind===h.DebugConfigurationProviderTriggerKind.Dynamic&&e.provideDebugConfigurations)),i={};return await Promise.all(t.map((async t=>{const n=await t.provideDebugConfigurations(e);let o=i[t.type];o=o?o.concat(n):n,o.length>0&&(i[t.type]=o)}))),i}async resolveDebugConfiguration(e,t){const i=Array.from(this.configurationProviders.values()),n=i.filter((t=>t.type===e.type&&!!t.resolveDebugConfiguration)).map((e=>e.resolveDebugConfiguration));n.push(...i.filter((e=>"*"===e.type&&!!e.resolveDebugConfiguration)).map((e=>e.resolveDebugConfiguration)));const o=await this.resolveDebugConfigurationByResolversChain(e,t,n);return o?this.delegated.resolveDebugConfiguration(o,t):o}async resolveDebugConfigurationWithSubstitutedVariables(e,t){const i=Array.from(this.configurationProviders.values()),n=i.filter((t=>t.type===e.type&&!!t.resolveDebugConfigurationWithSubstitutedVariables)).map((e=>e.resolveDebugConfigurationWithSubstitutedVariables));n.push(...i.filter((e=>"*"===e.type&&!!e.resolveDebugConfigurationWithSubstitutedVariables)).map((e=>e.resolveDebugConfigurationWithSubstitutedVariables)));const o=await this.resolveDebugConfigurationByResolversChain(e,t,n);return o?this.delegated.resolveDebugConfigurationWithSubstitutedVariables(o,t):o}async resolveDebugConfigurationByResolversChain(e,t,i){let n=e;for(const e of i)try{if(!n)break;n=await e(t,n)}catch(e){console.error(e)}return n}registerDebugger(e){return this.debuggers.push(e),c.Disposable.create((()=>{const t=this.debuggers.indexOf(e);-1!==t&&this.debuggers.splice(t,1)}))}async provideDebuggerVariables(e){for(const t of this.debuggers)if(t.type===e){const e=t.variables;if(e&&Object.keys(e).length>0)return e}return{}}async getDebuggersForLanguage(e){const t=await this.delegated.getDebuggersForLanguage(e);for(const i of this.debuggers){const n=i.languages;if(n&&-1!==n.indexOf(e)){const{label:e,type:n}=i;t.push({type:n,label:e||n})}}return t}async getSchemaAttributes(e){let t=await this.delegated.getSchemaAttributes(e);for(const i of this.debuggers)!i.configurationAttributes||i.type!==e&&"*"!==i.type&&"*"!==e||(t=t.concat(i.configurationAttributes));return t}async getConfigurationSnippets(){let e=await this.delegated.getConfigurationSnippets();for(const t of this.debuggers)t.configurationSnippets&&(e=e.concat(t.configurationSnippets));return e}async createDebugSession(e,t){const i=this.contributors.get(e.type);if(i){const n=await i.createDebugSession(e,t);return this.sessionId2contrib.set(n,i),n}return this.delegated.createDebugSession(e,t)}async terminateDebugSession(e){const t=this.sessionId2contrib.get(e);return t?(this.sessionId2contrib.delete(e),t.terminateDebugSession(e)):this.delegated.terminateDebugSession(e)}dispose(){this.toDispose.dispose()}};n([(0,l.inject)(d.WebSocketConnectionProvider),o("design:type",d.WebSocketConnectionProvider)],p.prototype,"connectionProvider",void 0),n([(0,l.inject)(u.WorkspaceService),o("design:type",u.WorkspaceService)],p.prototype,"workspaceService",void 0),n([(0,l.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],p.prototype,"init",null),p=n([(0,l.injectable)()],p),t.PluginDebugService=p},57812:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginDebugSessionContributionRegistry=void 0;const r=i(12300),s=i(70801),a=i(12704),c=i(51138);let l=class{constructor(){this.contribs=new Map}init(){for(const e of this.contributions.getContributions())this.contribs.set(e.debugType,e)}get(e){return this.contribs.get(e)}registerDebugSessionContribution(e){const{debugType:t}=e;return this.contribs.has(t)?(console.warn(`Debug session contribution already registered for ${t}`),c.Disposable.NULL):(this.contribs.set(t,e),c.Disposable.create((()=>this.unregisterDebugSessionContribution(t))))}unregisterDebugSessionContribution(e){this.contribs.delete(e)}};n([(0,s.inject)(a.ContributionProvider),(0,s.named)(r.DebugSessionContribution),o("design:type",Object)],l.prototype,"contributions",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"init",null),l=n([(0,s.injectable)()],l),t.PluginDebugSessionContributionRegistry=l},26269:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginDebugSessionFactory=t.PluginDebugSession=void 0;const n=i(12300),o=i(60280),r=i(49652);class s extends o.DebugSession{constructor(e,t,i,n,o,r,s,a,c,l,d,u,h){super(e,t,i,n,o,r,s,a,c,l,u,h),this.id=e,this.options=t,this.parentSession=i,this.connection=n,this.terminalServer=o,this.editorManager=r,this.breakpoints=s,this.labelProvider=a,this.messages=c,this.fileService=l,this.terminalOptionsExt=d,this.debugContributionProvider=u,this.workspaceService=h}async doCreateTerminal(e){return e=Object.assign({},e,this.terminalOptionsExt),super.doCreateTerminal(e)}}t.PluginDebugSession=s;class a extends n.DefaultDebugSessionFactory{constructor(e,t,i,n,o,r,s,a,c,l,d,u){super(),this.terminalService=e,this.editorManager=t,this.breakpoints=i,this.labelProvider=n,this.messages=o,this.outputChannelManager=r,this.debugPreferences=s,this.connectionFactory=a,this.fileService=c,this.terminalOptionsExt=l,this.debugContributionProvider=d,this.workspaceService=u}get(e,t,i){const n=new r.DebugSessionConnection(e,this.connectionFactory,this.getTraceOutputChannel());return new s(e,t,i,n,this.terminalService,this.editorManager,this.breakpoints,this.labelProvider,this.messages,this.fileService,this.terminalOptionsExt,this.debugContributionProvider,this.workspaceService)}}t.PluginDebugSessionFactory=a},20456:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationsMainImpl=void 0;const n=i(16138),o=i(18894),r=i(10433),s=i(67841),a=i(30970),c=i(16967);class l{constructor(e,t){this.proxy=e,this.handle=t,this.idPool=0,this.requests=new Map,this.resolver=new Map}enqueue(e,t){const i=++this.idPool,n=new Promise((t=>{this.requests.set(i,{id:i,uri:r.URI.parse(e.toString())}),this.resolver.set(i,t),this.processQueue()}));return t.onCancellationRequested((()=>{this.requests.delete(i),this.resolver.delete(i)})),n}processQueue(){"number"!=typeof this.timer&&(this.timer=setTimeout((()=>{const e=this.requests,t=this.resolver;this.proxy.$provideDecorations(this.handle,[...e.values()],s.CancellationToken.None).then((e=>{for(const[i,n]of t)n(e[i])})),this.requests=new Map,this.resolver=new Map,this.timer=void 0}),0))}}t.DecorationsMainImpl=class{constructor(e,t){this.providers=new Map,this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.DECORATIONS_EXT),this.decorationsService=t.get(c.DecorationsService)}dispose(){this.providers.forEach((e=>e.forEach((e=>e.dispose())))),this.providers.clear()}async $registerDecorationProvider(e){const t=new o.Emitter,i=new l(this.proxy,e),n=this.decorationsService.registerDecorationsProvider({onDidChange:t.event,provideDecorations:async(e,t)=>{const n=await i.enqueue(e,t);if(!n)return;const[o,r,s,a]=n;return{weight:10,bubble:null!=o&&o,colorId:null==a?void 0:a.id,tooltip:r,letter:s}}});this.providers.set(e,[t,n])}$onDidChange(e,t){const i=this.providers.get(e);if(i){const[e]=i;e.fire(t&&t.map((e=>new a.default(r.URI.revive(e).toString()))))}}$unregisterDecorationProvider(e){const t=this.providers.get(e);t&&(t.forEach((e=>e.dispose())),this.providers.delete(e))}}},13526:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogsMainImpl=void 0;const n=i(21549),o=i(73246),r=i(30970),s=i(55009),a=i(14304),c=i(18234),l=i(9825);t.DialogsMainImpl=class{constructor(e,t){this.workspaceService=t.get(o.WorkspaceService),this.fileService=t.get(a.FileService),this.environments=t.get(c.EnvVariablesServer),this.fileDialogService=t.get(n.FileDialogService),this.uploadService=t.get(s.FileUploadService)}async getRootStat(e){let t;if(e){try{t=await this.fileService.resolve(new r.default(e))}catch{t=void 0}if(t&&!t.isDirectory||!t)try{t=await this.fileService.resolve(new r.default(e).parent)}catch{t=void 0}}if(t||(t=(await this.workspaceService.roots)[0]),!t){const e=await this.environments.getHomeDirUri();try{t=await this.fileService.resolve(new r.default(e))}catch{}}return t}async $showOpenDialog(e){const t=await this.getRootStat(e.defaultUri?e.defaultUri:void 0);if(!t)throw new Error("Unable to find the rootStat");try{const i="boolean"!=typeof e.canSelectFiles||e.canSelectFiles,n="boolean"!=typeof e.canSelectFolders||e.canSelectFolders;let o=e.title;o||(i&&n?o="Open":(o=i?"Open File":"Open Folder",e.canSelectMany&&(o+="(s)")));const r={title:o,openLabel:e.openLabel,canSelectFiles:e.canSelectFiles,canSelectFolders:e.canSelectFolders,canSelectMany:e.canSelectMany,filters:e.filters},s=await this.fileDialogService.showOpenDialog(r,t);return Array.isArray(s)?s.map((e=>e.path.toString())):s?[s].map((e=>e.path.toString())):void 0}catch(e){console.error(e)}}async $showSaveDialog(e){var t;const i=await this.getRootStat(e.defaultUri?e.defaultUri:void 0);let n="";if(e.defaultUri){let t;try{t=await this.fileService.resolve(new r.default(e.defaultUri))}catch{}(t&&!t.isDirectory||!t)&&(n=new r.default(e.defaultUri).path.base)}try{const o={title:null!==(t=e.title)&&void 0!==t?t:l.nls.localizeByDefault("Save"),saveLabel:e.saveLabel,filters:e.filters,inputValue:n},r=await this.fileDialogService.showSaveDialog(o,i);return r?r.path.toString():void 0}catch(e){console.error(e)}}async $showUploadDialog(e){const t=await this.getRootStat(e.defaultUri);if(!t)throw new Error("Failed to resolve base directory where files should be uploaded");const i=await this.uploadService.upload(t.resource.toString());if(i)return i.uploaded}}},65015:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ModalNotification=t.MessageType=void 0;const r=i(70801),s=i(87361),a=i(53274);i(82853);const c=i(50058),l=i(44989);var d;!function(e){e.Error="error",e.Warning="warning",e.Info="info"}(d=t.MessageType||(t.MessageType={}));let u=class extends a.AbstractDialog{constructor(){super({title:c.FrontendApplicationConfigProvider.get().applicationName})}onCloseRequest(e){this.actionTitle=void 0,this.accept()}get value(){return this.actionTitle}showDialog(e,t,i,n){return this.contentNode.appendChild(this.createMessageNode(e,t,i,n)),this.open()}createMessageNode(e,t,i,n){const o=document.createElement("div");o.classList.add("modal-Notification");const r=o.appendChild(document.createElement("div"));r.classList.add("icon"),r.appendChild(document.createElement("i")).classList.add(...this.toIconClass(e),e.toString());const a=o.appendChild(document.createElement("div"));if(a.classList.add("text"),a.appendChild(document.createElement("p")).textContent=t,i.detail){const e=a.appendChild(document.createElement("div"));e.classList.add("detail"),e.appendChild(document.createElement("p")).textContent=i.detail}return n.forEach(((e,t)=>{const i=0===t?this.appendAcceptButton(e.title):this.createButton(e.title);i.classList.add("main"),this.controlPanel.appendChild(i),this.addKeyListener(i,s.Key.ENTER,(()=>{this.actionTitle=e.title,this.accept()}),"click")})),n.length<=0?this.appendAcceptButton():n.some((e=>!0===e.isCloseAffordance))||this.appendCloseButton(l.nls.localizeByDefault("Close")),o}toIconClass(e){return e===d.Error?(0,s.codiconArray)("error"):e===d.Warning?(0,s.codiconArray)("warning"):(0,s.codiconArray)("info")}};u=n([(0,r.injectable)(),o("design:paramtypes",[])],u),t.ModalNotification=u},48444:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentsMainImpl=t.ModelReferenceCollection=void 0;const n=i(16138),o=i(9825),r=i(30970),s=i(10433),a=i(87361),c=i(40662),l=i(39539),d=i(92147);class u{constructor(e=18e4,t=83886080){this.maxAge=e,this.maxLength=t,this.data=new Array,this.length=0}dispose(){this.data=(0,c.dispose)(this.data)||[]}add(e){const t=e.object.textEditorModel.getValueLength(),i=setTimeout(r,this.maxAge),n={length:t,dispose:r},o=this;function r(){const r=o.data.indexOf(n);r>=0&&(o.length-=t,e.dispose(),clearTimeout(i),o.data.splice(r,1))}this.data.push(n),this.length+=t,this.cleanup()}cleanup(){for(;this.length>this.maxLength;)this.data[0].dispose()}}t.ModelReferenceCollection=u;class h{constructor(e,t,i,r,s,a,c,d){this.modelService=t,this.editorManager=r,this.openerService=s,this.shell=a,this.untitledResourceResolver=c,this.languageService=d,this.syncedModels=new Map,this.modelReferenceCache=new u,this.saveTimeout=1750,this.toDispose=new o.DisposableCollection(this.modelReferenceCache),this.proxy=i.getProxy(n.MAIN_RPC_CONTEXT.DOCUMENTS_EXT),this.toDispose.push(e),this.toDispose.push(e.onDocumentAdd((e=>e.forEach(this.onModelAdded,this)))),this.toDispose.push(e.onDocumentRemove((e=>e.forEach(this.onModelRemoved,this)))),this.toDispose.push(t.onModelModeChanged(this.onModelChanged,this)),this.toDispose.push(t.onModelSaved((e=>{this.proxy.$acceptModelSaved(e.textEditorModel.uri)}))),this.toDispose.push(t.onModelWillSave((e=>{e.waitUntil(new Promise((async(t,i)=>{setTimeout((()=>i(new Error(`Aborted onWillSaveTextDocument-event after ${this.saveTimeout}ms`))),this.saveTimeout);const n=await this.proxy.$acceptModelWillSave(e.model.textEditorModel.uri,e.reason,this.saveTimeout),o=[];for(const t of n){const{range:i,text:n}=t;(i||n)&&(i&&i.startLineNumber===i.endLineNumber&&i.startColumn===i.endColumn&&!t.text||o.push({range:i?l.Range.lift(i):e.model.textEditorModel.getFullModelRange(),text:n||null,forceMoveMarkers:t.forceMoveMarkers}))}t(o)})))}))),this.toDispose.push(t.onModelDirtyChanged((e=>{this.proxy.$acceptDirtyStateChanged(e.textEditorModel.uri,e.dirty)})))}dispose(){this.toDispose.dispose()}onModelChanged(e){const t=e.model.textEditorModel.uri;this.syncedModels.has(t.toString())&&this.proxy.$acceptModelModeChanged(t,e.oldModeId,e.model.languageId)}onModelAdded(e){const t=e.textEditorModel.uri,i=t.toString(),n=new o.DisposableCollection(e.textEditorModel.onDidChangeContent((i=>this.proxy.$acceptModelChanged(t,{eol:i.eol,versionId:i.versionId,reason:i.isRedoing?d.TextDocumentChangeReason.Redo:i.isUndoing?d.TextDocumentChangeReason.Undo:void 0,changes:i.changes.map((e=>({text:e.text,range:e.range,rangeLength:e.rangeLength,rangeOffset:e.rangeOffset})))},e.dirty))),o.Disposable.create((()=>this.syncedModels.delete(i))));this.syncedModels.set(i,n),this.toDispose.push(n)}onModelRemoved(e){const t=this.syncedModels.get(e.toString());t&&t.dispose()}async $tryCreateDocument(e){const t=(null==e?void 0:e.language)&&this.languageService.getExtension(e.language),i=null==e?void 0:e.content,n=await this.untitledResourceResolver.createUntitledResource(i,t);return l.Uri.parse(n.uri.toString())}async $tryShowDocument(e,t){try{const i=h.toEditorOpenerOptions(this.shell,t),n=new r.default(s.URI.revive(e)),o=await this.openerService.getOpener(n,i);await o.open(n,i)}catch(e){throw new Error(e)}}async $trySaveDocument(e){const t=await this.editorManager.getByUri(new r.default(s.URI.revive(e)));return!!t&&(await a.Saveable.save(t),!0)}async $tryOpenDocument(e){const t=await this.modelService.createModelReference(new r.default(s.URI.revive(e)));return t.object?(this.modelReferenceCache.add(t),!0):(t.dispose(),!1)}async $tryCloseDocument(e){const t=await this.editorManager.getByUri(new r.default(s.URI.revive(e)));return!!t&&(await a.Saveable.save(t),t.close(),!0)}static toEditorOpenerOptions(e,t){if(!t)return;let i;if(t.selection){const e=t.selection;i={start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}let n={mode:"split-right"},o=t.viewColumn;if(-2===o){const t=e.mainAreaTabBars,i=e.currentTabBar;if(i){const e=t.indexOf(i);e>-1&&(o=e+2)}}if(void 0===o||-1===o)n=void 0;else if(o>0&&e.mainAreaTabBars.length>0){const t=e.mainAreaTabBars;if(o<=t.length){const e=t[o-1];(null==e?void 0:e.currentTitle)&&(n={ref:e.currentTitle.owner})}else{const e=t[t.length-1];(null==e?void 0:e.currentTitle)&&(n.ref=e.currentTitle.owner)}}return{selection:i,mode:t.preserveFocus?"reveal":"activate",preview:t.preview,widgetOptions:n}}}t.DocumentsMainImpl=h},13297:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorsAndDocumentsMain=void 0;const n=i(16138),o=i(51138),r=i(14784),s=i(91174),a=i(96625),c=i(9825),l=i(30566);t.EditorsAndDocumentsMain=class{constructor(e,t){this.textEditors=new Map,this.onTextEditorAddEmitter=new c.Emitter,this.onTextEditorRemoveEmitter=new c.Emitter,this.onDocumentAddEmitter=new c.Emitter,this.onDocumentRemoveEmitter=new c.Emitter,this.onTextEditorAdd=this.onTextEditorAddEmitter.event,this.onTextEditorRemove=this.onTextEditorRemoveEmitter.event,this.onDocumentAdd=this.onDocumentAddEmitter.event,this.onDocumentRemove=this.onDocumentRemoveEmitter.event,this.toDispose=new c.DisposableCollection(o.Disposable.create((()=>this.textEditors.clear()))),this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.EDITORS_AND_DOCUMENTS_EXT),this.editorService=t.get(l.EditorManager),this.modelService=t.get(r.EditorModelService),this.stateComputer=new d((e=>this.onDelta(e)),this.editorService,this.modelService),this.toDispose.push(this.stateComputer),this.toDispose.push(this.onTextEditorAddEmitter),this.toDispose.push(this.onTextEditorRemoveEmitter),this.toDispose.push(this.onDocumentAddEmitter),this.toDispose.push(this.onDocumentRemoveEmitter)}listen(){this.stateComputer.listen()}dispose(){this.toDispose.dispose()}onDelta(e){const t=new Array,i=new Array,n=e.removedDocuments.map((e=>e.textEditorModel.uri));for(const t of e.addedEditors){const e=new a.TextEditorMain(t.id,t.editor.getControl().getModel(),t.editor);this.textEditors.set(t.id,e),this.toDispose.push(e),i.push(e)}for(const{id:i}of e.removedEditors){const e=this.textEditors.get(i);e&&(e.dispose(),this.textEditors.delete(i),t.push(i))}const o={};let r=!0;void 0!==e.newActiveEditor&&(r=!1,o.newActiveEditor=e.newActiveEditor),n.length>0&&(r=!1,o.removedDocuments=n),t.length>0&&(r=!1,o.removedEditors=t),e.addedDocuments.length>0&&(r=!1,o.addedDocuments=e.addedDocuments.map((e=>this.toModelAddData(e)))),e.addedEditors.length>0&&(r=!1,o.addedEditors=i.map((e=>this.toTextEditorAddData(e)))),r||(this.proxy.$acceptEditorsAndDocumentsDelta(o),this.onDocumentRemoveEmitter.fire(n),this.onDocumentAddEmitter.fire(e.addedDocuments),this.onTextEditorRemoveEmitter.fire(t),this.onTextEditorAddEmitter.fire(i))}toModelAddData(e){return{uri:e.textEditorModel.uri,versionId:e.textEditorModel.getVersionId(),lines:e.textEditorModel.getLinesContent(),EOL:e.textEditorModel.getEOL(),modeId:e.languageId,isDirty:e.dirty}}toTextEditorAddData(e){const t=e.getProperties();return{id:e.getId(),documentUri:e.getModel().uri,options:t.options,selections:t.selections,visibleRanges:t.visibleRanges,editorPosition:this.findEditorPosition(e)}}findEditorPosition(e){return n.EditorPosition.ONE}getEditor(e){return this.textEditors.get(e)}saveAll(e){return this.modelService.saveAll(e)}hideEditor(e){for(const t of this.editorService.all){const i=s.MonacoEditor.get(t);if(i&&e===new p(i).id){t.close();break}}return Promise.resolve()}};class d{constructor(e,t,i){this.callback=e,this.editorService=t,this.modelService=i,this.editors=new Map,this.toDispose=new c.DisposableCollection(o.Disposable.create((()=>this.currentState=void 0)))}listen(){if(!this.toDispose.disposed){this.toDispose.push(this.editorService.onCreated((e=>{this.onTextEditorAdd(e),this.update()}))),this.toDispose.push(this.editorService.onCurrentEditorChanged((()=>this.update()))),this.toDispose.push(this.modelService.onModelAdded(this.onModelAdded,this)),this.toDispose.push(this.modelService.onModelRemoved((()=>this.update())));for(const e of this.editorService.all)this.onTextEditorAdd(e);this.update()}}dispose(){this.toDispose.dispose()}onModelAdded(e){this.currentState?(this.currentState=new h(this.currentState.documents.add(e),this.currentState.editors,this.currentState.activeEditor),this.callback(new u([],[e],[],[],void 0,void 0))):this.update()}onTextEditorAdd(e){const t=s.MonacoEditor.get(e);if(!t)return;const i=t.getControl().getId(),n=new c.DisposableCollection(t.onDispose((()=>this.onTextEditorRemove(t))),o.Disposable.create((()=>this.editors.delete(i))));this.editors.set(i,n),this.toDispose.push(n)}onTextEditorRemove(e){const t=this.editors.get(e.getControl().getId());t&&(t.dispose(),this.update())}update(){const e=new Set;for(const t of this.modelService.getModels())e.add(t);let t=null;const i=s.MonacoEditor.getCurrent(this.editorService),n=new Map;for(const e of this.editorService.all){const o=s.MonacoEditor.get(e);if(!o||!e.isVisible)continue;const r=o.getControl().getModel();if(r&&!r.isDisposed()){const e=new p(o);n.set(e.id,e),i===o&&(t=e.id)}}const o=new h(e,n,t),r=h.compute(this.currentState,o);r.isEmpty||(this.currentState=o,this.callback(r))}}class u{constructor(e,t,i,n,o,r){this.removedDocuments=e,this.addedDocuments=t,this.removedEditors=i,this.addedEditors=n,this.oldActiveEditor=o,this.newActiveEditor=r,this.isEmpty=0===this.removedDocuments.length&&0===this.addedDocuments.length&&0===this.addedEditors.length&&0===this.removedEditors.length&&this.newActiveEditor===this.oldActiveEditor}}class h{constructor(e,t,i){this.documents=e,this.editors=t,this.activeEditor=i}static compute(e,t){if(!e)return new u([],Array.from(t.documents),[],Array.from(t.editors.values()),void 0,t.activeEditor);const i=g.ofSets(e.documents,t.documents),n=g.ofMaps(e.editors,t.editors),o=e.activeEditor!==t.activeEditor?e.activeEditor:void 0,r=e.activeEditor!==t.activeEditor?t.activeEditor:void 0;return new u(i.removed,i.added,n.removed,n.added,o,r)}}class p{constructor(e){this.editor=e,this.id=`${e.getControl().getId()},${e.getControl().getModel().id}`}}var g;!function(e){e.ofSets=function(e,t){const i=[],n=[];return e.forEach((e=>{t.has(e)||i.push(e)})),t.forEach((t=>{e.has(t)||n.push(t)})),{removed:i,added:n}},e.ofMaps=function(e,t){const i=[],n=[];return e.forEach(((e,n)=>{t.has(n)||i.push(e)})),t.forEach(((t,i)=>{e.has(i)||n.push(t)})),{removed:i,added:n}}}(g||(g={}))},79298:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryParameters=t.EnvMainImpl=void 0;const n=i(18234),o=i(9825),r=i(92147);t.EnvMainImpl=class{constructor(e,t){this.envVariableServer=t.get(n.EnvVariablesServer)}$getEnvVariable(e){return this.envVariableServer.getValue(e).then((e=>e?e.value:void 0))}async $getClientOperatingSystem(){return o.isWindows?r.OperatingSystem.Windows:o.isOSX?r.OperatingSystem.OSX:r.OperatingSystem.Linux}},t.getQueryParameters=function(){const e={};if(""!==window.location.search){const t=window.location.search.substring(1).split("&");for(const i of t){if(""===i)continue;const t=i.split("=");let n=t[0],o=t[1]?t[1]:"";try{n=decodeURIComponent(n),""!==o&&(o=decodeURIComponent(o))}catch(e){continue}const r=e[n];r?r instanceof Array?r.push(o):e[n]=[r,o]:e[n]=o}}return e}},74260:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemMainImpl=void 0;const n=i(10433),o=i(30970),r=i(58710),s=i(51138),a=i(18894),c=i(16138),l=i(36090),d=i(14304);class u{constructor(e,t){this._fileProvider=new Map,this._disposables=new s.DisposableCollection,this._proxy=e.getProxy(c.MAIN_RPC_CONTEXT.FILE_SYSTEM_EXT),this._fileService=t.get(d.FileService);for(const{scheme:e,capabilities:t}of this._fileService.listCapabilities())this._proxy.$acceptProviderInfos(e,t);this._disposables.push(this._fileService.onDidChangeFileSystemProviderRegistrations((e=>{var t;return this._proxy.$acceptProviderInfos(e.scheme,null===(t=e.provider)||void 0===t?void 0:t.capabilities)}))),this._disposables.push(this._fileService.onDidChangeFileSystemProviderCapabilities((e=>this._proxy.$acceptProviderInfos(e.scheme,e.provider.capabilities)))),this._disposables.push(s.Disposable.create((()=>this._fileProvider.forEach((e=>e.dispose()))))),this._disposables.push(s.Disposable.create((()=>this._fileProvider.clear())))}dispose(){this._disposables.dispose()}$registerFileSystemProvider(e,t,i){this._fileProvider.set(e,new h(this._fileService,t,i,e,this._proxy))}$unregisterProvider(e){const t=this._fileProvider.get(e);t&&(t.dispose(),this._fileProvider.delete(e))}$onFileSystemChange(e,t){const i=this._fileProvider.get(e);if(!i)throw new Error("Unknown file provider");i.$onFileSystemChange(t)}$stat(e){return this._fileService.resolve(new o.default(n.URI.revive(e)),{resolveMetadata:!0}).then((e=>({ctime:e.ctime,mtime:e.mtime,size:e.size,type:l.FileStat.asFileType(e)}))).catch(u._handleError)}$readdir(e){return this._fileService.resolve(new o.default(n.URI.revive(e)),{resolveMetadata:!1}).then((e=>{if(!e.isDirectory){const t=new Error(e.name);throw t.name=l.FileSystemProviderErrorCode.FileNotADirectory,t}return e.children?e.children.map((e=>[e.name,l.FileStat.asFileType(e)])):[]})).catch(u._handleError)}$readFile(e){return this._fileService.readFile(new o.default(n.URI.revive(e))).then((e=>e.value)).catch(u._handleError)}$writeFile(e,t){return this._fileService.writeFile(new o.default(n.URI.revive(e)),t).then((()=>{})).catch(u._handleError)}$rename(e,t,i){return this._fileService.move(new o.default(n.URI.revive(e)),new o.default(n.URI.revive(t)),{...i,fromUserGesture:!1}).then((()=>{})).catch(u._handleError)}$copy(e,t,i){return this._fileService.copy(new o.default(n.URI.revive(e)),new o.default(n.URI.revive(t)),{...i,fromUserGesture:!1}).then((()=>{})).catch(u._handleError)}$mkdir(e){return this._fileService.createFolder(new o.default(n.URI.revive(e)),{fromUserGesture:!1}).then((()=>{})).catch(u._handleError)}$delete(e,t){return this._fileService.delete(new o.default(n.URI.revive(e)),t).catch(u._handleError)}static _handleError(e){if(e instanceof l.FileOperationError)switch(e.fileOperationResult){case 1:e.name=l.FileSystemProviderErrorCode.FileNotFound;break;case 0:e.name=l.FileSystemProviderErrorCode.FileIsADirectory;break;case 6:e.name=l.FileSystemProviderErrorCode.NoPermissions;break;case 4:e.name=l.FileSystemProviderErrorCode.FileExists}throw e}}t.FileSystemMainImpl=u;class h{constructor(e,t,i,n,o){this._handle=n,this._proxy=o,this._onDidChange=new a.Emitter,this.onDidChangeFile=this._onDidChange.event,this.onFileWatchError=(new a.Emitter).event,this.onDidChangeCapabilities=a.Event.None,this.capabilities=i,this._registration=e.registerProvider(t,this)}dispose(){this._registration.dispose(),this._onDidChange.dispose()}watch(e,t){const i=Math.random();return this._proxy.$watch(this._handle,i,e.codeUri,t),s.Disposable.create((()=>{this._proxy.$unwatch(this._handle,i)}))}$onFileSystemChange(e){this._onDidChange.fire(e.map(h._createFileChange))}static _createFileChange(e){return{resource:new o.default(n.URI.revive(e.resource)),type:e.type}}stat(e){return this._proxy.$stat(this._handle,e.codeUri).then(void 0,(e=>{throw e}))}readFile(e){return this._proxy.$readFile(this._handle,e.codeUri).then((e=>e.buffer))}writeFile(e,t,i){return this._proxy.$writeFile(this._handle,e.codeUri,r.BinaryBuffer.wrap(t),i)}delete(e,t){return this._proxy.$delete(this._handle,e.codeUri,t)}mkdir(e){return this._proxy.$mkdir(this._handle,e.codeUri)}readdir(e){return this._proxy.$readdir(this._handle,e.codeUri)}rename(e,t,i){return this._proxy.$rename(this._handle,e.codeUri,t.codeUri,i)}copy(e,t,i){return this._proxy.$copy(this._handle,e.codeUri,t.codeUri,i)}open(e,t){return this._proxy.$open(this._handle,e.codeUri,t)}close(e){return this._proxy.$close(this._handle,e)}read(e,t,i,n,o){return this._proxy.$read(this._handle,e,t,o).then((e=>(i.set(e.buffer,n),e.byteLength)))}write(e,t,i,n,o){return this._proxy.$write(this._handle,e,t,r.BinaryBuffer.wrap(i).slice(n,n+o))}}},23518:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCallHierarchyCalleeToModelCallHierarchyOutgoingCall=t.fromCallHierarchyCallerToModelCallHierarchyIncomingCall=t.toCallee=t.fromCaller=t.toCaller=t.fromItemHierarchyDefinition=t.toItemHierarchyDefinition=t.SymbolKindConverter=t.toRange=t.fromRange=t.fromPosition=t.toLocation=t.fromLocation=t.fromUriComponents=t.toUriComponents=void 0;const n=i(75437),o=i(10433),r=i(13869);function s(e){const{start:t,end:i}=e;return{startLineNumber:t.line+1,startColumn:t.character+1,endLineNumber:i.line+1,endColumn:i.character+1}}function a(e){return n.Range.create(e.startLineNumber-1,e.startColumn-1,e.endLineNumber-1,e.endColumn-1)}var c;function l(e){return{...e,kind:c.toSymbolKind(e.kind),range:a(e.range),selectionRange:a(e.selectionRange)}}function d(e){return{...e,kind:c.fromSymbolKind(e.kind),range:s(e.range),selectionRange:s(e.range)}}t.toUriComponents=function(e){return o.URI.parse(e)},t.fromUriComponents=function(e){return o.URI.revive(e).toString()},t.fromLocation=function(e){return{uri:o.URI.parse(e.uri),range:s(e.range)}},t.toLocation=function(e,t){return{uri:o.URI.revive(e).toString(),range:a(t)}},t.fromPosition=function(e){return{lineNumber:e.line,column:e.character}},t.fromRange=s,t.toRange=a,function(e){e.fromSymbolKind=function(e){switch(e){case n.SymbolKind.File:return r.SymbolKind.File;case n.SymbolKind.Module:return r.SymbolKind.Module;case n.SymbolKind.Namespace:return r.SymbolKind.Namespace;case n.SymbolKind.Package:return r.SymbolKind.Package;case n.SymbolKind.Class:return r.SymbolKind.Class;case n.SymbolKind.Method:return r.SymbolKind.Method;case n.SymbolKind.Property:return r.SymbolKind.Property;case n.SymbolKind.Field:return r.SymbolKind.Field;case n.SymbolKind.Constructor:return r.SymbolKind.Constructor;case n.SymbolKind.Enum:return r.SymbolKind.Enum;case n.SymbolKind.Interface:return r.SymbolKind.Interface;case n.SymbolKind.Function:return r.SymbolKind.Function;case n.SymbolKind.Variable:return r.SymbolKind.Variable;case n.SymbolKind.Constant:return r.SymbolKind.Constant;case n.SymbolKind.String:return r.SymbolKind.String;case n.SymbolKind.Number:return r.SymbolKind.Number;case n.SymbolKind.Boolean:return r.SymbolKind.Boolean;case n.SymbolKind.Array:return r.SymbolKind.Array;case n.SymbolKind.Object:return r.SymbolKind.Object;case n.SymbolKind.Key:return r.SymbolKind.Key;case n.SymbolKind.Null:return r.SymbolKind.Null;case n.SymbolKind.EnumMember:return r.SymbolKind.EnumMember;case n.SymbolKind.Struct:return r.SymbolKind.Struct;case n.SymbolKind.Event:return r.SymbolKind.Event;case n.SymbolKind.Operator:return r.SymbolKind.Operator;case n.SymbolKind.TypeParameter:return r.SymbolKind.TypeParameter;default:return r.SymbolKind.Property}},e.toSymbolKind=function(e){switch(e){case r.SymbolKind.File:return n.SymbolKind.File;case r.SymbolKind.Module:return n.SymbolKind.Module;case r.SymbolKind.Namespace:return n.SymbolKind.Namespace;case r.SymbolKind.Package:return n.SymbolKind.Package;case r.SymbolKind.Class:return n.SymbolKind.Class;case r.SymbolKind.Method:return n.SymbolKind.Method;case r.SymbolKind.Property:return n.SymbolKind.Property;case r.SymbolKind.Field:return n.SymbolKind.Field;case r.SymbolKind.Constructor:return n.SymbolKind.Constructor;case r.SymbolKind.Enum:return n.SymbolKind.Enum;case r.SymbolKind.Interface:return n.SymbolKind.Interface;case r.SymbolKind.Function:return n.SymbolKind.Function;case r.SymbolKind.Variable:return n.SymbolKind.Variable;case r.SymbolKind.Constant:return n.SymbolKind.Constant;case r.SymbolKind.String:return n.SymbolKind.String;case r.SymbolKind.Number:return n.SymbolKind.Number;case r.SymbolKind.Boolean:return n.SymbolKind.Boolean;case r.SymbolKind.Array:return n.SymbolKind.Array;case r.SymbolKind.Object:return n.SymbolKind.Object;case r.SymbolKind.Key:return n.SymbolKind.Key;case r.SymbolKind.Null:return n.SymbolKind.Null;case r.SymbolKind.EnumMember:return n.SymbolKind.EnumMember;case r.SymbolKind.Struct:return n.SymbolKind.Struct;case r.SymbolKind.Event:return n.SymbolKind.Event;case r.SymbolKind.Operator:return n.SymbolKind.Operator;case r.SymbolKind.TypeParameter:return n.SymbolKind.TypeParameter;default:return n.SymbolKind.Property}}}(c=t.SymbolKindConverter||(t.SymbolKindConverter={})),t.toItemHierarchyDefinition=l,t.fromItemHierarchyDefinition=d,t.toCaller=function(e){return{from:l(e.from),fromRanges:e.fromRanges.map(a)}},t.fromCaller=function(e){return{from:d(e.from),fromRanges:e.fromRanges.map(s)}},t.toCallee=function(e){return{to:l(e.to),fromRanges:e.fromRanges.map(a)}},t.fromCallHierarchyCallerToModelCallHierarchyIncomingCall=function(e){return{from:d(e.from),fromRanges:e.fromRanges.map(s)}},t.fromCallHierarchyCalleeToModelCallHierarchyOutgoingCall=function(e){return{to:d(e.to),fromRanges:e.fromRanges.map(s)}}},64414:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.KeybindingsContributionPointHandler=void 0;const r=i(70801),s=i(82503),a=i(4836),c=i(51138),l=i(9825);let d=class{handle(e){if(!e||!e.keybindings)return c.Disposable.NULL;const t=new l.DisposableCollection;for(const i of e.keybindings){const e=this.toKeybinding(i);e&&t.push(this.keybindingRegistry.registerKeybinding(e))}return t}toKeybinding(e){const t=this.toOSKeybinding(e);if(!t)return;const{command:i,when:n,args:o}=e;return{keybinding:t,command:i,when:n,args:o}}toOSKeybinding(e){let t;const i=a.OS.type();return t=i===a.OS.Type.Windows?e.win:i===a.OS.Type.OSX?e.mac:e.linux,t||e.keybinding}};n([(0,r.inject)(s.KeybindingRegistry),o("design:type",s.KeybindingRegistry)],d.prototype,"keybindingRegistry",void 0),d=n([(0,r.injectable)()],d),t.KeybindingsContributionPointHandler=d},27034:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LabelServiceMainImpl=void 0;const n=i(51138),o=i(87361),r=i(9825);t.LabelServiceMainImpl=class{constructor(e){this.resourceLabelFormatters=new Map,this.contributionProvider=e.getNamed(r.ContributionProvider,o.LabelProviderContribution)}$registerResourceLabelFormatter(e,t){t.priority=!0;const i=new n.DisposableCollection;for(const e of this.contributionProvider.getContributions())e instanceof o.DefaultUriLabelProviderContribution&&i.push(e.registerFormatter(t));this.resourceLabelFormatters.set(e,i)}$unregisterResourceLabelFormatter(e){const t=this.resourceLabelFormatters.get(e);t&&t.dispose(),this.resourceLabelFormatters.delete(e)}}},29277:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.toMonacoWorkspaceEdit=t.LanguagesMainImpl=void 0;const s=i(16138),a=i(70801),c=i(13869),l=i(54306),d=i(51873),u=i(30970),h=i(51138),p=i(18894),g=i(61177),f=i(75437),m=i(74868),b=i(23518),v=i(71182),A=i(75437),y=i(84380),C=i(67037),w=i(20079),_=i(18102),S=i(39539),E=i(38891),k=i(65948),x=i(20788),D=i(77626),T=i(48085),M=i(42763),B=i(92147),I=i(98700),L=i(55009);let P=class{constructor(e){this.services=new Map,this.toDispose=new h.DisposableCollection,this.proxy=e.getProxy(s.MAIN_RPC_CONTEXT.LANGUAGES_EXT)}dispose(){this.toDispose.dispose()}$getLanguages(){return Promise.resolve(S.languages.getLanguages().map((e=>e.id)))}$changeLanguage(e,t){const i=S.Uri.revive(e),n=S.editor.getModel(i);return n?S.languages.getEncodedLanguageId(t)?(S.editor.setModelLanguage(n,t),Promise.resolve(void 0)):Promise.reject(new Error(`Unknown language ID: ${t}`)):Promise.reject(new Error("Invalid uri"))}register(e,t){this.services.set(e,t),this.toDispose.push(h.Disposable.create((()=>this.$unregister(e))))}$unregister(e){const t=this.services.get(e);t&&(this.services.delete(e),t.dispose())}$setLanguageConfiguration(e,t,i){const n={comments:i.comments,brackets:i.brackets,wordPattern:W(i.wordPattern),indentationRules:z(i.indentationRules),onEnterRules:H(i.onEnterRules)};this.register(e,S.languages.setLanguageConfiguration(t,n))}$registerCompletionSupport(e,t,i,n,o){this.register(e,S.languages.registerCompletionItemProvider(this.toLanguageSelector(i),{triggerCharacters:n,provideCompletionItems:(t,i,n,o)=>this.provideCompletionItems(e,t,i,n,o),resolveCompletionItem:o?(t,i)=>Promise.resolve(this.resolveCompletionItem(e,t,i)):void 0}))}provideCompletionItems(e,t,i,n,o){return this.proxy.$provideCompletionItems(e,t.uri,i,n,o).then((t=>{if(t)return{suggestions:t.completions.map((e=>Object.assign(e,{range:e.range||t.defaultRange}))),incomplete:t.incomplete,dispose:()=>this.proxy.$releaseCompletionItems(e,t.id)}}))}resolveCompletionItem(e,t,i){const{parentId:n,id:o}=t;return this.proxy.$resolveCompletionItem(e,[n,o],i).then((e=>(e&&(0,C.mixin)(t,e,!0),t)))}$registerDefinitionProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createDefinitionProvider(e);this.register(e,S.languages.registerDefinitionProvider(n,o))}$registerDeclarationProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createDeclarationProvider(e);this.register(e,S.languages.registerDeclarationProvider(n,o))}$registerReferenceProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createReferenceProvider(e);this.register(e,S.languages.registerReferenceProvider(n,o))}createReferenceProvider(e){return{provideReferences:(t,i,n,o)=>this.provideReferences(e,t,i,n,o)}}provideReferences(e,t,i,n,o){return this.proxy.$provideReferences(e,t.uri,i,n,o).then((e=>{if(e&&Array.isArray(e)){const t=[];for(const i of e)t.push({...i,uri:S.Uri.revive(i.uri)});return t}}))}$registerSignatureHelpProvider(e,t,i,n){const o=this.toLanguageSelector(i),r=this.createSignatureHelpProvider(e,n);this.register(e,S.languages.registerSignatureHelpProvider(o,r))}$clearDiagnostics(e){for(const t of this.problemManager.getUris())this.problemManager.setMarkers(new u.URI(t),e,[])}$changeDiagnostics(e,t){for(const[i,n]of t){const t=new u.URI(i);this.problemManager.setMarkers(t,e,n.map(O))}}$registerImplementationProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createImplementationProvider(e);this.register(e,S.languages.registerImplementationProvider(n,o))}createImplementationProvider(e){return{provideImplementation:(t,i,n)=>this.provideImplementation(e,t,i,n)}}provideImplementation(e,t,i,n){return this.proxy.$provideImplementation(e,t.uri,i,n).then((e=>{if(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push({...i,uri:S.Uri.revive(i.uri)});return t}return{uri:S.Uri.revive(e.uri),range:e.range}}}))}$registerTypeDefinitionProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createTypeDefinitionProvider(e);this.register(e,S.languages.registerTypeDefinitionProvider(n,o))}createTypeDefinitionProvider(e){return{provideTypeDefinition:(t,i,n)=>this.provideTypeDefinition(e,t,i,n)}}provideTypeDefinition(e,t,i,n){return this.proxy.$provideTypeDefinition(e,t.uri,i,n).then((e=>{if(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push({...i,uri:S.Uri.revive(i.uri)});return t}return{uri:S.Uri.revive(e.uri),range:e.range}}}))}$registerHoverProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createHoverProvider(e);this.register(e,S.languages.registerHoverProvider(n,o))}createHoverProvider(e){return{provideHover:(t,i,n)=>this.provideHover(e,t,i,n)}}provideHover(e,t,i,n){return this.proxy.$provideHover(e,t.uri,i,n)}$registerEvaluatableExpressionProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createEvaluatableExpressionProvider(e);this.register(e,k.StandaloneServices.get(M.ILanguageFeaturesService).evaluatableExpressionProvider.register(n,o))}createEvaluatableExpressionProvider(e){return{provideEvaluatableExpression:(t,i,n)=>this.provideEvaluatableExpression(e,t,i,n)}}provideEvaluatableExpression(e,t,i,n){return this.proxy.$provideEvaluatableExpression(e,t.uri,i,n)}$registerInlineValuesProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createInlineValuesProvider(e);this.register(e,k.StandaloneServices.get(M.ILanguageFeaturesService).inlineValuesProvider.register(n,o))}createInlineValuesProvider(e){return{provideInlineValues:(t,i,n,o)=>this.provideInlineValues(e,t,i,n,o)}}provideInlineValues(e,t,i,n,o){return this.proxy.$provideInlineValues(e,t.uri,i,n,o)}$emitInlineValuesEvent(e,t){const i=this.services.get(e);i instanceof p.Emitter&&i.fire(t)}$registerDocumentHighlightProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createDocumentHighlightProvider(e);this.register(e,S.languages.registerDocumentHighlightProvider(n,o))}createDocumentHighlightProvider(e){return{provideDocumentHighlights:(t,i,n)=>this.provideDocumentHighlights(e,t,i,n)}}provideDocumentHighlights(e,t,i,n){return this.proxy.$provideDocumentHighlights(e,t.uri,i,n).then((e=>{if(e&&Array.isArray(e)){const t=[];for(const i of e)t.push({...i,kind:i.kind?i.kind:S.languages.DocumentHighlightKind.Text});return t}}))}$registerWorkspaceSymbolProvider(e,t){const i=this.createWorkspaceSymbolProvider(e);this.register(e,this.monacoLanguages.registerWorkspaceSymbolProvider(i))}createWorkspaceSymbolProvider(e){return{provideWorkspaceSymbols:(t,i)=>this.provideWorkspaceSymbols(e,t,i),resolveWorkspaceSymbol:(t,i)=>this.resolveWorkspaceSymbol(e,t,i)}}provideWorkspaceSymbols(e,t,i){return this.proxy.$provideWorkspaceSymbols(e,t.query,i)}resolveWorkspaceSymbol(e,t,i){return this.proxy.$resolveWorkspaceSymbol(e,t,i)}$registerDocumentLinkProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createLinkProvider(e);this.register(e,S.languages.registerLinkProvider(n,o))}createLinkProvider(e){return{provideLinks:async(t,i)=>this.provideLinks(e,t,i),resolveLink:async(t,i)=>this.resolveLink(e,t,i)}}async provideLinks(e,t,i){const n=await this.proxy.$provideDocumentLinks(e,t.uri,i);if(n)return{links:n.map((e=>this.toMonacoLink(e))),dispose:()=>{n&&Array.isArray(n)&&this.proxy.$releaseDocumentLinks(e,n.map((e=>y.ObjectIdentifier.of(e))))}}}async resolveLink(e,t,i){const n=await this.proxy.$resolveDocumentLink(e,t,i);return n&&this.toMonacoLink(n)}toMonacoLink(e){return{...e,url:e.url&&"string"!=typeof e.url?S.Uri.revive(e.url):e.url}}$registerCodeLensSupport(e,t,i,n){const o=this.toLanguageSelector(i),r=this.createCodeLensProvider(e);if("number"==typeof n){const e=new p.Emitter;this.register(n,e),r.onDidChange=e.event}this.register(e,S.languages.registerCodeLensProvider(o,r))}createCodeLensProvider(e){return{provideCodeLenses:async(t,i)=>this.provideCodeLenses(e,t,i),resolveCodeLens:(t,i,n)=>this.resolveCodeLens(e,t,i,n)}}async provideCodeLenses(e,t,i){const n=await this.proxy.$provideCodeLenses(e,t.uri,i);if(n)return{lenses:n,dispose:()=>{n&&Array.isArray(n)&&this.proxy.$releaseCodeLenses(e,n.map((e=>y.ObjectIdentifier.of(e))))}}}resolveCodeLens(e,t,i,n){return this.proxy.$resolveCodeLens(e,t.uri,i,n)}$emitCodeLensEvent(e,t){const i=this.services.get(e);i instanceof p.Emitter&&i.fire(t)}$registerOutlineSupport(e,t,i,n){const o=this.toLanguageSelector(i),r=this.createDocumentSymbolProvider(e,n);this.register(e,S.languages.registerDocumentSymbolProvider(o,r))}createDocumentSymbolProvider(e,t){return{displayName:t,provideDocumentSymbols:(t,i)=>this.provideDocumentSymbols(e,t,i)}}provideDocumentSymbols(e,t,i){return this.proxy.$provideDocumentSymbols(e,t.uri,i)}createDefinitionProvider(e){return{provideDefinition:(t,i,n)=>this.provideDefinition(e,t,i,n)}}createDeclarationProvider(e){return{provideDeclaration:(t,i,n)=>this.provideDeclaration(e,t,i,n)}}provideDeclaration(e,t,i,n){return this.proxy.$provideDeclaration(e,t.uri,i,n).then((e=>{if(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push({...i,uri:S.Uri.revive(i.uri)});return t}return{uri:S.Uri.revive(e.uri),range:e.range}}}))}provideDefinition(e,t,i,n){return this.proxy.$provideDefinition(e,t.uri,i,n).then((e=>{if(e){if(Array.isArray(e)){const t=[];for(const i of e)t.push({...i,uri:S.Uri.revive(i.uri)});return t}return{uri:S.Uri.revive(e.uri),range:e.range}}}))}createSignatureHelpProvider(e,t){return{signatureHelpTriggerCharacters:t.triggerCharacters,signatureHelpRetriggerCharacters:t.retriggerCharacters,provideSignatureHelp:async(t,i,n,o)=>this.provideSignatureHelp(e,t,i,n,o)}}async provideSignatureHelp(e,t,i,n,o){const r=await this.proxy.$provideSignatureHelp(e,t.uri,i,o,n);if(r)return{value:r,dispose:()=>{"number"==typeof r.id&&this.proxy.$releaseSignatureHelp(e,r.id)}}}$registerDocumentFormattingSupport(e,t,i){const n=this.toLanguageSelector(i),o=this.createDocumentFormattingSupport(e,t);this.register(e,S.languages.registerDocumentFormattingEditProvider(n,o))}createDocumentFormattingSupport(e,t){return{extensionId:new E.ExtensionIdentifier(t.id),displayName:t.name,provideDocumentFormattingEdits:(t,i,n)=>this.provideDocumentFormattingEdits(e,t,i,n)}}provideDocumentFormattingEdits(e,t,i,n){return this.proxy.$provideDocumentFormattingEdits(e,t.uri,i,n)}$registerRangeFormattingSupport(e,t,i){const n=this.toLanguageSelector(i),o=this.createRangeFormattingSupport(e,t);this.register(e,S.languages.registerDocumentRangeFormattingEditProvider(n,o))}createRangeFormattingSupport(e,t){return{extensionId:new E.ExtensionIdentifier(t.id),displayName:t.name,provideDocumentRangeFormattingEdits:(t,i,n,o)=>this.provideDocumentRangeFormattingEdits(e,t,i,n,o)}}provideDocumentRangeFormattingEdits(e,t,i,n,o){return this.proxy.$provideDocumentRangeFormattingEdits(e,t.uri,i,n,o)}$registerOnTypeFormattingProvider(e,t,i,n){const o=this.toLanguageSelector(i),r=this.createOnTypeFormattingProvider(e,n);this.register(e,S.languages.registerOnTypeFormattingEditProvider(o,r))}createOnTypeFormattingProvider(e,t){return{autoFormatTriggerCharacters:t,provideOnTypeFormattingEdits:(t,i,n,o,r)=>this.provideOnTypeFormattingEdits(e,t,i,n,o,r)}}provideOnTypeFormattingEdits(e,t,i,n,o,r){return this.proxy.$provideOnTypeFormattingEdits(e,t.uri,i,n,o,r)}$registerDocumentDropEditProvider(e,t){this.register(e,k.StandaloneServices.get(M.ILanguageFeaturesService).documentOnDropEditProvider.register(t,this.createDocumentDropEditProvider(e)))}createDocumentDropEditProvider(e){return{provideDocumentOnDropEdits:async(t,i,n,o)=>this.provideDocumentDropEdits(e,t,i,n,o)}}async provideDocumentDropEdits(e,t,i,n,o){await this.fileUploadService.upload(new u.URI,{source:n,leaveInTemp:!0});const r=await this.proxy.$provideDocumentDropEdits(e,t.uri,i,await I.DataTransfer.toDataTransferDTO(n),o);if(r)return{insertText:r.insertText instanceof B.SnippetString?{snippet:r.insertText.value}:r.insertText,additionalEdit:K(null==r?void 0:r.additionalEdit)}}$registerFoldingRangeProvider(e,t,i,n){const o=this.toLanguageSelector(i),r=this.createFoldingRangeProvider(e);if("number"==typeof n){const e=new p.Emitter;this.services.set(n,e),r.onDidChange=e.event}this.register(e,S.languages.registerFoldingRangeProvider(o,r))}createFoldingRangeProvider(e){return{provideFoldingRanges:(t,i,n)=>this.provideFoldingRanges(e,t,i,n)}}$emitFoldingRangeEvent(e,t){const i=this.services.get(e);i instanceof p.Emitter&&i.fire(t)}provideFoldingRanges(e,t,i,n){return this.proxy.$provideFoldingRange(e,t.uri,i,n)}$registerSelectionRangeProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createSelectionRangeProvider(e);this.register(e,S.languages.registerSelectionRangeProvider(n,o))}createSelectionRangeProvider(e){return{provideSelectionRanges:(t,i,n)=>this.provideSelectionRanges(e,t,i,n)}}provideSelectionRanges(e,t,i,n){return this.proxy.$provideSelectionRanges(e,t.uri,i,n)}$registerDocumentColorProvider(e,t,i){const n=this.toLanguageSelector(i),o=this.createColorProvider(e);this.register(e,S.languages.registerColorProvider(n,o))}createColorProvider(e){return{provideDocumentColors:(t,i)=>this.provideDocumentColors(e,t,i),provideColorPresentations:(t,i,n)=>this.provideColorPresentations(e,t,i,n)}}provideDocumentColors(e,t,i){return this.proxy.$provideDocumentColors(e,t.uri,i).then((e=>e.map((e=>{const[t,i,n,o]=e.color;return{color:{red:t,green:i,blue:n,alpha:o},range:e.range}}))))}provideColorPresentations(e,t,i,n){return this.proxy.$provideColorPresentations(e,t.uri,{color:[i.color.red,i.color.green,i.color.blue,i.color.alpha],range:i.range},n)}$registerInlayHintsProvider(e,t,i,n,o){const r=this.toLanguageSelector(i),s=this.createInlayHintsProvider(e);if("number"==typeof o){const e=new p.Emitter;this.register(o,e),s.onDidChangeInlayHints=e.event}this.register(e,S.languages.registerInlayHintsProvider(r,s))}createInlayHintsProvider(e){return{provideInlayHints:async(t,i,n)=>{const o=await this.proxy.$provideInlayHints(e,t.uri,i,n);if(o)return{hints:o.hints.map((e=>function(e){return{...e,label:V(e.label)}}(e))),dispose:()=>{"number"==typeof o.cacheId&&this.proxy.$releaseInlayHints(e,o.cacheId)}}},resolveInlayHint:async(t,i)=>{const n=t;if("number"!=typeof n.cacheId)return t;const o=await this.proxy.$resolveInlayHint(e,n.cacheId,i);return i.isCancellationRequested?void 0:o?{...t,tooltip:o.tooltip,label:V(o.label)}:t}}}$emitInlayHintsEvent(e,t){const i=this.services.get(e);i instanceof p.Emitter&&i.fire(t)}$registerInlineCompletionsSupport(e,t){const i=this.toLanguageSelector(t),n={provideInlineCompletions:async(t,i,n,o)=>this.proxy.$provideInlineCompletions(e,t.uri,i,n,o),freeInlineCompletions:t=>{this.proxy.$freeInlineCompletionsList(e,t.pid)}};this.register(e,S.languages.registerInlineCompletionsProvider(i,n))}$registerQuickFixProvider(e,t,i,n,o){const r=this.toLanguageSelector(i),s={provideCodeActions:(t,i,n,o)=>{const r=k.StandaloneServices.get(x.IMarkerService).read({resource:t.uri}).filter((e=>S.Range.areIntersectingOrTouching(e,i)));return this.provideCodeActions(e,t,i,{...n,markers:r},o)},resolveCodeAction:(t,i)=>this.resolveCodeAction(e,t,i)};this.register(e,S.languages.registerCodeActionProvider(r,s))}async provideCodeActions(e,t,i,n,o){const r=await this.proxy.$provideCodeActions(e,t.uri,i,this.toModelCodeActionContext(n),o);if(r)return{actions:r.map((e=>{return t=e,{...t,diagnostics:t.diagnostics?t.diagnostics.map((e=>{return t=e,{...t,relatedInformation:t.relatedInformation?t.relatedInformation.map((e=>{return t=e,{...t,resource:S.Uri.parse(t.resource)};var t})):void 0};var t})):void 0,disabled:null===(i=t.disabled)||void 0===i?void 0:i.reason,edit:t.edit?K(t.edit):void 0};var t,i})),dispose:()=>this.proxy.$releaseCodeActions(e,r.map((e=>e.cacheId)))}}toModelCodeActionContext(e){return{...e,trigger:this.toCodeActionTriggerKind(e.trigger)}}toCodeActionTriggerKind(e){switch(e){case S.languages.CodeActionTriggerType.Auto:return B.CodeActionTriggerKind.Automatic;case S.languages.CodeActionTriggerType.Invoke:return B.CodeActionTriggerKind.Invoke}}async resolveCodeAction(e,t,i){const n=t.cacheId;if(void 0!==n){const o=await this.proxy.$resolveCodeAction(e,n,i);t.edit=o&&K(o)}return t}$registerRenameProvider(e,t,i,n){const o=this.toLanguageSelector(i),r=this.createRenameProvider(e,n);this.register(e,S.languages.registerRenameProvider(o,r))}createRenameProvider(e,t){return{provideRenameEdits:(t,i,n,o)=>this.provideRenameEdits(e,t,i,n,o),resolveRenameLocation:t?(t,i,n)=>this.resolveRenameLocation(e,t,i,n):void 0}}provideRenameEdits(e,t,i,n,o){return this.proxy.$provideRenameEdits(e,t.uri,i,n,o).then(K)}$registerCallHierarchyProvider(e,t){const i=this.toLanguageSelector(t),n=this.createCallHierarchyService(e,i);this.register(e,this.callHierarchyServiceContributionRegistry.add(n))}createCallHierarchyService(e,t){return{selector:t,getRootDefinition:(t,i,n)=>this.proxy.$provideRootDefinition(e,(0,b.toUriComponents)(t),(0,b.fromPosition)(i),n).then((t=>{if(!t)return;const i=Array.isArray(t)?t:[t];return{dispose:()=>{var t;return this.proxy.$releaseCallHierarchy(e,null===(t=i[0])||void 0===t?void 0:t._sessionId)},items:i.map((e=>(0,b.toItemHierarchyDefinition)(e)))}})),getCallers:(t,i)=>this.proxy.$provideCallers(e,(0,b.fromItemHierarchyDefinition)(t),i).then((e=>{if(e)return Array.isArray(e)?e.map(b.toCaller):void 0})),getCallees:(t,i)=>this.proxy.$provideCallees(e,(0,b.fromItemHierarchyDefinition)(t),i).then((e=>{if(e)return Array.isArray(e)?e.map(b.toCallee):void 0}))}}resolveRenameLocation(e,t,i,n){return this.proxy.$resolveRenameLocation(e,t.uri,i,n)}$registerTypeHierarchyProvider(e,t){const i=this.toLanguageSelector(t),n=this.createTypeHierarchyService(e,i);this.register(e,this.typeHierarchyServiceContributionRegistry.add(n))}createTypeHierarchyService(e,t){return{selector:t,prepareSession:(t,i,n)=>this.proxy.$prepareTypeHierarchy(e,(0,b.toUriComponents)(t),(0,b.fromPosition)(i),n).then((t=>{if(!t)return;const i=Array.isArray(t)?t:[t];return{dispose:()=>{var t;return this.proxy.$releaseTypeHierarchy(e,null===(t=i[0])||void 0===t?void 0:t._sessionId)},items:i.map((e=>(0,b.toItemHierarchyDefinition)(e)))}})),provideSuperTypes:(t,i,n)=>this.proxy.$provideSuperTypes(e,t,i,n).then((e=>{if(e)return Array.isArray(e)?e.map(b.toItemHierarchyDefinition):void 0})),provideSubTypes:async(t,i,n)=>this.proxy.$provideSubTypes(e,t,i,n).then((e=>{if(e)return Array.isArray(e)?e.map(b.toItemHierarchyDefinition):void 0}))}}$registerDocumentSemanticTokensProvider(e,t,i,n,o){const r=this.toLanguageSelector(i);let s;if("number"==typeof o){const e=new p.Emitter;this.register(o,e),s=e.event}const a=this.createDocumentSemanticTokensProvider(e,n,s);this.register(e,S.languages.registerDocumentSemanticTokensProvider(r,a))}createDocumentSemanticTokensProvider(e,t,i){return{releaseDocumentSemanticTokens:t=>{t&&this.proxy.$releaseDocumentSemanticTokens(e,parseInt(t,10))},getLegend:()=>t,provideDocumentSemanticTokens:async(t,i,n)=>{const o=i?parseInt(i,10):0,r=await this.proxy.$provideDocumentSemanticTokens(e,t.uri,o,n);if(!r)return null;if(n.isCancellationRequested)return null;const s=(0,_.decodeSemanticTokensDto)(r);return"full"===s.type?{resultId:String(s.id),data:s.data}:{resultId:String(s.id),edits:s.deltas}}}}$emitDocumentSemanticTokensEvent(e){const t=this.services.get(e);t instanceof p.Emitter&&t.fire(void 0)}$registerDocumentRangeSemanticTokensProvider(e,t,i,n){const o=this.toLanguageSelector(i),r=this.createDocumentRangeSemanticTokensProvider(e,n);this.register(e,S.languages.registerDocumentRangeSemanticTokensProvider(o,r))}createDocumentRangeSemanticTokensProvider(e,t){return{getLegend:()=>t,provideDocumentRangeSemanticTokens:async(t,i,n)=>{const o=await this.proxy.$provideDocumentRangeSemanticTokens(e,t.uri,i,n);if(!o)return null;if(n.isCancellationRequested)return null;const r=(0,_.decodeSemanticTokensDto)(o);if("full"===r.type)return{resultId:String(r.id),data:r.data};throw new Error("Unexpected")}}}toLanguageSelector(e){return e.map((e=>{let t;return"string"==typeof e.pattern?t=e.pattern:e.pattern&&(t={base:D.normalize(e.pattern.baseUri.toString()),pattern:e.pattern.pattern,pathToRelative:w.relative}),{language:e.language,scheme:e.scheme,pattern:t}}))}$registerLinkedEditingRangeProvider(e,t){const i=this.toLanguageSelector(t),n=this.createLinkedEditingRangeProvider(e);this.register(e,S.languages.registerLinkedEditingRangeProvider(i,n))}createLinkedEditingRangeProvider(e){return{provideLinkedEditingRanges:async(t,i,n)=>{const o=await this.proxy.$provideLinkedEditingRanges(e,t.uri,i,n);if(o)return{ranges:o.ranges,wordPattern:W(o.wordPattern)}}}}$setLanguageStatus(e,t){const i={...t,selector:this.toLanguageSelector(t.selector)};this.languageStatusService.setLanguageStatusItem(e,i)}$removeLanguageStatus(e){this.languageStatusService.removeLanguageStatusItem(e)}};function O(e){const t={code:e.code,severity:R(e.severity),range:N(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),message:e.message,source:e.source,relatedInformation:void 0};return e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(F)),e.tags&&(t.tags=e.tags.map(j)),t}function R(e){switch(e){case c.MarkerSeverity.Error:return f.DiagnosticSeverity.Error;case c.MarkerSeverity.Warning:return f.DiagnosticSeverity.Warning;case c.MarkerSeverity.Info:return f.DiagnosticSeverity.Information;case c.MarkerSeverity.Hint:return f.DiagnosticSeverity.Hint}}function N(e,t,i,n){return{start:{line:e-1,character:t-1},end:{line:i-1,character:n-1}}}function F(e){return{message:e.message,location:{uri:e.resource,range:N(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}}}function j(e){switch(e){case 1:return A.DiagnosticTag.Unnecessary;case 2:return A.DiagnosticTag.Deprecated}}function W(e){if(null!=e)return new RegExp(e.pattern,e.flags)}function z(e){if(null!=e)return{increaseIndentPattern:W(e.increaseIndentPattern),decreaseIndentPattern:W(e.decreaseIndentPattern),indentNextLinePattern:W(e.indentNextLinePattern),unIndentedLinePattern:W(e.unIndentedLinePattern)}}function U(e){return{beforeText:W(e.beforeText),afterText:W(e.afterText),previousLineText:W(e.previousLineText),action:e.action}}function H(e){if(null!=e)return e.map(U)}function V(e){var t;let i;if("string"==typeof e)i=e;else{const n=[];for(const i of e){const e={...i,location:i.location?{range:null===(t=i.location)||void 0===t?void 0:t.range,uri:S.Uri.revive(i.location.uri)}:void 0};n.push(e)}i=n}return i}function K(e){return{edits:(e&&e.edits||[]).map((e=>s.WorkspaceTextEditDto.is(e)?{resource:S.Uri.revive(e.resource),textEdit:e.textEdit,metadata:e.metadata}:{newResource:S.Uri.revive(e.newResource),oldResource:S.Uri.revive(e.oldResource),options:e.options,metadata:e.metadata}))}}n([(0,a.inject)(d.MonacoLanguages),o("design:type",d.MonacoLanguages)],P.prototype,"monacoLanguages",void 0),n([(0,a.inject)(g.ProblemManager),o("design:type",g.ProblemManager)],P.prototype,"problemManager",void 0),n([(0,a.inject)(m.CallHierarchyServiceProvider),o("design:type",m.CallHierarchyServiceProvider)],P.prototype,"callHierarchyServiceContributionRegistry",void 0),n([(0,a.inject)(v.TypeHierarchyServiceProvider),o("design:type",v.TypeHierarchyServiceProvider)],P.prototype,"typeHierarchyServiceContributionRegistry",void 0),n([(0,a.inject)(T.EditorLanguageStatusService),o("design:type",T.EditorLanguageStatusService)],P.prototype,"languageStatusService",void 0),n([(0,a.inject)(L.FileUploadService),o("design:type",L.FileUploadService)],P.prototype,"fileUploadService",void 0),P=n([(0,a.injectable)(),r(0,(0,a.inject)(l.RPCProtocol)),o("design:paramtypes",[Object])],P),t.LanguagesMainImpl=P,t.toMonacoWorkspaceEdit=K},48853:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizationMainImpl=void 0;const n=i(9825),o=i(53611);t.LocalizationMainImpl=class{constructor(e){this.languagePackService=e.get(o.LanguagePackService)}async $fetchBundle(e){var t;return await this.languagePackService.getBundle(e,null!==(t=n.nls.locale)&&void 0!==t?t:n.nls.defaultLocale)}}},34581:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUpPluginApi=void 0;const n=i(19141),o=i(26625),r=i(89282),s=i(16138),a=i(22219),c=i(74180),l=i(53989),d=i(81341),u=i(79298),h=i(13297),p=i(24125),g=i(13526),f=i(17152),m=i(73851),b=i(77674),v=i(84137),A=i(42883),y=i(87208),C=i(49661),w=i(74260),_=i(20406),S=i(20456),E=i(96791),k=i(48444),x=i(92637),D=i(30566),T=i(14784),M=i(50869),B=i(67126),I=i(45593),L=i(53192),P=i(63013),O=i(27034),R=i(7966),N=i(70529),F=i(5563),j=i(53092),W=i(2248),z=i(85194),U=i(35448),H=i(51873),V=i(1483),K=i(20311),G=i(36015),$=i(48853);t.setUpPluginApi=function(e,t){const i=new N.AuthenticationMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.AUTHENTICATION_MAIN,i);const q=new n.CommandRegistryMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.COMMAND_REGISTRY_MAIN,q);const Y=new r.QuickOpenMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.QUICK_OPEN_MAIN,Y);const Q=new l.WorkspaceMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.WORKSPACE_MAIN,Q);const X=new g.DialogsMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.DIALOGS_MAIN,X);const Z=new a.MessageRegistryMainImpl(t);e.set(s.PLUGIN_RPC_CONTEXT.MESSAGE_REGISTRY_MAIN,Z);const J=new o.PreferenceRegistryMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.PREFERENCE_REGISTRY_MAIN,J);const ee=new h.EditorsAndDocumentsMain(e,t),te=t.get(T.EditorModelService),ie=t.get(D.EditorManager),ne=t.get(M.OpenerService),oe=t.get(B.ApplicationShell),re=t.get(V.UntitledResourceResolver),se=t.get(H.MonacoLanguages),ae=new k.DocumentsMainImpl(ee,te,e,ie,ne,oe,re,se);e.set(s.PLUGIN_RPC_CONTEXT.DOCUMENTS_MAIN,ae);const ce=t.get(I.MonacoBulkEditService),le=t.get(L.MonacoEditorService),de=new x.TextEditorsMainImpl(ee,ae,e,ce,le);e.set(s.PLUGIN_RPC_CONTEXT.TEXT_EDITORS_MAIN,de),ee.listen();const ue=new d.StatusBarMessageRegistryMainImpl(t);e.set(s.PLUGIN_RPC_CONTEXT.STATUS_BAR_MESSAGE_REGISTRY_MAIN,ue);const he=new u.EnvMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.ENV_MAIN,he);const pe=new m.NotificationMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.NOTIFICATION_MAIN,pe);const ge=new p.TerminalServiceMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.TERMINAL_MAIN,ge);const fe=new f.TreeViewsMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.TREE_VIEWS_MAIN,fe);const me=t.get(s.OutputChannelRegistryFactory)();e.set(s.PLUGIN_RPC_CONTEXT.OUTPUT_CHANNEL_REGISTRY_MAIN,me);const be=t.get(s.LanguagesMainFactory)(e);e.set(s.PLUGIN_RPC_CONTEXT.LANGUAGES_MAIN,be);const ve=new v.WebviewsMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.WEBVIEWS_MAIN,ve);const Ae=new W.CustomEditorsMainImpl(e,t,ve);e.set(s.PLUGIN_RPC_CONTEXT.CUSTOM_EDITORS_MAIN,Ae);const ye=new U.WebviewViewsMainImpl(e,t,ve);e.set(s.PLUGIN_RPC_CONTEXT.WEBVIEW_VIEWS_MAIN,ye);const Ce=new y.StorageMainImpl(t);e.set(s.PLUGIN_RPC_CONTEXT.STORAGE_MAIN,Ce);const we=new b.ConnectionImpl(e.getProxy(s.MAIN_RPC_CONTEXT.CONNECTION_EXT));e.set(s.PLUGIN_RPC_CONTEXT.CONNECTION_MAIN,we);const _e=new A.TasksMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.TASKS_MAIN,_e);const Se=new C.DebugMainImpl(e,we,t);e.set(s.PLUGIN_RPC_CONTEXT.DEBUG_MAIN,Se);const Ee=new w.FileSystemMainImpl(e,t),ke=new P.MainFileSystemEventService(e,t),xe=Ee.dispose.bind(Ee);Ee.dispose=()=>{ke.dispose(),xe()},e.set(s.PLUGIN_RPC_CONTEXT.FILE_SYSTEM_MAIN,Ee);const De=new _.ScmMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.SCM_MAIN,De);const Te=new z.SecretsMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.SECRETS_MAIN,Te);const Me=new S.DecorationsMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.DECORATIONS_MAIN,Me);const Be=new c.WindowStateMain(e,t);e.set(s.PLUGIN_RPC_CONTEXT.WINDOW_MAIN,Be);const Ie=new E.ClipboardMainImpl(t);e.set(s.PLUGIN_RPC_CONTEXT.CLIPBOARD_MAIN,Ie);const Le=new O.LabelServiceMainImpl(t);e.set(s.PLUGIN_RPC_CONTEXT.LABEL_SERVICE_MAIN,Le);const Pe=new R.TimelineMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.TIMELINE_MAIN,Pe);const Oe=new F.ThemingMainImpl(e,t.get(K.ThemeService));e.set(s.PLUGIN_RPC_CONTEXT.THEMING_MAIN,Oe);const Re=new j.CommentsMainImp(e,t);e.set(s.PLUGIN_RPC_CONTEXT.COMMENTS_MAIN,Re);const Ne=new G.TabsMainImpl(e,t);e.set(s.PLUGIN_RPC_CONTEXT.TABS_MAIN,Ne);const Fe=new $.LocalizationMainImpl(t);e.set(s.PLUGIN_RPC_CONTEXT.LOCALIZATION_MAIN,Fe)}},63013:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainFileSystemEventService=void 0;const n=i(16138),o=i(51138),r=i(14304);t.MainFileSystemEventService=class{constructor(e,t){this.toDispose=new o.DisposableCollection;const i=e.getProxy(n.MAIN_RPC_CONTEXT.ExtHostFileSystemEventService),s=t.get(r.FileService);this.toDispose.push(s.onDidFilesChange((e=>{const t={created:[],changed:[],deleted:[]};for(const i of e.changes)switch(i.type){case 1:t.created.push(i.resource.codeUri);break;case 0:t.changed.push(i.resource.codeUri);break;case 2:t.deleted.push(i.resource.codeUri)}i.$onFileEvent(t)}))),s.addFileOperationParticipant({participate:(e,t,n,o,r)=>i.$onWillRunFileOperation(n,e.codeUri,null==t?void 0:t.codeUri,o,r)}),this.toDispose.push(s.onDidRunUserOperation((e=>{var t;return i.$onDidRunFileOperation(e.operation,e.target.codeUri,null===(t=e.source)||void 0===t?void 0:t.codeUri)})))}dispose(){this.toDispose.dispose()}}},11055:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MenusContributionPointHandler=void 0;const r=i(70801),s=i(9825),a=i(9825),c=i(23119),l=i(41712),d=i(78054),u=i(87361),h=i(22987),p=i(22810),g=i(83913),f=i(949),m=i(34291),b=i(56090);let v=class{constructor(){this.titleContributionContextKeys=new p.ReferenceCountingSet,this.onDidChangeTitleContributionEmitter=new s.Emitter,this.initialized=!1}initialize(){this.initialized=!0,this.commandAdapterRegistry.registerAdapter(this.commandAdapter),this.tabBarToolbar.registerMenuDelegate(h.PLUGIN_EDITOR_TITLE_MENU,(e=>this.codeEditorWidgetUtil.is(e))),this.tabBarToolbar.registerMenuDelegate(h.PLUGIN_EDITOR_TITLE_RUN_MENU,(e=>this.codeEditorWidgetUtil.is(e))),this.tabBarToolbar.registerMenuDelegate(h.PLUGIN_SCM_TITLE_MENU,(e=>e instanceof l.ScmWidget)),this.tabBarToolbar.registerMenuDelegate(h.PLUGIN_VIEW_TITLE_MENU,(e=>e instanceof d.PluginViewWidget)),this.tabBarToolbar.registerItem({id:"plugin-menu-contribution-title-contribution",command:"_never_",onDidChange:this.onDidChangeTitleContributionEmitter.event}),this.contextKeyService.onDidChange((e=>{e.affects(this.titleContributionContextKeys)&&this.onDidChangeTitleContributionEmitter.fire()}))}getMatchingMenu(e){return h.codeToTheiaMappings.get(e)}handle(e){var t,i,n,o;const r=null===(t=e.contributes)||void 0===t?void 0:t.menus;if(!r)return s.Disposable.NULL;this.initialized||this.initialize();const a=new s.DisposableCollection,c=null!==(n=null===(i=e.contributes)||void 0===i?void 0:i.submenus)&&void 0!==n?n:[];for(const e of c){const t=e.icon&&this.toIconClass(e.icon,a);this.menuRegistry.registerIndependentSubmenu(e.id,e.label,t?{iconClass:t}:void 0)}for(const[t,i]of Object.entries(r))for(const n of i)try{if("commandPalette"===t)a.push(this.registerCommandPaletteAction(n));else{this.checkTitleContribution(t,n,a);const e=null!==(o=this.getMatchingMenu(t))&&void 0!==o?o:[t],{group:i,order:r}=this.parseGroup(n.group),{submenu:c,command:l}=n;c?e.forEach((e=>a.push(this.menuRegistry.linkSubmenu(e,c,{order:r,when:n.when},i)))):l&&(a.push(this.commandAdapter.addCommand(l)),e.forEach((e=>{const t=new s.ActionMenuNode({commandId:l,when:n.when,order:r},this.commands),o=this.menuRegistry.getMenuNode(e,i);a.push(o.addNode(t))})))}}catch(i){console.warn(`Failed to register a menu item for plugin ${e.metadata.model.id} contributed to ${t}`,n,i)}return a}parseGroup(e){if(!e)return{};const t=e.lastIndexOf("@");return t>-1?{group:e.substring(0,t),order:e.substring(t+1)||void 0}:{group:e}}registerCommandPaletteAction(e){return e.command&&e.when?this.quickCommandService.pushCommandContext(e.command,e.when):s.Disposable.NULL}checkTitleContribution(e,t,i){if(t.when&&e.endsWith("title")){const e=g.ContextKeyExpr.deserialize(t.when);if(e){for(const t of e.keys())this.titleContributionContextKeys.add(t),i.push(s.Disposable.create((()=>this.titleContributionContextKeys.delete(t))));i.push(s.Disposable.create((()=>this.onDidChangeTitleContributionEmitter.fire())))}}}toIconClass(e,t){if("string"==typeof e){const t=b.ThemeIcon.fromString(e);if(t)return b.ThemeIcon.asClassName(t)}const i=this.style.toIconClass(e);return t.push(i),i.object.iconClass}};n([(0,r.inject)(a.MenuModelRegistry),o("design:type",a.MenuModelRegistry)],v.prototype,"menuRegistry",void 0),n([(0,r.inject)(s.CommandRegistry),o("design:type",s.CommandRegistry)],v.prototype,"commands",void 0),n([(0,r.inject)(c.TabBarToolbarRegistry),o("design:type",c.TabBarToolbarRegistry)],v.prototype,"tabBarToolbar",void 0),n([(0,r.inject)(h.CodeEditorWidgetUtil),o("design:type",h.CodeEditorWidgetUtil)],v.prototype,"codeEditorWidgetUtil",void 0),n([(0,r.inject)(p.PluginMenuCommandAdapter),o("design:type",p.PluginMenuCommandAdapter)],v.prototype,"commandAdapter",void 0),n([(0,r.inject)(s.MenuCommandAdapterRegistry),o("design:type",Object)],v.prototype,"commandAdapterRegistry",void 0),n([(0,r.inject)(f.ContextKeyService),o("design:type",Object)],v.prototype,"contextKeyService",void 0),n([(0,r.inject)(m.PluginSharedStyle),o("design:type",m.PluginSharedStyle)],v.prototype,"style",void 0),n([(0,r.inject)(u.QuickCommandService),(0,r.optional)(),o("design:type",u.QuickCommandService)],v.prototype,"quickCommandService",void 0),v=n([(0,r.injectable)()],v),t.MenusContributionPointHandler=v},22810:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginMenuCommandAdapter=t.ReferenceCountingSet=void 0;const r=i(9825),s=i(49878),a=i(70801),c=i(10433),l=i(75480),d=i(32358),u=i(85656),h=i(14820),p=i(20406),g=i(46395),f=i(22987),m=i(23119);class b{constructor(e){if(this.references=new Map,e)for(const t of e)this.add(t)}add(e){var t;const i=null!==(t=this.references.get(e))&&void 0!==t?t:0;return this.references.set(e,i+1),this}delete(e){const t=this.references.get(e);if(void 0===t);else{if(t<=1)return this.references.delete(e),!0;this.references.set(e,t-1)}return!1}has(e){return this.references.has(e)}}t.ReferenceCountingSet=b;let v=class{constructor(){this.commands=new b,this.argumentAdapters=new Map,this.separator=":)(:"}init(){const e=(...e)=>this.toCommentArgs(...e),t=(...e)=>[e[0]],i=()=>[],n=(...e)=>this.toScmArgs(...e),o=()=>this.getSelectedResources(),r=e=>this.codeEditorUtil.is(e)?[this.codeEditorUtil.getResourceUri(e)]:[];[["comments/comment/context",e],["comments/comment/title",e],["comments/commentThread/context",e],["debug/callstack/context",t],["debug/variables/context",t],["debug/toolBar",i],["editor/context",o],["editor/title",r],["editor/title/context",o],["editor/title/run",r],["explorer/context",o],["scm/resourceFolder/context",n],["scm/resourceGroup/context",n],["scm/resourceState/context",n],["scm/title",()=>[this.toScmArg(this.scmService.selectedRepository)]],["timeline/item/context",(...e)=>this.toTimelineArgs(...e)],["view/item/context",(...e)=>this.toTreeArgs(...e)],["view/title",i]].forEach((([e,t])=>{if(t){const i=f.codeToTheiaMappings.get(e);i&&i.forEach((e=>this.addArgumentAdapter(e,t)))}})),this.addArgumentAdapter(m.TAB_BAR_TOOLBAR_CONTEXT_MENU,r)}canHandle(e,t,...i){return this.commands.has(t)&&this.getArgumentAdapterForMenu(e)?500:-1}executeCommand(e,t,...i){const n=this.getAdapterOrThrow(e);return this.commandRegistry.executeCommand(t,...n(...i))}isVisible(e,t,...i){const n=this.getAdapterOrThrow(e);return this.commandRegistry.isVisible(t,...n(...i))}isEnabled(e,t,...i){const n=this.getAdapterOrThrow(e);return this.commandRegistry.isEnabled(t,...n(...i))}isToggled(e,t,...i){const n=this.getAdapterOrThrow(e);return this.commandRegistry.isToggled(t,...n(...i))}getAdapterOrThrow(e){const t=this.getArgumentAdapterForMenu(e);if(!t)throw new Error("PluginMenuCommandAdapter attempted to execute command for unregistered menu: "+JSON.stringify(e));return t}addCommand(e){return this.commands.add(e),r.Disposable.create((()=>this.commands.delete(e)))}getArgumentAdapterForMenu(e){return this.argumentAdapters.get(e.join(this.separator))}addArgumentAdapter(e,t){this.argumentAdapters.set(e.join(this.separator),t)}toCommentArgs(...e){const t=e[0];return"text"in t?"commentUniqueId"in t?[{commentControlHandle:t.thread.controllerHandle,commentThreadHandle:t.thread.commentThreadHandle,text:t.text,commentUniqueId:t.commentUniqueId}]:[{commentControlHandle:t.thread.controllerHandle,commentThreadHandle:t.thread.commentThreadHandle,text:t.text}]:[{commentControlHandle:t.thread.controllerHandle,commentThreadHandle:t.thread.commentThreadHandle,commentUniqueId:t.commentUniqueId}]}toScmArgs(...e){const t=[];for(const i of e){const e=this.toScmArg(i);e&&t.push(e)}return t}toScmArg(e){return e instanceof d.ScmRepository&&e.provider instanceof p.PluginScmProvider?{sourceControlHandle:e.provider.handle}:e instanceof p.PluginScmResourceGroup?{sourceControlHandle:e.provider.handle,resourceGroupHandle:e.handle}:e instanceof p.PluginScmResource?{sourceControlHandle:e.group.provider.handle,resourceGroupHandle:e.group.handle,resourceStateHandle:e.handle}:void 0}toTimelineArgs(...e){var t;const i=[],n=e[0];return i.push(this.toTimelineArg(n)),i.push(c.URI.parse(n.uri)),i.push(null!==(t=n.source)&&void 0!==t?t:""),i}toTimelineArg(e){return{timelineHandle:e.handle,source:e.source,uri:e.uri}}toTreeArgs(...e){const t=[];for(const i of e)h.TreeViewItemReference.is(i)?t.push(i):Array.isArray(i)&&t.push(i.filter(h.TreeViewItemReference.is));return t}getSelectedResources(){var e,t;const i=this.selectionService.selection,n=this.resourceContextKey.get(),o=n?c.URI.parse(n):void 0;return[l.TreeWidgetSelection.is(i)&&i.source instanceof g.TreeViewWidget&&i[0]?i.source.toTreeViewItemReference(i[0]):null!==(t=null===(e=r.UriSelection.getUri(i))||void 0===e?void 0:e.codeUri)&&void 0!==t?t:o,l.TreeWidgetSelection.is(i)?r.UriSelection.getUris(i).map((e=>e.codeUri)):void 0]}};n([(0,a.inject)(r.CommandRegistry),o("design:type",r.CommandRegistry)],v.prototype,"commandRegistry",void 0),n([(0,a.inject)(f.CodeEditorWidgetUtil),o("design:type",f.CodeEditorWidgetUtil)],v.prototype,"codeEditorUtil",void 0),n([(0,a.inject)(u.ScmService),o("design:type",u.ScmService)],v.prototype,"scmService",void 0),n([(0,a.inject)(r.SelectionService),o("design:type",r.SelectionService)],v.prototype,"selectionService",void 0),n([(0,a.inject)(s.ResourceContextKey),o("design:type",s.ResourceContextKey)],v.prototype,"resourceContextKey",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],v.prototype,"init",null),v=n([(0,a.injectable)()],v),t.PluginMenuCommandAdapter=v},22987:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeEditorWidgetUtil=t.codeToTheiaMappings=t.implementedVSCodeContributionPoints=t.PLUGIN_VIEW_TITLE_MENU=t.PLUGIN_SCM_TITLE_MENU=t.PLUGIN_EDITOR_TITLE_RUN_MENU=t.PLUGIN_EDITOR_TITLE_MENU=void 0;const o=i(87361),r=i(89002),s=i(70801),a=i(68846),c=i(48800),l=i(78252),d=i(35210),u=i(30566),h=i(10483),p=i(73485),g=i(31431),f=i(9720),m=i(46395),b=i(4196),v=i(78712);t.PLUGIN_EDITOR_TITLE_MENU=["plugin_editor/title"],t.PLUGIN_EDITOR_TITLE_RUN_MENU=["plugin_editor/title/run"],t.PLUGIN_SCM_TITLE_MENU=["plugin_scm/title"],t.PLUGIN_VIEW_TITLE_MENU=["plugin_view/title"],t.implementedVSCodeContributionPoints=["comments/comment/context","comments/comment/title","comments/commentThread/context","debug/callstack/context","debug/variables/context","debug/toolBar","editor/context","editor/title","editor/title/context","editor/title/run","editor/lineNumber/context","explorer/context","scm/resourceFolder/context","scm/resourceGroup/context","scm/resourceState/context","scm/title","timeline/item/context","view/item/context","view/title"],t.codeToTheiaMappings=new Map([["comments/comment/context",[f.COMMENT_CONTEXT]],["comments/comment/title",[f.COMMENT_TITLE]],["comments/commentThread/context",[f.COMMENT_THREAD_CONTEXT]],["debug/callstack/context",[a.DebugStackFramesWidget.CONTEXT_MENU,c.DebugThreadsWidget.CONTEXT_MENU]],["debug/variables/context",[d.DebugVariablesWidget.CONTEXT_MENU]],["debug/toolBar",[l.DebugToolBar.MENU]],["editor/context",[u.EDITOR_CONTEXT_MENU]],["editor/title",[t.PLUGIN_EDITOR_TITLE_MENU]],["editor/title/context",[o.SHELL_TABBAR_CONTEXT_MENU]],["editor/title/run",[t.PLUGIN_EDITOR_TITLE_RUN_MENU]],["editor/lineNumber/context",[v.EDITOR_LINENUMBER_CONTEXT_MENU]],["explorer/context",[h.NAVIGATOR_CONTEXT_MENU]],["scm/resourceFolder/context",[p.ScmTreeWidget.RESOURCE_FOLDER_CONTEXT_MENU]],["scm/resourceGroup/context",[p.ScmTreeWidget.RESOURCE_GROUP_CONTEXT_MENU]],["scm/resourceState/context",[p.ScmTreeWidget.RESOURCE_CONTEXT_MENU]],["scm/title",[t.PLUGIN_SCM_TITLE_MENU]],["timeline/item/context",[g.TIMELINE_ITEM_CONTEXT_MENU]],["view/item/context",[m.VIEW_ITEM_CONTEXT_MENU]],["view/title",[t.PLUGIN_VIEW_TITLE_MENU]]]);let A=class{is(e){return e instanceof u.EditorWidget||e instanceof b.WebviewWidget}getResourceUri(e){const t=r.Navigatable.is(e)&&e.getResourceUri();return t?t.codeUri:void 0}};A=n([(0,s.injectable)()],A),t.CodeEditorWidgetUtil=A},22219:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageRegistryMainImpl=void 0;const n=i(13318),o=i(16138),r=i(65015);t.MessageRegistryMainImpl=class{constructor(e){this.messageService=e.get(n.MessageService)}async $showMessage(e,t,i,n){const o=await this.doShowMessage(e,t,i,n),r=o?n.map((e=>e.title)).indexOf(o):void 0;return void 0===r&&i.modal?i.onCloseActionHandle:r}async doShowMessage(e,t,i,n){if(i.modal){const s=e===o.MainMessageType.Error?r.MessageType.Error:e===o.MainMessageType.Warning?r.MessageType.Warning:r.MessageType.Info;return(new r.ModalNotification).showDialog(s,t,i,n)}switch(e){case o.MainMessageType.Info:return this.messageService.info(t,...n.map((e=>e.title)));case o.MainMessageType.Warning:return this.messageService.warn(t,...n.map((e=>e.title)));case o.MainMessageType.Error:return this.messageService.error(t,...n.map((e=>e.title)))}throw new Error(`Message type '${e}' is not supported yet!`)}}},73851:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationMainImpl=void 0;const n=i(14820),o=i(9825),r=i(51138);t.NotificationMainImpl=class{constructor(e,t){this.progressMap=new Map,this.progress2Work=new Map,this.toDispose=new r.DisposableCollection(r.Disposable.create((()=>{}))),this.progressService=t.get(o.ProgressService),this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.NOTIFICATION_EXT)}dispose(){this.toDispose.dispose()}async $startProgress(e){const t=this.mapOptions(e),i=await this.progressService.showProgress(t,(()=>{this.progressMap.has(n)&&this.proxy.$acceptProgressCanceled(n)})),n=i.id;return this.progressMap.set(n,i),this.progress2Work.set(n,0),this.toDispose.disposed?this.$stopProgress(n):this.toDispose.push(r.Disposable.create((()=>this.$stopProgress(n)))),n}mapOptions(e){const{title:t,location:i,cancellable:n}=e;return{text:t,options:{location:i,cancelable:n}}}$stopProgress(e){const t=this.progressMap.get(e);t&&(this.progressMap.delete(e),this.progress2Work.delete(e),t.cancel())}$updateProgress(e,t){const i=this.progressMap.get(e);if(!i)return;const n=Math.min((this.progress2Work.get(e)||0)+(t.increment||0),100);this.progress2Work.set(e,n),i.report({message:t.message,work:n?{done:n,total:100}:void 0})}}},83692:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutputChannelRegistryMainImpl=void 0;const r=i(70801),s=i(12202),a=i(35713);let c=class{$append(e,t,i){return this.commandService.executeCommand(a.OutputCommands.APPEND.id,{name:e,text:t}),Promise.resolve()}$clear(e){return this.commandService.executeCommand(a.OutputCommands.CLEAR.id,{name:e}),Promise.resolve()}$dispose(e){return this.commandService.executeCommand(a.OutputCommands.DISPOSE.id,{name:e}),Promise.resolve()}async $reveal(e,t){const i={preserveFocus:t};this.commandService.executeCommand(a.OutputCommands.SHOW.id,{name:e,options:i})}$close(e){return this.commandService.executeCommand(a.OutputCommands.HIDE.id,{name:e}),Promise.resolve()}};n([(0,r.inject)(s.CommandService),o("design:type",Object)],c.prototype,"commandService",void 0),c=n([(0,r.injectable)()],c),t.OutputChannelRegistryMainImpl=c},91956:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginAuthenticationServiceImpl=t.getAuthenticationProviderActivationEvent=void 0;const r=i(70974),s=i(70801),a=i(60516),c=i(81602);function l(e){return`onAuthenticationRequest:${e}`}t.getAuthenticationProviderActivationEvent=l;class d extends r.AuthenticationServiceImpl{async getSessions(e,t){return await this.tryActivateProvider(e),super.getSessions(e,t)}async login(e,t){return await this.tryActivateProvider(e),super.login(e,t)}async tryActivateProvider(e){this.pluginService.activateByEvent(l(e));return this.authenticationProviders.get(e)||Promise.race([this.waitForProviderRegistration(e),(0,a.timeoutReject)(5e3,"Timed out waiting for authentication provider to register")])}async waitForProviderRegistration(e){const t=new a.Deferred,i=this.onDidRegisterAuthenticationProvider((n=>{if(n.id===e){i.dispose();const n=this.authenticationProviders.get(e);n?t.resolve(n):t.reject(new Error(`No authentication provider '${e}' is currently registered.`))}}));return t.promise}}n([(0,s.inject)(c.HostedPluginSupport),o("design:type",c.HostedPluginSupport)],d.prototype,"pluginService",void 0),t.PluginAuthenticationServiceImpl=d},68975:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginContributionHandler=void 0;const r=i(70801),s=i(56451),a=i(11055),c=i(79467),l=i(4626),d=i(87361),u=i(98516),h=i(64414),p=i(89555),g=i(34291),f=i(12202),m=i(51138),b=i(18894),v=i(467),A=i(36457),y=i(96641),C=i(82153),w=i(53414),_=i(81393),S=i(9825),E=i(39539),k=i(56090),x=i(10202),D=i(24227),T=i(94842),M=i(949);let B=class{constructor(){this.injections=new Map,this.commandHandlers=new Map,this.onDidRegisterCommandHandlerEmitter=new b.Emitter,this.onDidRegisterCommandHandler=this.onDidRegisterCommandHandlerEmitter.event}handleContributions(e,t){const i=t.contributes;if(!i)return m.Disposable.NULL;const n=new m.DisposableCollection(m.Disposable.create((()=>{}))),o=(i,...n)=>console.warn(`[${e}][${t.metadata.model.id}]: ${i}`,...n),r=(i,o)=>{if(!n.disposed)try{n.push(o())}catch(n){((i,...n)=>{console.error(`[${e}][${t.metadata.model.id}]: ${i}`,...n)})(`Failed to load '${i}' contribution.`,n)}},s=i.configuration;if(s)for(const e of s)r("configuration",(()=>this.preferenceSchemaProvider.setSchema(e)));const a=i.configurationDefaults;a&&r("configurationDefaults",(()=>this.updateDefaultOverridesSchema(a)));const c=i.languages;if(c&&c.length)for(const e of c){E.languages.register({id:e.id,aliases:e.aliases,extensions:e.extensions,filenamePatterns:e.filenamePatterns,filenames:e.filenames,firstLine:e.firstLine,mimetypes:e.mimetypes});const t=e.configuration;t&&r(`language.${e.id}.configuration`,(()=>E.languages.setLanguageConfiguration(e.id,{wordPattern:this.createRegex(t.wordPattern),autoClosingPairs:t.autoClosingPairs,brackets:t.brackets,comments:t.comments,folding:this.convertFolding(t.folding),surroundingPairs:t.surroundingPairs,indentationRules:this.convertIndentationRules(t.indentationRules),onEnterRules:this.convertOnEnterRules(t.onEnterRules)})))}const l=i.grammars;if(l&&l.length){const e=[];for(const t of l){if(t.injectTo)for(const e of t.injectTo)r(`grammar.injectTo.${e}`,(()=>{const i=this.injections.get(e)||[];return i.push(t.scope),this.injections.set(e,i),m.Disposable.create((()=>{const e=i.indexOf(t.scope);-1!==e&&i.splice(e,1)}))}));t.language&&e.push(t),r(`grammar.textmate.scope.${t.scope}`,(()=>this.grammarsRegistry.registerTextmateGrammarScope(t.scope,{getGrammarDefinition:async()=>({format:t.format,content:t.grammar||"",location:t.grammarLocation}),getInjections:e=>this.injections.get(e)})))}setTimeout((()=>{for(const t of e){const e=t.language;r(`grammar.language.${e}.scope`,(()=>this.grammarsRegistry.mapLanguageIdToTextmateGrammar(e,t.scope))),r(`grammar.language.${e}.configuration`,(()=>{var i;return this.grammarsRegistry.registerGrammarConfiguration(e,{embeddedLanguages:this.convertEmbeddedLanguages(t.embeddedLanguages,o),tokenTypes:this.convertTokenTypes(t.tokenTypes),balancedBracketSelectors:null!==(i=t.balancedBracketScopes)&&void 0!==i?i:["*"],unbalancedBracketSelectors:t.balancedBracketScopes})}))}setTimeout((()=>{for(const t of e){const e=t.language;r(`grammar.language.${e}.activation`,(()=>this.monacoTextmateService.activateLanguage(e)))}}))}))}if(r("commands",(()=>this.registerCommands(i))),r("menus",(()=>this.menusContributionHandler.handle(t))),r("keybindings",(()=>this.keybindingsContributionHandler.handle(i))),i.customEditors)for(const e of i.customEditors)r(`customEditors.${e.viewType}`,(()=>this.customEditorRegistry.registerCustomEditor(e)));if(i.viewsContainers)for(const e in i.viewsContainers)if(i.viewsContainers.hasOwnProperty(e))for(const t of i.viewsContainers[e])r(`viewContainers.${t.id}`,(()=>this.viewRegistry.registerViewContainer(e,t)));if(i.views)for(const e in i.views)for(const t of i.views[e])r(`views.${t.id}`,(()=>this.viewRegistry.registerView(e,t)));if(i.viewsWelcome)for(const[e,t]of i.viewsWelcome.entries())r(`viewsWelcome.${t.view}.${e}`,(()=>this.viewRegistry.registerViewWelcome(t)));if(i.snippets)for(const e of i.snippets)r(`snippets.${e.uri}`,(()=>this.snippetSuggestProvider.fromURI(e.uri,{language:e.language,source:e.source})));if(i.themes&&i.themes.length){const e={};for(const t of i.themes)r(`themes.${t.uri}`,(()=>this.monacoThemingService.register(t,e)))}if(i.iconThemes&&i.iconThemes.length)for(const e of i.iconThemes)r(`iconThemes.${e.uri}`,(()=>this.iconThemeService.register(e,t)));const u=i.colors;if(u&&r("colors",(()=>this.colors.register(...u))),i.taskDefinitions)for(const e of i.taskDefinitions)r(`taskDefinitions.${e.taskType}`,(()=>this.taskDefinitionRegistry.register(e)));if(i.problemPatterns)for(const e of i.problemPatterns)r(`problemPatterns.${e.name||e.regexp}`,(()=>this.problemPatternRegistry.register(e)));if(i.problemMatchers)for(const e of i.problemMatchers)r(`problemMatchers.${e.label}`,(()=>this.problemMatcherRegistry.register(e)));if(i.debuggers&&i.debuggers.length){n.push(m.Disposable.create((()=>this.debugSchema.update())));for(const e of i.debuggers)r(`debuggers.${e.type}`,(()=>this.debugService.registerDebugger(e)));this.debugSchema.update()}if(i.resourceLabelFormatters)for(const e of i.resourceLabelFormatters)for(const t of this.contributionProvider.getContributions())t instanceof d.DefaultUriLabelProviderContribution&&r(`resourceLabelFormatters.${e.scheme}`,(()=>t.registerFormatter(e)));const h=this;if(i.terminalProfiles)for(const e of i.terminalProfiles)r(`terminalProfiles.${e.id}`,(()=>(this.contributedProfileStore.registerTerminalProfile(e.title,{async start(){const t=await h.pluginTerminalRegistry.start(e.id),i=h.terminalService.getById(t);if(!i)throw new Error(`Error starting terminal from profile ${e.id}`);return i}}),m.Disposable.create((()=>{this.contributedProfileStore.unregisterTerminalProfile(e.id)})))));return n}registerCommands(e){if(!e.commands)return m.Disposable.NULL;const t=new m.DisposableCollection;for(const{iconUrl:i,themeIcon:n,command:o,category:r,title:s,originalTitle:a,enablement:c}of e.commands){const e=i&&this.style.toIconClass(i),l=n&&k.ThemeIcon.fromString(n);let d;e?(t.push(e),d=e.object.iconClass):l&&(d=k.ThemeIcon.asClassName(l)),t.push(this.registerCommand({id:o,category:r,label:s,originalLabel:a,iconClass:d},c))}return t}registerCommand(e,t){if(this.hasCommand(e.id))return console.warn(`command '${e.id}' already registered`),m.Disposable.NULL;const i={execute:async(...t)=>{const i=this.commandHandlers.get(e.id);if(!i)throw new Error(`command '${e.id}' not found`);return i(...t)},isEnabled:()=>!t||this.contextKeyService.match(t),isVisible:()=>!0};if(t){const e=this.contextKeyService.parseKeys(t);e&&e.size>0&&(i.onDidChangeEnabled=t=>this.contextKeyService.onDidChange((i=>{i.affects(e)&&t()})))}const n=new m.DisposableCollection;return this.commands.getCommand(e.id)?n.push(this.commands.registerHandler(e.id,i)):n.push(this.commands.registerCommand(e,i)),this.commandHandlers.set(e.id,void 0),n.push(m.Disposable.create((()=>this.commandHandlers.delete(e.id)))),n}registerCommandHandler(e,t){return this.hasCommandHandler(e)?(console.warn(`command handler '${e}' already registered`),m.Disposable.NULL):(this.commandHandlers.set(e,t),this.onDidRegisterCommandHandlerEmitter.fire(e),m.Disposable.create((()=>this.commandHandlers.set(e,void 0))))}hasCommand(e){return this.commandHandlers.has(e)}hasCommandHandler(e){return!!this.commandHandlers.get(e)}updateDefaultOverridesSchema(e){const t={id:"defaultOverrides",title:"Default Configuration Overrides",properties:{}};for(const i in e){const n=e[i];this.preferenceOverrideService.testOverrideValue(i,n)&&(t.properties[i]={type:"object",default:n,description:`Configure editor settings to be overridden for ${i} language.`})}return Object.keys(t.properties).length?this.preferenceSchemaProvider.setSchema(t):m.Disposable.NULL}createRegex(e){return"string"==typeof e?new RegExp(e,""):void 0!==e?new RegExp(e.pattern,e.flags):void 0}convertIndentationRules(e){if(e)return{decreaseIndentPattern:this.createRegex(e.decreaseIndentPattern),increaseIndentPattern:this.createRegex(e.increaseIndentPattern),indentNextLinePattern:this.createRegex(e.indentNextLinePattern),unIndentedLinePattern:this.createRegex(e.unIndentedLinePattern)}}convertFolding(e){if(!e)return;const t={offSide:e.offSide};return e.markers&&(t.markers={end:this.createRegex(e.markers.end),start:this.createRegex(e.markers.start)}),t}convertTokenTypes(e){if(null==e)return;const t=Object.create(null),i=Object.keys(e),n=i.length;for(let o=0;o<n;o++){const n=i[o];switch(e[n]){case"string":t[n]=2;break;case"other":t[n]=0;break;case"comment":t[n]=1}}return t}convertEmbeddedLanguages(e,t){if(null==e)return;const i=Object.create(null),n=Object.keys(e),o=n.length;for(let r=0;r<o;r++){const o=n[r],a=e[o];i[o]=(0,s.getEncodedLanguageId)(a),i[o]||t(`Language for '${o}' not found.`)}return i}convertOnEnterRules(e){if(!e)return;const t=[];for(const i of e){const e={beforeText:this.createRegex(i.beforeText),afterText:this.createRegex(i.afterText),previousLineText:this.createRegex(i.previousLineText),action:this.createEnterAction(i.action)};t.push(e)}return t}createEnterAction(e){let t;switch(e.indent){case"indent":t=E.languages.IndentAction.Indent;break;case"indentOutdent":t=E.languages.IndentAction.IndentOutdent;break;case"outdent":t=E.languages.IndentAction.Outdent;break;default:t=E.languages.IndentAction.None}return{indentAction:t,appendText:e.appendText,removeText:e.removeText}}};n([(0,r.inject)(s.TextmateRegistry),o("design:type",s.TextmateRegistry)],B.prototype,"grammarsRegistry",void 0),n([(0,r.inject)(c.PluginViewRegistry),o("design:type",c.PluginViewRegistry)],B.prototype,"viewRegistry",void 0),n([(0,r.inject)(l.PluginCustomEditorRegistry),o("design:type",l.PluginCustomEditorRegistry)],B.prototype,"customEditorRegistry",void 0),n([(0,r.inject)(a.MenusContributionPointHandler),o("design:type",a.MenusContributionPointHandler)],B.prototype,"menusContributionHandler",void 0),n([(0,r.inject)(d.PreferenceSchemaProvider),o("design:type",d.PreferenceSchemaProvider)],B.prototype,"preferenceSchemaProvider",void 0),n([(0,r.inject)(u.PreferenceLanguageOverrideService),o("design:type",u.PreferenceLanguageOverrideService)],B.prototype,"preferenceOverrideService",void 0),n([(0,r.inject)(s.MonacoTextmateService),o("design:type",s.MonacoTextmateService)],B.prototype,"monacoTextmateService",void 0),n([(0,r.inject)(h.KeybindingsContributionPointHandler),o("design:type",h.KeybindingsContributionPointHandler)],B.prototype,"keybindingsContributionHandler",void 0),n([(0,r.inject)(p.MonacoSnippetSuggestProvider),o("design:type",p.MonacoSnippetSuggestProvider)],B.prototype,"snippetSuggestProvider",void 0),n([(0,r.inject)(f.CommandRegistry),o("design:type",f.CommandRegistry)],B.prototype,"commands",void 0),n([(0,r.inject)(g.PluginSharedStyle),o("design:type",g.PluginSharedStyle)],B.prototype,"style",void 0),n([(0,r.inject)(v.TaskDefinitionRegistry),o("design:type",v.TaskDefinitionRegistry)],B.prototype,"taskDefinitionRegistry",void 0),n([(0,r.inject)(v.ProblemMatcherRegistry),o("design:type",v.ProblemMatcherRegistry)],B.prototype,"problemMatcherRegistry",void 0),n([(0,r.inject)(v.ProblemPatternRegistry),o("design:type",v.ProblemPatternRegistry)],B.prototype,"problemPatternRegistry",void 0),n([(0,r.inject)(A.PluginDebugService),o("design:type",A.PluginDebugService)],B.prototype,"debugService",void 0),n([(0,r.inject)(y.DebugSchemaUpdater),o("design:type",y.DebugSchemaUpdater)],B.prototype,"debugSchema",void 0),n([(0,r.inject)(C.MonacoThemingService),o("design:type",C.MonacoThemingService)],B.prototype,"monacoThemingService",void 0),n([(0,r.inject)(w.ColorRegistry),o("design:type",w.ColorRegistry)],B.prototype,"colors",void 0),n([(0,r.inject)(_.PluginIconThemeService),o("design:type",_.PluginIconThemeService)],B.prototype,"iconThemeService",void 0),n([(0,r.inject)(D.TerminalService),o("design:type",Object)],B.prototype,"terminalService",void 0),n([(0,r.inject)(T.PluginTerminalRegistry),o("design:type",T.PluginTerminalRegistry)],B.prototype,"pluginTerminalRegistry",void 0),n([(0,r.inject)(x.ContributedTerminalProfileStore),o("design:type",Object)],B.prototype,"contributedProfileStore",void 0),n([(0,r.inject)(S.ContributionProvider),(0,r.named)(d.LabelProviderContribution),o("design:type",Object)],B.prototype,"contributionProvider",void 0),n([(0,r.inject)(M.ContextKeyService),o("design:type",Object)],B.prototype,"contextKeyService",void 0),B=n([(0,r.injectable)()],B),t.PluginContributionHandler=B},7173:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(51229),i(9417),i(22690);const n=i(70801),o=i(87361),r=i(9825),s=i(60556),a=i(81602),c=i(83019),l=i(45753),d=i(13170),u=i(32147),h=i(65015),p=i(88036),g=i(16613),f=i(14784),m=i(11055),b=i(68975),v=i(79467),A=i(53989),y=i(65264),C=i(39119),w=i(64414),_=i(12300),S=i(57812),E=i(36457),k=i(64002),x=i(34291),D=i(15093),T=i(19290),M=i(62352),B=i(78054),I=i(46395),L=i(54306),P=i(14820),O=i(29277),R=i(83692),N=i(4196),F=i(47225),j=i(80703),W=i(85735),z=i(3267),U=i(81393),H=i(21257),V=i(57310),K=i(21162),G=i(26082),$=i(63494),q=i(68311),Y=i(69709),Q=i(4626),X=i(41436),Z=i(4434),J=i(71442),ee=i(79558),te=i(72806),ie=i(91956),ne=i(70974),oe=i(38744),re=i(22987),se=i(22810);i(23794);const ae=i(94842),ce=i(20607),le=i(50661),de=i(53611),ue=i(23119);t.default=new n.ContainerModule(((e,t,i,n)=>{e(O.LanguagesMainImpl).toSelf().inTransientScope(),e(P.LanguagesMainFactory).toFactory((e=>t=>{const i=e.container.createChild();return i.bind(L.RPCProtocol).toConstantValue(t),i.get(O.LanguagesMainImpl)})),e(R.OutputChannelRegistryMainImpl).toSelf().inTransientScope(),e(P.OutputChannelRegistryFactory).toFactory((e=>()=>e.container.createChild().get(R.OutputChannelRegistryMainImpl))),e(h.ModalNotification).toSelf().inSingletonScope(),e(a.HostedPluginSupport).toSelf().inSingletonScope(),e(c.HostedPluginWatcher).toSelf().inSingletonScope(),e(D.SelectionProviderCommandContribution).toSelf().inSingletonScope(),e(r.CommandContribution).toService(D.SelectionProviderCommandContribution),e(l.OpenUriCommandHandler).toSelf().inSingletonScope(),e(d.PluginApiFrontendContribution).toSelf().inSingletonScope(),e(r.CommandContribution).toService(d.PluginApiFrontendContribution),e(ue.TabBarToolbarContribution).toService(d.PluginApiFrontendContribution),e(f.EditorModelService).toSelf().inSingletonScope(),e(o.FrontendApplicationContribution).toDynamicValue((e=>({onStart(){e.container.get(a.HostedPluginSupport).onStart(e.container)}}))),e(u.HostedPluginServer).toDynamicValue((e=>{const t=e.container.get(s.WebSocketConnectionProvider),i=e.container.get(c.HostedPluginWatcher);return t.createProxy(u.hostedServicePath,i.getHostedPluginClient())})).inSingletonScope(),e(C.PluginPathsService).toDynamicValue((e=>e.container.get(s.WebSocketConnectionProvider).createProxy(C.pluginPathsServicePath))).inSingletonScope(),(0,o.bindViewContribution)(e,g.PluginFrontendViewContribution),e(p.PluginWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((e=>({id:g.PluginFrontendViewContribution.PLUGINS_WIDGET_FACTORY_ID,createWidget:()=>e.container.get(p.PluginWidget)}))),e(u.PluginServer).toDynamicValue((e=>e.container.get(s.WebSocketConnectionProvider).createProxy(u.pluginServerJsonRpcPath))).inSingletonScope(),e(M.ViewContextKeyService).toSelf().inSingletonScope(),(0,oe.bindTreeViewDecoratorUtilities)(e),e(H.PluginTreeViewNodeLabelProvider).toSelf().inSingletonScope(),e(o.LabelProviderContribution).toService(H.PluginTreeViewNodeLabelProvider),e(ce.DnDFileContentStore).toSelf().inSingletonScope(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:v.PLUGIN_VIEW_DATA_FACTORY_ID,createWidget:t=>{const i={contextMenuPath:I.VIEW_ITEM_CONTEXT_MENU,expandOnlyOnExpansionToggleClick:!0,expansionTogglePadding:22,globalSelection:!0,leftPadding:8,search:!0,multiSelect:t.multiSelect},n=(0,o.createTreeContainer)(e,{props:i,tree:I.PluginTree,model:I.PluginTreeModel,widget:I.TreeViewWidget,decoratorService:oe.TreeViewDecoratorService});return n.bind(I.TreeViewWidgetOptions).toConstantValue(t),n.get(o.TreeWidget)}}))).inSingletonScope(),(0,W.bindWebviewPreferences)(e),e(F.WebviewEnvironment).toSelf().inSingletonScope(),e(j.WebviewThemeDataProvider).toSelf().inSingletonScope(),e(z.WebviewResourceCache).toSelf().inSingletonScope(),e(N.WebviewWidget).toSelf(),e(V.WebviewWidgetFactory).toDynamicValue((e=>new V.WebviewWidgetFactory(e.container))).inSingletonScope(),e(o.WidgetFactory).toService(V.WebviewWidgetFactory),e(le.WebviewContextKeys).toSelf().inSingletonScope(),e(o.FrontendApplicationContribution).toService(le.WebviewContextKeys),e(Y.CustomEditorContribution).toSelf().inSingletonScope(),e(r.CommandContribution).toService(Y.CustomEditorContribution),e(Q.PluginCustomEditorRegistry).toSelf().inSingletonScope(),e(J.CustomEditorService).toSelf().inSingletonScope(),e(Z.CustomEditorWidget).toSelf(),e(X.CustomEditorWidgetFactory).toDynamicValue((e=>new X.CustomEditorWidgetFactory(e.container))).inSingletonScope(),e(o.WidgetFactory).toService(X.CustomEditorWidgetFactory),e(ee.UndoRedoService).toSelf().inSingletonScope(),e(B.PluginViewWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:v.PLUGIN_VIEW_FACTORY_ID,createWidget:t=>{const i=e.createChild();return i.bind(B.PluginViewWidgetIdentifier).toConstantValue(t),i.get(B.PluginViewWidget)}}))).inSingletonScope(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:v.PLUGIN_VIEW_CONTAINER_FACTORY_ID,createWidget:t=>e.get(o.ViewContainer.Factory)(t)}))).inSingletonScope(),e(x.PluginSharedStyle).toSelf().inSingletonScope(),e(v.PluginViewRegistry).toSelf().inSingletonScope(),e(o.FrontendApplicationContribution).toService(v.PluginViewRegistry),e(U.PluginIconThemeFactory).toFactory((({container:e})=>t=>{const i=e.createChild();return i.bind(U.PluginIconThemeDefinition).toConstantValue(t),i.bind(U.PluginIconTheme).toSelf().inSingletonScope(),i.get(U.PluginIconTheme)})),e(U.PluginIconThemeService).toSelf().inSingletonScope(),e(o.LabelProviderContribution).toService(U.PluginIconThemeService),e(m.MenusContributionPointHandler).toSelf().inSingletonScope(),e(se.PluginMenuCommandAdapter).toSelf().inSingletonScope(),e(re.CodeEditorWidgetUtil).toSelf().inSingletonScope(),e(w.KeybindingsContributionPointHandler).toSelf().inSingletonScope(),e(b.PluginContributionHandler).toSelf().inSingletonScope(),e(A.TextContentResourceResolver).toSelf().inSingletonScope(),e(r.ResourceResolver).toService(A.TextContentResourceResolver),(0,r.bindContributionProvider)(e,y.MainPluginApiProvider),e(E.PluginDebugService).toSelf().inSingletonScope(),n(k.DebugService).toService(E.PluginDebugService),e(S.PluginDebugSessionContributionRegistry).toSelf().inSingletonScope(),n(_.DebugSessionContributionRegistry).toService(S.PluginDebugSessionContributionRegistry),e(T.ViewColumnService).toSelf().inSingletonScope(),e(K.CommentsService).to(K.PluginCommentService).inSingletonScope(),e(G.CommentingRangeDecorator).toSelf().inSingletonScope(),e($.CommentsContribution).toSelf().inSingletonScope(),e(q.CommentsContextKeyService).toSelf().inSingletonScope(),e(te.WebviewFrontendSecurityWarnings).toSelf().inSingletonScope(),e(o.FrontendApplicationContribution).toService(te.WebviewFrontendSecurityWarnings),e(ie.PluginAuthenticationServiceImpl).toSelf().inSingletonScope(),n(ne.AuthenticationService).toService(ie.PluginAuthenticationServiceImpl),e(ae.PluginTerminalRegistry).toSelf().inSingletonScope(),e(de.LanguagePackService).toDynamicValue((e=>e.container.get(s.WebSocketConnectionProvider).createProxy(de.languagePackServicePath))).inSingletonScope()}))},88036:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginWidget=t.PLUGINS_LABEL=void 0;const r=i(92664),s=i(70801),a=i(31134),c=i(86508),l=i(81602),d=i(6031),u=i(51138),h=i(87361),p=i(9825);t.PLUGINS_LABEL=p.nls.localize("theia/plugin-ext/plugins","Plugins");let g=class extends a.ReactWidget{constructor(){super(),this.toDisposeProgress=new u.DisposableCollection,this.id="plugins",this.title.label=t.PLUGINS_LABEL,this.title.caption=t.PLUGINS_LABEL,this.title.iconClass=(0,h.codicon)("diff-added"),this.title.closable=!0,this.node.tabIndex=0,this.addClass("theia-plugins"),this.update()}init(){this.toDispose.push(this.pluginService.onDidChangePlugins((()=>this.update())))}onActivateRequest(e){super.onActivateRequest(e),this.node.focus()}render(){return r.createElement("div",{ref:e=>{this.toDisposeProgress.dispose(),this.toDispose.push(this.toDisposeProgress),e&&this.toDispose.push(this.progressBarFactory({container:this.node,insertMode:"prepend",locationId:l.PluginProgressLocation}))}},this.doRender())}doRender(){const e=this.pluginService.plugins;return e.length?r.createElement(r.Fragment,null,this.renderPlugins(e)):r.createElement(c.AlertMessage,{type:"INFO",header:"No plugins currently available."})}renderPlugins(e){return r.createElement("div",{id:"pluginListContainer"},e.sort(((e,t)=>this.compareMetadata(e,t))).map((e=>this.renderPlugin(e))))}renderPlugin(e){return r.createElement("div",{key:e.model.name,className:this.createPluginClassName(e)},r.createElement("div",{className:"column flexcontainer pluginInformationContainer"},r.createElement("div",{className:"row flexcontainer"},r.createElement("div",{className:(0,h.codicon)("list-selection")}),r.createElement("div",{title:e.model.name,className:"pluginName noWrapInfo"},e.model.name)),r.createElement("div",{className:"row flexcontainer"},r.createElement("div",{className:"pluginVersion"},e.model.version)),r.createElement("div",{className:"row flexcontainer"},r.createElement("div",{className:"pluginDescription noWrapInfo"},e.model.description)),r.createElement("div",{className:"row flexcontainer"},r.createElement("div",{className:"pluginPublisher noWrapInfo flexcontainer"},e.model.publisher))))}createPluginClassName(e){return["pluginHeaderContainer"].join(" ")}compareMetadata(e,t){const i=e.model.name.toLowerCase(),n=t.model.name.toLowerCase(),o=e.model.publisher.toLowerCase(),r=t.model.publisher.toLowerCase();return i==i?i.localeCompare(n):o.localeCompare(r)}};n([(0,s.inject)(l.HostedPluginSupport),o("design:type",l.HostedPluginSupport)],g.prototype,"pluginService",void 0),n([(0,s.inject)(d.ProgressBarFactory),o("design:type",Function)],g.prototype,"progressBarFactory",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"init",null),g=n([(0,s.injectable)(),o("design:paramtypes",[])],g),t.PluginWidget=g},13170:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginApiFrontendContribution=void 0;const s=i(70801),a=i(9825),c=i(45753),l=i(46395),d=i(87361),u=i(78054);let h=n=class{registerCommands(e){e.registerCommand(c.OpenUriCommandHandler.COMMAND_METADATA,{execute:e=>this.openUriCommandHandler.execute(e),isVisible:()=>!1}),e.registerCommand(n.COLLAPSE_ALL_COMMAND,{execute:e=>{if(e instanceof u.PluginViewWidget&&e.widgets[0]instanceof l.TreeViewWidget){const t=e.widgets[0].model;if(d.CompositeTreeNode.is(t.root))for(const e of t.root.children)d.CompositeTreeNode.is(e)&&t.collapseAll(e)}},isVisible:e=>e instanceof u.PluginViewWidget&&e.widgets[0]instanceof l.TreeViewWidget&&e.widgets[0].showCollapseAll})}registerToolbarItems(e){e.registerItem({id:n.COLLAPSE_ALL_COMMAND.id,command:n.COLLAPSE_ALL_COMMAND.id,tooltip:n.COLLAPSE_ALL_COMMAND.label,icon:n.COLLAPSE_ALL_COMMAND.iconClass,priority:1e3})}};h.COLLAPSE_ALL_COMMAND=a.Command.toDefaultLocalizedCommand({id:"treeviews.collapseAll",iconClass:(0,d.codicon)("collapse-all"),label:"Collapse All"}),o([(0,s.inject)(c.OpenUriCommandHandler),r("design:type",c.OpenUriCommandHandler)],h.prototype,"openUriCommandHandler",void 0),h=n=o([(0,s.injectable)()],h),t.PluginApiFrontendContribution=h},16613:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginFrontendViewContribution=void 0;const s=i(70801),a=i(94930),c=i(88036);let l=n=class extends a.AbstractViewContribution{constructor(){super({widgetId:n.PLUGINS_WIDGET_FACTORY_ID,widgetName:c.PLUGINS_LABEL,defaultWidgetOptions:{area:"left",rank:400},toggleCommandId:"pluginsView:toggle"})}};l.PLUGINS_WIDGET_FACTORY_ID="plugins",l=n=o([(0,s.injectable)(),r("design:paramtypes",[])],l),t.PluginFrontendViewContribution=l},81393:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginIconThemeService=t.PluginIconTheme=t.PluginIconThemeDefinition=t.PluginIconThemeFactory=void 0;const r=i(69972),s=i(69592),a=i(70801),c=i(5355),l=i(32147),d=i(30970),u=i(51138),h=i(18894),p=i(17264),g=i(21549),f=i(49068),m=i(20820),b=i(14304),v=i(36090),A=i(73246),y=i(65948),C=i(49659);t.PluginIconThemeFactory=Symbol("PluginIconThemeFactory");let w=class{};w=n([(0,a.injectable)()],w),t.PluginIconThemeDefinition=w;let _=class extends w{constructor(){super(...arguments),this.onDidChangeEmitter=new h.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.toDeactivate=new u.DisposableCollection,this.toUnload=new u.DisposableCollection,this.toDisposeStyleElement=new u.DisposableCollection,this.toDispose=new u.DisposableCollection(this.toDeactivate,this.toDisposeStyleElement,this.toUnload,this.onDidChangeEmitter),this.icons=new Set,this.reload=r((()=>{this.toUnload.dispose(),this.doActivate()}),50),this.fileIcon="theia-plugin-file-icon",this.folderIcon="theia-plugin-folder-icon",this.folderExpandedIcon="theia-plugin-folder-expanded-icon",this.rootFolderIcon="theia-plugin-root-folder-icon",this.rootFolderExpandedIcon="theia-plugin-root-folder-expanded-icon"}init(){Object.assign(this,this.definition),this.packageRootUri=new d.default(this.packageUri),this.locationUri=new d.default(this.uri).parent}dispose(){this.toDispose.dispose()}fireDidChange(){this.onDidChangeEmitter.fire({affects:()=>!0})}activate(){return this.toDeactivate.disposed?(this.toDeactivate.push(u.Disposable.create((()=>this.fireDidChange()))),this.doActivate(),this.toDeactivate):this.toDeactivate}async doActivate(){await this.load(),this.updateStyleElement()}updateStyleElement(){if(this.toDisposeStyleElement.dispose(),this.toDeactivate.disposed||!this.styleSheetContent)return;const e=document.createElement("style");e.type="text/css",e.className="theia-icon-theme",e.innerText=this.styleSheetContent,document.head.appendChild(e);const t=u.Disposable.create((()=>e.remove()));this.toDisposeStyleElement.push(t),this.toDeactivate.push(t),this.fireDidChange()}async load(){if(void 0!==this.styleSheetContent)return;this.styleSheetContent="",this.toUnload.push(u.Disposable.create((()=>{this.styleSheetContent=void 0,this.hasFileIcons=void 0,this.hasFolderIcons=void 0,this.hidesExplorerArrows=void 0,this.icons.clear()})));const e=new d.default(this.uri),t=(await this.fileService.read(e)).value,i=s.parse(t,void 0,{disallowComments:!1});this.hidesExplorerArrows=!!i.hidesExplorerArrows;const n=this.fileService.watch(e);this.toUnload.disposed?n.dispose():(this.toUnload.push(n),this.toUnload.push(this.fileService.onDidFilesChange((t=>{(t.contains(e,1)||t.contains(e,0))&&this.reload()}))));const o=i.iconDefinitions;if(!o)return;const r=new Map,a=(e,t,...i)=>{if(!o[t])return;let n="";for(const e of i)e&&(n+="."+e,this.icons.add(e));if(!n)return;const s=r.get(t)||[];"dark"!==e&&(n=".theia-"+e+" "+n),s.push(n+"::before"),r.set(t,s)};if(this.collectSelectors(i,a.bind(void 0,"dark")),i.light&&this.collectSelectors(i.light,a.bind(void 0,"light")),i.highContrast&&this.collectSelectors(i.highContrast,a.bind(void 0,"hc")),!this.icons.size)return;const c=i.fonts;if(Array.isArray(c)){for(const e of c)if(e){let t="";if(Array.isArray(e.src))for(const i of e.src)if(i&&i.path){const e=this.toCSSUrl(i.path);e&&(t&&(t+=", "),t+=`${e} format('${i.format}')`)}t&&(this.styleSheetContent+=`@font-face {\n    src: ${t};\n    font-family: '${e.id}';\n    font-weight: ${e.weight};\n    font-style: ${e.style};\n}\n`)}const e=c[0];e&&e.id&&(this.styleSheetContent+=`.${this.fileIcon}::before, .${this.folderIcon}::before, .${this.rootFolderIcon}::before {\n    font-family: '${e.id}';\n    font-size: ${e.size||"150%"};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    vertical-align: top;\n}\n`)}for(const e of r.keys()){const t=o[e],i=r.get(e);if(i&&t){const e=this.toCSSUrl(t.iconPath);if(e&&(this.styleSheetContent+=`${i.join(", ")} {\n    content: ' ';\n    background-image: ${e};\n    background-size: 16px;\n    background-position: left center;\n    background-repeat: no-repeat;\n}\n`),t.fontCharacter||t.fontColor){let e="";t.fontColor&&(e+=` color: ${t.fontColor};`),t.fontCharacter&&(e+=` content: '${t.fontCharacter}';`),t.fontSize&&(e+=` font-size: ${t.fontSize};`),t.fontId&&(e+=` font-family: ${t.fontId};`),this.styleSheetContent+=`${i.join(", ")} {${e} }\n`}}}}toCSSUrl(e){if(!e)return;const t=this.locationUri.resolve(e),i=this.packageRootUri.path.relative(t.path.normalize());return i&&`url('${new m.Endpoint({path:`hostedPlugin/${this.pluginId}/${encodeURIComponent(i.normalize().toString())}`}).getRestUrl().toString()}')`}escapeCSS(e){return(e=e.replace(/[^\-a-zA-Z0-9]/g,"-")).charAt(0).match(/[0-9\-]/)&&(e="-"+e),e}folderNameIcon(e){return"theia-plugin-"+this.escapeCSS(e.toLowerCase())+"-folder-name-icon"}expandedFolderNameIcon(e){return"theia-plugin-"+this.escapeCSS(e.toLowerCase())+"-expanded-folder-name-icon"}fileNameIcon(e){const t=(e=e.toLowerCase()).indexOf("."),i=-1!==t?this.fileExtensionIcon(e.substring(t+1)):[];return i.unshift("theia-plugin-"+this.escapeCSS(e)+"-file-name-icon"),i}fileExtensionIcon(e){const t=[],i=(e=e.toString()).split(".");if(i.length&&i.length){for(let e=0;e<i.length;e++)t.push("theia-plugin-"+this.escapeCSS(i.slice(e).join("."))+"-ext-file-icon");t.push("theia-plugin-ext-file-icon")}return t}languageIcon(e){return"theia-plugin-"+this.escapeCSS(e)+"-lang-file-icon"}collectSelectors(e,t){e.folder&&(t(e.folder,this.folderIcon),this.hasFolderIcons=!0),e.folderExpanded&&(t(e.folderExpanded,this.folderExpandedIcon),this.hasFolderIcons=!0);const i=e.rootFolder||e.folder;i&&(t(i,this.rootFolderIcon),this.hasFolderIcons=!0);const n=e.rootFolderExpanded||e.folderExpanded;n&&(t(n,this.rootFolderExpandedIcon),this.hasFolderIcons=!0),e.file&&(t(e.file,this.fileIcon),this.hasFileIcons=!0);const o=e.folderNames;if(o)for(const e in o)t(o[e],this.folderNameIcon(e),this.folderIcon),this.hasFolderIcons=!0;const r=e.folderNamesExpanded;if(r)for(const e in r)t(r[e],this.expandedFolderNameIcon(e),this.folderExpandedIcon),this.hasFolderIcons=!0;const s=e.languageIds;if(s){!s.jsonc&&s.json&&(s.jsonc=s.json);for(const e in s)t(s[e],this.languageIcon(e),this.fileIcon),this.hasFileIcons=!0}const a=e.fileExtensions;if(a)for(const e in a)t(a[e],...this.fileExtensionIcon(e),this.fileIcon),this.hasFileIcons=!0;const c=e.fileNames;if(c)for(const e in c)t(c[e],...this.fileNameIcon(e),this.fileIcon),this.hasFileIcons=!0}getIcon(e){let t="";for(const i of this.getClassNames(e))this.icons.has(i)&&(t&&(t+=" "),t+=i);return t}getClassNames(e){if(f.WorkspaceRootNode.is(e)){const t=this.labelProvider.getName(e);return e.expanded?[this.rootFolderExpandedIcon,this.expandedFolderNameIcon(t)]:[this.rootFolderIcon,this.folderNameIcon(t)]}if(g.DirNode.is(e)){if(e.expanded){const t=this.labelProvider.getName(e);return[this.folderExpandedIcon,this.expandedFolderNameIcon(t)]}return this.getFolderClassNames(e)}return g.FileStatNode.is(e)?this.getFileClassNames(e,e.fileStat.resource.toString()):v.FileStat.is(e)?e.isDirectory?this.getFolderClassNames(e):this.getFileClassNames(e,e.resource.toString()):p.URIIconReference.is(e)?"folder"===e.id?this.getFolderClassNames(e):this.getFileClassNames(e,e.uri&&e.uri.toString()):this.getFileClassNames(e,e.toString())}getFolderClassNames(e){const t=this.labelProvider.getName(e);return[this.folderIcon,this.folderNameIcon(t)]}getFileClassNames(e,t){var i;const n=this.labelProvider.getName(e),o=this.fileNameIcon(n);if(t){const e=new d.default(t);(null===(i=this.workspaceService.getWorkspaceRootUri(new d.default(t)))||void 0===i?void 0:i.isEqual(e))?o.unshift(this.rootFolderIcon):o.unshift(this.fileIcon);const n=y.StandaloneServices.get(C.ILanguageService).createByFilepathOrFirstLine(e.codeUri);o.push(this.languageIcon(n.languageId))}return o}};n([(0,a.inject)(b.FileService),o("design:type",b.FileService)],_.prototype,"fileService",void 0),n([(0,a.inject)(p.LabelProvider),o("design:type",p.LabelProvider)],_.prototype,"labelProvider",void 0),n([(0,a.inject)(w),o("design:type",w)],_.prototype,"definition",void 0),n([(0,a.inject)(A.WorkspaceService),o("design:type",A.WorkspaceService)],_.prototype,"workspaceService",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],_.prototype,"init",null),_=n([(0,a.injectable)()],_),t.PluginIconTheme=_;let S=class{constructor(){this.onDidChangeEmitter=new h.Emitter,this.onDidChange=this.onDidChangeEmitter.event}fireDidChange(){this.onDidChangeEmitter.fire({affects:()=>!0})}register(e,t){const i=(0,l.getPluginId)(t.metadata.model),n=t.metadata.model.packageUri,o=this.iconThemeFactory({id:e.id,label:e.label||new d.default(e.uri).path.base,description:e.description,uri:e.uri,uiTheme:e.uiTheme,pluginId:i,packageUri:n});return new u.DisposableCollection(o,o.onDidChange((()=>this.fireDidChange())),this.iconThemeService.register(o))}canHandle(e){return this.iconThemeService.getDefinition(this.iconThemeService.current)instanceof _&&(e instanceof d.default&&"file"===e.scheme||p.URIIconReference.is(e)||v.FileStat.is(e)||g.FileStatNode.is(e))?Number.MAX_SAFE_INTEGER:0}getIcon(e){const t=this.iconThemeService.getDefinition(this.iconThemeService.current);if(t instanceof _)return t.getIcon(e)}};n([(0,a.inject)(c.IconThemeService),o("design:type",c.IconThemeService)],S.prototype,"iconThemeService",void 0),n([(0,a.inject)(t.PluginIconThemeFactory),o("design:type",Function)],S.prototype,"iconThemeFactory",void 0),S=n([(0,a.injectable)()],S),t.PluginIconThemeService=S},34291:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginSharedStyle=void 0;const s=i(70801),a=i(51138),c=i(20311),l=i(86477),d=i(20820);let u=n=class{constructor(){this.rules=[],this.toUpdate=new a.DisposableCollection,this.icons=new l.SyncReferenceCollection((e=>this.createPluginIcon(e))),this.iconSequence=0}init(){this.update(),this.themeService.onDidColorThemeChange((()=>this.update()))}update(){this.toUpdate.dispose();const e=this.style=document.createElement("style");e.type="text/css",e.media="screen",document.getElementsByTagName("head")[0].appendChild(e),this.toUpdate.push(a.Disposable.create((()=>document.getElementsByTagName("head")[0].removeChild(e))));for(const e of this.rules)this.doInsertRule(e)}insertRule(e,t){const i={selector:e,body:t};return this.rules.push(i),this.doInsertRule(i),a.Disposable.create((()=>{const t=this.rules.indexOf(i);-1!==t&&(this.rules.splice(t,1),this.deleteRule(e))}))}doInsertRule({selector:e,body:t}){const i=this.style.sheet,n=t(this.themeService.getCurrentTheme());i.insertRule(e+" {\n"+n+"\n}",0)}deleteRule(e){const t=this.style.sheet,i=t.rules||t.cssRules||[];for(let n=i.length-1;n>=0;n--)-1!==i[n].selectorText.indexOf(e)&&t.deleteRule(n)}toIconClass(e,{size:t}={size:16}){return this.icons.acquire({url:e,size:t})}createPluginIcon(e){const t=e.url,i=e.size,o=n.toExternalIconUrl(`${"object"==typeof t?t.dark:t}`),r=n.toExternalIconUrl(`${"object"==typeof t?t.light:t}`),s="plugin-icon-"+this.iconSequence++,c=new a.DisposableCollection;return c.push(this.insertRule("."+s,(e=>`\n                background-position: 2px;\n                width: ${i}px;\n                height: ${i}px;\n                background: center no-repeat url("${"light"===e.type?r:o}");\n                background-size: ${i}px;\n            `))),{iconClass:s,dispose:()=>c.dispose()}}static toExternalIconUrl(e){return e.startsWith("hostedPlugin/")?new d.Endpoint({path:e}).getRestUrl().toString():e}};o([(0,s.inject)(c.ThemeService),r("design:type",c.ThemeService)],u.prototype,"themeService",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],u.prototype,"init",null),u=n=o([(0,s.injectable)()],u),t.PluginSharedStyle=u},87208:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageMainImpl=void 0;const n=i(32147),o=i(27030);t.StorageMainImpl=class{constructor(e){this.pluginServer=e.get(n.PluginServer),this.workspaceService=e.get(o.WorkspaceService)}$set(e,t,i){return this.pluginServer.setStorageValue(e,t,this.toKind(i))}$get(e,t){return this.pluginServer.getStorageValue(e,this.toKind(t))}$getAll(e){return this.pluginServer.getAllStorageValues(this.toKind(e))}toKind(e){var t;if(!e)return{workspace:null===(t=this.workspaceService.workspace)||void 0===t?void 0:t.resource.toString(),roots:this.workspaceService.tryGetRoots().map((e=>e.resource.toString()))}}}},94842:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginTerminalRegistry=void 0;const o=i(70801);let r=class{start(e){return this.startCallback(e)}};r=n([(0,o.injectable)()],r),t.PluginTerminalRegistry=r},26625:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceRegistryMainImpl=t.getPreferences=void 0;const n=i(98516),o=i(16138),r=i(92147),s=i(73246),a=i(51138);function c(e,t){const i=t.map((e=>e.resource.toString()));return n.PreferenceScope.getScopes().reduce(((t,o)=>{t[o]={};const r=e(o);if(o===n.PreferenceScope.Folder)for(const e of i){const i=r.getPreferences(e);t[o][e]=i}else t[o]=r.getPreferences();return t}),{})}t.getPreferences=c,t.PreferenceRegistryMainImpl=class{constructor(e,t){this.toDispose=new a.DisposableCollection,this.proxy=e.getProxy(o.MAIN_RPC_CONTEXT.PREFERENCE_REGISTRY_EXT),this.preferenceService=t.get(n.PreferenceService);const i=t.get(n.PreferenceProviderProvider),r=t.get(n.PreferenceServiceImpl),l=t.get(s.WorkspaceService);this.toDispose.push(r.onPreferencesChanged((e=>{const t=l.tryGetRoots(),o=c(i,t),r=Object.values(e).map((({scope:e,newValue:t,domain:i,preferenceName:o})=>({preferenceName:o,newValue:t,scope:e===n.PreferenceScope.User||null==i?void 0:i[0]})));this.proxy.$acceptConfigurationChanged(o,r)})))}dispose(){this.toDispose.dispose()}async $updateConfigurationOption(e,t,i,n,o){const r=this.parseConfigurationTarget(e,n),s=this.getEffectiveKey(t,r,o,n);await this.preferenceService.set(s,i,r,n)}async $removeConfigurationOption(e,t,i,n){const o=this.parseConfigurationTarget(e,i),r=this.getEffectiveKey(t,o,n,i);await this.preferenceService.set(r,void 0,o,i)}parseConfigurationTarget(e,t){if("boolean"==typeof e)return e?n.PreferenceScope.User:n.PreferenceScope.Workspace;switch(e){case r.ConfigurationTarget.Global:return n.PreferenceScope.User;case r.ConfigurationTarget.Workspace:return n.PreferenceScope.Workspace;case r.ConfigurationTarget.WorkspaceFolder:return n.PreferenceScope.Folder;default:return t?n.PreferenceScope.Folder:n.PreferenceScope.Workspace}}getEffectiveKey(e,t,i,n){if(i)return e;const o=this.preferenceService.overriddenPreferenceName(e);return o&&void 0===this.preferenceService.inspectInScope(e,t,n,i)?o.preferenceName:e}}},89282:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickOpenMainImpl=void 0;const n=i(16138),o=i(87361),r=i(51138),s=i(98457),a=i(92147),c=i(13438),l=i(39539),d=i(56090);t.QuickOpenMainImpl=class{constructor(e,t){this.items={},this.toDispose=new r.DisposableCollection,this.sessions=new Map,this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.QUICK_OPEN_EXT),this.delegate=t.get(s.MonacoQuickInputService),this.quickInputService=t.get(o.QuickInputService)}dispose(){this.toDispose.dispose()}async $show(e,t,i){const n=new Promise(((t,i)=>{this.items[e]={resolve:t,reject:i}}));t={...t,onDidFocus:e=>{e&&this.proxy.$onItemSelected(e.handle)}};const o=await this.delegate.pick(n,t,i);return Array.isArray(o)?o.map((({handle:e})=>e)):o?o.handle:void 0}$setItems(e,t){return this.items[e]&&(this.items[e].resolve(t),delete this.items[e]),Promise.resolve()}$setError(e,t){return this.items[e]&&(this.items[e].reject(t),delete this.items[e]),Promise.resolve()}$input(e,t,i){var n;const o=Object.create(null);return e&&(o.title=e.title,o.password=e.password,o.placeHolder=e.placeHolder,o.valueSelection=e.valueSelection,o.prompt=e.prompt,o.value=e.value,o.ignoreFocusLost=e.ignoreFocusOut),t&&(o.validateInput=e=>this.proxy.$validateInput(e)),null===(n=this.quickInputService)||void 0===n?void 0:n.input(o,i)}async $showInputBox(e,t){return new Promise(((i,n)=>{var o;const s=e.id,a=new r.DisposableCollection,c=null===(o=this.quickInputService)||void 0===o?void 0:o.createInputBox();c.prompt=e.prompt,c.placeholder=e.placeHolder,c.value=e.value,e.busy&&(c.busy=e.busy),e.enabled&&(c.enabled=e.enabled),c.ignoreFocusOut=e.ignoreFocusOut,c.contextKey=e.contextKey,e.password&&(c.password=e.password),c.step=e.step,c.title=e.title,c.description=e.description,c.totalSteps=e.totalSteps,c.buttons=e.buttons?this.convertToQuickInputButtons(e.buttons):[],c.validationMessage=e.validationMessage,t&&(e.validateInput=e=>{this.proxy.$validateInput(e)}),a.push(c.onDidAccept((()=>{this.proxy.$acceptOnDidAccept(s),i(c.value)}))),a.push(c.onDidChangeValue((t=>{this.proxy.$acceptDidChangeValue(s,t),c.validationMessage=e.validateInput(t)}))),a.push(c.onDidTriggerButton((e=>{this.proxy.$acceptOnDidTriggerButton(s,e)}))),a.push(c.onDidHide((()=>{a.disposed||(this.proxy.$acceptOnDidHide(s),a.dispose(),i(void 0))}))),this.toDispose.push(a),c.show()}))}$createOrUpdate(e){const t=e.id;let i;const n=this.sessions.get(t);if(n)i=n;else{if("quickPick"===e.type){const e=this.quickInputService.createQuickPick();e.onDidAccept((()=>{this.proxy.$acceptOnDidAccept(t)})),e.onDidChangeActive((e=>{this.proxy.$onDidChangeActive(t,e.map((e=>e.handle)))})),e.onDidChangeSelection((e=>{this.proxy.$onDidChangeSelection(t,e.map((e=>e.handle)))})),e.onDidTriggerButton((e=>{this.proxy.$acceptOnDidTriggerButton(t,e)})),e.onDidTriggerItemButton((e=>{this.proxy.$onDidTriggerItemButton(t,e.item.handle,e.button.handle)})),e.onDidChangeValue((e=>{this.proxy.$acceptDidChangeValue(t,e)})),e.onDidHide((()=>{this.proxy.$acceptOnDidHide(t)})),i={input:e,handlesToItems:new Map}}else{const e=this.quickInputService.createInputBox();e.onDidAccept((()=>{this.proxy.$acceptOnDidAccept(t)})),e.onDidTriggerButton((e=>{this.proxy.$acceptOnDidTriggerButton(t,e)})),e.onDidChangeValue((e=>{this.proxy.$acceptDidChangeValue(t,e)})),e.onDidHide((()=>{this.proxy.$acceptOnDidHide(t)})),i={input:e,handlesToItems:new Map}}this.sessions.set(t,i)}if(i){const{input:t,handlesToItems:n}=i;for(const i in e)"id"!==i&&"type"!==i&&("visible"===i?e.visible?t.show():t.hide():"items"===i?(n.clear(),e[i].forEach((e=>{n.set(e.handle,e)})),t[i]=e[i]):t[i]="activeItems"===i||"selectedItems"===i?e[i].filter((e=>n.has(e))).map((e=>n.get(e))):"buttons"===i?e.buttons.map((e=>{if(-1===e.handle)return this.quickInputService.backButton;const{iconPath:t,tooltip:i,handle:n}=e;if("id"in t)return{iconClass:d.ThemeIcon.asClassName(t),tooltip:i,handle:n};{const e=t;return{iconPath:{dark:l.Uri.revive(e.dark),light:e.light&&l.Uri.revive(e.light)},tooltip:i,handle:n}}})):e[i])}return Promise.resolve(void 0)}$hide(){this.delegate.hide()}$dispose(e){const t=this.sessions.get(e);return t&&(t.input.dispose(),this.sessions.delete(e)),Promise.resolve(void 0)}convertToQuickInputButtons(e){return e.map(((e,t)=>({...(0,c.getIconPathOrClass)(e),tooltip:e.tooltip,handle:e===a.QuickInputButtons.Back?-1:t})))}}},20406:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScmMainImpl=t.PluginScmProvider=t.PluginScmResource=t.PluginScmResourceGroup=void 0;const n=i(16138),o=i(85656),r=i(18894),s=i(51138),a=i(30970),c=i(10433),l=i(53414),d=i(34291),u=i(56090);class h{constructor(e,t,i,n,o){this.handle=e,this.provider=t,this.features=i,this.label=n,this.id=o,this.resources=[],this.onDidSpliceEmitter=new r.Emitter,this.onDidSplice=this.onDidSpliceEmitter.event,this.onDidChangeEmitter=new r.Emitter,this.onDidChange=this.onDidChangeEmitter.event}get hideWhenEmpty(){return!!this.features.hideWhenEmpty}splice(e,t,i){this.resources.splice(e,t,...i),this.onDidSpliceEmitter.fire({start:e,deleteCount:t,toInsert:i})}updateGroup(e){this.features={...this.features,...e},this.onDidChangeEmitter.fire()}updateGroupLabel(e){this.label=e,this.onDidChangeEmitter.fire()}dispose(){}}t.PluginScmResourceGroup=h;class p{constructor(e,t,i,n,o,r,s,a,c){this.proxy=e,this.sourceControlHandle=t,this.groupHandle=i,this.handle=n,this.sourceUri=o,this.group=r,this.decorations=s,this.contextValue=a,this.command=c}open(){return this.proxy.$executeResourceCommand(this.sourceControlHandle,this.groupHandle,this.handle)}}t.PluginScmResource=p;class g{constructor(e,t,i,n,o,s,a,c){this.proxy=e,this.colors=t,this.sharedStyle=i,this._handle=n,this._contextValue=o,this._label=s,this._rootUri=a,this.disposables=c,this._id=this.contextValue,this.groups=[],this.groupsByHandle=Object.create(null),this.onDidChangeResourcesEmitter=new r.Emitter,this.onDidChangeResources=this.onDidChangeResourcesEmitter.event,this.features={},this.onDidChangeCommitTemplateEmitter=new r.Emitter,this.onDidChangeCommitTemplate=this.onDidChangeCommitTemplateEmitter.event,this.onDidChangeStatusBarCommandsEmitter=new r.Emitter,this.onDidChangeEmitter=new r.Emitter,this.onDidChange=this.onDidChangeEmitter.event}get id(){return this._id}get handle(){return this._handle}get label(){return this._label}get rootUri(){return this._rootUri?this._rootUri.toString():""}get contextValue(){return this._contextValue}get commitTemplate(){return this.features.commitTemplate||""}get acceptInputCommand(){const e=this.features.acceptInputCommand;if(e){const t=e;return t.command=e.id,t}}get statusBarCommands(){const e=this.features.statusBarCommands;return null==e?void 0:e.map((e=>{const t=e;return t.command=e.id,t}))}get count(){return this.features.count}get onDidChangeStatusBarCommands(){return this.onDidChangeStatusBarCommandsEmitter.event}updateSourceControl(e){this.features={...this.features,...e},this.onDidChangeEmitter.fire(),void 0!==e.commitTemplate&&this.onDidChangeCommitTemplateEmitter.fire(this.commitTemplate),void 0!==e.statusBarCommands&&this.onDidChangeStatusBarCommandsEmitter.fire(this.statusBarCommands)}registerGroups(e){const t=e.map((e=>{const{handle:t,id:i,label:n,features:o}=e,r=new h(t,this,o,n,i);return this.groupsByHandle[t]=r,r}));this.groups.splice(this.groups.length,0,...t)}updateGroup(e,t){const i=this.groupsByHandle[e];i&&i.updateGroup(t)}updateGroupLabel(e,t){const i=this.groupsByHandle[e];i&&i.updateGroupLabel(t)}spliceGroupResourceStates(e){for(const t of e){const e=t.handle,i=t.splices,n=this.groupsByHandle[e];if(n){i.reverse();for(const t of i){const{start:i,deleteCount:o,rawResources:r}=t,s=r.map((t=>{const{handle:i,sourceUri:o,icons:r,tooltip:s,strikeThrough:l,faded:d,contextValue:u,command:h}=t,g=this.toIconClass(r[0]),f=this.toIconClass(r[1])||g,m=t.colorId&&this.colors.toCssVariableName(t.colorId),b={icon:g,iconDark:f,tooltip:s,strikeThrough:l,letter:t.letter||"",color:m&&`var(${m})`,faded:d};return new p(this.proxy,this.handle,e,i,new a.default(c.URI.revive(o)),n,b,u||void 0,h)}));n.splice(i,o,s)}}else console.warn(`SCM group ${e} not found in provider ${this.label}`)}this.onDidChangeResourcesEmitter.fire()}toIconClass(e){if(!e)return;if(u.ThemeIcon.isThemeIcon(e))return u.ThemeIcon.asClassName(e);const t=this.sharedStyle.toIconClass(e);return this.disposables.push(t),t.object.iconClass}unregisterGroup(e){const t=this.groupsByHandle[e];t&&(delete this.groupsByHandle[e],this.groups.splice(this.groups.indexOf(t),1))}dispose(){}}t.PluginScmProvider=g,t.ScmMainImpl=class{constructor(e,t){this.repositories=new Map,this.repositoryDisposables=new Map,this.disposables=new s.DisposableCollection,this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.SCM_EXT),this.scmService=t.get(o.ScmService),this.colors=t.get(l.ColorRegistry),this.sharedStyle=t.get(d.PluginSharedStyle)}dispose(){this.repositories.forEach((e=>e.dispose())),this.repositories.clear(),this.repositoryDisposables.forEach((e=>e.dispose())),this.repositoryDisposables.clear(),this.disposables.dispose()}async $registerSourceControl(e,t,i,n){const o=new g(this.proxy,this.colors,this.sharedStyle,e,t,i,n?c.URI.revive(n):void 0,this.disposables),r=this.scmService.registerScmProvider(o,{input:{validator:async t=>{const i=await this.proxy.$validateInput(e,t,t.length);return i&&{message:i[0],type:i[1]}}}});this.repositories.set(e,r);const a=new s.DisposableCollection(this.scmService.onDidChangeSelectedRepository((t=>{t===r&&this.proxy.$setSelectedSourceControl(e)})),r.input.onDidChange((()=>this.proxy.$onInputBoxValueChange(e,r.input.value))));this.scmService.selectedRepository===r&&setTimeout((()=>this.proxy.$setSelectedSourceControl(e)),0),r.input.value&&setTimeout((()=>this.proxy.$onInputBoxValueChange(e,r.input.value)),0),this.repositoryDisposables.set(e,a)}async $updateSourceControl(e,t){const i=this.repositories.get(e);i&&i.provider.updateSourceControl(t)}async $unregisterSourceControl(e){const t=this.repositories.get(e);t&&(this.repositoryDisposables.get(e).dispose(),this.repositoryDisposables.delete(e),t.dispose(),this.repositories.delete(e))}$registerGroups(e,t,i){const n=this.repositories.get(e);if(!n)return;const o=n.provider;o.registerGroups(t),o.spliceGroupResourceStates(i)}$updateGroup(e,t,i){const n=this.repositories.get(e);n&&n.provider.updateGroup(t,i)}$updateGroupLabel(e,t,i){const n=this.repositories.get(e);n&&n.provider.updateGroupLabel(t,i)}$spliceResourceStates(e,t){const i=this.repositories.get(e);i&&i.provider.spliceGroupResourceStates(t)}$unregisterGroup(e,t){const i=this.repositories.get(e);i&&i.provider.unregisterGroup(t)}$setInputBoxValue(e,t){const i=this.repositories.get(e);i&&(i.input.value=t)}$setInputBoxPlaceholder(e,t){const i=this.repositories.get(e);i&&(i.input.placeholder=t)}$setInputBoxVisible(e,t){const i=this.repositories.get(e);i&&(i.input.visible=t)}$setInputBoxEnabled(e,t){const i=this.repositories.get(e);i&&(i.input.enabled=t)}}},85194:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecretsMainImpl=void 0;const n=i(14820),o=i(40164);class r{constructor(e,t){this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.SECRETS_EXT),this.credentialsService=t.get(o.CredentialsService),this.credentialsService.onDidChangePassword((e=>{const t=e.service.substring(window.location.hostname.length+1);this.proxy.$onDidChangePassword({extensionId:t,key:e.account})}))}static getFullKey(e){return`${window.location.hostname}-${e}`}async $getPassword(e,t){const i=r.getFullKey(e),n=await this.credentialsService.getPassword(i,t);if(n)try{const t=JSON.parse(n);if(t.extensionId===e)return t.content}catch(e){throw new Error("Cannot get password")}}async $setPassword(e,t,i){const n=r.getFullKey(e),o=JSON.stringify({extensionId:e,content:i});return this.credentialsService.setPassword(n,t,o)}async $deletePassword(e,t){try{const i=r.getFullKey(e);await this.credentialsService.deletePassword(i,t)}catch(e){throw new Error("Cannot delete password")}}}t.SecretsMainImpl=r},15093:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionProviderCommandContribution=t.SelectionProviderCommands=void 0;const r=i(70801),s=i(8433),a=i(9825),c=i(40824);var l;!function(e){e.GET_SELECTED_CONTEXT={id:"theia.plugin.workspace.selectedContext"}}(l=t.SelectionProviderCommands||(t.SelectionProviderCommands={}));let d=class{registerCommands(e){e.registerCommand(l.GET_SELECTED_CONTEXT,this.newMultiUriAwareCommandHandler({isEnabled:()=>!0,isVisible:()=>!1,execute:e=>e.map((e=>(0,c.theiaUritoUriComponents)(e)))}))}newMultiUriAwareCommandHandler(e){return s.UriAwareCommandHandler.MultiSelect(this.selectionService,e)}};n([(0,r.inject)(a.SelectionService),o("design:type",a.SelectionService)],d.prototype,"selectionService",void 0),d=n([(0,r.injectable)()],d),t.SelectionProviderCommandContribution=d},81341:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBarMessageRegistryMainImpl=void 0;const n=i(51138),o=i(92147),r=i(36245),s=i(53414);t.StatusBarMessageRegistryMainImpl=class{constructor(e){this.entries=new Map,this.toDispose=new n.DisposableCollection(n.Disposable.create((()=>{}))),this.delegate=e.get(r.StatusBar),this.colorRegistry=e.get(s.ColorRegistry)}dispose(){this.toDispose.dispose()}async $setMessage(e,t,i,s,a,c,l,d,u,h,p){const g={name:t,text:i||"",ariaLabel:null==h?void 0:h.label,role:null==h?void 0:h.role,priority:s,alignment:a===o.StatusBarAlignment.Left?r.StatusBarAlignment.LEFT:r.StatusBarAlignment.RIGHT,color:c&&(this.colorRegistry.getCurrentColor(c)||c),backgroundColor:l&&this.colorRegistry.getCurrentColor(l),tooltip:d,command:u,accessibilityInformation:h,args:p};this.entries.set(e,g),await this.delegate.setElement(e,g),this.toDispose.disposed?this.$dispose(e):this.toDispose.push(n.Disposable.create((()=>this.$dispose(e))))}$dispose(e){this.entries.get(e)&&(this.entries.delete(e),this.delegate.removeElement(e))}}},36015:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabsMainImpl=void 0;const n=i(87361),o=i(16138),r=i(42933),s=i(75437),a=i(23281),c=i(23518),l=i(21723),d=i(9825);t.TabsMainImpl=class{constructor(e,t){this.tabGroupModel=new Map,this.tabInfoLookup=new Map,this.disposableTabBarListeners=new d.DisposableCollection,this.toDisposeOnDestroy=new d.DisposableCollection,this.groupIdCounter=0,this.tabGroupChanged=!1,this.proxy=e.getProxy(o.MAIN_RPC_CONTEXT.TABS_EXT),this.applicationShell=t.get(n.ApplicationShell),this.createTabsModel();const i=this.applicationShell.mainPanel.tabBars();for(let e;e=i.next();)this.attachListenersToTabBar(e);this.toDisposeOnDestroy.push(this.applicationShell.mainPanelRenderer.onDidCreateTabBar((e=>{this.attachListenersToTabBar(e),this.onTabGroupCreated(e)}))),this.connectToSignal(this.toDisposeOnDestroy,this.applicationShell.mainPanel.widgetAdded,((e,t)=>{if(this.tabGroupChanged||0===this.tabGroupModel.size)this.tabGroupChanged=!1,this.createTabsModel();else{const i=e.findTabBar(t.title),n=this.tabInfoLookup.get(t.title);this.tabGroupModel.get(i)!==(null==n?void 0:n.group)&&(n&&this.onTabClosed(n,t.title),this.onTabCreated(i,{index:i.titles.indexOf(t.title),title:t.title}))}})),this.connectToSignal(this.toDisposeOnDestroy,this.applicationShell.mainPanel.widgetRemoved,((e,t)=>{if(!(t instanceof n.TabBar)){const e=this.getOrRebuildModel(this.tabInfoLookup,t.title);this.onTabClosed(e,t.title),this.tabGroupChanged&&(this.tabGroupChanged=!1,this.createTabsModel())}}))}createTabsModel(){var e,t;const i=new Map;this.tabInfoLookup.clear(),this.disposableTabBarListeners.dispose(),this.applicationShell.mainAreaTabBars.forEach((e=>{this.attachListenersToTabBar(e);const t=this.createTabGroupDto(e);e.titles.forEach(((e,i)=>this.tabInfoLookup.set(e,{group:t,tab:t.tabs[i],tabIndex:i}))),i.set(e,t)})),i.size>0&&Array.from(i.values()).indexOf(this.currentActiveGroup)<0&&(this.currentActiveGroup=null!==(t=null===(e=this.tabInfoLookup.get(this.applicationShell.mainPanel.currentTitle))||void 0===e?void 0:e.group)&&void 0!==t?t:i.values().next().value,this.currentActiveGroup.isActive=!0),this.tabGroupModel=i,this.proxy.$acceptEditorTabModel(Array.from(this.tabGroupModel.values()))}createTabDto(e,t){const i=e.owner;return{id:this.createTabId(e,t),label:e.label,input:this.evaluateTabDtoInput(i),isActive:e.owner.isVisible,isPinned:e.className.includes(n.PINNED_CLASS),isDirty:n.Saveable.isDirty(i),isPreview:i instanceof r.EditorPreviewWidget&&i.isPreview}}createTabId(e,t){return`${t}~${e.owner.id}`}createTabGroupDto(e){var t;const i=this.tabGroupModel.get(e),n=null!==(t=null==i?void 0:i.groupId)&&void 0!==t?t:this.groupIdCounter++,o=e.titles.map((e=>this.createTabDto(e,n)));return{groupId:n,tabs:o,isActive:!1,viewColumn:1}}attachListenersToTabBar(e){e&&(e.titles.forEach((e=>{this.connectToSignal(this.disposableTabBarListeners,e.changed,this.onTabTitleChanged)})),this.connectToSignal(this.disposableTabBarListeners,e.tabMoved,this.onTabMoved),this.connectToSignal(this.disposableTabBarListeners,e.disposed,this.onTabGroupClosed))}evaluateTabDtoInput(e){return e instanceof r.EditorPreviewWidget?e.editor instanceof a.MonacoDiffEditor?{kind:2,original:(0,c.toUriComponents)(e.editor.originalModel.uri),modified:(0,c.toUriComponents)(e.editor.modifiedModel.uri)}:{kind:1,uri:(0,c.toUriComponents)(e.editor.uri.toString())}:e instanceof n.ViewContainer?{kind:7,viewType:e.id}:e instanceof l.TerminalWidget?{kind:8}:{kind:0}}connectToSignal(e,t,i){t.connect(i,this),e.push(s.Disposable.create((()=>t.disconnect(i))))}tabDtosEqual(e,t){return e.isActive===t.isActive&&e.isDirty===t.isDirty&&e.isPinned===t.isPinned&&e.isPreview===t.isPreview&&e.id===t.id}getOrRebuildModel(e,t){let i=e.get(t);return i||(this.createTabsModel(),i=e.get(t)),i}onTabCreated(e,t){const i=this.getOrRebuildModel(this.tabGroupModel,e);this.connectToSignal(this.disposableTabBarListeners,t.title.changed,this.onTabTitleChanged);const n=this.createTabDto(t.title,i.groupId);this.tabInfoLookup.set(t.title,{group:i,tab:n,tabIndex:t.index}),i.tabs.splice(t.index,0,n),this.proxy.$acceptTabOperation({kind:0,index:t.index,tabDto:n,groupId:i.groupId})}onTabTitleChanged(e){const t=this.getOrRebuildModel(this.tabInfoLookup,e);if(!t)return;const i=t.tab,n=this.createTabDto(e,t.group.groupId);n.isActive&&!t.group.isActive&&(t.group.isActive=!0,this.currentActiveGroup.isActive=!1,this.currentActiveGroup=t.group,this.proxy.$acceptTabGroupUpdate(t.group)),this.tabDtosEqual(i,n)||(t.group.tabs[t.tabIndex]=n,t.tab=n,this.proxy.$acceptTabOperation({kind:2,index:t.tabIndex,tabDto:n,groupId:t.group.groupId}))}onTabClosed(e,t){e.group.tabs.splice(e.tabIndex,1),this.tabInfoLookup.delete(t),this.updateTabIndices(e,e.tabIndex),this.proxy.$acceptTabOperation({kind:1,index:e.tabIndex,tabDto:this.createTabDto(t,e.group.groupId),groupId:e.group.groupId})}onTabMoved(e,t){const i=this.getOrRebuildModel(this.tabInfoLookup,t.title);i.tabIndex=t.toIndex;const n=this.createTabDto(t.title,i.group.groupId);i.group.tabs.splice(t.fromIndex,1),i.group.tabs.splice(t.toIndex,0,n),this.updateTabIndices(i,t.fromIndex),this.proxy.$acceptTabOperation({kind:3,index:t.toIndex,tabDto:n,groupId:i.group.groupId,oldIndex:t.fromIndex})}onTabGroupCreated(e){this.tabGroupChanged=!0}onTabGroupClosed(e){this.tabGroupChanged=!0}$moveTab(e,t,i,n){}updateTabIndices(e,t){for(const i of this.tabInfoLookup.values())i.group===e.group&&i.tabIndex>=t&&(i.tabIndex=i.group.tabs.indexOf(i.tab))}async $closeTab(e,t){const i=[];for(const t of e){const e=t.substring(t.indexOf("~")+1),n=this.applicationShell.getWidgetById(e);n&&i.push(n)}return await this.applicationShell.closeMany(i),!0}async $closeGroup(e,t){for(const t of e)e:for(const[e,i]of this.tabGroupModel)if(i.groupId===t){this.applicationShell.closeTabs(e);break e}return!0}dispose(){this.toDisposeOnDestroy.dispose(),this.disposableTabBarListeners.dispose()}}},42883:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TasksMainImpl=void 0;const n=i(16138),o=i(9825),r=i(46544),s=i(29274),a=i(82758),c=i(47028),l=i(467),d=new Map([[1,s.RevealKind.Always],[2,s.RevealKind.Silent],[3,s.RevealKind.Never],[s.RevealKind.Always,1],[s.RevealKind.Silent,2],[s.RevealKind.Never,3]]),u=new Map([[1,s.PanelKind.Shared],[2,s.PanelKind.Dedicated],[3,s.PanelKind.New],[s.PanelKind.Shared,1],[s.PanelKind.Dedicated,2],[s.PanelKind.New,3]]);t.TasksMainImpl=class{constructor(e,t){this.taskProviders=new Map,this.toDispose=new o.DisposableCollection,this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.TASKS_EXT),this.taskProviderRegistry=t.get(r.TaskProviderRegistry),this.taskResolverRegistry=t.get(r.TaskResolverRegistry),this.taskWatcher=t.get(a.TaskWatcher),this.taskService=t.get(c.TaskService),this.taskDefinitionRegistry=t.get(l.TaskDefinitionRegistry),this.toDispose.push(this.taskWatcher.onTaskCreated((e=>{this.proxy.$onDidStartTask({id:e.taskId,task:this.fromTaskConfiguration(e.config)},e.terminalId)}))),this.toDispose.push(this.taskWatcher.onTaskExit((e=>{this.proxy.$onDidEndTask(e.taskId)}))),this.toDispose.push(this.taskWatcher.onDidStartTaskProcess((e=>{void 0!==e.processId&&this.proxy.$onDidStartTaskProcess(e.processId,{id:e.taskId,task:this.fromTaskConfiguration(e.config)})}))),this.toDispose.push(this.taskWatcher.onDidEndTaskProcess((e=>{void 0!==e.code&&this.proxy.$onDidEndTaskProcess(e.code,e.taskId)}))),this.$taskExecutions().then((e=>{e.length>0&&this.proxy.$initLoadedTasks(e)}))}dispose(){this.toDispose.dispose()}$registerTaskProvider(e,t){const i=this.createTaskProvider(e),n=this.createTaskResolver(e),r=new o.DisposableCollection(this.taskProviderRegistry.register(t,i,e),this.taskResolverRegistry.registerTaskResolver(t,n),o.Disposable.create((()=>this.taskProviders.delete(e))));this.taskProviders.set(e,r),this.toDispose.push(r)}$unregister(e){const t=this.taskProviders.get(e);t&&t.dispose()}async $fetchTasks(e,t){if(e&&!e.startsWith("2."))return[];const i=this.taskService.startUserAction(),[n,o]=await Promise.all([this.taskService.getConfiguredTasks(i),this.taskService.getProvidedTasks(i)]),r=[];for(const e of[n,o])for(const i of e)t&&(this.taskDefinitionRegistry.getDefinition(i)?i._source!==t:i.type!==t)||r.push(this.fromTaskConfiguration(i));return r}async $executeTask(e){const t=this.toTaskConfiguration(e),i=await this.taskService.runTask(t);if(i)return{id:i.taskId,task:this.fromTaskConfiguration(i.config)}}async $taskExecutions(){return(await this.taskService.getRunningTasks()).map((e=>({id:e.taskId,task:this.fromTaskConfiguration(e.config)})))}$terminateTask(e){this.taskService.kill(e)}async $customExecutionComplete(e,t){this.taskService.customExecutionComplete(e,t)}createTaskProvider(e){return{provideTasks:()=>this.proxy.$provideTasks(e).then((e=>e.map((e=>this.toTaskConfiguration(e)))))}}createTaskResolver(e){return{resolveTask:t=>this.proxy.$resolveTask(e,this.fromTaskConfiguration(t)).then((e=>this.toTaskConfiguration(e)))}}toTaskConfiguration(e){const{group:t,presentation:i,scope:n,source:o,runOptions:r,...s}=null!=e?e:{},a={};return i&&(a.presentation=this.convertTaskPresentation(i)),t&&(a.group={kind:t.kind,isDefault:t.isDefault}),{...s,...a,runOptions:r,_scope:n,_source:o}}fromTaskConfiguration(e){const{group:t,presentation:i,_scope:n,_source:o,...r}=e,s={};return i&&(s.presentation=this.convertTaskPresentation(i)),"build"===t||"test"===t?s.group={kind:t,isDefault:!1}:"object"==typeof t&&(s.group=t),{...r,...s,scope:n,source:o}}convertTaskPresentation(e){if(e){const{reveal:t,panel:i,...n}=e,o={};return t&&(o.reveal=d.get(t)),i&&(o.panel=u.get(i)),{...n,...o}}}}},24125:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalServiceMainImpl=void 0;const n=i(87361),o=i(21723),r=i(24227),s=i(16138),a=i(51138),c=i(37663),l=i(71401),d=i(30970),u=i(59291),h=i(94842),p=i(9825),g=i(81602);t.TerminalServiceMainImpl=class{constructor(e,t){this.terminalLinkProviders=[],this.toDispose=new a.DisposableCollection,this.terminals=t.get(r.TerminalService),this.pluginTerminalRegistry=t.get(h.PluginTerminalRegistry),this.hostedPluginSupport=t.get(g.HostedPluginSupport),this.shell=t.get(n.ApplicationShell),this.shellTerminalServer=t.get(c.ShellTerminalServerProxy),this.extProxy=e.getProxy(s.MAIN_RPC_CONTEXT.TERMINAL_EXT),this.toDispose.push(this.terminals.onDidCreateTerminal((e=>this.trackTerminal(e))));for(const e of this.terminals.all)this.trackTerminal(e);if(this.toDispose.push(this.terminals.onDidChangeCurrentTerminal((()=>this.updateCurrentTerminal()))),this.updateCurrentTerminal(),this.shellTerminalServer.collections.size>0){const e=[...this.shellTerminalServer.collections.entries()].map((e=>[e[0],[...e[1].map.entries()]]));this.extProxy.$initEnvironmentVariableCollections(e)}this.pluginTerminalRegistry.startCallback=e=>this.startProfile(e),t.bind(l.TerminalLinkProvider).toDynamicValue((()=>this))}async startProfile(e){return await this.hostedPluginSupport.activateByTerminalProfile(e),this.extProxy.$startProfile(e,p.CancellationToken.None)}$setEnvironmentVariableCollection(e,t,i){i?this.shellTerminalServer.setCollection(e,t,i):this.shellTerminalServer.deleteCollection(e)}dispose(){this.toDispose.dispose()}updateCurrentTerminal(){const{currentTerminal:e}=this.terminals;this.extProxy.$currentTerminalChanged(e&&e.id)}async trackTerminal(e){let t=e.title.label;this.extProxy.$terminalCreated(e.id,t);const i=()=>{t!==e.title.label&&(t=e.title.label,this.extProxy.$terminalNameChanged(e.id,t))};e.title.changed.connect(i),this.toDispose.push(a.Disposable.create((()=>e.title.changed.disconnect(i))));const n=()=>e.processId.then((t=>this.extProxy.$terminalOpened(e.id,t,e.terminalId,e.dimensions.cols,e.dimensions.rows)),(()=>{}));n(),this.toDispose.push(e.onDidOpen((()=>n()))),this.toDispose.push(e.onTerminalDidClose((e=>this.extProxy.$terminalClosed(e.id,e.exitStatus)))),this.toDispose.push(e.onSizeChanged((({cols:t,rows:i})=>{this.extProxy.$terminalSizeChanged(e.id,t,i)}))),this.toDispose.push(e.onData((t=>{this.extProxy.$terminalOnInput(e.id,t),this.extProxy.$terminalStateChanged(e.id)})))}$write(e,t){const i=this.terminals.getById(e);i&&i.write(t)}$resize(e,t,i){const n=this.terminals.getById(e);n&&n.resize(t,i)}async $createTerminal(e,t,i,n){const o=await this.terminals.newTerminal({id:e,title:t.name,iconClass:(0,u.getIconClass)(t),shellPath:t.shellPath,shellArgs:t.shellArgs,cwd:t.cwd?new d.URI(t.cwd):void 0,env:t.env,strictEnv:t.strictEnv,destroyTermOnClose:!0,useServerTitle:!1,attributes:t.attributes,hideFromUser:t.hideFromUser,location:this.getTerminalLocation(t,i),isPseudoTerminal:n,isTransient:t.isTransient});return t.message&&o.writeLine(t.message),o.start(),o.id}getTerminalLocation(e,t){if("number"==typeof e.location&&Object.values(o.TerminalLocation).includes(e.location))return e.location;if(e.location&&"object"==typeof e.location){if("parentTerminal"in e.location){if(!t)throw new Error("parentTerminal is set but no parentId is provided");return{parentTerminal:t}}return e.location}}$sendText(e,t,i){const n=this.terminals.getById(e);n&&(t=t.replace(/\r?\n/g,"\r"),i&&"\r"!==t.charAt(t.length-1)&&(t+="\r"),n.sendText(t))}$show(e,t){const i=this.terminals.getById(e);if(i){const e={};t&&(e.mode="reveal"),this.terminals.open(i,e)}}$hide(e){const t=this.terminals.getById(e);if(t&&t.isVisible){const e=this.shell.getAreaFor(t);e&&this.shell.collapsePanel(e)}}$dispose(e){const t=this.terminals.getById(e);t&&t.dispose()}$setName(e,t){var i;null===(i=this.terminals.getById(e))||void 0===i||i.setTitle(t)}$sendTextByTerminalId(e,t,i){const n=this.terminals.getByTerminalId(e);n&&(t=t.replace(/\r?\n/g,"\r"),i&&"\r"!==t.charAt(t.length-1)&&(t+="\r"),n.sendText(t))}$writeByTerminalId(e,t){const i=this.terminals.getByTerminalId(e);i&&i.write(t)}$resizeByTerminalId(e,t,i){const n=this.terminals.getByTerminalId(e);n&&n.resize(t,i)}$showByTerminalId(e,t){const i=this.terminals.getByTerminalId(e);if(i){const e={};t&&(e.mode="reveal"),this.terminals.open(i,e)}}$hideByTerminalId(e){const t=this.terminals.getByTerminalId(e);if(t&&t.isVisible){const e=this.shell.getAreaFor(t);e&&this.shell.collapsePanel(e)}}$disposeByTerminalId(e,t){const i=this.terminals.getByTerminalId(e);if(i){if(t)return void i.waitOnExit(t);i.dispose()}}$setNameByTerminalId(e,t){var i;null===(i=this.terminals.getByTerminalId(e))||void 0===i||i.setTitle(t)}async $registerTerminalLinkProvider(e){this.terminalLinkProviders.push(e)}async $unregisterTerminalLinkProvider(e){const t=this.terminalLinkProviders.indexOf(e);t>-1&&this.terminalLinkProviders.splice(t,1)}async provideLinks(e,t,i){return this.terminalLinkProviders.length<1?[]:(await this.extProxy.$provideTerminalLinks(e,t.id,null!=i?i:p.CancellationToken.None)).map((e=>({...e,handle:()=>this.extProxy.$handleTerminalLink(e)})))}}},96625:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextEditorPropertiesMain=t.TextEditorMain=void 0;const n=i(39539),o=i(51138),r=i(16138),s=i(9825),a=i(14020),c=i(92147);class l{constructor(e,t,i){this.id=e,this.model=t,this.onPropertiesChangedEmitter=new s.Emitter,this.toDispose=new o.DisposableCollection(o.Disposable.create((()=>this.properties=void 0)),this.onPropertiesChangedEmitter),this.toDisposeOnEditor=new o.DisposableCollection,this.toDispose.push(this.model.onDidChangeOptions((()=>this.updateProperties(void 0)))),this.setEditor(i),this.updateProperties(void 0)}dispose(){this.toDispose.dispose()}updateProperties(e){this.setProperties(d.readFromEditor(this.properties,this.model,this.editor),e)}setProperties(e,t){const i=e.generateDelta(this.properties,t);this.properties=e,i&&this.onPropertiesChangedEmitter.fire(i)}setEditor(e){if(this.editor!==e&&(this.toDisposeOnEditor.dispose(),this.toDispose.push(this.toDisposeOnEditor),this.editor=e,this.toDisposeOnEditor.push(o.Disposable.create((()=>this.editor=void 0))),this.editor)){const e=this.editor.getControl();this.toDisposeOnEditor.push(this.editor.onSelectionChanged((e=>{this.updateProperties()}))),this.toDisposeOnEditor.push(e.onDidChangeModel((()=>{this.setEditor(void 0)}))),this.toDisposeOnEditor.push(e.onDidChangeCursorSelection((e=>{this.updateProperties(e.source)}))),this.toDisposeOnEditor.push(e.onDidChangeConfiguration((()=>{this.updateProperties()}))),this.toDisposeOnEditor.push(e.onDidLayoutChange((()=>{this.updateProperties()}))),this.toDisposeOnEditor.push(e.onDidScrollChange((()=>{this.updateProperties()}))),this.updateProperties()}}getId(){return this.id}getModel(){return this.model}getProperties(){return this.properties}get onPropertiesChangedEvent(){return this.onPropertiesChangedEmitter.event}setSelections(e){if(this.editor)return void this.editor.getControl().setSelections(e);const t=e.map(l.toMonacoSelections);this.setProperties(new d(t,this.properties.options,this.properties.visibleRanges),void 0)}setConfiguration(e){if(this.setIndentConfiguration(e),this.editor){if(e.cursorStyle){const t=(0,a.cursorStyleToString)(e.cursorStyle);this.editor.getControl().updateOptions({cursorStyle:t})}if(void 0!==e.lineNumbers){let t;switch(e.lineNumbers){case c.TextEditorLineNumbersStyle.On:t="on";break;case c.TextEditorLineNumbersStyle.Relative:t="relative";break;default:t="off"}this.editor.getControl().updateOptions({lineNumbers:t})}}}setIndentConfiguration(e){if("auto"===e.tabSize||"auto"===e.insertSpaces){const t=this.model.getOptions();let i=t.insertSpaces,n=t.tabSize;return"auto"!==e.insertSpaces&&void 0!==e.insertSpaces&&(i=e.insertSpaces),"auto"!==e.tabSize&&void 0!==e.tabSize&&(n=e.tabSize),void this.model.detectIndentation(i,n)}const t={};void 0!==e.insertSpaces&&(t.insertSpaces=e.insertSpaces),void 0!==e.tabSize&&(t.tabSize=e.tabSize),this.model.updateOptions(t)}revealRange(e,t){if(this.editor)switch(t){case r.TextEditorRevealType.Default:this.editor.getControl().revealRange(e,n.editor.ScrollType.Smooth);break;case r.TextEditorRevealType.InCenter:this.editor.getControl().revealRangeInCenter(e,n.editor.ScrollType.Smooth);break;case r.TextEditorRevealType.InCenterIfOutsideViewport:this.editor.getControl().revealRangeInCenterIfOutsideViewport(e,n.editor.ScrollType.Smooth);break;case r.TextEditorRevealType.AtTop:this.editor.getControl().revealRangeAtTop(e,n.editor.ScrollType.Smooth);break;default:console.warn(`Unknown revealType: ${t}`)}}applyEdits(e,t,i){if(this.model.getVersionId()!==e)return!1;if(!this.editor)return!1;i.setEndOfLine===c.EndOfLine.CRLF?this.model.setEOL(n.editor.EndOfLineSequence.CRLF):i.setEndOfLine===c.EndOfLine.LF&&this.model.setEOL(n.editor.EndOfLineSequence.LF);const o=[];for(const e of t){const{range:t,text:i}=e;(t||i)&&(t&&t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn&&!e.text||o.push({range:t?n.Range.lift(t):this.editor.getControl().getModel().getFullModelRange(),text:i||null,forceMoveMarkers:e.forceMoveMarkers}))}return i.undoStopBefore&&this.editor.getControl().pushUndoStop(),this.editor.getControl().executeEdits("MainThreadTextEditor",o),i.undoStopAfter&&this.editor.getControl().pushUndoStop(),!0}insertSnippet(e,t,i){var o;const r=null===(o=this.editor)||void 0===o?void 0:o.getControl().getContribution("snippetController2");if(!r||!this.editor)return!1;const s=t.map((e=>new n.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)));return this.editor.getControl().setSelections(s),this.editor.focus(),r.insert(e,0,0,i.undoStopBefore,i.undoStopAfter),!0}setDecorations(e,t){this.editor&&this.editor.getControl().setDecorationsByType("Plugin decorations",e,t.map((e=>Object.assign(e,{color:void 0}))))}setDecorationsFast(e,t){if(!this.editor)return;const i=[],o=Math.floor(t.length/4);for(let e=0;e<o;e++)i[e]=new n.Range(t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]);this.editor.getControl().setDecorationsByTypeFast(e,i)}static toMonacoSelections(e){return new n.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}}t.TextEditorMain=l;class d{constructor(e,t,i){this.selections=e,this.options=t,this.visibleRanges=i}generateDelta(e,t){const i={options:void 0,selections:void 0,visibleRanges:void 0};if(e&&d.selectionsEqual(e.selections,this.selections)||(i.selections={selections:this.selections,source:t}),e&&d.optionsEqual(e.options,this.options)||(i.options=this.options),e&&d.rangesEqual(e.visibleRanges,this.visibleRanges)||(i.visibleRanges=this.visibleRanges),i.selections||i.visibleRanges||i.options)return i}static readFromEditor(e,t,i){const n=d.getSelectionsFromEditor(e,i),o=d.getOptionsFromEditor(e,t,i),r=d.getVisibleRangesFromEditor(e,i);return new d(n,o,r)}static getSelectionsFromEditor(e,t){let i;return t&&(i=t.getControl().getSelections()||void 0),!i&&e&&(i=e.selections),i||(i=[new n.Selection(1,1,1,1)]),i}static getOptionsFromEditor(e,t,i){if(t.isDisposed())return e.options;let o,r;if(i){const e=i.getControl().getOptions(),t=e.get(n.editor.EditorOption.lineNumbers);switch(o=e.get(n.editor.EditorOption.cursorStyle),t.renderType){case n.editor.RenderLineNumbersType.Off:r=c.TextEditorLineNumbersStyle.Off;break;case n.editor.RenderLineNumbersType.Relative:r=c.TextEditorLineNumbersStyle.Relative;break;default:r=c.TextEditorLineNumbersStyle.On}}else e?(o=e.options.cursorStyle,r=e.options.lineNumbers):(o=a.TextEditorCursorStyle.Line,r=c.TextEditorLineNumbersStyle.On);const s=t.getOptions();return{insertSpaces:s.insertSpaces,tabSize:s.tabSize,cursorStyle:o,lineNumbers:r}}static getVisibleRangesFromEditor(e,t){return t?t.getControl().getVisibleRanges():[]}static selectionsEqual(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].equalsSelection(t[i]))return!1;return!0}static optionsEqual(e,t){return!(e&&!t||!e&&t)&&(!e&&!t||e.tabSize===t.tabSize&&e.insertSpaces===t.insertSpaces&&e.cursorStyle===t.cursorStyle&&e.lineNumbers===t.lineNumbers)}static rangesEqual(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!e[i].equalsRange(t[i]))return!1;return!0}}t.TextEditorPropertiesMain=d},14784:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorModelService=void 0;const s=i(9825),a=i(70801),c=i(731),l=i(77582),d=i(40824);let u=class{constructor(e,t){this.modelModeChangedEmitter=new s.Emitter,this.onModelRemovedEmitter=new s.Emitter,this.modelDirtyEmitter=new s.Emitter,this.modelSavedEmitter=new s.Emitter,this.onModelWillSavedEmitter=new s.Emitter,this.onModelDirtyChanged=this.modelDirtyEmitter.event,this.onModelSaved=this.modelSavedEmitter.event,this.onModelModeChanged=this.modelModeChangedEmitter.event,this.onModelRemoved=this.onModelRemovedEmitter.event,this.onModelWillSave=this.onModelWillSavedEmitter.event,this.monacoModelService=e,e.models.forEach((e=>this.modelCreated(e))),e.onDidCreate(this.modelCreated,this),t.onDidCloseTextDocument((e=>{setTimeout((()=>{this.onModelRemovedEmitter.fire(e)}),1)}))}modelCreated(e){e.textEditorModel.onDidChangeLanguage((t=>{this.modelModeChangedEmitter.fire({model:e,oldModeId:t.oldLanguage})})),e.onDidSaveModel((t=>{this.modelSavedEmitter.fire(e)})),e.onDirtyChanged((t=>{this.modelDirtyEmitter.fire(e)})),e.onWillSaveModel((e=>{this.onModelWillSavedEmitter.fire(e)}))}get onModelAdded(){return this.monacoModelService.onDidCreate}getModels(){return this.monacoModelService.models}async saveAll(e){const t=[];for(const i of this.monacoModelService.models){const{uri:n}=i.textEditorModel;i.dirty&&(e||n.scheme!==d.Schemes.untitled)&&t.push((async()=>{try{return await i.save(),!0}catch(e){return console.error("Failed to save ",n.toString(),e),!1}})())}return(await Promise.all(t)).reduce(((e,t)=>e&&t),!0)}async createModelReference(e){return this.monacoModelService.createModelReference(e)}};u=n([(0,a.injectable)(),r(0,(0,a.inject)(c.MonacoTextModelService)),r(1,(0,a.inject)(l.MonacoWorkspace)),o("design:paramtypes",[c.MonacoTextModelService,l.MonacoWorkspace])],u),t.EditorModelService=u},92637:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextEditorsMainImpl=void 0;const n=i(10433),o=i(16138),r=i(51138),s=i(28929),a=i(29277),c=i(40824),l=i(20820),d=i(39539),u=i(5993);t.TextEditorsMainImpl=class{constructor(e,t,i,n,s){this.editorsAndDocuments=e,this.documents=t,this.bulkEditService=n,this.monacoEditorService=s,this.toDispose=new r.DisposableCollection,this.editorsToDispose=new Map,this.fileEndpoint=new l.Endpoint({path:"file"}).getRestUrl(),this.proxy=i.getProxy(o.MAIN_RPC_CONTEXT.TEXT_EDITORS_EXT),this.toDispose.push(e),this.toDispose.push(e.onTextEditorAdd((e=>e.forEach(this.onTextEditorAdd,this)))),this.toDispose.push(e.onTextEditorRemove((e=>e.forEach(this.onTextEditorRemove,this))))}dispose(){this.toDispose.dispose()}onTextEditorAdd(e){const t=e.getId(),i=new r.DisposableCollection(e.onPropertiesChangedEvent((e=>{this.proxy.$acceptEditorPropertiesChanged(t,e)})),r.Disposable.create((()=>this.editorsToDispose.delete(t))));this.editorsToDispose.set(t,i),this.toDispose.push(i)}onTextEditorRemove(e){const t=this.editorsToDispose.get(e);t&&t.dispose()}$tryShowTextDocument(e,t){return this.documents.$tryShowDocument(e,t)}$trySetOptions(e,t){return this.editorsAndDocuments.getEditor(e)?(this.editorsAndDocuments.getEditor(e).setConfiguration(t),Promise.resolve()):Promise.reject((0,s.disposed)(`TextEditor: ${e}`))}$trySetSelections(e,t){return this.editorsAndDocuments.getEditor(e)?(this.editorsAndDocuments.getEditor(e).setSelections(t),Promise.resolve()):Promise.reject((0,s.disposed)(`TextEditor: ${e}`))}$tryRevealRange(e,t,i){return this.editorsAndDocuments.getEditor(e)?(this.editorsAndDocuments.getEditor(e).revealRange(new d.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn),i),Promise.resolve()):Promise.reject((0,s.disposed)(`TextEditor(${e})`))}$tryApplyEdits(e,t,i,n){return this.editorsAndDocuments.getEditor(e)?Promise.resolve(this.editorsAndDocuments.getEditor(e).applyEdits(t,i,n)):Promise.reject((0,s.disposed)(`TextEditor(${e})`))}async $tryApplyWorkspaceEdit(e,t){const i=(0,a.toMonacoWorkspaceEdit)(e);try{const e=u.ResourceEdit.convert(i),{success:n}=await this.bulkEditService.apply(e,{respectAutoSaveConfig:null==t?void 0:t.isRefactoring});return n}catch{return!1}}$tryInsertSnippet(e,t,i,n){return this.editorsAndDocuments.getEditor(e)?Promise.resolve(this.editorsAndDocuments.getEditor(e).insertSnippet(t,i,n)):Promise.reject((0,s.disposed)(`TextEditor(${e})`))}$registerTextEditorDecorationType(e,t){this.injectRemoteUris(t),this.monacoEditorService.registerDecorationType("Plugin decoration",e,t),this.toDispose.push(r.Disposable.create((()=>this.$removeTextEditorDecorationType(e))))}injectRemoteUris(e){e.before&&(e.before.contentIconPath=this.toRemoteUri(e.before.contentIconPath)),e.after&&(e.after.contentIconPath=this.toRemoteUri(e.after.contentIconPath)),"gutterIconPath"in e&&(e.gutterIconPath=this.toRemoteUri(e.gutterIconPath)),"dark"in e&&e.dark&&this.injectRemoteUris(e.dark),"light"in e&&e.light&&this.injectRemoteUris(e.light)}toRemoteUri(e){return e&&"file"===e.scheme?(0,c.theiaUritoUriComponents)(this.fileEndpoint.withQuery(n.URI.revive(e).toString())):e}$removeTextEditorDecorationType(e){this.monacoEditorService.removeDecorationType(e)}$tryHideEditor(e){return this.editorsAndDocuments.hideEditor(e)}$trySetDecorations(e,t,i){return this.editorsAndDocuments.getEditor(e)?(this.editorsAndDocuments.getEditor(e).setDecorations(t,i),Promise.resolve()):Promise.reject((0,s.disposed)(`TextEditor(${e})`))}$trySetDecorationsFast(e,t,i){return this.editorsAndDocuments.getEditor(e)?(this.editorsAndDocuments.getEditor(e).setDecorationsFast(t,i),Promise.resolve()):Promise.reject((0,s.disposed)(`TextEditor(${e})`))}$saveAll(e){return this.editorsAndDocuments.saveAll(e)}}},23794:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(56090),o={"accounts-view-bar-icon":"account","breakpoints-activate":"activate-breakpoints","breakpoints-remove-all":"close-all","breakpoints-view-icon":"debug-alt","callhierarchy-incoming":"call-incoming","callhierarchy-outgoing":"call-outgoing","callstack-view-icon":"debug-alt","callstack-view-session":"bug","comments-view-icon":"comment-discussion","debug-breakpoint":"debug-breakpoint","debug-breakpoint-conditional":"debug-breakpoint-conditional","debug-breakpoint-conditional-disabled":"debug-breakpoint-conditional-disabled","debug-breakpoint-conditional-verified":"debug-breakpoint-conditional-unverified","debug-breakpoint-data":"debug-breakpoint-data","debug-breakpoint-data-disabled":"debug-breakpoint-data-disabled","debug-breakpoint-data-unverified":"debug-breakpoint-data-unverified","debug-breakpoint-disabled":"debug-breakpoint-disabled","debug-breakpoint-function":"debug-breakpoint-function","debug-breakpoint-function-disabled":"debug-breakpoint-function-disabled","debug-breakpoint-function-unverified":"debug-breakpoint-function-unverified","debug-breakpoint-log":"debug-breakpoint-log","debug-breakpoint-log-disabled":"debug-breakpoint-log-disabled","debug-breakpoint-log-unverified":"debug-breakpoint-log-unverified","debug-breakpoint-unsupported":"debug-breakpoint-unsupported","debug-breakpoint-unverified":"debug-breakpoint-unverified","debug-collapse-all":"collapse-all","debug-configure":"gear","debug-console-clear-all":"clear-all","debug-console-evaluation-input":"arrow-small-right","debug-console-evaluation-prompt":"chevron-right","debug-console-view-icon":"debug-console","debug-continue":"debug-continue","debug-disconnect":"debug-disconnect","debug-gripper":"gripper","debug-hint":"debug-hint","debug-pause":"debug-pause","debug-restart":"debug-restart","debug-restart-frame":"debug-restart-frame","debug-reverse-continue":"debug-reverse-continue","debug-stackframe":"debug-stackframe","debug-stackframe-focused":"debug-stackframe-focused","debug-start":"debug-start","debug-step-back":"debug-step-back","debug-step-into":"debug-step-into","debug-step-out":"debug-step-out","debug-step-over":"debug-step-over","debug-stop":"debug-stop","default-view-icon":"window","diff-editor-next-change":"arrow-down","diff-editor-previous-change":"arrow-up","diff-editor-toggle-whitespace":"whitespace","diff-insert":"add","diff-remove":"remove","diff-review-close":"close","diff-review-insert":"add","diff-review-remove":"remove","explorer-view-icon":"files","extensions-clear-search-results":"clear-all","extensions-configure-recommended":"pencil","extensions-filter":"filter","extensions-info-message":"info","extensions-install-count":"cloud-download","extensions-install-local-in-remote":"cloud-download","extensions-install-workspace-recommended":"cloud-download","extensions-manage":"gear","extensions-rating":"star","extensions-refresh":"refresh","extensions-remote":"remote","extensions-star-empty":"star-empty","extensions-star-full":"star-full","extensions-star-half":"star-half","extensions-sync-enabled":"sync","extensions-sync-ignored":"sync-ignored","extensions-view-icon":"extensions","extensions-warning-message":"warning","find-collapsed":"chevron-right","find-expanded":"chevron-down","find-next-match":"arrow-down","find-previous-match":"arrow-up","find-replace":"replace","find-replace-all":"replace-all","find-selection":"selection","folding-collapsed":"chevron-right","folding-expanded":"chevron-down","getting-started-beginner":"lightbulb","getting-started-codespaces":"github","getting-started-item-checked":"pass-filled","getting-started-item-unchecked":"circle-large-outline","getting-started-setup":"heart","goto-next-location":"arrow-down","goto-previous-location":"arrow-up","keybindings-add":"add","keybindings-edit":"edit","keybindings-record-keys":"record-keys","keybindings-sort":"sort-precedence","loaded-scripts-view-icon":"debug-alt","marker-navigation-next":"chevron-down","marker-navigation-previous":"chevron-up","markers-view-filter":"filter","markers-view-icon":"warning","markers-view-multi-line-collapsed":"chevron-down","markers-view-multi-line-expanded":"chevron-up","notebook-clear":"clear-all","notebook-collapsed":"chevron-right","notebook-delete-cell":"trash","notebook-edit":"pencil","notebook-execute":"play","notebook-execute-all":"run-all","notebook-expanded":"chevron-down","notebook-kernel-configure":"settings-gear","notebook-kernel-select":"server-environment","notebook-mimetype":"code","notebook-move-down":"arrow-down","notebook-move-up":"arrow-up","notebook-open-as-text":"file-code","notebook-render-output":"preview","notebook-revert":"discard","notebook-split-cell":"split-vertical","notebook-state-error":"error","notebook-state-success":"check","notebook-stop":"primitive-square","notebook-stop-edit":"check","notebook-unfold":"unfold","notifications-clear":"close","notifications-clear-all":"clear-all","notifications-collapse":"chevron-down","notifications-configure":"gear","notifications-expand":"chevron-up","notifications-hide":"chevron-down","open-editors-view-icon":"book","outline-view-icon":"symbol-class","output-view-icon":"output","panel-close":"close","panel-maximize":"chevron-up","panel-restore":"chevron-down","parameter-hints-next":"chevron-down","parameter-hints-previous":"chevron-up","ports-forward-icon":"plus","ports-open-browser-icon":"globe","ports-stop-forward-icon":"x","ports-view-icon":"plug","preferences-clear-input":"clear-all","preferences-open-settings":"go-to-file","private-ports-view-icon":"lock","public-ports-view-icon":"eye","refactor-preview-view-icon":"lightbulb","remote-explorer-documentation":"book","remote-explorer-feedback":"twitter","remote-explorer-get-started":"star","remote-explorer-report-issues":"comment","remote-explorer-review-issues":"issues","remote-explorer-view-icon":"remote-explorer","review-comment-collapse":"chevron-up","run-view-icon":"debug-alt","search-clear-results":"clear-all","search-collapse-results":"collapse-all","search-details":"ellipsis","search-expand-results":"expand-all","search-hide-replace":"chevron-right","search-new-editor":"new-file","search-refresh":"refresh","search-remove":"close","search-replace":"replace","search-replace-all":"replace-all","search-show-context":"list-selection","search-show-replace":"chevron-down","search-stop":"search-stop","search-view-icon":"search","settings-add":"add","settings-discard":"discard","settings-edit":"edit","settings-folder-dropdown":"triangle-down","settings-group-collapsed":"chevron-right","settings-group-expanded":"chevron-down","settings-more-action":"gear","settings-remove":"close","settings-sync-view-icon":"sync","settings-view-bar-icon":"settings-gear","source-control-view-icon":"source-control","suggest-more-info":"chevron-right","tasks-list-configure":"gear","tasks-remove":"close","terminal-kill":"trash","terminal-new":"add","terminal-rename":"gear","terminal-view-icon":"terminal","test-view-icon":"beaker","testing-cancel-icon":"close","testing-debug-icon":"debug-alt","testing-error-icon":"warning","testing-failed-icon":"close","testing-passed-icon":"pass","testing-queued-icon":"watch","testing-run-all-icon":"run-all","testing-run-icon":"run","testing-show-as-list-icon":"list-tree","testing-skipped-icon":"debug-step-over","testing-unset-icon":"circle-outline","timeline-open":"history","timeline-pin":"pin","timeline-refresh":"refresh","timeline-unpin":"pinned","timeline-view-icon":"history","variables-view-icon":"debug-alt","view-pane-container-collapsed":"chevron-right","view-pane-container-expanded":"chevron-down","watch-expressions-add":"add","watch-expressions-add-function-breakpoint":"add","watch-expressions-remove-all":"close-all","watch-view-icon":"debug-alt","widget-close":"close"},r=n.ThemeIcon.asCSSSelector,s=n.ThemeIcon.asClassName,a=n.ThemeIcon.asClassNameArray;function c(e){var t;const i=null!==(t=o[e.id])&&void 0!==t?t:e.id;return{...e,id:i}}Object.assign(n.ThemeIcon,{asCSSSelector:e=>r(c(e)),asClassName:e=>s(c(e)),asClassNameArray:e=>a(c(e))})},5563:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemingMainImpl=void 0;const n=i(16138);t.ThemingMainImpl=class{constructor(e,t){this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.THEMING_EXT),this.themeChangeListener=t.onDidColorThemeChange((e=>this.proxy.$onColorThemeChange(e.newTheme.type))),this.proxy.$onColorThemeChange(t.getCurrentTheme().type)}dispose(){this.themeChangeListener.dispose()}}},7966:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineMainImpl=void 0;const n=i(16138),o=i(64514),r=i(9825);t.TimelineMainImpl=class{constructor(e,t){this.providerEmitters=new Map,this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.TIMELINE_EXT),this.timelineService=t.get(o.TimelineService)}async $registerTimelineProvider(e){const t=this.proxy,i=this.providerEmitters;let n=i.get(e.id);void 0===n&&(n=new r.Emitter,i.set(e.id,n)),this.timelineService.registerTimelineProvider({...e,onDidChange:n.event,provideTimeline:(i,n,o)=>t.$getTimeline(e.id,i,n,o),dispose(){i.delete(e.id),n&&n.dispose()}})}async $unregisterTimelineProvider(e){this.timelineService.unregisterTimelineProvider(e)}async $fireTimelineChanged(e){const t=this.providerEmitters.get(e.id);t&&t.fire(e)}}},19290:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewColumnService=void 0;const s=i(70801),a=i(18894),c=i(67126),l=i(97347);let d=class{constructor(e){this.shell=e,this.columnValues=new Map,this.viewColumnIds=new Map,this.onViewColumnChangedEmitter=new a.Emitter;let t=new Map;const i=async()=>{await new Promise((e=>setTimeout(e))),this.updateViewColumns(),this.viewColumnIds.forEach(((e,i)=>{e.forEach((e=>{t.has(e)&&t.get(e)===i||this.onViewColumnChangedEmitter.fire({id:e,viewColumn:i})}))})),t=new Map(this.columnValues.entries())};this.shell.mainPanel.widgetAdded.connect((()=>i())),this.shell.mainPanel.widgetRemoved.connect((()=>i()))}get onViewColumnChanged(){return this.onViewColumnChangedEmitter.event}updateViewColumns(){this.columnValues.clear(),this.viewColumnIds.clear();const e=new Map,t=new Map;for(const i of(0,l.toArray)(this.shell.mainPanel.tabBars())){if(!i.node.style.top||!i.node.style.left)continue;const n=parseInt(i.node.style.top),o=parseInt(i.node.style.left),r=e.get(n)||new Set;r.add(o),e.set(n,r);const s=t.get(o)||new Map;s.set(n,i),t.set(o,s)}const i=e.get([...e.keys()].sort()[0]);if(!i)return;const n=[...i.keys()].sort();for(let e=0;e<n.length;e++){const i=t.get(n[e]);if(!i)break;const o=[...i.keys()].sort();let r=Math.min(e,2);for(let e=0;e<o.length;e++){const t=i.get(o[e]);if(!t)break;this.setViewColumn(t,r),r<7&&(r+=3)}}}setViewColumn(e,t){const i=[];for(const n of e.titles){const e=n.owner.id;i.push(e),this.columnValues.set(e,t)}this.viewColumnIds.set(t,i)}getViewColumnIds(e){return this.viewColumnIds.get(e)||[]}getViewColumn(e){return this.columnValues.get(e)}hasViewColumn(e){return this.columnValues.has(e)}viewColumnsSize(){return this.viewColumnIds.size}};d=n([(0,s.injectable)(),r(0,(0,s.inject)(c.ApplicationShell)),o("design:paramtypes",[c.ApplicationShell])],d),t.ViewColumnService=d},20607:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DnDFileContentStore=void 0;const r=i(70801);let s=n=class{constructor(){this.files=new Map}addFile(e){const t=(n.id++).toString();return this.files.set(t,e),t}removeFile(e){return this.files.delete(e)}getFile(e){const t=this.files.get(e);if(t)return t;throw new Error(`File with id ${e} not found in dnd operation`)}};s.id=0,s=n=o([(0,r.injectable)()],s),t.DnDFileContentStore=s},21257:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginTreeViewNodeLabelProvider=void 0;const r=i(70801),s=i(30970),a=i(17264),c=i(50734),l=i(363),d=i(56090);let u=class{canHandle(e){return l.TreeNode.is(e)&&("resourceUri"in e||"themeIcon"in e)?Number.MAX_SAFE_INTEGER-512:0}getIcon(e){if(e.icon)return e.icon;if(e.themeIcon){if("file"===e.themeIcon.id||"folder"===e.themeIcon.id){const t=e.resourceUri&&new s.default(e.resourceUri)||void 0;if(t)return this.labelProvider.getIcon(a.URIIconReference.create(e.themeIcon.id,t))}return d.ThemeIcon.asClassName(e.themeIcon)}return e.resourceUri?this.labelProvider.getIcon(new s.default(e.resourceUri)):void 0}getName(e){return e.name?e.name:e.resourceUri?this.labelProvider.getName(new s.default(e.resourceUri)):void 0}getLongName(e){return"string"==typeof e.description?e.description:!0===e.description&&e.resourceUri?this.labelProvider.getLongName(new s.default(e.resourceUri)):void 0}};n([(0,r.inject)(a.LabelProvider),o("design:type",a.LabelProvider)],u.prototype,"labelProvider",void 0),n([(0,r.inject)(c.TreeLabelProvider),o("design:type",c.TreeLabelProvider)],u.prototype,"treeLabelProvider",void 0),u=n([(0,r.injectable)()],u),t.PluginTreeViewNodeLabelProvider=u},79467:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginViewRegistry=t.PLUGIN_VIEW_DATA_FACTORY_ID=t.PLUGIN_VIEW_CONTAINER_FACTORY_ID=t.PLUGIN_VIEW_FACTORY_ID=void 0;const s=i(70801),a=i(87361),c=i(14820),l=i(34291),d=i(52879),u=i(78054),h=i(51334),p=i(22448),g=i(10483),f=i(27402),m=i(51138),b=i(12202),v=i(49381),A=i(18894),y=i(949),C=i(62352),w=i(83440),_=i(13825),S=i(60508),E=i(94933),k=i(56090),x=i(4196),D=i(67841),T=i(79877),M=i(9825);t.PLUGIN_VIEW_FACTORY_ID="plugin-view",t.PLUGIN_VIEW_CONTAINER_FACTORY_ID="plugin-view-container",t.PLUGIN_VIEW_DATA_FACTORY_ID="plugin-view-data";let B=n=class{constructor(){this.onDidExpandViewEmitter=new A.Emitter,this.onDidExpandView=this.onDidExpandViewEmitter.event,this.views=new Map,this.viewsWelcome=new Map,this.viewContainers=new Map,this.containerViews=new Map,this.viewClauseContexts=new Map,this.viewDataProviders=new Map,this.viewDataState=new Map,this.webviewViewResolvers=new Map}init(){this.updateFocusedView(),this.shell.onDidChangeActiveWidget((()=>this.updateFocusedView())),this.widgetManager.onWillCreateWidget((({factoryId:e,widget:i,waitUntil:n})=>{if(e===p.EXPLORER_VIEW_CONTAINER_ID&&i instanceof a.ViewContainer&&n(this.prepareViewContainer("explorer",i)),e===h.SCM_VIEW_CONTAINER_ID&&i instanceof a.ViewContainer&&n(this.prepareViewContainer("scm",i)),e===E.SEARCH_VIEW_CONTAINER_ID&&i instanceof a.ViewContainer&&n(this.prepareViewContainer("search",i)),e===d.DebugWidget.ID&&i instanceof d.DebugWidget){const e=i.sessionWidget.viewContainer;n(this.prepareViewContainer("debug",e))}e===t.PLUGIN_VIEW_CONTAINER_FACTORY_ID&&i instanceof a.ViewContainer&&n(this.prepareViewContainer(this.toViewContainerId(i.options),i)),e===t.PLUGIN_VIEW_FACTORY_ID&&i instanceof u.PluginViewWidget&&n(this.prepareView(i))})),this.widgetManager.onDidCreateWidget((e=>{if(e.widget instanceof p.FileNavigatorWidget){const t=new m.DisposableCollection;t.push(this.registerViewWelcome({view:"explorer",content:M.nls.localizeByDefault("You have not yet opened a folder.\n{0}",`[${M.nls.localizeByDefault("Open Folder")}](command:workbench.action.files.openFolder)`),order:0})),t.push(e.widget.onDidDispose((()=>t.dispose())))}})),this.doRegisterViewContainer("test","left",{label:M.nls.localizeByDefault("Test"),iconClass:(0,a.codicon)("beaker"),closeable:!0}),this.contextKeyService.onDidChange((e=>{for(const[,t]of this.views.values()){const i=this.viewClauseContexts.get(t.id);i&&e.affects(i)&&this.updateViewVisibility(t.id)}for(const[t,i]of this.viewsWelcome)for(const[n]of i.entries()){const i=this.toViewWelcomeId(n,t),o=this.viewClauseContexts.get(i);o&&e.affects(o)&&this.updateViewWelcomeVisibility(t)}}));const e=(e,i)=>{let o=new m.DisposableCollection;e.onDidChangeCurrent((e=>{if(o.dispose(),o=new m.DisposableCollection,e&&e.owner instanceof a.BaseWidget){const r=e.owner;let s=n.ID_MAPPINGS.get(r.id);s||r.id.startsWith(t.PLUGIN_VIEW_CONTAINER_FACTORY_ID)&&(s=this.toViewContainerId({id:r.id}));const a=()=>{r.isVisible&&s?i.set(s):i.reset()};o.push(r.onDidChangeVisibility((()=>{a()}))),a()}}))};e(this.shell.leftPanelHandler.dockPanel,this.viewContextKeys.activeViewlet),e(this.shell.rightPanelHandler.dockPanel,this.viewContextKeys.activeAuxiliary),e(this.shell.bottomPanel,this.viewContextKeys.activePanel)}async updateViewWelcomeVisibility(e){const t=await this.getTreeViewWelcomeWidget(e);t&&t.handleWelcomeContextChange()}async updateViewVisibility(e){const t=await this.getView(e);if(!t)return void(this.isViewVisible(e)&&await this.openView(e));const i=this.views.get(e);if(!i)return;const[n]=i,o=await this.getPluginViewContainer(n);if(!o)return;const r=o.getPartFor(t);r&&t.updateViewVisibility((()=>r.setHidden(!this.isViewVisible(e))))}isViewVisible(e){const t=this.views.get(e);if(!t)return!1;const[,i]=t;return void 0===i.when||"true"===i.when||this.contextKeyService.match(i.when)}registerViewContainer(e,t){var i;if(this.viewContainers.has(t.id))return console.warn("view container such id already registered: ",JSON.stringify(t)),m.Disposable.NULL;const n=new m.DisposableCollection,o="theia-plugin-view-container";let r="";const s="plugin-view-container-icon-"+t.id;if(t.themeIcon){const e=k.ThemeIcon.fromString(t.themeIcon);e&&(r=null!==(i=k.ThemeIcon.asClassName(e))&&void 0!==i?i:"")}if(!r){const e=l.PluginSharedStyle.toExternalIconUrl(t.iconUrl);n.push(this.style.insertRule("."+o+"."+s,(()=>`\n                mask: url('${e}') no-repeat 50% 50%;\n                -webkit-mask: url('${e}') no-repeat 50% 50%;\n            `)))}return n.push(this.doRegisterViewContainer(t.id,e,{label:t.title,iconClass:(r||o)+" "+s,closeable:!0})),n}async toggleViewContainer(e){let t=await this.getPluginViewContainer(e);t&&t.isAttached?t.dispose():(t=await this.openViewContainer(e),t&&this.shell.activateWidget(t.id))}doRegisterViewContainer(e,t,i){var n;const o=new m.DisposableCollection;this.viewContainers.set(e,[t,i]),o.push(m.Disposable.create((()=>this.viewContainers.delete(e))));const r=`plugin.view-container.${e}.toggle`;return o.push(this.commands.registerCommand({id:r,label:"Toggle "+i.label+" View"},{execute:()=>this.toggleViewContainer(e)})),o.push(this.menus.registerMenuAction(a.CommonMenus.VIEW_VIEWS,{commandId:r,label:i.label})),o.push(null===(n=this.quickView)||void 0===n?void 0:n.registerItem({label:i.label,open:async()=>{const t=await this.openViewContainer(e);t&&this.shell.activateWidget(t.id)}})),o.push(m.Disposable.create((async()=>{const t=await this.getPluginViewContainer(e);t&&t.dispose()}))),o}getContainerViews(e){return this.containerViews.get(e)||[]}registerView(e,t){var i,n;if(this.views.has(t.id))return console.warn("view with such id already registered: ",JSON.stringify(t)),m.Disposable.NULL;const o=new m.DisposableCollection;t.when=null===(i=t.when)||void 0===i?void 0:i.trim(),this.views.set(t.id,[e,t]),o.push(m.Disposable.create((()=>this.views.delete(t.id))));const r=this.getContainerViews(e);if(r.push(t.id),this.containerViews.set(e,r),o.push(m.Disposable.create((()=>{const e=r.indexOf(t.id);-1!==e&&r.splice(e,1)}))),t.when&&"false"!==t.when&&"true"!==t.when){const e=this.contextKeyService.parseKeys(t.when);e&&(this.viewClauseContexts.set(t.id,e),o.push(m.Disposable.create((()=>this.viewClauseContexts.delete(t.id)))))}return o.push(null===(n=this.quickView)||void 0===n?void 0:n.registerItem({label:t.name,when:t.when,open:()=>this.openView(t.id,{activate:!0})})),o.push(this.commands.registerCommand({id:`${t.id}.focus`},{execute:async()=>{await this.openView(t.id,{activate:!0})}})),o}async registerWebviewView(e,t){if(this.webviewViewResolvers.has(e))throw new Error(`View resolver already registered for ${e}`);this.webviewViewResolvers.set(e,t);const i=await this.createNewWebviewView(),n=D.CancellationToken.None;return this.getView(e).then((async t=>{if(t)if(t.isVisible)await this.prepareView(t,i.webview.identifier.id);else{const n=new m.DisposableCollection(this.onDidExpandView((async n=>{n===e&&(o(),await this.prepareView(t,i.webview.identifier.id))}))),o=()=>n.dispose();t.disposed.connect(o),n.push(m.Disposable.create((()=>t.disposed.disconnect(o))))}})),t.resolve(i,n),m.Disposable.create((()=>{this.webviewViewResolvers.delete(e)}))}async createNewWebviewView(){const e=await this.widgetManager.getOrCreateWidget(x.WebviewWidget.FACTORY_ID,{id:(0,T.v4)()});let t;return e.setContentOptions({allowScripts:!0}),{webview:e,get onDidChangeVisibility(){return e.onDidChangeVisibility},get onDidDispose(){return e.onDidDispose},get title(){return e.title.label},set title(t){e.title.label=t||""},get description(){return t},set description(e){t=e},get badge(){return e.badge},set badge(t){e.badge=t},get badgeTooltip(){return e.badgeTooltip},set badgeTooltip(t){e.badgeTooltip=t},onDidChangeBadge:e.onDidChangeBadge,onDidChangeBadgeTooltip:e.onDidChangeBadgeTooltip,dispose:e.dispose,show:e.show}}registerViewWelcome(e){const t=new m.DisposableCollection,i=this.viewsWelcome.get(e.view)||[];if(i.some((t=>t.content===e.content)))return t;if(i.push(e),this.viewsWelcome.set(e.view,i),this.handleViewWelcomeChange(e.view),t.push(m.Disposable.create((()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1),this.handleViewWelcomeChange(e.view)}))),e.when){const n=i.indexOf(e),o=this.toViewWelcomeId(n,e.view);this.viewClauseContexts.set(o,this.contextKeyService.parseKeys(e.when)),t.push(m.Disposable.create((()=>this.viewClauseContexts.delete(o))))}return t}async handleViewWelcomeChange(e){const t=await this.getTreeViewWelcomeWidget(e);t&&t.handleViewWelcomeContentChange(this.getViewWelcomes(e))}async getTreeViewWelcomeWidget(e){return"explorer"===e?this.widgetManager.getWidget(p.FILE_NAVIGATOR_ID):this.widgetManager.getWidget(t.PLUGIN_VIEW_DATA_FACTORY_ID,{id:e})}getViewWelcomes(e){return this.viewsWelcome.get(e)||[]}async getView(e){if(this.views.has(e))return this.widgetManager.getWidget(t.PLUGIN_VIEW_FACTORY_ID,this.toPluginViewWidgetIdentifier(e))}async openView(e,t){const i=await this.doOpenView(e);return i&&t&&(!0===t.activate?await this.shell.activateWidget(i.id):!0===t.reveal&&await this.shell.revealWidget(i.id)),i}async doOpenView(e){const t=await this.getView(e);if(t)return t;const i=this.views.get(e);if(!i)return;const[n]=i;return await this.openViewContainer(n),this.getView(e)}async prepareView(e,t){const i=this.views.get(e.options.viewId);if(!i)return;const[,n]=i;e.title.label||(e.title.label=n.name);const o=e.widgets[0],r=await this.createViewDataWidget(n.id,t);e.isDisposed?null==r||r.dispose():o!==r&&(o&&o.dispose(),r&&e.addWidget(r))}getOrCreateViewContainerWidget(e){const i=this.toViewContainerIdentifier(e);return this.widgetManager.getOrCreateWidget(t.PLUGIN_VIEW_CONTAINER_FACTORY_ID,i)}async openViewContainer(e){if("explorer"===e){const e=await this.explorer.openView();return e.parent instanceof a.ViewContainer?e.parent:void 0}if("scm"===e){const e=await this.scm.openView();return e.parent instanceof a.ViewContainer?e.parent:void 0}if("debug"===e)return(await this.debug.openView()).sessionWidget.viewContainer;const t=this.viewContainers.get(e);if(!t)return;const[i]=t,n=await this.getOrCreateViewContainerWidget(e);return n.isAttached||await this.shell.addWidget(n,{area:a.ApplicationShell.isSideArea(i)?i:"left",rank:Number.MAX_SAFE_INTEGER}),n}async prepareViewContainer(e,i){const n=this.viewContainers.get(e);if(n){const[,e]=n;i.setTitleOptions(e)}for(const n of this.getContainerViews(e)){const e=this.toPluginViewWidgetIdentifier(n),o=this.widgetManager.tryGetWidget(t.PLUGIN_VIEW_FACTORY_ID,e);if(o&&o.currentViewContainerId){const e=await this.getPluginViewContainer(o.currentViewContainerId);if(e&&this.registerWidgetPartEvents(o,e))continue}const r=await this.widgetManager.getOrCreateWidget(t.PLUGIN_VIEW_FACTORY_ID,e);-1===i.getTrackableWidgets().indexOf(r)&&i.addWidget(r,{initiallyCollapsed:!!i.getParts().length,initiallyHidden:!this.isViewVisible(n)}),this.registerWidgetPartEvents(r,i)}}registerWidgetPartEvents(e,t){const i=t.getPartFor(e);if(i){e.currentViewContainerId=this.getViewContainerId(t),i.onDidMove((t=>{e.currentViewContainerId=this.getViewContainerId(t)})),i.onDidChangeVisibility((()=>e.suppressUpdateViewVisibility=i.isHidden));const n=()=>{if(0===e.widgets.length){if(!i.collapsed&&i.isVisible){const t=this.toViewId(e.options);this.onDidExpandViewEmitter.fire(t)}}else o.dispose()},o=new m.DisposableCollection(i.onCollapsed(n),i.onDidChangeVisibility(n));return n(),i}}getViewContainerId(e){var i;const n=this.widgetManager.getDescription(e);switch(null==n?void 0:n.factoryId){case p.EXPLORER_VIEW_CONTAINER_ID:return"explorer";case h.SCM_VIEW_CONTAINER_ID:return"scm";case E.SEARCH_VIEW_CONTAINER_ID:return"search";case void 0:return(null===(i=e.parent)||void 0===i?void 0:i.parent)instanceof d.DebugWidget?"debug":e.id;case t.PLUGIN_VIEW_CONTAINER_FACTORY_ID:return this.toViewContainerId(n.options);default:return e.id}}async getPluginViewContainer(e){if("explorer"===e)return this.widgetManager.getWidget(p.EXPLORER_VIEW_CONTAINER_ID);if("scm"===e)return this.widgetManager.getWidget(h.SCM_VIEW_CONTAINER_ID);if("search"===e)return this.widgetManager.getWidget(E.SEARCH_VIEW_CONTAINER_ID);if("debug"===e){const e=await this.widgetManager.getWidget(d.DebugWidget.ID);if(e instanceof d.DebugWidget)return e.sessionWidget.viewContainer}const i=this.toViewContainerIdentifier(e);return this.widgetManager.getWidget(t.PLUGIN_VIEW_CONTAINER_FACTORY_ID,i)}async initViewContainer(e){let t=await this.getPluginViewContainer(e);t?await this.prepareViewContainer(this.toViewContainerId(t.options),t):(t=await this.openViewContainer(e),t&&!t.getParts().filter((e=>!e.isHidden)).length&&t.dispose())}async initWidgets(){const e=[];for(const t of this.viewContainers.keys())e.push((async()=>{await this.initViewContainer(t)})().catch(console.error));e.push((async()=>{const e=await this.widgetManager.getWidget(p.EXPLORER_VIEW_CONTAINER_ID);e instanceof a.ViewContainer&&await this.prepareViewContainer("explorer",e)})().catch(console.error)),e.push((async()=>{const e=await this.widgetManager.getWidget(h.SCM_VIEW_CONTAINER_ID);e instanceof a.ViewContainer&&await this.prepareViewContainer("scm",e)})().catch(console.error)),e.push((async()=>{const e=await this.widgetManager.getWidget(E.SEARCH_VIEW_CONTAINER_ID);e instanceof a.ViewContainer&&await this.prepareViewContainer("search",e)})().catch(console.error)),e.push((async()=>{const e=await this.widgetManager.getWidget(d.DebugWidget.ID);if(e instanceof d.DebugWidget){const t=e.sessionWidget.viewContainer;await this.prepareViewContainer("debug",t)}})().catch(console.error)),await Promise.all(e)}async removeStaleWidgets(){const e=this.widgetManager.getWidgets(t.PLUGIN_VIEW_FACTORY_ID);for(const t of e)if(t instanceof u.PluginViewWidget){const e=this.toViewId(t.options);this.views.has(e)||t.dispose()}const i=this.widgetManager.getWidgets(t.PLUGIN_VIEW_CONTAINER_FACTORY_ID);for(const e of i)if(e instanceof a.ViewContainer){const t=this.toViewContainerId(e.options);this.viewContainers.has(t)||e.dispose()}}toViewContainerIdentifier(e){return{id:t.PLUGIN_VIEW_CONTAINER_FACTORY_ID+":"+e,progressLocationId:e}}toViewContainerId(e){return e.id.substring(t.PLUGIN_VIEW_CONTAINER_FACTORY_ID.length+1)}toPluginViewWidgetIdentifier(e){return{id:t.PLUGIN_VIEW_FACTORY_ID+":"+e,viewId:e}}toViewId(e){return e.viewId}toViewWelcomeId(e,t){return`view-welcome.${t}.${e}`}onDidInitializeLayout(){const e=this.widgetManager.getWidgets(t.PLUGIN_VIEW_DATA_FACTORY_ID);for(const t of e){if(a.StatefulWidget.is(t)){const e=t.storeState();e&&this.viewDataState.set(t.id,e)}t.dispose()}}registerViewDataProvider(e,t){if(this.viewDataProviders.has(e))return console.error(`data provider for '${e}' view is already registered`),m.Disposable.NULL;this.viewDataProviders.set(e,t);const i=new m.DisposableCollection(m.Disposable.create((()=>{this.viewDataProviders.delete(e),this.viewDataState.delete(e)})));return this.getView(e).then((async t=>{if(!i.disposed&&t)if(t.isVisible)await this.prepareView(t);else{const n=new m.DisposableCollection(this.onDidExpandView((async i=>{i===e&&(o(),await this.prepareView(t))}))),o=()=>n.dispose();t.disposed.connect(o),n.push(m.Disposable.create((()=>t.disposed.disconnect(o)))),i.push(n)}})),i}async createViewDataWidget(e,t){var i;const n=this.views.get(e);if((null===(i=null==n?void 0:n[1])||void 0===i?void 0:i.type)===c.PluginViewType.Webview)return this.widgetManager.getWidget(x.WebviewWidget.FACTORY_ID,{id:t});const o=this.viewDataProviders.get(e);if(!n||!o)return;const[,r]=n,s=this.viewDataState.get(e),l=await o({state:s,viewInfo:r});return l.handleViewWelcomeContentChange(this.getViewWelcomes(e)),a.StatefulWidget.is(l)?this.storeViewDataStateOnDispose(e,l):this.viewDataState.delete(e),l}storeViewDataStateOnDispose(e,t){const i=t.dispose.bind(t);t.dispose=()=>{const n=t.storeState();n&&this.viewDataState.set(e,n),i()}}isVisibleWidget(e){return!e.isDisposed&&e.isVisible}updateFocusedView(){const e=this.shell.activeWidget;e instanceof u.PluginViewWidget?this.viewContextKeys.focusedView.set(e.options.viewId):this.viewContextKeys.focusedView.reset()}};B.ID_MAPPINGS=new Map([[p.EXPLORER_VIEW_CONTAINER_ID,"workbench.view.explorer"],[h.SCM_VIEW_CONTAINER_ID,"workbench.view.scm"],[E.SEARCH_VIEW_CONTAINER_ID,"workbench.view.search"],[d.DebugWidget.ID,"workbench.view.debug"],["vsx-extensions-view-container","workbench.view.extensions"],[w.PROBLEMS_WIDGET_ID,"workbench.panel.markers"],[_.OutputWidget.ID,"workbench.panel.output"],[S.DebugConsoleContribution.options.id,"workbench.panel.repl"]]),o([(0,s.inject)(a.ApplicationShell),r("design:type",a.ApplicationShell)],B.prototype,"shell",void 0),o([(0,s.inject)(l.PluginSharedStyle),r("design:type",l.PluginSharedStyle)],B.prototype,"style",void 0),o([(0,s.inject)(a.WidgetManager),r("design:type",a.WidgetManager)],B.prototype,"widgetManager",void 0),o([(0,s.inject)(h.ScmContribution),r("design:type",h.ScmContribution)],B.prototype,"scm",void 0),o([(0,s.inject)(g.FileNavigatorContribution),r("design:type",g.FileNavigatorContribution)],B.prototype,"explorer",void 0),o([(0,s.inject)(f.DebugFrontendApplicationContribution),r("design:type",f.DebugFrontendApplicationContribution)],B.prototype,"debug",void 0),o([(0,s.inject)(b.CommandRegistry),r("design:type",b.CommandRegistry)],B.prototype,"commands",void 0),o([(0,s.inject)(v.MenuModelRegistry),r("design:type",v.MenuModelRegistry)],B.prototype,"menus",void 0),o([(0,s.inject)(a.QuickViewService),(0,s.optional)(),r("design:type",a.QuickViewService)],B.prototype,"quickView",void 0),o([(0,s.inject)(y.ContextKeyService),r("design:type",Object)],B.prototype,"contextKeyService",void 0),o([(0,s.inject)(C.ViewContextKeyService),r("design:type",C.ViewContextKeyService)],B.prototype,"viewContextKeys",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],B.prototype,"init",null),B=n=o([(0,s.injectable)()],B),t.PluginViewRegistry=B},78054:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PluginViewWidget=t.PluginViewWidgetIdentifier=void 0;const r=i(70801),s=i(29486),a=i(49381),c=i(12202),l=i(46395),d=i(65156),u=i(9825),h=i(949);let p=class{};p=n([(0,r.injectable)()],p),t.PluginViewWidgetIdentifier=p;let g=class extends s.Panel{constructor(){super(),this._description="",this._suppressUpdateViewVisibility=!1,this.updatingViewVisibility=!1,this.onDidChangeDescriptionEmitter=new u.Emitter,this.onDidChangeBadgeEmitter=new u.Emitter,this.onDidChangeBadgeTooltipEmitter=new u.Emitter,this.toDispose=new u.DisposableCollection(this.onDidChangeDescriptionEmitter,this.onDidChangeBadgeEmitter,this.onDidChangeBadgeTooltipEmitter),this.onDidChangeToolbarItemsEmitter=new u.Emitter,this.node.tabIndex=-1,this.node.style.height="100%"}get onDidChangeToolbarItems(){return this.onDidChangeToolbarItemsEmitter.event}init(){this.id=this.options.id;const e=this.contextKeyService.createScoped(this.node);e.setContext("view",this.options.viewId),this.toDispose.push(e)}get onDidChangeDescription(){return this.onDidChangeDescriptionEmitter.event}get onDidChangeBadge(){return this.onDidChangeBadgeEmitter.event}get onDidChangeBadgeTooltip(){return this.onDidChangeBadgeTooltipEmitter.event}onActivateRequest(e){super.onActivateRequest(e);const t=this.widgets[0];t?(t.activate(),this.updateWidgetMessage()):this.node.focus()}storeState(){return{label:this.title.label,message:this.message,widgets:this.widgets,suppressUpdateViewVisibility:this._suppressUpdateViewVisibility,currentViewContainerId:this.currentViewContainerId}}restoreState(e){this.title.label=e.label,this.message=e.message,this.suppressUpdateViewVisibility=e.suppressUpdateViewVisibility,this.currentViewContainerId=e.currentViewContainerId;for(const t of e.widgets)this.addWidget(t)}set suppressUpdateViewVisibility(e){this._suppressUpdateViewVisibility=!this.updatingViewVisibility&&e}updateViewVisibility(e){if(!this._suppressUpdateViewVisibility)try{this.updatingViewVisibility=!0,e()}finally{this.updatingViewVisibility=!1}}get message(){return this._message}set message(e){this._message=e,this.updateWidgetMessage()}get description(){return this._description}set description(e){this._description=e,this.onDidChangeDescriptionEmitter.fire()}get badge(){const e=this.widgets[0];return d.BadgeWidget.is(e)?e.badge:this._badge}set badge(e){this._badge=e,this.onDidChangeBadgeEmitter.fire()}get badgeTooltip(){const e=this.widgets[0];return d.BadgeWidget.is(e)?e.badgeTooltip:this._badgeTooltip}set badgeTooltip(e){this._badgeTooltip=e,this.onDidChangeBadgeTooltipEmitter.fire()}updateWidgetMessage(){const e=this.widgets[0];e&&e instanceof l.TreeViewWidget&&(e.message=this._message)}addWidget(e){super.addWidget(e),d.BadgeWidget.is(e)&&(e.onDidChangeBadge((()=>this.onDidChangeBadgeEmitter.fire())),e.onDidChangeBadgeTooltip((()=>this.onDidChangeBadgeTooltipEmitter.fire()))),this.updateWidgetMessage(),this.onDidChangeToolbarItemsEmitter.fire()}insertWidget(e,t){super.insertWidget(e,t),this.updateWidgetMessage(),this.onDidChangeToolbarItemsEmitter.fire()}dispose(){this.toDispose.dispose(),super.dispose()}};n([(0,r.inject)(a.MenuModelRegistry),o("design:type",a.MenuModelRegistry)],g.prototype,"menus",void 0),n([(0,r.inject)(c.CommandRegistry),o("design:type",c.CommandRegistry)],g.prototype,"commands",void 0),n([(0,r.inject)(h.ContextKeyService),o("design:type",Object)],g.prototype,"contextKeyService",void 0),n([(0,r.inject)(p),o("design:type",p)],g.prototype,"options",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"init",null),g=n([(0,r.injectable)(),o("design:paramtypes",[])],g),t.PluginViewWidget=g},38744:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.bindTreeViewDecoratorUtilities=t.TreeViewDecoratorService=t.TreeViewDecoratorAdapter=t.TreeViewDecorator=void 0;const s=i(70801),a=i(79530),c=i(9825),l=i(30970),d=i(21549);t.TreeViewDecorator=Symbol("TreeViewDecorator");let u=class extends d.FileTreeDecoratorAdapter{getUriForNode(e){if(this.isTreeItem(e))return new l.default(e.resourceUri).toString()}isTreeItem(e){return(0,c.isObject)(e)&&!!e.resourceUri}};u=n([(0,s.injectable)()],u),t.TreeViewDecoratorAdapter=u;let h=class extends a.AbstractTreeDecoratorService{constructor(e){super(e.getContributions())}};h=n([(0,s.injectable)(),r(0,(0,s.inject)(c.ContributionProvider)),r(0,(0,s.named)(t.TreeViewDecorator)),o("design:paramtypes",[Object])],h),t.TreeViewDecoratorService=h,t.bindTreeViewDecoratorUtilities=function(e){e(u).toSelf().inSingletonScope(),(0,c.bindContributionProvider)(e,t.TreeViewDecorator),e(t.TreeViewDecorator).toService(u)}},46395:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewWidget=t.PluginTreeModel=t.PluginTree=t.TreeViewWidgetOptions=t.CompositeTreeViewNode=t.ResolvableCompositeTreeViewNode=t.ResolvableTreeViewNode=t.TreeViewNode=t.VIEW_ITEM_INLINE_MENU=t.VIEW_ITEM_CONTEXT_MENU=t.TREE_NODE_HYPERLINK=void 0;const r=i(70801),s=i(16138),a=i(87361),c=i(49381),l=i(92664),d=i(34291),u=i(35022),h=i(18894),p=i(13318),g=i(30970),f=i(949),m=i(93838),b=i(18134),v=i(53414),A=i(79530),y=i(9825),C=i(67037),w=i(60516),_=i(20607);var S,E;t.TREE_NODE_HYPERLINK="theia-TreeNodeHyperlink",t.VIEW_ITEM_CONTEXT_MENU=["view-item-context-menu"],t.VIEW_ITEM_INLINE_MENU=["view-item-context-menu","inline"],function(e){e.is=function(e){return!!e&&a.SelectableTreeNode.is(e)&&A.DecoratedTreeNode.is(e)}}(S=t.TreeViewNode||(t.TreeViewNode={}));class k{constructor(e,t){this._resolved=!1,(0,C.mixin)(this,e),this.resolve=async e=>{var i,n;if(this.resolving)return this.resolving.promise;if(!this._resolved){this.resolving=new w.Deferred;const o=await t(e);o&&(this.command=null!==(i=this.command)&&void 0!==i?i:o.command,this.tooltip=null!==(n=this.tooltip)&&void 0!==n?n:o.tooltip),this.resolving.resolve(),this.resolving=void 0}e.isCancellationRequested||(this._resolved=!0)}}reset(){this._resolved=!1,this.resolving=void 0,this.command=void 0,this.tooltip=void 0}get resolved(){return this._resolved}}t.ResolvableTreeViewNode=k;class x extends k{constructor(e,t){super(e,t),this.expanded=e.expanded,this.children=e.children}}t.ResolvableCompositeTreeViewNode=x,function(e){e.is=function(e){return S.is(e)&&a.ExpandableTreeNode.is(e)&&a.CompositeTreeNode.is(e)}}(E=t.CompositeTreeViewNode||(t.CompositeTreeViewNode={}));let D=class{};D=n([(0,r.injectable)()],D),t.TreeViewWidgetOptions=D;let T=class extends a.TreeImpl{constructor(){super(...arguments),this.onDidChangeWelcomeStateEmitter=new h.Emitter,this.onDidChangeWelcomeState=this.onDidChangeWelcomeStateEmitter.event,this._hasTreeItemResolve=Promise.resolve(!1)}set proxy(e){this._proxy=e,this._hasTreeItemResolve=e?e.$hasResolveTreeItem(this.options.id):Promise.resolve(!1)}get proxy(){return this._proxy}get hasTreeItemResolve(){return this._hasTreeItemResolve}set viewInfo(e){this._viewInfo=e}get isEmpty(){return this._isEmpty}async resolveChildren(e){if(!this._proxy)return super.resolveChildren(e);const t=await this.fetchChildren(this._proxy,e),i=await this.hasTreeItemResolve;return t.map((t=>i?this.createResolvableTreeNode(t,e):this.createTreeNode(t,e)))}async fetchChildren(e,t){try{const i=await e.$getChildren(this.options.id,t.id),n=this._isEmpty;return this._isEmpty=!(t.id||i&&0!==i.length),n!==this._isEmpty&&this.onDidChangeWelcomeStateEmitter.fire(),i||[]}catch(e){if(e){console.error(`Failed to fetch children for '${this.options.id}'`,e);const t=this._viewInfo?this._viewInfo.name:this.options.id;this.notification.error(`${t}: ${e.message}`)}return[]}}createTreeNode(e,t){const i=this.createTreeNodeUpdate(e),n=this.getNode(e.id);return void 0!==e.collapsibleState&&e.collapsibleState!==s.TreeViewItemCollapsibleState.None?E.is(n)?Object.assign(n,i):Object.assign({id:e.id,parent:t,visible:!0,selected:!1,expanded:s.TreeViewItemCollapsibleState.Expanded===e.collapsibleState,children:[],command:e.command},i):S.is(n)&&!a.ExpandableTreeNode.is(n)?Object.assign(n,i,{command:e.command}):Object.assign({id:e.id,parent:t,visible:!0,selected:!1,command:e.command},i)}createResolvableTreeNode(e,t){const i=this.createTreeNodeUpdate(e),n=this.getNode(e.id);if(void 0!==e.collapsibleState&&e.collapsibleState!==s.TreeViewItemCollapsibleState.None){if(n instanceof x)return n.reset(),Object.assign(n,i);const o=Object.assign({id:e.id,parent:t,visible:!0,selected:!1,expanded:s.TreeViewItemCollapsibleState.Expanded===e.collapsibleState,children:[],command:e.command},i);return new x(o,(async t=>{var i;return null===(i=this._proxy)||void 0===i?void 0:i.$resolveTreeItem(this.options.id,e.id,t)}))}if(n instanceof k&&!a.ExpandableTreeNode.is(n))return n.reset(),Object.assign(n,i);const o=Object.assign({id:e.id,parent:t,visible:!0,selected:!1,command:e.command},i);return new k(o,(async t=>{var i;return null===(i=this._proxy)||void 0===i?void 0:i.$resolveTreeItem(this.options.id,e.id,t)}))}createTreeNodeUpdate(e){const t=this.toDecorationData(e),i=this.toIconClass(e),n=e.resourceUri&&g.URI.fromComponents(e.resourceUri).toString(),o=e.themeIcon?e.themeIcon:e.collapsibleState!==s.TreeViewItemCollapsibleState.None?{id:"folder"}:void 0;return{name:e.label,decorationData:t,icon:i,description:e.description,themeIcon:o,resourceUri:n,tooltip:e.tooltip,contextValue:e.contextValue,command:e.command,accessibilityInformation:e.accessibilityInformation}}toDecorationData(e){let t={};return e.highlights&&(t={highlight:{ranges:e.highlights.map((e=>({offset:e[0],length:e[1]-e[0]})))}}),t}toIconClass(e){if(e.icon)return"fa "+e.icon;if(e.iconUrl){const t=this.sharedStyle.toIconClass(e.iconUrl);return this.toDispose.push(t),t.object.iconClass}}};n([(0,r.inject)(d.PluginSharedStyle),o("design:type",d.PluginSharedStyle)],T.prototype,"sharedStyle",void 0),n([(0,r.inject)(D),o("design:type",D)],T.prototype,"options",void 0),n([(0,r.inject)(p.MessageService),o("design:type",p.MessageService)],T.prototype,"notification",void 0),T=n([(0,r.injectable)()],T),t.PluginTree=T;let M=class extends a.TreeModelImpl{set proxy(e){this.tree.proxy=e}get proxy(){return this.tree.proxy}get hasTreeItemResolve(){return this.tree.hasTreeItemResolve}set viewInfo(e){this.tree.viewInfo=e}get isTreeEmpty(){return this.tree.isEmpty}get onDidChangeWelcomeState(){return this.tree.onDidChangeWelcomeState}doOpenNode(e){super.doOpenNode(e),e instanceof k&&e.resolve(y.CancellationToken.None)}};n([(0,r.inject)(T),o("design:type",T)],M.prototype,"tree",void 0),M=n([(0,r.injectable)()],M),t.PluginTreeModel=M;let B=class extends a.TreeViewWelcomeWidget{constructor(){super(...arguments),this._contextSelection=!1,this.expansionTimeouts=new Map}init(){super.init(),this.id=this.options.id,this.addClass("theia-tree-view"),this.node.style.height="100%",this.model.onDidChangeWelcomeState(this.update,this),this.toDispose.push(this.model.onDidChangeWelcomeState(this.update,this)),this.toDispose.push(this.onDidChangeVisibilityEmitter),this.toDispose.push(this.contextKeyService.onDidChange((()=>this.update()))),this.treeDragType=`application/vnd.code.tree.${this.id.toLowerCase()}`}get showCollapseAll(){return this.options.showCollapseAll||!1}renderIcon(e,t){var i;const n=this.toNodeIcon(e);if(n){let t;if(S.is(e)&&(null===(i=e.themeIcon)||void 0===i?void 0:i.color)){const i=this.colorRegistry.getCurrentColor(e.themeIcon.color.id);i&&(t={color:i})}return l.createElement("div",{className:n+" theia-tree-view-icon",style:t})}}renderCaption(e,t){const i=[a.TREE_NODE_SEGMENT_CLASS];this.hasTrailingSuffixes(e)||i.push(a.TREE_NODE_SEGMENT_GROW_CLASS);const n=i.join(" ");let o={...this.decorateCaption(e,{}),className:n,id:e.id};if(e.accessibilityInformation&&(o={...o,"aria-label":e.accessibilityInformation.label,role:e.accessibilityInformation.role}),!e.tooltip&&e instanceof k){let t,i=!1;o={...o,onMouseLeave:()=>null==t?void 0:t.cancel(),onMouseEnter:async n=>{if(i)m.MarkdownString.is(e.tooltip)&&this.hoverService.requestHover({content:e.tooltip,target:n.target,position:"right"});else{if(!e.resolved){t=new y.CancellationTokenSource;const i=t.token;if(await e.resolve(i),i.isCancellationRequested)return}if(m.MarkdownString.is(e.tooltip))this.hoverService.requestHover({content:e.tooltip,target:n.target,position:"right"});else{const t=e.tooltip||e.resourceUri&&this.labelProvider.getLongName(new g.URI(e.resourceUri))||this.toNodeName(e);n.currentTarget.title=t}i=!0}}}}else if(m.MarkdownString.is(e.tooltip))o={...o,onMouseEnter:t=>{this.hoverService.requestHover({content:e.tooltip,target:t.target,position:"right"})}};else{const t=e.tooltip||e.resourceUri&&this.labelProvider.getLongName(new g.URI(e.resourceUri))||this.toNodeName(e);o={...o,title:t}}const r=[],s=this.toNodeName(e),c=this.getDecorationData(e,"highlight")[0];c&&r.push(this.toReactNode(s,c));const d=this.searchHighlights&&this.searchHighlights.get(e.id);d?r.push(...this.toReactNode(s,d)):c||r.push(s);const u=this.toNodeDescription(e);return u&&r.push(l.createElement("span",{className:"theia-tree-view-description"},u)),l.createElement("div",{...o},...r)}createNodeAttributes(e,t){const i=super.createNodeAttributes(e,t);return this.options.dragMimeTypes&&(i.onDragStart=t=>this.handleDragStartEvent(e,t),i.onDragEnd=t=>this.handleDragEnd(e,t),i.draggable=!0),this.options.dropMimeTypes&&(i.onDrop=t=>this.handleDropEvent(e,t),i.onDragEnter=t=>this.handleDragEnter(e,t),i.onDragLeave=t=>this.handleDragLeave(e,t),i.onDragOver=e=>this.handleDragOver(e)),i}handleDragLeave(e,t){const i=this.expansionTimeouts.get(e.id);void 0!==i&&(console.debug(`dragleave ${e.id} canceling timeout`),clearTimeout(i),this.expansionTimeouts.delete(e.id))}handleDragEnter(e,t){console.debug(`dragenter ${e.id}`),a.ExpandableTreeNode.is(e)&&(console.debug(`dragenter ${e.id} starting timeout`),this.expansionTimeouts.set(e.id,window.setTimeout((()=>{console.debug(`dragenter ${e.id} timeout reached`),this.model.expandNode(e)}),500)))}createContainerAttributes(){const e=super.createContainerAttributes();return this.options.dropMimeTypes&&(e.onDrop=e=>this.handleDropEvent(void 0,e),e.onDragOver=e=>this.handleDragOver(e)),e}handleDragStartEvent(e,t){t.dataTransfer.setData(this.treeDragType,"");let i=[];i=this.model.selectedNodes.find((t=>a.TreeNode.equals(t,e)))?this.model.selectedNodes.filter(S.is):[e],this.options.dragMimeTypes.forEach((e=>{"text/uri-list"===e?a.ApplicationShell.setDraggedEditorUris(t.dataTransfer,i.filter((e=>e.resourceUri)).map((e=>new g.URI(e.resourceUri)))):t.dataTransfer.setData(e,"")})),this.model.proxy.$dragStarted(this.options.id,i.map((e=>e.id)),y.CancellationToken.None).then((e=>{e&&this.applicationShell.addAdditionalDraggedEditorUris(e.map(g.URI.fromComponents))}))}handleDragEnd(e,t){this.applicationShell.clearAdditionalDraggedEditorUris(),this.model.proxy.$dragEnd(this.id)}handleDragOver(e){e.dataTransfer&&(e.dataTransfer.types.some((e=>this.options.dropMimeTypes.includes(e)))||e.dataTransfer.types.includes(this.treeDragType)||this.options.dropMimeTypes.includes("files")&&(e=>{for(let t=0;t<e.length;t++)if("file"===e[t].kind)return!0;return!1})(e.dataTransfer.items)?(e.preventDefault(),e.dataTransfer.dropEffect="move"):e.dataTransfer.dropEffect="none",e.stopPropagation())}handleDropEvent(e,t){var i;if(t.dataTransfer){const n=[];let o=[];try{for(let e=0;e<t.dataTransfer.items.length;e++){const i=t.dataTransfer.items[e];if(i.type!==this.treeDragType){const r=t.dataTransfer.items[e].getAsFile();if(r){const e=this.dndFileContentStore.addFile(r);o.push(e);const t=r.path?{scheme:"file",path:r.path,authority:"",query:"",fragment:""}:void 0;n.push([i.type,new s.DataTransferFileDTO(r.name,e,t)])}else{const e=t.dataTransfer.getData(i.type);e&&n.push([i.type,e])}}}(n.length>0||t.dataTransfer.types.includes(this.treeDragType))&&(t.preventDefault(),t.stopPropagation(),null===(i=this.model.proxy)||void 0===i||i.$drop(this.id,null==e?void 0:e.id,n,y.CancellationToken.None).finally((()=>{for(const e of o)this.dndFileContentStore.removeFile(e)})),o=[])}catch(e){for(const e of o)this.dndFileContentStore.removeFile(e);throw e}}}renderTailDecorations(e,i){return this.contextKeys.with({view:this.id,viewItem:e.contextValue},(()=>{const n=this.menus.getMenu(t.VIEW_ITEM_INLINE_MENU),o=this.toContextMenuArgs(e),r=n.children.filter((e=>e instanceof c.ActionMenuNode)),s=super.renderTailDecorations(e,i);return l.createElement(l.Fragment,null,r.length>0&&l.createElement("div",{className:a.TREE_NODE_SEGMENT_CLASS+" flex"},r.map(((t,i)=>this.renderInlineCommand(t,i,this.focusService.hasFocus(e),o)))),void 0!==s&&l.createElement("div",{className:a.TREE_NODE_SEGMENT_CLASS+" flex"},s))}))}toTreeViewItemReference(e){return{viewId:this.id,itemId:e.id}}renderInlineCommand(e,t,i,n){if(!(e.icon&&this.commands.isVisible(e.command,...n)&&e.when&&this.contextKeys.match(e.when)))return!1;const o=[a.TREE_NODE_SEGMENT_CLASS,a.TREE_NODE_TAIL_CLASS,e.icon,u.ACTION_ITEM,"theia-tree-view-inline-action"].join(" "),r=i?0:void 0;return l.createElement("div",{key:t,className:o,title:e.label,tabIndex:r,onClick:t=>{t.stopPropagation(),this.commands.executeCommand(e.command,...n)}})}toContextMenuArgs(e){return this.options.multiSelect?[this.toTreeViewItemReference(e),this.model.selectedNodes.map((e=>this.toTreeViewItemReference(e)))]:[this.toTreeViewItemReference(e)]}setFlag(e){super.setFlag(e),e===u.Widget.Flag.IsVisible&&this.onDidChangeVisibilityEmitter.fire(this.isVisible)}clearFlag(e){super.clearFlag(e),e===u.Widget.Flag.IsVisible&&this.onDidChangeVisibilityEmitter.fire(this.isVisible)}handleEnter(e){super.handleEnter(e),this.tryExecuteCommand()}tapNode(e){super.tapNode(e),this.findCommands(e).then((t=>{t.size>0?this.tryExecuteCommandMap(t):e&&this.isExpandable(e)&&this.model.toggleNodeExpansion(e)}))}async tryExecuteCommand(e){this.tryExecuteCommandMap(await this.findCommands(e))}tryExecuteCommandMap(e){e.forEach(((e,t)=>{this.commands.executeCommand(t,...e)}))}async findCommands(e){const t=new Map,i=e?[e]:this.model.selectedNodes;if(await this.model.hasTreeItemResolve){const e=(new y.CancellationTokenSource).token,t=Promise.all(i.map((t=>!t.command&&t instanceof k&&!t.resolved?t.resolve(e).catch((e=>{console.error(`Failed to resolve tree item '${t.id}'`,e)})):Promise.resolve(t))));await t}for(const e of i)e&&e.command&&t.set(e.command.id,e.command.arguments||[]);return t}get message(){return this._message}set message(e){this._message=e,this.update()}render(){return l.createElement("div",this.createContainerAttributes(),this.renderSearchInfo(),this.renderTree(this.model))}renderSearchInfo(){if(this._message)return l.createElement("div",{className:"theia-TreeViewInfo"},this._message)}shouldShowWelcomeView(){return(void 0===this.model.proxy||this.model.isTreeEmpty)&&void 0===this.message}handleContextMenuEvent(e,t){if(a.SelectableTreeNode.is(e)){if(!this.props.multiSelect||!e.selected){const i=this.props.multiSelect&&this.hasCtrlCmdMask(t)?a.TreeSelection.SelectionType.TOGGLE:a.TreeSelection.SelectionType.DEFAULT;this.model.addSelection({node:e,type:i})}this.focusService.setFocus(e);const i=this.props.contextMenuPath;if(i){const{x:n,y:o}=t.nativeEvent,r=this.toContextMenuArgs(e),s=this.contextKeyService.createOverlay([["viewItem",S.is(e)&&e.contextValue||void 0],["view",this.options.id]]);setTimeout((()=>this.contextMenuRenderer.render({menuPath:i,anchor:{x:n,y:o},args:r,contextKeyService:s,onHide:()=>s.dispose()})),10)}}t.stopPropagation(),t.preventDefault()}};n([(0,r.inject)(a.ApplicationShell),o("design:type",a.ApplicationShell)],B.prototype,"applicationShell",void 0),n([(0,r.inject)(c.MenuModelRegistry),o("design:type",c.MenuModelRegistry)],B.prototype,"menus",void 0),n([(0,r.inject)(f.ContextKeyService),o("design:type",Object)],B.prototype,"contextKeys",void 0),n([(0,r.inject)(D),o("design:type",D)],B.prototype,"options",void 0),n([(0,r.inject)(M),o("design:type",M)],B.prototype,"model",void 0),n([(0,r.inject)(f.ContextKeyService),o("design:type",Object)],B.prototype,"contextKeyService",void 0),n([(0,r.inject)(a.HoverService),o("design:type",a.HoverService)],B.prototype,"hoverService",void 0),n([(0,r.inject)(b.LabelParser),o("design:type",b.LabelParser)],B.prototype,"labelParser",void 0),n([(0,r.inject)(v.ColorRegistry),o("design:type",v.ColorRegistry)],B.prototype,"colorRegistry",void 0),n([(0,r.inject)(_.DnDFileContentStore),o("design:type",_.DnDFileContentStore)],B.prototype,"dndFileContentStore",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],B.prototype,"init",null),B=n([(0,r.injectable)()],B),t.TreeViewWidget=B},17152:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeViewsMainImpl=void 0;const n=i(16138),o=i(79467),r=i(87361),s=i(62352),a=i(9825),c=i(46395),l=i(78054),d=i(58710),u=i(20607);t.TreeViewsMainImpl=class{constructor(e,t){this.container=t,this.treeViewProviders=new Map,this.toDispose=new a.DisposableCollection(a.Disposable.create((()=>{}))),this.proxy=e.getProxy(n.MAIN_RPC_CONTEXT.TREE_VIEWS_EXT),this.viewRegistry=t.get(o.PluginViewRegistry),this.contextKeys=this.container.get(s.ViewContextKeyService),this.widgetManager=this.container.get(r.WidgetManager),this.fileContentStore=this.container.get(u.DnDFileContentStore)}dispose(){this.toDispose.dispose()}async $registerTreeDataProvider(e,t){this.treeViewProviders.set(e,this.viewRegistry.registerViewDataProvider(e,(async({state:i,viewInfo:n})=>{const r={id:e,showCollapseAll:t.showCollapseAll,multiSelect:t.canSelectMany,dragMimeTypes:t.dragMimeTypes,dropMimeTypes:t.dropMimeTypes},s=await this.widgetManager.getOrCreateWidget(o.PLUGIN_VIEW_DATA_FACTORY_ID,r);if(s.model.viewInfo=n,i)s.restoreState(i),await s.model.refresh();else if(!s.model.root){const e={id:"",parent:void 0,name:"",visible:!1,expanded:!0,children:[]};s.model.root=e}return this.toDispose.disposed?s.model.proxy=void 0:(s.model.proxy=this.proxy,this.toDispose.push(a.Disposable.create((()=>s.model.proxy=void 0))),this.handleTreeEvents(s.id,s)),await s.model.refresh(),s}))),this.toDispose.push(a.Disposable.create((()=>this.$unregisterTreeDataProvider(e))))}async $unregisterTreeDataProvider(e){const t=this.treeViewProviders.get(e);t&&(this.treeViewProviders.delete(e),t.dispose())}async $readDroppedFile(e){const t=this.fileContentStore.getFile(e),i=await t.arrayBuffer();return d.BinaryBuffer.wrap(new Uint8Array(i))}async $refresh(e){const t=await this.viewRegistry.getView(e),i=t&&t.widgets[0];i instanceof c.TreeViewWidget&&await i.model.refresh()}async $reveal(e,t,i){const n=await this.viewRegistry.openView(e,{activate:i.focus,reveal:!0}),o=n&&n.widgets[0];if(o instanceof c.TreeViewWidget){const e=t.pop();await this.expandParentChain(o.model,t);const n=o.model.getNode(e);n&&(i.expand&&r.ExpandableTreeNode.is(n)&&await o.model.expandNode(n),i.select&&r.SelectableTreeNode.is(n)&&o.model.selectNode(n))}}async expandParentChain(e,t){for(const i of t){const t=e.getNode(i);r.ExpandableTreeNode.is(t)&&await e.expandNode(t)}}async $setMessage(e,t){const i=await this.viewRegistry.getView(e);i instanceof l.PluginViewWidget&&(i.message=t)}async $setTitle(e,t){const i=await this.viewRegistry.getView(e);i&&(i.title.label=t)}async $setDescription(e,t){const i=await this.viewRegistry.getView(e);i&&(i.description=t)}async $setBadge(e,t){const i=await this.viewRegistry.getView(e);i&&(i.badge=null==t?void 0:t.value,i.badgeTooltip=null==t?void 0:t.tooltip)}handleTreeEvents(e,t){this.toDispose.push(t.model.onExpansionChanged((t=>{this.proxy.$setExpanded(e,t.id,t.expanded)}))),this.toDispose.push(t.model.onSelectionChanged((t=>{this.contextKeys.view.set(e),this.proxy.$setSelection(e,t.map((e=>e.id)))})));const i=()=>this.proxy.$setVisible(e,t.isVisible);i(),this.toDispose.push(t.onDidChangeVisibility((()=>i())))}}},62352:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ViewContextKeyService=void 0;const r=i(70801),s=i(949);let a=class{get view(){return this._view}get viewItem(){return this._viewItem}get activeViewlet(){return this._activeViewlet}get activePanel(){return this._activePanel}get activeAuxiliary(){return this._activeAuxiliary}get focusedView(){return this._focusedView}init(){this._view=this.contextKeyService.createKey("view",""),this._viewItem=this.contextKeyService.createKey("viewItem",""),this._activeViewlet=this.contextKeyService.createKey("activeViewlet",""),this._activePanel=this.contextKeyService.createKey("activePanel",""),this._activeAuxiliary=this.contextKeyService.createKey("activeAuxiliary",""),this._focusedView=this.contextKeyService.createKey("focusedView","")}match(e){return!e||this.contextKeyService.match(e)}};n([(0,r.inject)(s.ContextKeyService),o("design:type",Object)],a.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],a.prototype,"init",null),a=n([(0,r.injectable)()],a),t.ViewContextKeyService=a},35448:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewViewsMainImpl=void 0;const r=i(70801),s=i(16138),a=i(9825),c=i(87361),l=i(79467);class d{constructor(e,t,i){this.webviewsMain=i,this.toDispose=new a.DisposableCollection(a.Disposable.create((()=>{}))),this.webviewViews=new Map,this.webviewViewProviders=new Map,this.proxy=e.getProxy(s.MAIN_RPC_CONTEXT.WEBVIEW_VIEWS_EXT),this.widgetManager=t.get(c.WidgetManager),this.pluginViewRegistry=t.get(l.PluginViewRegistry)}dispose(){this.toDispose.dispose()}async $registerWebviewViewProvider(e,t){if(this.webviewViewProviders.has(e))throw new Error(`View provider for ${e} already registered`);const i=await this.pluginViewRegistry.registerWebviewView(e,{resolve:async(i,n)=>{const o=i.webview.identifier.id;let r;if(this.webviewViews.set(o,i),this.webviewsMain.hookWebview(i.webview),i.webview.state)try{r=JSON.parse(i.webview.state),console.log(r)}catch(e){console.error("Could not load webview state",e,i.webview.state)}t&&(i.webview.options=t),i.onDidChangeVisibility((e=>{this.proxy.$onDidChangeWebviewViewVisibility(o,e)})),i.onDidDispose((()=>{this.proxy.$disposeWebviewView(o),this.webviewViews.delete(o)}));try{this.proxy.$resolveWebviewView(o,e,i.title,r,n)}catch(t){this.logger.error(`Error resolving webview view '${e}': ${t}`),i.webview.setHTML("failed to load plugin webview view")}}});this.webviewViewProviders.set(e,i)}getWebview(e){return this.widgetManager.tryGetWidget(e)}$unregisterWebviewViewProvider(e){const t=this.webviewViewProviders.get(e);if(!t)throw new Error(`No view provider for ${e} registered`);t.dispose(),this.webviewViewProviders.delete(e)}$setWebviewViewTitle(e,t){this.getWebviewView(e).title=t}$setWebviewViewDescription(e,t){this.getWebviewView(e).description=t}async $setBadge(e,t){const i=this.getWebviewView(e);i&&(i.badge=null==t?void 0:t.value,i.badgeTooltip=null==t?void 0:t.tooltip)}$show(e,t){this.getWebviewView(e).show(t)}getWebviewView(e){const t=this.webviewViews.get(e);if(!t)throw new Error(`No webview view registered for handle '${e}'`);return t}}n([(0,r.inject)(a.ILogger),o("design:type",Object)],d.prototype,"logger",void 0),t.WebviewViewsMainImpl=d},50661:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewContextKeys=void 0;const r=i(70801),s=i(949),a=i(87361),c=i(4196);let l=class{init(){this.activeWebviewPanelId=this.contextKeyService.createKey("activeWebviewPanelId",""),this.applicationShell.onDidChangeCurrentWidget(this.handleDidChangeCurrentWidget,this)}handleDidChangeCurrentWidget(e){e.newValue instanceof c.WebviewWidget?this.activeWebviewPanelId.set(e.newValue.viewType):this.activeWebviewPanelId.set("")}};n([(0,r.inject)(a.ApplicationShell),o("design:type",a.ApplicationShell)],l.prototype,"applicationShell",void 0),n([(0,r.inject)(s.ContextKeyService),o("design:type",Object)],l.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"init",null),l=n([(0,r.injectable)()],l),t.WebviewContextKeys=l},47225:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewEnvironment=void 0;const r=i(70801),s=i(20820),a=i(60516),c=i(18234),l=i(9745),d=i(48074);let u=class{constructor(){this.externalEndpointHost=new a.Deferred}init(){this.doInit()}async doInit(){this._hostPatternPromise=this.getHostPattern();try{const e=await this.hostPatternPromise,{host:t}=new s.Endpoint;this.externalEndpointHost.resolve(e.replace("{{hostname}}",t))}catch(e){this.externalEndpointHost.reject(e)}}get hostPatternPromise(){return this._hostPatternPromise}async externalEndpointUrl(){const e=await this.externalEndpointHost.promise;return new s.Endpoint({host:e,path:"/webview"}).getRestUrl()}async externalEndpoint(){return(await this.externalEndpointUrl()).toString(!0)}async resourceRoot(e){return"frontend"===e?(await this.externalEndpointUrl()).withPath("{{path}}").toString(!0):(await this.externalEndpointUrl()).resolve("theia-resource/{{scheme}}//{{authority}}/{{path}}").toString(!0)}async cspSource(){return(await this.externalEndpointUrl()).withPath("").withQuery("").withFragment("").toString(!0).replace("{{uuid}}","*")}async getHostPattern(){return d.environment.electron.is()?l.WebviewExternalEndpoint.defaultPattern:this.environments.getValue(l.WebviewExternalEndpoint.pattern).then((e=>(null==e?void 0:e.value)||l.WebviewExternalEndpoint.defaultPattern))}};n([(0,r.inject)(c.EnvVariablesServer),o("design:type",Object)],u.prototype,"environments",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.WebviewEnvironment=u},72806:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewFrontendSecurityWarnings=void 0;const r=i(9825),s=i(87361),a=i(50058),c=i(44989),l=i(51208),d=i(70801),u=i(9745),h=i(47225);let p=class{initialize(){this.checkHostPattern()}async checkHostPattern(){if(!1===a.FrontendApplicationConfigProvider.get().warnOnPotentiallyInsecureHostPattern)return;const e=await this.webviewEnvironment.hostPatternPromise;if(e!==u.WebviewExternalEndpoint.defaultPattern){const t=c.nls.localize("theia/webview/goToReadme","Go To README"),i=c.nls.localize("theia/webview/messageWarning","            The {0} endpoint's host pattern has been changed to `{1}`; changing the pattern can lead to security vulnerabilities.             See `{2}` for more information.","webview",e,"@theia/plugin-ext/README.md");this.messageService.warn(i,s.Dialog.OK,t).then((e=>{e===t&&this.windowService.openNewWindow("https://www.npmjs.com/package/@theia/plugin-ext",{external:!0})}))}}};n([(0,d.inject)(l.WindowService),o("design:type",Object)],p.prototype,"windowService",void 0),n([(0,d.inject)(r.MessageService),o("design:type",r.MessageService)],p.prototype,"messageService",void 0),n([(0,d.inject)(h.WebviewEnvironment),o("design:type",h.WebviewEnvironment)],p.prototype,"webviewEnvironment",void 0),p=n([(0,d.injectable)()],p),t.WebviewFrontendSecurityWarnings=p},85735:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindWebviewPreferences=t.createWebviewPreferences=t.WebviewPreferences=t.WebviewPreferenceContribution=t.WebviewConfigSchema=void 0;const n=i(50058),o=i(98516),r=i(44989),s=n.FrontendApplicationConfigProvider.get();function a(e,i=t.WebviewConfigSchema){return(0,o.createPreferenceProxy)(e,i)}t.WebviewConfigSchema={type:"object",properties:{"webview.trace":{type:"string",enum:["off","on","verbose"],description:r.nls.localize("theia/plugin-ext/webviewTrace","Controls communication tracing with webviews."),default:"off"}}},s.securityWarnings&&(t.WebviewConfigSchema.properties["webview.warnIfUnsecure"]={scope:"application",type:"boolean",description:r.nls.localize("theia/plugin-ext/webviewWarnIfUnsecure","Warns users that webviews are currently deployed unsecurely."),default:!0}),t.WebviewPreferenceContribution=Symbol("WebviewPreferenceContribution"),t.WebviewPreferences=Symbol("WebviewPreferences"),t.createWebviewPreferences=a,t.bindWebviewPreferences=function(e){e(t.WebviewPreferences).toDynamicValue((e=>a(e.container.get(o.PreferenceService),e.container.get(t.WebviewPreferenceContribution).schema))).inSingletonScope(),e(t.WebviewPreferenceContribution).toConstantValue({schema:t.WebviewConfigSchema}),e(o.PreferenceContribution).toService(t.WebviewPreferenceContribution)}},3267:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewResourceCache=void 0;const r=i(70801),s=i(60516);let a=class{constructor(){this.cache=new s.Deferred,this.resolveCache()}async resolveCache(){try{this.cache.resolve(await caches.open("webview:v1"))}catch(e){console.error("Failed to enable webview caching: ",e),this.cache.resolve(void 0)}}async match(e){const t=await this.cache.promise;if(!t)return;const i=await t.match(e);return i?{eTag:i.headers.get("ETag")||void 0,body:async()=>{const e=await i.arrayBuffer();return new Uint8Array(e)}}:void 0}async delete(e){const t=await this.cache.promise;return!!t&&t.delete(e)}async put(e,t){if(!t.eTag)return;const i=await this.cache.promise;if(!i)return;const n=await t.body();await i.put(e,new Response(n,{status:200,headers:{ETag:t.eTag}}))}};a=n([(0,r.injectable)(),o("design:paramtypes",[])],a),t.WebviewResourceCache=a},80703:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewThemeDataProvider=void 0;const r=i(70801),s=i(18894),a=i(10473),c=i(20311),l=i(53414),d=i(22227);let u=class{constructor(){this.onDidChangeThemeDataEmitter=new s.Emitter,this.onDidChangeThemeData=this.onDidChangeThemeDataEmitter.event,this.editorStyles=new Map([["editor.fontFamily","editor-font-family"],["editor.fontWeight","editor-font-weight"],["editor.fontSize","editor-font-size"]])}init(){this.colorContribution.onDidChange((()=>this.reset())),this.editorPreferences.onPreferenceChanged((e=>{this.editorStyles.has(e.preferenceName)&&this.reset()}))}reset(){this.themeData&&(this.themeData=void 0,this.onDidChangeThemeDataEmitter.fire(void 0))}getThemeData(){return this.themeData||(this.themeData=this.computeThemeData()),this.themeData}computeThemeData(){const e={},t=(t,i)=>{if(i){const n="number"==typeof i||"string"==typeof i?i:String(i);e[this.colors.toCssVariableName(t).substring(2)]=n,e[this.colors.toCssVariableName(t,"vscode").substring(2)]=n}};t("font-family",'-apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif'),t("font-weight","normal"),t("font-size","13px"),this.editorStyles.forEach(((e,i)=>t(e,this.editorPreferences[i])));for(const e of this.colors.getColors()){const i=this.colors.getCurrentColor(e);i&&t(e,i.toString())}const i=this.getActiveTheme();return{styles:e,activeThemeName:i.label,activeThemeType:this.getThemeType(i)}}getActiveTheme(){return this.themeService.getCurrentTheme()}getThemeType(e){switch(e.type){case"light":return"vscode-light";case"dark":return"vscode-dark";default:return"vscode-high-contrast"}}};n([(0,r.inject)(a.EditorPreferences),o("design:type",Object)],u.prototype,"editorPreferences",void 0),n([(0,r.inject)(l.ColorRegistry),o("design:type",l.ColorRegistry)],u.prototype,"colors",void 0),n([(0,r.inject)(d.ColorApplicationContribution),o("design:type",d.ColorApplicationContribution)],u.prototype,"colorContribution",void 0),n([(0,r.inject)(c.ThemeService),o("design:type",c.ThemeService)],u.prototype,"themeService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.WebviewThemeDataProvider=u},57310:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewWidgetFactory=void 0;const n=i(4196),o=i(47225);t.WebviewWidgetFactory=class{constructor(e){this.id=n.WebviewWidget.FACTORY_ID,this.container=e}async createWidget(e){let t=(await this.container.get(o.WebviewEnvironment).externalEndpoint()).replace("{{uuid}}",e.id);"/"===t[t.length-1]&&(t=t.slice(0,t.length-1));const i=this.container.createChild();return i.bind(n.WebviewWidgetIdentifier).toConstantValue(e),i.bind(n.WebviewWidgetExternalEndpoint).toConstantValue(t),i.get(n.WebviewWidget)}}},4196:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewWidget=t.WebviewWidgetExternalEndpoint=t.WebviewWidgetIdentifier=void 0;const s=i(76517),a=i(28563),c=i(70801),l=i(35022),d=i(51138),u=i(80882),h=i(60516),p=i(47225),g=i(30970),f=i(18894),m=i(50869),b=i(82503),v=i(40824),A=i(34291),y=i(80703),C=i(80672),w=i(12690),_=i(85735),S=i(3267),E=i(20820),k=i(31262),x=i(14304),D=i(36090),T=i(58710);let M=class{};M=o([(0,c.injectable)()],M),t.WebviewWidgetIdentifier=M,t.WebviewWidgetExternalEndpoint=Symbol("WebviewWidgetExternalEndpoint");let B=n=class extends l.BaseWidget{constructor(){super(...arguments),this.viewState={visible:!1,active:!1,position:0},this.html="",this._contentOptions={},this.options={},this.ready=new h.Deferred,this.onMessageEmitter=new f.Emitter,this.onMessage=this.onMessageEmitter.event,this.pendingMessages=[],this.toHide=new d.DisposableCollection,this.isExtractable=!0,this.secondaryWindow=void 0,this.onDidChangeBadgeEmitter=new f.Emitter,this.onDidChangeBadgeTooltipEmitter=new f.Emitter,this.toDisposeOnIcon=new d.DisposableCollection}get contentOptions(){return this._contentOptions}get state(){return this._state}init(){this.node.tabIndex=0,this.id=n.FACTORY_ID+":"+this.identifier.id,this.title.closable=!0,this.addClass(n.Styles.WEBVIEW),this.toDispose.push(this.onMessageEmitter),this.toDispose.push(this.onDidChangeBadgeEmitter),this.toDispose.push(this.onDidChangeBadgeTooltipEmitter),this.transparentOverlay=document.createElement("div"),this.transparentOverlay.classList.add("theia-transparent-overlay"),this.transparentOverlay.style.display="none",this.node.appendChild(this.transparentOverlay),this.toDispose.push(this.mouseTracker.onMousedown((()=>{this.element&&"none"!==this.element.style.display&&(this.transparentOverlay.style.display="block")}))),this.toDispose.push(this.mouseTracker.onMouseup((()=>{this.element&&"none"!==this.element.style.display&&(this.transparentOverlay.style.display="none")})))}get onDidChangeBadge(){return this.onDidChangeBadgeEmitter.event}get onDidChangeBadgeTooltip(){return this.onDidChangeBadgeTooltipEmitter.event}get badge(){return this._badge}set badge(e){this._badge=e,this.onDidChangeBadgeEmitter.fire()}get badgeTooltip(){return this._badgeTooltip}set badgeTooltip(e){this._badgeTooltip=e,this.onDidChangeBadgeTooltipEmitter.fire()}onBeforeAttach(e){super.onBeforeAttach(e),this.doShow(),this.toDisposeOnDetach.push(d.Disposable.create((()=>this.forceHide())))}onAfterAttach(e){super.onAfterAttach(e),this.addEventListener(this.node,"focus",(()=>{this.element&&this.doSend("focus")}))}onBeforeShow(e){super.onBeforeShow(e),this.doShow()}onAfterHide(e){super.onAfterHide(e),this.doHide()}doHide(){!0!==this.options.retainContextWhenHidden&&void 0===this.hideTimeout&&(this.hideTimeout=setTimeout((()=>this.forceHide()),50))}forceHide(){clearTimeout(this.hideTimeout),this.hideTimeout=void 0,this.toHide.dispose()}doShow(){if(clearTimeout(this.hideTimeout),this.hideTimeout=void 0,!this.toHide.disposed)return;this.toDispose.push(this.toHide);const e=document.createElement("iframe");e.className="webview",e.sandbox.add("allow-scripts","allow-forms","allow-same-origin","allow-downloads"),k.isFirefox||e.setAttribute("allow","clipboard-read; clipboard-write; usb; serial; hid;"),e.setAttribute("src",`${this.externalEndpoint}/index.html?id=${this.identifier.id}`),e.style.border="none",e.style.width="100%",e.style.height="100%",this.element=e,this.node.appendChild(this.element),this.toHide.push(d.Disposable.create((()=>{this.element&&(this.element.remove(),this.element=void 0)})));const t=this.ready,i=new h.Deferred;i.promise.then((()=>t.resolve())),this.ready=i,this.toHide.push(d.Disposable.create((()=>this.ready=new h.Deferred)));const n=this.on("webview-ready",(()=>{n.dispose(),i.resolve()}));for(this.toHide.push(n),this.toHide.push(this.on("onmessage",(e=>this.onMessageEmitter.fire(e)))),this.toHide.push(this.on("did-click-link",(e=>this.openLink(new g.default(e))))),this.toHide.push(this.on("do-update-state",(e=>{this._state=e}))),this.toHide.push(this.on("did-focus",(()=>this.node.dispatchEvent(new FocusEvent("focus"))))),this.toHide.push(this.on("did-blur",(()=>{}))),this.toHide.push(this.on("do-reload",(()=>this.reload()))),this.toHide.push(this.on("load-resource",(e=>this.loadResource(e.path)))),this.toHide.push(this.on("load-localhost",(e=>this.loadLocalhost(e.origin)))),this.toHide.push(this.on("did-keydown",(e=>{this.keybindings.dispatchKeyDown(e,this.element)}))),this.toHide.push(this.on("did-mousedown",(e=>{this.dispatchMouseEvent("mousedown",e)}))),this.toHide.push(this.on("did-mouseup",(e=>{this.dispatchMouseEvent("mouseup",e)}))),this.style(),this.toHide.push(this.themeDataProvider.onDidChangeThemeData((()=>this.style()))),this.doUpdateContent();this.pendingMessages.length;)this.sendMessage(this.pendingMessages.shift())}async loadLocalhost(e){const t=await this.getRedirect(e);return this.doSend("did-load-localhost",{origin:e,location:t})}dispatchMouseEvent(e,t){const i=this.node.getBoundingClientRect();document.dispatchEvent(new MouseEvent(e,{...t,clientX:i.x+t.clientX,clientY:i.y+t.clientY}))}async getRedirect(e){const t=new g.default(e),i=this.externalUriService.parseLocalhost(t);if(i){if(this._contentOptions.portMapping)for(const e of this._contentOptions.portMapping)if(e.webviewPort===i.port&&e.webviewPort!==e.extensionHostPort)return this.toRemoteUrl(t.withAuthority(`${i.address}:${e.extensionHostPort}`));return this.toRemoteUrl(t)}}async toRemoteUrl(e){const t=(await this.externalUriService.resolve(e)).toString();return"/"===t[t.length-1]?t.slice(0,t.length-1):t}setContentOptions(e){a.JSONExt.deepEqual(this.contentOptions,e)||(this._contentOptions=e,this.doUpdateContent())}setIconUrl(e){if(!(this.iconUrl&&e&&a.JSONExt.deepEqual(this.iconUrl,e)||this.iconUrl===e))if(this.toDisposeOnIcon.dispose(),this.toDispose.push(this.toDisposeOnIcon),this.iconUrl=e,e){const t="object"==typeof e?e.dark:e,i="object"==typeof e?e.light:e,n=`webview-${this.identifier.id}-file-icon`;this.toDisposeOnIcon.push(this.sharedStyle.insertRule(`.theia-webview-icon.${n}::before`,(e=>`background-image: url(${this.toEndpoint("light"===e.type?i:t)});`))),this.title.iconClass=`theia-webview-icon ${n}`}else this.title.iconClass=""}toEndpoint(e){return new E.Endpoint({path:e}).getRestUrl().toString()}setHTML(e){this.html=this.preprocessHtml(e),this.doUpdateContent()}preprocessHtml(e){return e.replace(/(["'])(?:vscode|theia)-resource:(\/\/([^\s\/'"]+?)(?=\/))?([^\s'"]+?)(["'])/gi,((e,t,i,n,o,r)=>n?`${t}${this.externalEndpoint}/theia-resource/${n}${o}${r}`:`${t}${this.externalEndpoint}/theia-resource/file${o}${r}`))}onActivateRequest(e){super.onActivateRequest(e),this.node.focus()}reload(){this.doUpdateContent()}style(){const{styles:e,activeThemeType:t,activeThemeName:i}=this.themeDataProvider.getThemeData();this.doSend("styles",{styles:e,activeThemeType:t,activeThemeName:i})}openLink(e){const t=this.toSupportedLink(e);t&&(0,m.open)(this.openerService,t)}toSupportedLink(e){if(n.standardSupportedLinkSchemes.has(e.scheme)){const t=e.toString();for(const e of[this.externalEndpoint+"/theia-resource",this.externalEndpoint+"/vscode-resource"])if(t.startsWith(e+"/"))return this.normalizeRequestUri(t.substring(e.length));return e}if(e.scheme===v.Schemes.command){if(Array.isArray(this.contentOptions.enableCommandUris)&&this.contentOptions.enableCommandUris.some((t=>t===e.path.toString())))return e;if(!0===this.contentOptions.enableCommandUris)return e}}async loadResource(e){const t=this.normalizeRequestUri(e),i=new E.Endpoint({path:t.path.toString()}).getRestUrl().toString();try{if(this.contentOptions.localResourceRoots)for(const n of this.contentOptions.localResourceRoots){if(!new g.default(n).path.isEqualOrParent(t.path))continue;let o=await this.resourceCache.match(i);try{const e=await this.fileService.readFileStream(t,{etag:null==o?void 0:o.eTag}),{buffer:n}=await T.BinaryBufferReadableStream.toBuffer(e.value);o={body:()=>n,eTag:e.etag},this.resourceCache.put(i,o)}catch(e){if(!(e instanceof D.FileOperationError&&2===e.fileOperationResult))throw e}if(o){const i=await o.body();return this.doSend("did-load-resource",{status:200,path:e,mime:s.getType(t.path.toString())||"application/octet-stream",data:i})}}}catch{}return this.resourceCache.delete(i),this.doSend("did-load-resource",{status:404,path:e})}normalizeRequestUri(e){const t=decodeURIComponent(e),i=new g.default(t.replace(/^\/([a-zA-Z0-9.\-+]+)\/(.+)$/,((e,t,i)=>t+":/"+i)));return"theia-resource"!==i.scheme&&"vscode-resource"!==i.scheme?i:i.authority?new g.default(i.authority+":"+i.path):i.withScheme("file")}sendMessage(e){this.element?this.doSend("message",e):this.pendingMessages.push(e)}doUpdateContent(){this.doSend("content",{contents:this.html,options:this.contentOptions,state:this.state})}storeState(){return{viewType:this.viewType,title:this.title.label,iconUrl:this.iconUrl,options:this.options,contentOptions:this.contentOptions,state:this.state}}restoreState(e){const{viewType:t,title:i,iconUrl:n,options:o,contentOptions:r,state:s}=e;this.viewType=t,this.title.label=i,this.setIconUrl(n),this.options=o,this._contentOptions=r,this._state=s}async doSend(e,t){if(this.element)try{await this.ready.promise,this.postMessage(e,t)}catch(e){console.error(e)}}postMessage(e,t){this.element&&(this.trace("out",e,t),this.secondaryWindow?this.secondaryWindow.postMessage({channel:e,args:t},"*"):this.element.contentWindow.postMessage({channel:e,args:t},"*"))}on(e,t){const i=i=>{i&&i.data&&i.data.target===this.identifier.id&&i.data.channel===e&&(this.trace("in",i.data.channel,i.data.data),t(i.data.data))};return window.addEventListener("message",i),d.Disposable.create((()=>window.removeEventListener("message",i)))}trace(e,t,i){const n=this.preferences["webview.trace"];if("off"===n)return;const o=this.outputManager.getChannel("webviews");o.append("\n"+this.identifier.id),o.append("out"===e?" => ":" <= "),o.append(t),"verbose"===n&&i&&o.append("\n"+JSON.stringify(i,void 0,2))}};B.standardSupportedLinkSchemes=new Set([v.Schemes.http,v.Schemes.https,v.Schemes.mailto,v.Schemes.vscode]),B.FACTORY_ID="plugin-webview",o([(0,c.inject)(M),r("design:type",M)],B.prototype,"identifier",void 0),o([(0,c.inject)(t.WebviewWidgetExternalEndpoint),r("design:type",String)],B.prototype,"externalEndpoint",void 0),o([(0,c.inject)(u.ApplicationShellMouseTracker),r("design:type",u.ApplicationShellMouseTracker)],B.prototype,"mouseTracker",void 0),o([(0,c.inject)(p.WebviewEnvironment),r("design:type",p.WebviewEnvironment)],B.prototype,"environment",void 0),o([(0,c.inject)(m.OpenerService),r("design:type",Object)],B.prototype,"openerService",void 0),o([(0,c.inject)(b.KeybindingRegistry),r("design:type",b.KeybindingRegistry)],B.prototype,"keybindings",void 0),o([(0,c.inject)(A.PluginSharedStyle),r("design:type",A.PluginSharedStyle)],B.prototype,"sharedStyle",void 0),o([(0,c.inject)(y.WebviewThemeDataProvider),r("design:type",y.WebviewThemeDataProvider)],B.prototype,"themeDataProvider",void 0),o([(0,c.inject)(C.ExternalUriService),r("design:type",C.ExternalUriService)],B.prototype,"externalUriService",void 0),o([(0,c.inject)(w.OutputChannelManager),r("design:type",w.OutputChannelManager)],B.prototype,"outputManager",void 0),o([(0,c.inject)(_.WebviewPreferences),r("design:type",Object)],B.prototype,"preferences",void 0),o([(0,c.inject)(x.FileService),r("design:type",x.FileService)],B.prototype,"fileService",void 0),o([(0,c.inject)(S.WebviewResourceCache),r("design:type",S.WebviewResourceCache)],B.prototype,"resourceCache",void 0),o([(0,c.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],B.prototype,"init",null),B=n=o([(0,c.injectable)()],B),t.WebviewWidget=B,function(e){let t;!function(e){e.WEBVIEW="theia-webview"}(t=e.Styles||(e.Styles={}))}(B=t.WebviewWidget||(t.WebviewWidget={})),t.WebviewWidget=B},84137:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewsMainImpl=void 0;const n=i(69972),o=i(10433),r=i(16138),s=i(67126),a=i(4196),c=i(51138),l=i(19290),d=i(9791),u=i(28563),h=i(81602),p=i(4434),g=i(92147);t.WebviewsMainImpl=class{constructor(e,t){this.toDispose=new c.DisposableCollection,this.updateViewStates=n((()=>{const e=this.widgetManager.getWidgets(a.WebviewWidget.FACTORY_ID),t=this.widgetManager.getWidgets(p.CustomEditorWidget.FACTORY_ID);for(const i of e.concat(t))i instanceof a.WebviewWidget&&this.updateViewState(i)}),100),this.proxy=e.getProxy(r.MAIN_RPC_CONTEXT.WEBVIEWS_EXT),this.shell=t.get(s.ApplicationShell),this.viewColumnService=t.get(l.ViewColumnService),this.widgetManager=t.get(d.WidgetManager),this.pluginService=t.get(h.HostedPluginSupport),this.toDispose.push(this.shell.onDidChangeActiveWidget((()=>this.updateViewStates()))),this.toDispose.push(this.shell.onDidChangeCurrentWidget((()=>this.updateViewStates()))),this.toDispose.push(this.viewColumnService.onViewColumnChanged((()=>this.updateViewStates())))}dispose(){this.toDispose.dispose()}async $createWebviewPanel(e,t,i,n,o){const r=await this.widgetManager.getOrCreateWidget(a.WebviewWidget.FACTORY_ID,{id:e});this.hookWebview(r),r.viewType=t,r.title.label=i;const{enableFindWidget:s,retainContextWhenHidden:c,enableScripts:l,enableForms:d,localResourceRoots:u,...h}=o;r.options={enableFindWidget:s,retainContextWhenHidden:c},r.setContentOptions({allowScripts:l,allowForms:d,localResourceRoots:u&&u.map((e=>e.toString())),...h}),this.addOrReattachWidget(r,n)}hookWebview(e){const t=e.identifier.id;this.toDispose.push(e.onDidChangeVisibility((()=>this.updateViewState(e)))),this.toDispose.push(e.onMessage((e=>this.proxy.$onMessage(t,e)))),e.disposed.connect((()=>{this.toDispose.disposed||this.proxy.$onDidDisposeWebviewPanel(t)}))}addOrReattachWidget(e,t){var i;const n=t.area?t.area:g.WebviewPanelTargetArea.Main,o={area:n};let r="open-to-right";if(t.viewColumn!==g.ViewColumn.Beside||n!==g.WebviewPanelTargetArea.Main&&n!==g.WebviewPanelTargetArea.Bottom){if("main"===o.area&&void 0!==t.viewColumn){this.viewColumnService.updateViewColumns();let e=this.viewColumnService.getViewColumnIds(t.viewColumn);if(e.length>0)r="tab-after";else if(t.viewColumn>=0){const i=this.viewColumnService.viewColumnsSize();i&&(t.viewColumn=i-1,e=this.viewColumnService.getViewColumnIds(t.viewColumn))}const i=this.shell.getWidgets(o.area).find((t=>!t.isHidden&&-1!==e.indexOf(t.id)));i&&Object.assign(o,{ref:i,mode:r})}}else{const e=this.shell.getTabBarFor(n),t=null===(i=null==e?void 0:e.currentTitle)||void 0===i?void 0:i.owner;t&&Object.assign(o,{ref:t,mode:r})}this.shell.addWidget(e,o),t.preserveFocus?this.shell.revealWidget(e.id):this.shell.activateWidget(e.id)}async $disposeWebview(e){const t=await this.tryGetWebview(e);t&&t.dispose()}async $reveal(e,t){const i=await this.getWebview(e);if(!i.isDisposed){if(void 0!==t.viewColumn&&t.viewColumn!==i.viewState.position||void 0!==t.area){this.viewColumnService.updateViewColumns();const e=t.viewColumn?this.viewColumnService.getViewColumnIds(t.viewColumn):[],n=this.shell.getAreaFor(i);if(-1===e.indexOf(i.id)||n!==t.area)return void this.addOrReattachWidget(i,t)}t.preserveFocus?this.shell.revealWidget(i.id):this.shell.activateWidget(i.id)}}async $setTitle(e,t){(await this.getWebview(e)).title.label=t}async $setBadge(e,t){const i=await this.getWebview(e);i&&(i.badge=null==t?void 0:t.value,i.badgeTooltip=null==t?void 0:t.tooltip)}async $setIconPath(e,t){(await this.getWebview(e)).setIconUrl(t)}async $setHtml(e,t){(await this.getWebview(e)).setHTML(t)}async $setOptions(e,t){const i=await this.getWebview(e),{enableScripts:n,enableForms:o,localResourceRoots:r,...s}=t;i.setContentOptions({allowScripts:n,allowForms:o,localResourceRoots:r&&r.map((e=>e.toString())),...s})}async $postMessage(e,t){return(await this.getWebview(e)).sendMessage(t),!0}$registerSerializer(e){this.pluginService.registerWebviewReviver(e,(e=>this.restoreWidget(e))),this.toDispose.push(c.Disposable.create((()=>this.$unregisterSerializer(e))))}$unregisterSerializer(e){this.pluginService.unregisterWebviewReviver(e)}async restoreWidget(e){this.hookWebview(e);const t=e.identifier.id,i=e.title.label;let n;if(e.state)try{n=JSON.parse(e.state)}catch{}const r=e.options,{allowScripts:s,allowForms:a,localResourceRoots:c,...l}=e.contentOptions;this.updateViewState(e),await this.proxy.$deserializeWebviewPanel(t,e.viewType,i,n,e.viewState,{enableScripts:s,enableForms:a,localResourceRoots:c&&c.map((e=>o.URI.parse(e))),...l,...r})}updateViewState(e,t){const i={active:this.shell.activeWidget===e,visible:!e.isHidden,position:t||0};"number"!=typeof t&&(this.viewColumnService.updateViewColumns(),i.position=this.viewColumnService.getViewColumn(e.id)||0),u.JSONExt.deepEqual(i,e.viewState)||(e.viewState=i,this.proxy.$onDidChangeWebviewPanelViewState(e.identifier.id,e.viewState))}async getWebview(e){const t=await this.tryGetWebview(e);if(!t)throw new Error(`Unknown Webview: ${e}`);return t}async tryGetWebview(e){return await this.widgetManager.getWidget(a.WebviewWidget.FACTORY_ID,{id:e})||await this.widgetManager.getWidget(p.CustomEditorWidget.FACTORY_ID,{id:e})}}},74180:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowStateMain=void 0;const n=i(10433),o=i(30970),r=i(16138),s=i(51138),a=i(50869),c=i(80672);t.WindowStateMain=class{constructor(e,t){this.toDispose=new s.DisposableCollection,this.proxy=e.getProxy(r.MAIN_RPC_CONTEXT.WINDOW_STATE_EXT),this.openerService=t.get(a.OpenerService),this.externalUriService=t.get(c.ExternalUriService);const i=()=>this.onFocusChanged(!0);window.addEventListener("focus",i),this.toDispose.push(s.Disposable.create((()=>window.removeEventListener("focus",i))));const n=()=>this.onFocusChanged(!1);window.addEventListener("blur",n),this.toDispose.push(s.Disposable.create((()=>window.removeEventListener("blur",n))))}dispose(){this.toDispose.dispose()}onFocusChanged(e){this.proxy.$onWindowStateChanged(e)}async $openUri(e){const t=n.URI.revive(e),i=new o.default(encodeURI(t.toString(!0)));try{return await(0,a.open)(this.openerService,i),!0}catch(e){return!1}}async $asExternalUri(e){const t=n.URI.revive(e),i=await this.externalUriService.resolve(new o.default(t));return n.URI.parse(i.toString())}}},53989:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TextContentResource=t.TextContentResourceResolver=t.WorkspaceMainImpl=void 0;const o=i(70801),r=i(16138),s=i(10433),a=i(47252),c=i(30970),l=i(73246),d=i(51138),u=i(9825),h=i(32147),p=i(21549),g=i(76875),f=i(98457),m=i(123);t.WorkspaceMainImpl=class{constructor(e,t){this.toDispose=new d.DisposableCollection,this.workspaceSearch=new Set,this.proxy=e.getProxy(r.MAIN_RPC_CONTEXT.WORKSPACE_EXT),this.storageProxy=e.getProxy(r.MAIN_RPC_CONTEXT.STORAGE_EXT),this.monacoQuickInputService=t.get(f.MonacoQuickInputService),this.fileSearchService=t.get(a.FileSearchService),this.searchInWorkspaceService=t.get(g.SearchInWorkspaceService),this.resourceResolver=t.get(b),this.pluginServer=t.get(h.PluginServer),this.requestService=t.get(m.RequestService),this.workspaceService=t.get(l.WorkspaceService),this.workspaceTrustService=t.get(l.WorkspaceTrustService),this.fsPreferences=t.get(p.FileSystemPreferences),this.processWorkspaceFoldersChanged(this.workspaceService.tryGetRoots().map((e=>e.resource.toString()))),this.toDispose.push(this.workspaceService.onWorkspaceChanged((e=>{this.processWorkspaceFoldersChanged(e.map((e=>e.resource.toString())))}))),this.toDispose.push(this.workspaceService.onWorkspaceLocationChanged((e=>{this.proxy.$onWorkspaceLocationChanged(e)}))),this.workspaceTrustService.getWorkspaceTrust().then((e=>this.proxy.$onWorkspaceTrustChanged(e)))}dispose(){this.toDispose.dispose()}$resolveProxy(e){return this.requestService.resolveProxy(e)}async processWorkspaceFoldersChanged(e){var t;if(!1===this.isAnyRootChanged(e))return;this.roots=e,this.proxy.$onWorkspaceFoldersChanged({roots:e});const i=await this.pluginServer.getAllStorageValues({workspace:null===(t=this.workspaceService.workspace)||void 0===t?void 0:t.resource.toString(),roots:this.workspaceService.tryGetRoots().map((e=>e.resource.toString()))});this.storageProxy.$updatePluginsWorkspaceData(i)}isAnyRootChanged(e){return!this.roots||this.roots.length!==e.length||this.roots.some(((t,i)=>t!==e[i]))}async $getWorkspace(){return this.workspaceService.workspace}$pickWorkspaceFolder(e){return new Promise(((e,t)=>{if(!this.roots||!this.roots.length)return void e(void 0);const i=window.document.activeElement;let n;const o=this.roots.map((e=>{const t=s.URI.parse(e),i=t.path.substring(t.path.lastIndexOf("/")+1);return{label:i,detail:t.path,execute:()=>{n={uri:t,name:i,index:0}}}}));this.monacoQuickInputService.showQuickPick(o,{onDidHide:()=>{i&&i.focus({preventScroll:!0}),e(n)}})}))}async $startFileSearch(e,t,i,n){const o={},r=t?[t]:this.roots;for(const e of r)o[e]={};const a={rootOptions:o,useGitIgnore:!1!==i};if(e&&(a.includePatterns=[e]),"string"==typeof i&&(a.excludePatterns=[i]),!1!==i)for(const e of r){const t=this.fsPreferences.get("files.exclude",void 0,e);if(t)for(const i in t)if(t[i]){const t=o[e],n=t.excludePatterns||[];n.push(i),t.excludePatterns=n}}return"number"==typeof n&&(a.limit=n),(await this.fileSearchService.find("",a)).map((e=>s.URI.parse(e)))}async $findTextInFiles(e,t,i,n=u.CancellationToken.None){const o=t.maxResults?t.maxResults:150,r=t.exclude?"string"==typeof t.exclude?t.exclude:t.exclude.pattern:void 0,s=t.include?"string"==typeof t.include?t.include:t.include.pattern:void 0;let a=!1;return new Promise((t=>{let c=0;const l=e.pattern;this.searchInWorkspaceService.searchWithCallback(l,this.roots,{onResult:(e,t)=>{if(!a){if(this.workspaceSearch.has(e)||(this.workspaceSearch.add(e),n.onCancellationRequested((()=>{this.searchInWorkspaceService.cancel(e),a=!0}))),n.isCancellationRequested)return this.searchInWorkspaceService.cancel(e),void(a=!0);if(t&&t.matches&&t.matches.length){for(;c+t.matches.length>o;)t.matches.splice(t.matches.length-1,1);this.proxy.$onTextSearchResult(i,!1,t),c+=t.matches.length,o<=c&&this.searchInWorkspaceService.cancel(e)}}},onDone:(e,n)=>{this.workspaceSearch.has(e)&&(this.searchInWorkspaceService.cancel(e),this.workspaceSearch.delete(e)),this.proxy.$onTextSearchResult(i,!0),t(o<=c?{limitHit:!0}:{limitHit:!1})}},{useRegExp:e.isRegExp,matchCase:e.isCaseSensitive,matchWholeWord:e.isWordMatch,exclude:r?[r]:void 0,include:s?[s]:void 0,maxResults:o})}))}async $registerTextDocumentContentProvider(e){this.resourceResolver.registerContentProvider(e,this.proxy),this.toDispose.push(d.Disposable.create((()=>this.resourceResolver.unregisterContentProvider(e))))}$unregisterTextDocumentContentProvider(e){this.resourceResolver.unregisterContentProvider(e)}$onTextDocumentContentChange(e,t){this.resourceResolver.onContentChange(e,t)}async $updateWorkspaceFolders(e,t,...i){await this.workspaceService.spliceRoots(e,t,...i.map((e=>new c.default(e))))}async $requestWorkspaceTrust(e){return this.workspaceTrustService.requestWorkspaceTrust()}};let b=class{constructor(){this.providers=new Map,this.resources=new Map}async resolve(e){const t=this.providers.get(e.scheme);if(t)return t.provideResource(e);throw new Error(`Unable to find Text Content Resource Provider for scheme '${e.scheme}'`)}registerContentProvider(e,t){if(this.providers.has(e))throw new Error(`Text Content Resource Provider for scheme '${e}' is already registered`);const i=this;this.providers.set(e,{provideResource:e=>{let n=i.resources.get(e.toString());return n||(n=new v(e,t,{dispose(){i.resources.delete(e.toString())}}),i.resources.set(e.toString(),n),n)}})}unregisterContentProvider(e){if(!this.providers.delete(e))throw new Error(`Text Content Resource Provider for scheme '${e}' has not been registered`)}onContentChange(e,t){const i=this.resources.get(e);i&&i.setContent(t)}};b=n([(0,o.injectable)()],b),t.TextContentResourceResolver=b;class v{constructor(e,t,i){this.uri=e,this.proxy=t,this.disposable=i,this.onDidChangeContentsEmitter=new u.Emitter,this.onDidChangeContents=this.onDidChangeContentsEmitter.event}async readContents(e){if(this.cache){const e=this.cache;return this.cache=void 0,e}{const e=await this.proxy.$provideTextDocumentContent(this.uri.toString());return null!=e?e:""}}dispose(){this.disposable.dispose()}setContent(e){this.cache=e,this.onDidChangeContentsEmitter.fire(void 0)}}t.TextContentResource=v},39119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginPathsService=t.pluginPathsServicePath=void 0,t.pluginPathsServicePath="/services/plugin-paths",t.PluginPathsService=Symbol("PluginPathsService")},9745:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.WebviewExternalEndpoint=void 0,(i=t.WebviewExternalEndpoint||(t.WebviewExternalEndpoint={})).pattern="THEIA_WEBVIEW_EXTERNAL_ENDPOINT",i.defaultPattern="{{uuid}}.webview.{{hostname}}"},77899:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(57310),r=i(41436),s=i(88007);t.default=new n.ContainerModule(((e,t,i,n)=>{n(o.WebviewWidgetFactory).toDynamicValue((e=>new s.ElectronWebviewWidgetFactory(e.container))).inSingletonScope(),n(r.CustomEditorWidgetFactory).toDynamicValue((e=>new s.ElectronCustomEditorWidgetFactory(e.container))).inSingletonScope()}))},88007:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronCustomEditorWidgetFactory=t.ElectronWebviewWidgetFactory=void 0;const n=i(57310),o=i(41436);i(16063);class r extends n.WebviewWidgetFactory{async createWidget(e){const t=await super.createWidget(e);return await this.attachElectronSecurityCookie(t.externalEndpoint),t}attachElectronSecurityCookie(e){return window.electronTheiaCore.attachSecurityToken(e)}}t.ElectronWebviewWidgetFactory=r;class s extends o.CustomEditorWidgetFactory{async createWidget(e){const t=await super.createWidget(e);return await this.attachElectronSecurityCookie(t.externalEndpoint),t}async attachElectronSecurityCookie(e){return window.electronTheiaCore.attachSecurityToken(e)}}t.ElectronCustomEditorWidgetFactory=s},46820:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(77899);t.default=n.default},10332:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(7173);t.default=n.default},79682:function(e,t,i){"use strict";var n,o,r=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__classPrivateFieldSet||function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,i):o?o.value=i:t.set(e,i),i},c=this&&this.__classPrivateFieldGet||function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownString=void 0;const l=i(93838),d=i(67037),u=i(92147);let h=o=class{constructor(e,t=!1){n.set(this,void 0),a(this,n,new l.MarkdownStringImpl(e,{supportThemeIcons:t}),"f")}static isMarkdownString(e){return e instanceof o||e&&e.appendCodeblock&&e.appendMarkdown&&e.appendText&&void 0!==e.value}get value(){return c(this,n,"f").value}set value(e){c(this,n,"f").value=e}get isTrusted(){return c(this,n,"f").isTrusted}set isTrusted(e){c(this,n,"f").isTrusted=e}get supportThemeIcons(){return c(this,n,"f").supportThemeIcons}set supportThemeIcons(e){c(this,n,"f").supportThemeIcons=e}get supportHtml(){return c(this,n,"f").supportHtml}set supportHtml(e){c(this,n,"f").supportHtml=e}get baseUri(){return u.URI.revive(c(this,n,"f").baseUri)}set baseUri(e){c(this,n,"f").baseUri=e}appendText(e){return c(this,n,"f").appendText(e),this}appendMarkdown(e){return c(this,n,"f").appendMarkdown(e),this}appendCodeblock(e,t){return c(this,n,"f").appendCodeblock(null!=t?t:"",e),this}toJSON(){const e={value:this.value};return void 0!==this.isTrusted&&(e.isTrusted=this.isTrusted),void 0!==this.supportThemeIcons&&(e.supportThemeIcons=this.supportThemeIcons),void 0!==this.supportHtml&&(e.supportHtml=this.supportHtml),void 0!==this.baseUri&&(e.baseUri=this.baseUri.toJSON()),e}};n=new WeakMap,h=o=r([d.es5ClassCompat,s("design:paramtypes",[String,Boolean])],h),t.MarkdownString=h},13438:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickPickExt=t.InputBoxExt=t.QuickInputExt=t.QuickOpenExtImpl=t.getIconPathOrClass=t.getDarkIconUri=t.getLightIconUri=t.getIconUris=t.isPromiseCanceledError=void 0;const n=i(16138),o=i(67841),r=i(18894),s=i(51138),a=i(92147),c=i(10433),l=i(67477),d=i(10373),u=i(32147),h=i(89908),p=i(56090),g="Canceled";function f(e){return e instanceof Error&&e.name===g&&e.message===g}function m(e){if(a.ThemeIcon.is(e))return{id:e.id};const t=v(e),i=b(e);return{dark:"string"==typeof t?c.URI.file(t):t,light:"string"==typeof i?c.URI.file(i):i}}function b(e){return"object"==typeof e&&"light"in e?e.light:e}function v(e){return"object"==typeof e&&"dark"in e?e.dark:e}t.isPromiseCanceledError=f,t.getIconUris=m,t.getLightIconUri=b,t.getDarkIconUri=v,t.getIconPathOrClass=function(e){const t=m(e.iconPath);let i,n;return"id"in t?n=p.ThemeIcon.asClassName(t):i=t,{iconPath:i,iconClass:n}},t.QuickOpenExtImpl=class{constructor(e){this._sessions=new Map,this._instances=0,this.proxy=e.getProxy(n.PLUGIN_RPC_CONTEXT.QUICK_OPEN_MAIN)}showQuickPick(e,t,i=o.CancellationToken.None){this.onDidSelectItem=void 0;const n=Promise.resolve(e),r=++this._instances,s=this.proxy.$show(r,{title:t&&t.title,canPickMany:t&&t.canPickMany,placeHolder:t&&t.placeHolder,matchOnDescription:t&&t.matchOnDescription,matchOnDetail:t&&t.matchOnDetail,ignoreFocusLost:t&&t.ignoreFocusOut},i),a={},c=s.then((()=>a));return Promise.race([c,n]).then((e=>{if(e!==a)return n.then((async e=>{const i=(0,d.convertToTransferQuickPickItems)(e);return t&&"function"==typeof t.onDidSelectItem&&(this.onDidSelectItem=i=>{t.onDidSelectItem(e[i])}),this.proxy.$setItems(r,i),s.then((i=>"number"==typeof i?t&&t.canPickMany?Array.of(e[i]):e[i]:Array.isArray(i)?i.map((t=>e[t])):void 0))}))})).then(void 0,(e=>{if(!f(e))return this.proxy.$setError(r,e),Promise.reject(e)}))}$onItemSelected(e){this.onDidSelectItem&&this.onDidSelectItem(e)}showInput(e,t=o.CancellationToken.None){return this.validateInputHandler=null==e?void 0:e.validateInput,e||(e={placeHolder:""}),this.proxy.$input(e,"function"==typeof this.validateInputHandler,t)}async showInputBox(e){return this.validateInputHandler="function"==typeof e.validateInput?e.validateInput:void 0,this.proxy.$showInputBox(e,"function"==typeof this.validateInputHandler)}async $validateInput(e){if(!this.validateInputHandler)return;const t=await this.validateInputHandler(e);if(!t||"string"==typeof t)return t;let i;switch(t.severity){case a.InputBoxValidationSeverity.Info:i=h.default.Info;break;case a.InputBoxValidationSeverity.Warning:i=h.default.Warning;break;case a.InputBoxValidationSeverity.Error:i=h.default.Error;break;default:i=t.message?h.default.Error:h.default.Ignore}return{content:t.message,severity:i}}createQuickPick(e){const t=new C(this,this.proxy,e,(()=>this._sessions.delete(t._id)));return this._sessions.set(t._id,t),t}createInputBox(e){const t=new y(this,this.proxy,e,(()=>this._sessions.delete(t._id)));return this._sessions.set(t._id,t),t}hide(){this.proxy.$hide()}async $acceptOnDidAccept(e){const t=this._sessions.get(e);t&&t._fireAccept()}async $acceptDidChangeValue(e,t){const i=this._sessions.get(e);i&&i._fireChangedValue(t)}async $acceptOnDidHide(e){const t=this._sessions.get(e);t&&t._fireHide()}async $acceptOnDidTriggerButton(e,t){const i=this._sessions.get(e);if(i)if(-1===t.index)i._fireButtonTrigger(a.QuickInputButtons.Back);else if(i&&(i instanceof y||i instanceof C)){const e=i.buttons[t.index];i._fireButtonTrigger(e)}}$onDidChangeActive(e,t){const i=this._sessions.get(e);i instanceof C&&i._fireDidChangeActive(t)}$onDidChangeSelection(e,t){const i=this._sessions.get(e);i instanceof C&&i._fireDidChangeSelection(t)}$onDidTriggerItemButton(e,t,i){const n=this._sessions.get(e);n instanceof C&&n._fireDidTriggerItemButton(t,i)}};class A{constructor(e,t,i,n){this.quickOpen=e,this.quickOpenMain=t,this.plugin=i,this._onDidDispose=n,this._id=A._nextId++,this._buttons=[],this._handlesToButtons=new Map,this.expectingHide=!1,this._disposed=!1,this._pendingUpdate={id:this._id},this.title=void 0,this.step=void 0,this.totalSteps=void 0,this.enabled=!0,this.busy=!1,this.ignoreFocusOut=!1,this.value="",this.visible=!1,this.disposableCollection=new s.DisposableCollection,this.disposableCollection.push(this.onDidAcceptEmitter=new r.Emitter),this.disposableCollection.push(this._onDidChangeValueEmitter=new r.Emitter),this.disposableCollection.push(this.onDidHideEmitter=new r.Emitter),this.disposableCollection.push(this.onDidTriggerButtonEmitter=new r.Emitter)}get title(){return this._title}set title(e){this._title=e,this.update({title:e})}get step(){return this._step}set step(e){this._step=e,this.update({step:e})}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update({totalSteps:e})}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update({enabled:e})}get busy(){return this._busy}set busy(e){this._busy=e,this.update({busy:e})}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){this._ignoreFocusOut=e,this.update({ignoreFocusOut:e})}get value(){return this._value}set value(e){this._value=e,this.update({value:e})}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update({placeholder:e})}get buttons(){return this._buttons}set buttons(e){this._buttons=e.slice(),this._handlesToButtons.clear(),e.forEach(((e,t)=>{const i=e===a.QuickInputButtons.Back?-1:t;this._handlesToButtons.set(i,e)})),this.update({buttons:e.map(((e,t)=>({iconPath:m(e.iconPath),iconClass:a.ThemeIcon.is(e.iconPath)?p.ThemeIcon.asClassName(e.iconPath):void 0,tooltip:e.tooltip,handle:e===a.QuickInputButtons.Back?-1:t})))})}show(){this.visible=!0,this.expectingHide=!0,this.update({visible:!0})}dispose(){this._disposed||(this._disposed=!0,this._fireHide(),this.disposableCollection.dispose(),this._onDidDispose(),this.quickOpenMain.$dispose(this._id))}update(e){if(!this._disposed){for(const t of Object.keys(e)){const i=e[t];this._pendingUpdate[t]=void 0===i?null:i}"visible"in this._pendingUpdate?(this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=void 0),this.dispatchUpdate()):this.visible&&!this._updateTimeout&&(this._updateTimeout=setTimeout((()=>{this._updateTimeout=void 0,this.dispatchUpdate()}),0))}}dispatchUpdate(){this.quickOpenMain.$createOrUpdate(this._pendingUpdate),this._pendingUpdate={id:this._id}}hide(){this.quickOpenMain.$hide(),this.dispose()}convertURL(e){const t=e=>{if("string"!=typeof(e=e instanceof c.URI&&"file"===e.scheme?e.fsPath:e))return e.toString(!0);const{packagePath:t}=this.plugin.rawModel,i=l.isAbsolute(e)?e:l.join(t,e),n=l.normalize(i),o=l.relative(t,n);return u.PluginPackage.toPluginUrl(this.plugin.rawModel,o)};if(a.ThemeIcon.is(e))return e;if("string"==typeof e||e instanceof c.URI)return c.URI.parse(t(e));{const{light:i,dark:n}=e;return{light:t(i),dark:t(n)}}}_fireAccept(){this.onDidAcceptEmitter.fire(void 0)}_fireChangedValue(e){this._value=e,this._onDidChangeValueEmitter.fire(e)}_fireHide(){this.expectingHide&&(this.expectingHide=!1,this.onDidHideEmitter.fire(void 0))}_fireButtonTrigger(e){this.onDidTriggerButtonEmitter.fire(e)}get onDidHide(){return this.onDidHideEmitter.event}get onDidAccept(){return this.onDidAcceptEmitter.event}get onDidChangeValue(){return this._onDidChangeValueEmitter.event}get onDidTriggerButton(){return this.onDidTriggerButtonEmitter.event}}t.QuickInputExt=A,A._nextId=1;class y extends A{constructor(e,t,i,n){super(e,t,i,n),this.quickOpen=e,this.quickOpenMain=t,this.plugin=i,this.buttons=[],this.password=!1,this.value=""}get password(){return this._password}set password(e){this._password=e,this.update({password:e})}get prompt(){return this._prompt}set prompt(e){this._prompt=e,this.update({prompt:e})}get valueSelection(){return this._valueSelection}set valueSelection(e){this._valueSelection=e,this.update({valueSelection:e})}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage!==e&&(this._validationMessage=e,this.update({validationMessage:e}))}}t.InputBoxExt=y;class C extends A{constructor(e,t,i,n){super(e,t,i,n),this.quickOpen=e,this.quickOpenMain=t,this.plugin=i,this._items=[],this._handlesToItems=new Map,this._itemsToHandles=new Map,this._canSelectMany=!1,this._matchOnDescription=!0,this._matchOnDetail=!0,this._sortByLabel=!0,this._keepScrollPosition=!1,this._activeItems=[],this._selectedItems=[],this._onDidChangeActiveEmitter=new r.Emitter,this._onDidChangeSelectionEmitter=new r.Emitter,this._onDidTriggerItemButtonEmitter=new r.Emitter,this.onDidChangeActive=this._onDidChangeActiveEmitter.event,this.onDidChangeSelection=this._onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this._onDidTriggerItemButtonEmitter.event,this.buttons=[],this.disposableCollection.push(this._onDidChangeActiveEmitter),this.disposableCollection.push(this._onDidChangeSelectionEmitter),this.disposableCollection.push(this._onDidTriggerItemButtonEmitter),this.update({type:"quickPick"})}get items(){return this._items}set items(e){var t;this._items=e.slice(),this._handlesToItems.clear(),this._itemsToHandles.clear(),e.forEach(((e,t)=>{this._handlesToItems.set(t,e),this._itemsToHandles.set(e,t)}));const i=[];for(let n=0;n<e.length;n++){const o=e[n];o.kind===a.QuickPickItemKind.Separator?i.push({type:"separator",label:o.label,handle:n}):i.push({kind:o.kind,label:o.label,description:o.description,handle:n,detail:o.detail,picked:o.picked,alwaysShow:o.alwaysShow,buttons:null===(t=o.buttons)||void 0===t?void 0:t.map(((e,t)=>({iconPath:m(e.iconPath),iconClass:a.ThemeIcon.is(e.iconPath)?p.ThemeIcon.asClassName(e.iconPath):void 0,tooltip:e.tooltip,handle:e===a.QuickInputButtons.Back?-1:t})))})}this.update({items:i})}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update({canSelectMany:e})}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update({matchOnDescription:e})}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update({matchOnDetail:e})}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update({sortByLabel:e})}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(e){this._keepScrollPosition=e,this.update({keepScrollPosition:e})}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e.filter((e=>this._itemsToHandles.has(e))),this.update({activeItems:this._activeItems.map((e=>this._itemsToHandles.get(e)))})}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e.filter((e=>this._itemsToHandles.has(e))),this.update({selectedItems:this._selectedItems.map((e=>this._itemsToHandles.get(e)))})}_fireDidChangeActive(e){const t=e.map((e=>this._handlesToItems.get(e))).filter((e=>!!e));this._activeItems=t,this._onDidChangeActiveEmitter.fire(t)}_fireDidChangeSelection(e){const t=e.map((e=>this._handlesToItems.get(e))).filter((e=>!!e));this._selectedItems=t,this._onDidChangeSelectionEmitter.fire(t)}_fireDidTriggerItemButton(e,t){const i=this._handlesToItems.get(e);if(!i||!i.buttons||!i.buttons.length)return;const n=i.buttons[t];n&&this._onDidTriggerItemButtonEmitter.fire({button:n,item:i})}}t.QuickPickExt=C},59291:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PseudoTerminal=t.TerminalExtImpl=t.EnvironmentVariableCollection=t.TerminalServiceExtImpl=t.getIconClass=t.getIconUris=void 0;const n=i(28563),o=i(16138),r=i(18894),s=i(60516),a=i(92147),c=i(56090);function l(e){if(a.ThemeIcon.is(e))return{id:e.id}}t.getIconUris=l,t.getIconClass=function(e){const t=l(e.iconPath);if(t)return c.ThemeIcon.asClassName(t)};class d{constructor(e){this._terminals=new Map,this._pseudoTerminals=new Map,this.terminalLinkProviders=new Map,this.terminalProfileProviders=new Map,this.onDidCloseTerminalEmitter=new r.Emitter,this.onDidCloseTerminal=this.onDidCloseTerminalEmitter.event,this.onDidOpenTerminalEmitter=new r.Emitter,this.onDidOpenTerminal=this.onDidOpenTerminalEmitter.event,this.onDidChangeActiveTerminalEmitter=new r.Emitter,this.onDidChangeActiveTerminal=this.onDidChangeActiveTerminalEmitter.event,this.onDidChangeTerminalStateEmitter=new r.Emitter,this.onDidChangeTerminalState=this.onDidChangeTerminalStateEmitter.event,this.environmentVariableCollections=new Map,this.proxy=e.getProxy(o.PLUGIN_RPC_CONTEXT.TERMINAL_MAIN)}get terminals(){return[...this._terminals.values()]}createTerminal(e,t,i){const o=`plugin-terminal-${n.UUID.uuid4()}`;let r,s,a;if("object"==typeof e?"pty"in e?(s=e.pty,r={name:e.name},this._pseudoTerminals.set(o,new p(o,this.proxy,s))):r=e:r={name:e,shellPath:t,shellArgs:i},r.location&&"object"==typeof r.location&&"parentTerminal"in r.location){const e=r.location.parentTerminal;if(e instanceof h)for(const[t,i]of this._terminals)if(i===e){a=t;break}}this.proxy.$createTerminal(o,r,a,!!s);let c=r;return"object"==typeof e&&"pty"in e&&(c=e),this.obtainTerminal(o,r.name||"Terminal",c)}attachPtyToTerminal(e,t){this._pseudoTerminals.set(e.toString(),new p(e,this.proxy,t,!0))}obtainTerminal(e,t,i){let n=this._terminals.get(e);return n||(n=new h(this.proxy,null!=i?i:{}),this._terminals.set(e,n)),n.name=t,n}$terminalOnInput(e,t){const i=this._pseudoTerminals.get(e);i&&i.emitOnInput(t)}$terminalStateChanged(e){const t=this._terminals.get(e);t&&(t.state.isInteractedWith||(t.state={isInteractedWith:!0},this.onDidChangeTerminalStateEmitter.fire(t)))}$terminalSizeChanged(e,t,i){const n=this._pseudoTerminals.get(e);n&&n.emitOnResize(t,i)}$terminalCreated(e,t){const i=this.obtainTerminal(e,t);i.id.resolve(e),this.onDidOpenTerminalEmitter.fire(i)}$terminalNameChanged(e,t){const i=this._terminals.get(e);i&&(i.name=t)}$terminalOpened(e,t,i,n,o){const r=this._terminals.get(e);r&&(r.deferredProcessId.resolve(t),r.deferredProcessId=new s.Deferred,r.deferredProcessId.resolve(t));const a=i.toString();if(this._pseudoTerminals.has(a)){const t=this._pseudoTerminals.get(a);t&&this._pseudoTerminals.set(e,t),this._pseudoTerminals.delete(a)}const c=this._pseudoTerminals.get(e);c&&c.emitOnOpen(n,o)}$terminalClosed(e,t){const i=this._terminals.get(e);i&&(i.exitStatus=null!=t?t:{code:void 0,reason:a.TerminalExitReason.Unknown},this.onDidCloseTerminalEmitter.fire(i),this._terminals.delete(e));const n=this._pseudoTerminals.get(e);n&&(n.emitOnClose(),this._pseudoTerminals.delete(e))}get activeTerminal(){return this.activeTerminalId&&this._terminals.get(this.activeTerminalId)||void 0}$currentTerminalChanged(e){this.activeTerminalId=e,this.onDidChangeActiveTerminalEmitter.fire(this.activeTerminal)}registerTerminalLinkProvider(e){const t=(d.nextProviderId++).toString();return this.terminalLinkProviders.set(t,e),this.proxy.$registerTerminalLinkProvider(t),a.Disposable.create((()=>{this.proxy.$unregisterTerminalLinkProvider(t),this.terminalLinkProviders.delete(t)}))}registerTerminalProfileProvider(e,t){return this.terminalProfileProviders.set(e,t),a.Disposable.create((()=>{this.terminalProfileProviders.delete(e)}))}registerTerminalQuickFixProvider(e,t){return a.Disposable.NULL}isExtensionTerminalOptions(e){return"pty"in e}async $startProfile(e,t){const i=this.terminalProfileProviders.get(e);if(!i)throw new Error(`No terminal profile provider with id '${e}'`);const o=await i.provideTerminalProfile(t);if(!o)throw new Error(`Profile with id ${e} could not be created`);const r=`plugin-terminal-${n.UUID.uuid4()}`,s=o.options;return this.isExtensionTerminalOptions(s)?(this._pseudoTerminals.set(r,new p(r,this.proxy,s.pty)),this.proxy.$createTerminal(r,{name:s.name},void 0,!0)):this.proxy.$createTerminal(r,o.options)}async $provideTerminalLinks(e,t,i){const n=[],o=this._terminals.get(t);if(o)for(const[t,r]of this.terminalLinkProviders){const s=await r.provideTerminalLinks({line:e,terminal:o},i);s&&n.push(...s.map((e=>({...e,providerId:t}))))}return n}async $handleTerminalLink(e){const t=this.terminalLinkProviders.get(e.providerId);if(!t)throw Error("Terminal link provider not found");await t.handleTerminalLink(e)}getEnvironmentVariableCollection(e){let t=this.environmentVariableCollections.get(e);return t||(t=new u,this.setEnvironmentVariableCollection(e,t)),t}syncEnvironmentVariableCollection(e,t){const i=[...t.map.entries()];this.proxy.$setEnvironmentVariableCollection(e,t.persistent,0===i.length?void 0:i)}setEnvironmentVariableCollection(e,t){this.environmentVariableCollections.set(e,t),t.onDidChangeCollection((()=>{this.syncEnvironmentVariableCollection(e,t)}))}$initEnvironmentVariableCollections(e){e.forEach((e=>{const t=e[0],i=new u(e[1]);this.setEnvironmentVariableCollection(t,i)}))}}t.TerminalServiceExtImpl=d,d.nextProviderId=0;class u{constructor(e){this.map=new Map,this._persistent=!0,this.onDidChangeCollectionEmitter=new r.Emitter,this.onDidChangeCollection=this.onDidChangeCollectionEmitter.event,this.map=new Map(e)}get persistent(){return this._persistent}set persistent(e){this._persistent=e,this.onDidChangeCollectionEmitter.fire()}get size(){return this.map.size}replace(e,t){this._setIfDiffers(e,{value:t,type:a.EnvironmentVariableMutatorType.Replace})}append(e,t){this._setIfDiffers(e,{value:t,type:a.EnvironmentVariableMutatorType.Append})}prepend(e,t){this._setIfDiffers(e,{value:t,type:a.EnvironmentVariableMutatorType.Prepend})}_setIfDiffers(e,t){const i=this.map.get(e);i&&i.value===t.value&&i.type===t.type||(this.map.set(e,t),this.onDidChangeCollectionEmitter.fire())}get(e){return this.map.get(e)}forEach(e,t){this.map.forEach(((i,n)=>e.call(t,n,i,this)))}delete(e){this.map.delete(e),this.onDidChangeCollectionEmitter.fire()}clear(){this.map.clear(),this.onDidChangeCollectionEmitter.fire()}}t.EnvironmentVariableCollection=u;class h{constructor(e,t){this.proxy=e,this.options=t,this.id=new s.Deferred,this.deferredProcessId=new s.Deferred,this.state={isInteractedWith:!1},this.creationOptions=this.options}get processId(){return this.deferredProcessId.promise}sendText(e,t=!0){this.id.promise.then((i=>this.proxy.$sendText(i,e,t)))}show(e){this.id.promise.then((t=>this.proxy.$show(t,e)))}hide(){this.id.promise.then((e=>this.proxy.$hide(e)))}dispose(){this.id.promise.then((e=>this.proxy.$dispose(e)))}}t.TerminalExtImpl=h;class p{constructor(e,t,i,n){this.proxy=t,this.pseudoTerminal=i,i.onDidWrite((t=>{"string"==typeof e?this.proxy.$write(e,t):this.proxy.$writeByTerminalId(e,t)})),i.onDidClose&&i.onDidClose(((t=void 0)=>{"string"==typeof e?this.proxy.$dispose(e):this.proxy.$disposeByTerminalId(e,n)})),i.onDidOverrideDimensions&&i.onDidOverrideDimensions((t=>{t&&("string"==typeof e?this.proxy.$resize(e,t.columns,t.rows):this.proxy.$resizeByTerminalId(e,t.columns,t.rows))})),i.onDidChangeName&&i.onDidChangeName((t=>{"string"==typeof e?this.proxy.$setName(e,t):this.proxy.$setNameByTerminalId(e,t)}))}emitOnClose(){this.pseudoTerminal.close()}emitOnInput(e){this.pseudoTerminal.handleInput&&this.pseudoTerminal.handleInput(e)}emitOnOpen(e,t){this.pseudoTerminal.open({rows:t,columns:e})}emitOnResize(e,t){this.pseudoTerminal.setDimensions&&this.pseudoTerminal.setDimensions({columns:e,rows:t})}}t.PseudoTerminal=p},10373:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCallHierarchyItem=t.fromHierarchyItem=t.toLocation=t.isModelCallHierarchyOutgoingCall=t.isModelCallHierarchyIncomingCall=t.isModelCallHierarchyItem=t.isUriComponents=t.isModelRange=t.isModelLocation=t.toSymbolTag=t.fromSymbolTag=t.toDocumentSymbol=t.fromDocumentSymbol=t.toCodeActionTriggerKind=t.SymbolKind=t.fromWorkspaceEdit=t.SignatureHelp=t.SignatureInformation=t.ParameterInformation=t.fromDocumentHighlight=t.fromDocumentHighlightKind=t.DocumentLink=t.fromDefinitionLink=t.fromTextDocumentShowOptions=t.fromLocation=t.toInlineValueContext=t.fromInlineValue=t.fromEvaluatableExpression=t.fromHover=t.convertCode=t.convertDiagnosticToMarkerData=t.fromTextEdit=t.toCompletionItemKind=t.fromCompletionItemKind=t.fromGlobPattern=t.fromDocumentSelector=t.toMarkdown=t.fromMarkdown=t.fromManyMarkdown=t.fromRangeOrRangeWithMessage=t.isDecorationOptionsArr=t.toPosition=t.fromPosition=t.fromRange=t.toRange=t.fromSelection=t.toSelection=t.toWebviewPanelShowOptions=t.fromViewColumn=t.toViewColumn=void 0,t.DataTransfer=t.DataTransferItem=t.InlayHintKind=t.pluginToPluginInfo=t.pathOrURIToURI=t.ViewColumn=t.ThemableDecorationAttachmentRenderOptions=t.ThemableDecorationRenderOptions=t.DecorationRangeBehavior=t.DecorationRenderOptions=t.convertToTransferQuickPickItems=t.fromColorPresentation=t.toColor=t.fromColor=t.fromFoldingRangeKind=t.fromFoldingRange=t.fromSelectionRange=t.toSymbolInformation=t.fromSymbolInformation=t.getShellExecutionOptions=t.getShellArgs=t.getCustomExecution=t.getShellExecution=t.getProcessExecution=t.fromCustomExecution=t.fromShellExecution=t.fromProcessExecution=t.toTask=t.fromTask=t.toWorkspaceFolder=t.toTypeHierarchyItem=t.fromTypeHierarchyItem=t.isModelTypeHierarchyItem=t.toCallHierarchyOutgoingCall=t.toCallHierarchyIncomingCall=t.toCallHierarchyItem=void 0;const n=i(75437),o=i(92147),r=i(16138),s=i(16138),a=i(13869),c=i(79682),l=i(92147),d=i(47584),u=i(93838),h=i(9825);function p(e){return"number"==typeof e&&e>=l.ViewColumn.One?e-1:e===l.ViewColumn.Beside?-2:-1}function g(e){const{startLineNumber:t,startColumn:i,endLineNumber:n,endColumn:o}=e;return new l.Range(t-1,i-1,n-1,o-1)}function f(e){if(!e)return;const{start:t,end:i}=e;return{startLineNumber:t.line+1,startColumn:t.character+1,endLineNumber:i.line+1,endColumn:i.character+1}}function m(e){return 0===e.length||(t=e[0],!(!(0,h.isObject)(t)||void 0===t.range));var t}function b(e){return e.map(v)}function v(e){if(t=e,(0,h.isObject)(t)&&"string"==typeof t.language&&"string"==typeof t.value){const{language:t,value:i}=e;return{value:"```"+t+"\n"+i+"\n```\n"}}return e instanceof c.MarkdownString?e.toJSON():u.MarkdownString.is(e)?e:"string"==typeof e?{value:e}:{value:""};var t}function A(e){const t=new c.MarkdownString(e.value,e.supportThemeIcons);return t.isTrusted=e.isTrusted,t.supportHtml=e.supportHtml,t.baseUri=e.baseUri&&o.URI.revive(t.baseUri),t}function y(e){return"string"==typeof e?e:function(e){const t=e;return t&&"string"==typeof t.baseUri&&"string"==typeof t.pattern}(e)?new l.RelativePattern(e.baseUri,e.pattern):e}function C(e){return{text:e.newText,range:f(e.range)}}function w(e){return{text:e.snippet.value,range:f(e.range),insertAsSnippet:!0}}function _(e){return"number"==typeof e?String(e):"string"==typeof e||void 0===e?e:String(e.value)}function S(e){switch(e){case l.DiagnosticSeverity.Error:return l.MarkerSeverity.Error;case l.DiagnosticSeverity.Warning:return l.MarkerSeverity.Warning;case l.DiagnosticSeverity.Information:return l.MarkerSeverity.Info;case l.DiagnosticSeverity.Hint:return l.MarkerSeverity.Hint}}function E(e){if(!e)return;const t=[];for(const i of e)t.push({resource:i.location.uri.toString(),message:i.message,startLineNumber:i.location.range.start.line+1,startColumn:i.location.range.start.character+1,endLineNumber:i.location.range.end.line+1,endColumn:i.location.range.end.character+1});return t}function k(e){if(!e)return;const t=[];for(const i of e)switch(i){case l.DiagnosticTag.Unnecessary:t.push(l.MarkerTag.Unnecessary);break;case l.DiagnosticTag.Deprecated:t.push(l.MarkerTag.Deprecated)}return t}var x,D,T,M,B,I,L,P,O,R,N;function F(e){switch(e){case l.DocumentHighlightKind.Text:return a.DocumentHighlightKind.Text;case l.DocumentHighlightKind.Read:return a.DocumentHighlightKind.Read;case l.DocumentHighlightKind.Write:return a.DocumentHighlightKind.Write}return a.DocumentHighlightKind.Text}function j(e){if(e===l.SymbolTag.Deprecated)return a.SymbolTag.Deprecated}function W(e){if(e===a.SymbolTag.Deprecated)return l.SymbolTag.Deprecated}function z(e){return(0,h.isObject)(e)&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}function U(e){return(0,h.isObject)(e)&&"string"==typeof e.scheme&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.fragment}function H(e){return(0,h.isObject)(e)&&z(e.range)&&z(e.selectionRange)&&U(e.uri)&&!!e.name}function V(e){return{kind:T.fromSymbolKind(e.kind),name:e.name,detail:e.detail,uri:e.uri,range:f(e.range),selectionRange:f(e.selectionRange),tags:e.tags,_itemId:e._itemId,_sessionId:e._sessionId}}function K(e){const t=new l.CallHierarchyItem(T.toSymbolKind(e.kind),e.name,e.detail?e.detail:"",o.URI.revive(e.uri),g(e.range),g(e.selectionRange));return t.tags=e.tags,t._itemId=e._itemId,t._sessionId=e._sessionId,t}function G(e,t){t.taskType="process",t.command=e.process,t.args=e.args;const i=e.options;return i&&(t.options=i),t}function $(e,t){t.taskType="shell";const i=e.options;i&&(t.options=J(i));const n=e.commandLine;if(n)return t.command=n,t;if(e.command)return t.command="string"==typeof(o=e.command)?o:o.value,t.args=Z(e.args),t;throw new Error("Command is undefined");var o}function q(e,t){t.taskType="customExecution";const i=e.callback;if(i)return t.callback=i,t;throw new Error("Converting CustomExecution callback is not implemented")}function Y(e){return new l.ProcessExecution(e.command,e.args||[],e.options||{})}function Q(e){return e.command&&Array.isArray(e.args)&&0!==e.args.length?new l.ShellExecution(e.command,e.args,e.options||{}):new l.ShellExecution(e.command||e.commandLine,e.options||{})}function X(e){return new l.CustomExecution(e.callback)}function Z(e){if(!e||0===e.length)return[];if("string"==typeof e[0])return e;const t=[];return e.forEach((e=>{t.push(e.value)})),t}function J(e){const t={},i=e.env;i&&(t.env=i);const n=e.executable;n&&(t.executable=n);const o=e.shellQuoting;o&&(t.shellQuoting=o);const r=e.shellArgs;r&&(t.shellArgs=r);const s=e.cwd;return s&&Object.assign(t,{cwd:s}),t}function ee(e){if(e)switch(e){case l.FoldingRangeKind.Comment:return a.FoldingRangeKind.Comment;case l.FoldingRangeKind.Imports:return a.FoldingRangeKind.Imports;case l.FoldingRangeKind.Region:return a.FoldingRangeKind.Region}}function te(e){return void 0===e?e:"string"==typeof e?o.URI.file(e):e}t.toViewColumn=function(e){if("number"==typeof e)return e===s.EditorPosition.ONE?l.ViewColumn.One:e===s.EditorPosition.TWO?l.ViewColumn.Two:e===s.EditorPosition.THREE?l.ViewColumn.Three:e===s.EditorPosition.FOUR?l.ViewColumn.Four:e===s.EditorPosition.FIVE?l.ViewColumn.Five:e===s.EditorPosition.SIX?l.ViewColumn.Six:e===s.EditorPosition.SEVEN?l.ViewColumn.Seven:e===s.EditorPosition.EIGHT?l.ViewColumn.Eight:e===s.EditorPosition.NINE?l.ViewColumn.Nine:void 0},t.fromViewColumn=p,t.toWebviewPanelShowOptions=function(e){if("object"==typeof e){const t=e;return{area:t.area?t.area:l.WebviewPanelTargetArea.Main,viewColumn:t.viewColumn?p(t.viewColumn):void 0,preserveFocus:!!t.preserveFocus&&t.preserveFocus}}return{area:l.WebviewPanelTargetArea.Main,viewColumn:p(e),preserveFocus:!1}},t.toSelection=function(e){const{selectionStartLineNumber:t,selectionStartColumn:i,positionLineNumber:n,positionColumn:o}=e,r=new l.Position(t-1,i-1),s=new l.Position(n-1,o-1);return new l.Selection(r,s)},t.fromSelection=function(e){const{active:t,anchor:i}=e;return{selectionStartLineNumber:i.line+1,selectionStartColumn:i.character+1,positionLineNumber:t.line+1,positionColumn:t.character+1}},t.toRange=g,t.fromRange=f,t.fromPosition=function(e){return{lineNumber:e.line+1,column:e.character+1}},t.toPosition=function(e){return new l.Position(e.lineNumber-1,e.column-1)},t.isDecorationOptionsArr=m,t.fromRangeOrRangeWithMessage=function(e){return m(e)?e.map((e=>{let t;return t=Array.isArray(e.hoverMessage)?b(e.hoverMessage):e.hoverMessage?v(e.hoverMessage):void 0,{range:f(e.range),hoverMessage:t,renderOptions:e.renderOptions}})):e.map((e=>({range:f(e)})))},t.fromManyMarkdown=b,t.fromMarkdown=v,t.toMarkdown=A,t.fromDocumentSelector=function e(t){return t?(0,d.isReadonlyArray)(t)?t.map(e):"string"==typeof t?t:{language:t.language,scheme:t.scheme,pattern:y(t.pattern)}:void 0},t.fromGlobPattern=y,t.fromCompletionItemKind=function(e){switch(e){case l.CompletionItemKind.Method:return a.CompletionItemKind.Method;case l.CompletionItemKind.Function:return a.CompletionItemKind.Function;case l.CompletionItemKind.Constructor:return a.CompletionItemKind.Constructor;case l.CompletionItemKind.Field:return a.CompletionItemKind.Field;case l.CompletionItemKind.Variable:return a.CompletionItemKind.Variable;case l.CompletionItemKind.Class:return a.CompletionItemKind.Class;case l.CompletionItemKind.Interface:return a.CompletionItemKind.Interface;case l.CompletionItemKind.Struct:return a.CompletionItemKind.Struct;case l.CompletionItemKind.Module:return a.CompletionItemKind.Module;case l.CompletionItemKind.Property:return a.CompletionItemKind.Property;case l.CompletionItemKind.Unit:return a.CompletionItemKind.Unit;case l.CompletionItemKind.Value:return a.CompletionItemKind.Value;case l.CompletionItemKind.Constant:return a.CompletionItemKind.Constant;case l.CompletionItemKind.Enum:return a.CompletionItemKind.Enum;case l.CompletionItemKind.EnumMember:return a.CompletionItemKind.EnumMember;case l.CompletionItemKind.Keyword:return a.CompletionItemKind.Keyword;case l.CompletionItemKind.Snippet:return a.CompletionItemKind.Snippet;case l.CompletionItemKind.Text:return a.CompletionItemKind.Text;case l.CompletionItemKind.Color:return a.CompletionItemKind.Color;case l.CompletionItemKind.File:return a.CompletionItemKind.File;case l.CompletionItemKind.Reference:return a.CompletionItemKind.Reference;case l.CompletionItemKind.Folder:return a.CompletionItemKind.Folder;case l.CompletionItemKind.Event:return a.CompletionItemKind.Event;case l.CompletionItemKind.Operator:return a.CompletionItemKind.Operator;case l.CompletionItemKind.TypeParameter:return a.CompletionItemKind.TypeParameter;case l.CompletionItemKind.User:return a.CompletionItemKind.User;case l.CompletionItemKind.Issue:return a.CompletionItemKind.Issue}return a.CompletionItemKind.Property},t.toCompletionItemKind=function(e){switch(e){case a.CompletionItemKind.Method:return l.CompletionItemKind.Method;case a.CompletionItemKind.Function:return l.CompletionItemKind.Function;case a.CompletionItemKind.Constructor:return l.CompletionItemKind.Constructor;case a.CompletionItemKind.Field:return l.CompletionItemKind.Field;case a.CompletionItemKind.Variable:return l.CompletionItemKind.Variable;case a.CompletionItemKind.Class:return l.CompletionItemKind.Class;case a.CompletionItemKind.Interface:return l.CompletionItemKind.Interface;case a.CompletionItemKind.Struct:return l.CompletionItemKind.Struct;case a.CompletionItemKind.Module:return l.CompletionItemKind.Module;case a.CompletionItemKind.Property:return l.CompletionItemKind.Property;case a.CompletionItemKind.Unit:return l.CompletionItemKind.Unit;case a.CompletionItemKind.Value:return l.CompletionItemKind.Value;case a.CompletionItemKind.Constant:return l.CompletionItemKind.Constant;case a.CompletionItemKind.Enum:return l.CompletionItemKind.Enum;case a.CompletionItemKind.EnumMember:return l.CompletionItemKind.EnumMember;case a.CompletionItemKind.Keyword:return l.CompletionItemKind.Keyword;case a.CompletionItemKind.Snippet:return l.CompletionItemKind.Snippet;case a.CompletionItemKind.Text:return l.CompletionItemKind.Text;case a.CompletionItemKind.Color:return l.CompletionItemKind.Color;case a.CompletionItemKind.File:return l.CompletionItemKind.File;case a.CompletionItemKind.Reference:return l.CompletionItemKind.Reference;case a.CompletionItemKind.Folder:return l.CompletionItemKind.Folder;case a.CompletionItemKind.Event:return l.CompletionItemKind.Event;case a.CompletionItemKind.Operator:return l.CompletionItemKind.Operator;case a.CompletionItemKind.TypeParameter:return l.CompletionItemKind.TypeParameter;case a.CompletionItemKind.User:return l.CompletionItemKind.User;case a.CompletionItemKind.Issue:return l.CompletionItemKind.Issue}return l.CompletionItemKind.Property},t.fromTextEdit=C,t.convertDiagnosticToMarkerData=function(e){return{code:_(e.code),severity:S(e.severity),message:e.message,source:e.source,startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,relatedInformation:E(e.relatedInformation),tags:k(e.tags)}},t.convertCode=_,t.fromHover=function(e){return{range:f(e.range),contents:b(e.contents)}},t.fromEvaluatableExpression=function(e){return{range:f(e.range),expression:e.expression}},t.fromInlineValue=function(e){if(e instanceof o.InlineValueText)return{type:"text",range:f(e.range),text:e.text};if(e instanceof o.InlineValueVariableLookup)return{type:"variable",range:f(e.range),variableName:e.variableName,caseSensitiveLookup:e.caseSensitiveLookup};if(e instanceof o.InlineValueEvaluatableExpression)return{type:"expression",range:f(e.range),expression:e.expression};throw new Error("Unknown InlineValue type")},t.toInlineValueContext=function(e){const t=e.stoppedLocation;return{frameId:e.frameId,stoppedLocation:new l.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)}},t.fromLocation=function(e){return{uri:e.uri,range:f(e.range)}},t.fromTextDocumentShowOptions=function(e){return e.selection?{...e,selection:f(e.selection)}:e},t.fromDefinitionLink=function(e){return{uri:e.targetUri,range:f(e.targetRange),originSelectionRange:e.originSelectionRange?f(e.originSelectionRange):void 0,targetSelectionRange:e.targetSelectionRange?f(e.targetSelectionRange):void 0}},(N=t.DocumentLink||(t.DocumentLink={})).from=function(e){return{range:f(e.range),url:e.target,tooltip:e.tooltip}},N.to=function(e){let t;if(e.url)try{t="string"==typeof e.url?o.URI.parse(e.url,!0):o.URI.revive(e.url)}catch(e){}return new l.DocumentLink(g(e.range),t)},t.fromDocumentHighlightKind=F,t.fromDocumentHighlight=function(e){return{range:f(e.range),kind:F(e.kind)}},function(e){e.from=function(e){return{label:e.label,documentation:e.documentation?v(e.documentation):void 0}},e.to=function(e){return{label:e.label,documentation:u.MarkdownString.is(e.documentation)?A(e.documentation):e.documentation}}}(x=t.ParameterInformation||(t.ParameterInformation={})),function(e){e.from=function(e){return{label:e.label,documentation:e.documentation?v(e.documentation):void 0,parameters:e.parameters&&e.parameters.map(x.from),activeParameter:e.activeParameter}},e.to=function(e){return{label:e.label,documentation:u.MarkdownString.is(e.documentation)?A(e.documentation):e.documentation,parameters:e.parameters&&e.parameters.map(x.to),activeParameter:e.activeParameter}}}(D=t.SignatureInformation||(t.SignatureInformation={})),(R=t.SignatureHelp||(t.SignatureHelp={})).from=function(e,t){return{id:e,activeSignature:t.activeSignature,activeParameter:t.activeParameter,signatures:t.signatures&&t.signatures.map(D.from)}},R.to=function(e){return{activeSignature:e.activeSignature,activeParameter:e.activeParameter,signatures:e.signatures&&e.signatures.map(D.to)}},t.fromWorkspaceEdit=function(e,t){const i={edits:[]};for(const n of e._allEntries()){const[e,o]=n;if(Array.isArray(o)){const r=t?t.getDocument(e.toString()):void 0,s={resource:e,modelVersionId:null==r?void 0:r.version,textEdit:o.map((e=>e instanceof l.TextEdit?C(e):w(e)))[0],metadata:n[2]};i.edits.push(s)}else{const t={oldResource:e,newResource:o,options:n[2],metadata:n[3]};i.edits.push(t)}}return i},function(e){const t=Object.create(null);t[a.SymbolKind.File]=a.SymbolKind.File,t[a.SymbolKind.Module]=a.SymbolKind.Module,t[a.SymbolKind.Namespace]=a.SymbolKind.Namespace,t[a.SymbolKind.Package]=a.SymbolKind.Package,t[a.SymbolKind.Class]=a.SymbolKind.Class,t[a.SymbolKind.Method]=a.SymbolKind.Method,t[a.SymbolKind.Property]=a.SymbolKind.Property,t[a.SymbolKind.Field]=a.SymbolKind.Field,t[a.SymbolKind.Constructor]=a.SymbolKind.Constructor,t[a.SymbolKind.Enum]=a.SymbolKind.Enum,t[a.SymbolKind.Interface]=a.SymbolKind.Interface,t[a.SymbolKind.Function]=a.SymbolKind.Function,t[a.SymbolKind.Variable]=a.SymbolKind.Variable,t[a.SymbolKind.Constant]=a.SymbolKind.Constant,t[a.SymbolKind.String]=a.SymbolKind.String,t[a.SymbolKind.Number]=a.SymbolKind.Number,t[a.SymbolKind.Boolean]=a.SymbolKind.Boolean,t[a.SymbolKind.Array]=a.SymbolKind.Array,t[a.SymbolKind.Object]=a.SymbolKind.Object,t[a.SymbolKind.Key]=a.SymbolKind.Key,t[a.SymbolKind.Null]=a.SymbolKind.Null,t[a.SymbolKind.EnumMember]=a.SymbolKind.EnumMember,t[a.SymbolKind.Struct]=a.SymbolKind.Struct,t[a.SymbolKind.Event]=a.SymbolKind.Event,t[a.SymbolKind.Operator]=a.SymbolKind.Operator,t[a.SymbolKind.TypeParameter]=a.SymbolKind.TypeParameter,e.fromSymbolKind=function(e){return t[e]||a.SymbolKind.Property},e.toSymbolKind=function(e){for(const i in t)if(t[i]===e)return Number(i);return a.SymbolKind.Property}}(T=t.SymbolKind||(t.SymbolKind={})),t.toCodeActionTriggerKind=function(e){switch(e){case a.CodeActionTriggerKind.Invoke:return l.CodeActionTriggerKind.Invoke;case a.CodeActionTriggerKind.Automatic:return l.CodeActionTriggerKind.Automatic}},t.fromDocumentSymbol=function e(t){const i={name:t.name,detail:t.detail,range:f(t.range),tags:t.tags?t.tags.map(j):[],selectionRange:f(t.selectionRange),kind:T.fromSymbolKind(t.kind)};return t.children&&(i.children=t.children.map(e)),i},t.toDocumentSymbol=function e(t){return{name:t.name,detail:t.detail,range:g(t.range),tags:t.tags&&t.tags.length>0?t.tags.map(W):[],selectionRange:g(t.selectionRange),children:t.children?t.children.map(e):[],kind:T.toSymbolKind(t.kind)}},t.fromSymbolTag=j,t.toSymbolTag=W,t.isModelLocation=function(e){return(0,h.isObject)(e)&&z(e.range)&&U(e.uri)},t.isModelRange=z,t.isUriComponents=U,t.isModelCallHierarchyItem=H,t.isModelCallHierarchyIncomingCall=function(e){return(0,h.isObject)(e)&&"from"in e&&"fromRanges"in e&&H(e.from)},t.isModelCallHierarchyOutgoingCall=function(e){return(0,h.isObject)(e)&&"to"in e&&"fromRanges"in e&&H(e.to)},t.toLocation=function(e){return new l.Location(o.URI.revive(e.uri),g(e.range))},t.fromHierarchyItem=V,t.fromCallHierarchyItem=function(e){return V(e)},t.toCallHierarchyItem=K,t.toCallHierarchyIncomingCall=function(e){return new l.CallHierarchyIncomingCall(K(e.from),e.fromRanges&&e.fromRanges.map(g))},t.toCallHierarchyOutgoingCall=function(e){return new l.CallHierarchyOutgoingCall(K(e.to),e.fromRanges&&e.fromRanges.map(g))},t.isModelTypeHierarchyItem=function(e){return(0,h.isObject)(e)&&z(e.range)&&z(e.selectionRange)&&U(e.uri)&&!!e.name},t.fromTypeHierarchyItem=function(e){return V(e)},t.toTypeHierarchyItem=function(e){const t=new l.TypeHierarchyItem(T.toSymbolKind(e.kind),e.name,e.detail?e.detail:"",o.URI.revive(e.uri),g(e.selectionRange),g(e.range));return t.tags=e.tags,t._itemId=e._itemId,t._sessionId=e._sessionId,t},t.toWorkspaceFolder=function(e){return{uri:o.URI.revive(e.uri),name:e.name,index:e.index}},t.fromTask=function(e){if(!e)return;const t={};t.label=e.name,t.source=e.source,t.runOptions={reevaluateOnRerun:e.runOptions.reevaluateOnRerun},e.hasProblemMatchers&&(t.problemMatcher=e.problemMatchers),"detail"in e&&(t.detail=e.detail),"number"==typeof e.scope?t.scope=e.scope:void 0!==e.scope?t.scope=e.scope.uri.toString():t.scope=l.TaskScope.Workspace,e.presentationOptions&&(t.presentation=e.presentationOptions),e.group&&(t.group={kind:e.group.id,isDefault:!!e.group.isDefault});const i=e.definition;if(!i)return t;t.type=i.type;const{type:n,...o}=i;for(const e in o)o.hasOwnProperty(e)&&(t[e]=o[e]);const r=e.execution;return r?l.ShellExecution.is(r)?$(r,t):l.ProcessExecution.is(r)?G(r,t):l.CustomExecution.is(r)?q(r,t):t:t},t.toTask=function(e){if(!e)throw new Error("Task should be provided for converting");const{type:t,taskType:i,label:n,source:r,scope:s,problemMatcher:a,detail:c,command:d,args:u,options:h,group:p,presentation:g,runOptions:f,...m}=e,b={};if(b.name=n,b.source=r,b.runOptions=null!=f?f:{},c&&(b.detail=c),"string"==typeof s){const e=o.URI.parse(s);b.scope={uri:e,name:e.toString(),index:0}}else b.scope=s;const v={type:t};b.definition=v,"process"===i&&(b.execution=Y(e));const A={command:d,args:u,options:h};if(("shell"===i||l.ShellExecution.is(A))&&(b.execution=Q(e)),("customExecution"===i||l.CustomExecution.is(A))&&(b.execution=X(e),v.label=n,v.command=d,v.args=u,v.options=h),p&&(b.group=new l.TaskGroup(p.kind,p.kind,p.isDefault)),g&&(b.presentationOptions=g),!m)return b;for(const e in m)m.hasOwnProperty(e)&&(v[e]=m[e]);return b},t.fromProcessExecution=G,t.fromShellExecution=$,t.fromCustomExecution=q,t.getProcessExecution=Y,t.getShellExecution=Q,t.getCustomExecution=X,t.getShellArgs=Z,t.getShellExecutionOptions=J,t.fromSymbolInformation=function(e){if(e){if(e.location&&e.location.range){const t=n.Position.create(e.location.range.start.line,e.location.range.start.character),i=n.Position.create(e.location.range.end.line,e.location.range.end.character);return n.SymbolInformation.create(e.name,e.kind++,n.Range.create(t,i),e.location.uri.toString(),e.containerName)}return{name:e.name,containerName:e.containerName,kind:e.kind++,location:{uri:e.location.uri.toString(),range:e.location.range}}}},t.toSymbolInformation=function(e){if(e)return{name:e.name,containerName:e.containerName,kind:e.kind,location:{uri:o.URI.parse(e.location.uri),range:e.location.range}}},t.fromSelectionRange=function(e){return{range:f(e.range)}},t.fromFoldingRange=function(e){const t={start:e.start+1,end:e.end+1};return e.kind&&(t.kind=ee(e.kind)),t},t.fromFoldingRangeKind=ee,t.fromColor=function(e){return[e.red,e.green,e.blue,e.alpha]},t.toColor=function(e){return new l.Color(e[0],e[1],e[2],e[3])},t.fromColorPresentation=function(e){return{label:e.label,textEdit:e.textEdit?C(e.textEdit):void 0,additionalTextEdits:e.additionalTextEdits?e.additionalTextEdits.map((e=>C(e))):void 0}},t.convertToTransferQuickPickItems=function(e){return e.map(((e,t)=>{if("string"==typeof e)return{type:"item",label:e,handle:t};if(e.kind===o.QuickPickItemKind.Separator)return{type:"separator",label:e.label,handle:t};{const{label:i,description:n,detail:o,picked:r,alwaysShow:s,buttons:a}=e;return{type:"item",label:i,description:n,detail:o,picked:r,alwaysShow:s,buttons:a,handle:t}}}))},(t.DecorationRenderOptions||(t.DecorationRenderOptions={})).from=function(e){return{isWholeLine:e.isWholeLine,rangeBehavior:e.rangeBehavior?M.from(e.rangeBehavior):void 0,overviewRulerLane:e.overviewRulerLane,light:e.light?B.from(e.light):void 0,dark:e.dark?B.from(e.dark):void 0,backgroundColor:e.backgroundColor,outline:e.outline,outlineColor:e.outlineColor,outlineStyle:e.outlineStyle,outlineWidth:e.outlineWidth,border:e.border,borderColor:e.borderColor,borderRadius:e.borderRadius,borderSpacing:e.borderSpacing,borderStyle:e.borderStyle,borderWidth:e.borderWidth,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,cursor:e.cursor,color:e.color,opacity:e.opacity,letterSpacing:e.letterSpacing,gutterIconPath:e.gutterIconPath?te(e.gutterIconPath):void 0,gutterIconSize:e.gutterIconSize,overviewRulerColor:e.overviewRulerColor,before:e.before?I.from(e.before):void 0,after:e.after?I.from(e.after):void 0}},function(e){e.from=function(e){if(void 0===e)return e;switch(e){case l.DecorationRangeBehavior.OpenOpen:return r.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges;case l.DecorationRangeBehavior.ClosedClosed:return r.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges;case l.DecorationRangeBehavior.OpenClosed:return r.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore;case l.DecorationRangeBehavior.ClosedOpen:return r.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter}}}(M=t.DecorationRangeBehavior||(t.DecorationRangeBehavior={})),function(e){e.from=function(e){return void 0===e?e:{backgroundColor:e.backgroundColor,outline:e.outline,outlineColor:e.outlineColor,outlineStyle:e.outlineStyle,outlineWidth:e.outlineWidth,border:e.border,borderColor:e.borderColor,borderRadius:e.borderRadius,borderSpacing:e.borderSpacing,borderStyle:e.borderStyle,borderWidth:e.borderWidth,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,cursor:e.cursor,color:e.color,opacity:e.opacity,letterSpacing:e.letterSpacing,gutterIconPath:e.gutterIconPath?te(e.gutterIconPath):void 0,gutterIconSize:e.gutterIconSize,overviewRulerColor:e.overviewRulerColor,before:e.before?I.from(e.before):void 0,after:e.after?I.from(e.after):void 0}}}(B=t.ThemableDecorationRenderOptions||(t.ThemableDecorationRenderOptions={})),function(e){e.from=function(e){return void 0===e?e:{contentText:e.contentText,contentIconPath:e.contentIconPath?te(e.contentIconPath):void 0,border:e.border,borderColor:e.borderColor,fontStyle:e.fontStyle,fontWeight:e.fontWeight,textDecoration:e.textDecoration,color:e.color,backgroundColor:e.backgroundColor,margin:e.margin,width:e.width,height:e.height}}}(I=t.ThemableDecorationAttachmentRenderOptions||(t.ThemableDecorationAttachmentRenderOptions={})),(O=t.ViewColumn||(t.ViewColumn={})).from=function(e){return"number"==typeof e&&e>=l.ViewColumn.One?e-1:e===l.ViewColumn.Beside?-2:-1},O.to=function(e){if("number"==typeof e&&e>=0)return e+1;throw new Error("invalid 'EditorGroupColumn'")},t.pathOrURIToURI=te,t.pluginToPluginInfo=function(e){return{id:e.model.id,name:e.model.name,displayName:e.model.displayName}},(P=t.InlayHintKind||(t.InlayHintKind={})).from=function(e){return e},P.to=function(e){return e},function(e){e.to=function(e,t,i){const n=t.fileData;return n?new class extends l.DataTransferItem{asFile(){return{name:n.name,uri:o.URI.revive(n.uri),data:()=>i(t.id)}}}(""):"text/uri-list"===e&&t.uriListData?new l.DataTransferItem(t.uriListData.map((e=>"string"==typeof e?e:o.URI.revive(e).toString())).join("\r\n")):new l.DataTransferItem(t.asString)}}(L=t.DataTransferItem||(t.DataTransferItem={})),function(e){e.toDataTransfer=function(e,t){const i=new l.DataTransfer;for(const[n,o]of e.items)i.set(n,L.to(n,o,t));return i}}(t.DataTransfer||(t.DataTransfer={}))},92147:function(e,t,i){"use strict";var n,o,r,s,a,c,l,d,u,h,p,g,f,m,b,v,A,y,C,w,_=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},S=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=this&&this.__classPrivateFieldGet||function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookCellData=t.NotebookEditorRevealType=t.NotebookControllerAffinity=t.NotebookCellStatusBarAlignment=t.NotebookCellKind=t.MarkerTag=t.MarkerSeverity=t.Diagnostic=t.CompletionItemTag=t.DiagnosticTag=t.DiagnosticRelatedInformation=t.Location=t.DebugConsoleMode=t.DiagnosticSeverity=t.InlineCompletionList=t.InlineCompletionItem=t.InlineCompletionTriggerKind=t.CompletionList=t.CompletionItem=t.CompletionItemKind=t.CompletionTriggerKind=t.TextEdit=t.IndentAction=t.RelativePattern=t.ConfigurationTarget=t.OverviewRulerLane=t.DecorationRangeBehavior=t.TextEditorRevealType=t.ThemeIcon=t.ThemeColor=t.SnippetString=t.EnvironmentVariableMutatorType=t.EndOfLine=t.TextDocumentShowOptions=t.Selection=t.Range=t.Position=t.TextDocumentChangeReason=t.TextEditorSelectionChangeKind=t.ColorTheme=t.ExternalUriOpenerPriority=t.SourceControlInputBoxValidationType=t.ExtensionKind=t.ExtensionMode=t.ColorThemeKind=t.ViewColumn=t.TextEditorLineNumbersStyle=t.StatusBarAlignment=t.Disposable=t.URI=void 0,t.FileSystemError=t.FileChangeType=t.CommentMode=t.FileDecoration=t.TerminalQuickFixType=t.TerminalExitReason=t.TerminalProfile=t.TerminalOutputAnchor=t.TerminalLocation=t.TerminalLink=t.QuickInputButtons=t.CommentThreadCollapsibleState=t.CommentThreadState=t.DocumentSymbol=t.SymbolInformation=t.SymbolTag=t.TreeItemCollapsibleState=t.TreeItem=t.DataTransfer=t.DataTransferItem=t.WorkspaceEdit=t.CodeAction=t.TextDocumentSaveReason=t.CodeActionKind=t.CodeActionTriggerKind=t.CodeActionTrigger=t.CodeLens=t.DocumentDropEdit=t.DocumentLink=t.DocumentHighlight=t.DocumentHighlightKind=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.InlineValueContext=t.EvaluatableExpression=t.Hover=t.SignatureHelp=t.SignatureHelpTriggerKind=t.SignatureInformation=t.ParameterInformation=t.NotebookEdit=t.SnippetTextEdit=t.NotebookRange=t.NotebookCell=t.NotebookDocument=t.NotebookData=t.NotebookCellStatusBarItem=t.NotebookCellOutputItem=t.NotebookCellOutput=void 0,t.SemanticTokens=t.SemanticTokensBuilder=t.SemanticTokensLegend=t.TimelineItem=t.TestMessage=t.TestRunRequest=t.TestTag=t.TestRunProfileKind=t.LinkedEditingRanges=t.LanguageStatusSeverity=t.TypeHierarchyItem=t.CallHierarchyOutgoingCall=t.CallHierarchyIncomingCall=t.CallHierarchyItem=t.UIKind=t.WebviewPanelTargetArea=t.OperatingSystem=t.SelectionRange=t.FoldingRangeKind=t.FoldingRange=t.InlayHintKind=t.InlayHint=t.InlayHintLabelPart=t.ColorFormat=t.ColorPresentation=t.ColorInformation=t.Color=t.FunctionBreakpoint=t.SourceBreakpoint=t.Breakpoint=t.LogLevel=t.DebugAdapterInlineImplementation=t.DebugAdapterNamedPipeServer=t.DebugAdapterServer=t.DebugAdapterExecutable=t.Task2=t.Task=t.TaskScope=t.TaskGroup=t.CustomExecution=t.ShellExecution=t.TaskRevealKind=t.TaskPanelKind=t.ShellQuoting=t.QuickPickItemKind=t.ProcessExecution=t.ProgressLocation=t.Progress=t.ProgressOptions=t.FileType=void 0,t.EditSessionIdentityMatch=t.DocumentPasteEdit=t.InteractiveWindowInput=t.TerminalEditorTabInput=t.NotebookDiffEditorTabInput=t.NotebookEditorTabInput=t.TelemetryLogger=t.TelemetryTrustedValue=t.WebviewEditorTabInput=t.CustomEditorTabInput=t.TextMergeTabInput=t.TextDiffTabInput=t.TextTabInput=t.InputBoxValidationSeverity=t.SemanticTokensEdits=t.SemanticTokensEdit=void 0;const k=i(28563),x=i(28929),D=i(10433),T=i(20079),M=i(81312),B=i(13869),I=i(36090),L=i(67477),P=i(67037),O=i(9825);let R=r=class extends D.URI{constructor(e,t,i,n,o,r=!1){"string"==typeof e?super(e,t,i,n,o,r):super(e)}with(e){return new r(super.with(e))}static joinPath(e,...t){if(!e.path)throw new Error("'joinPath' called on URI without path");const i=L.posix.join(e.path,...t);return new r(e.scheme,e.authority,i,e.query,e.fragment)}static revive(e){const t=D.URI.revive(e);return t?new r(t):void 0}static parse(e,t){return new r(D.URI.parse(e,t))}static file(e){return new r(D.URI.file(e))}toJSON(){return D.URI.from(this).toJSON()}};R=r=_([P.es5ClassCompat,S("design:paramtypes",[Object,String,String,String,String,Boolean])],R),t.URI=R;let N=s=class{constructor(e){this.disposable=e}static from(...e){return new s((()=>{if(e)for(const t of e)t&&"function"==typeof t.dispose&&t.dispose()}))}dispose(){this.disposable&&(this.disposable(),this.disposable=void 0)}static create(e){return new s(e)}};var F,j,W,z,U,H,V,K;N=s=_([P.es5ClassCompat,S("design:paramtypes",[Function])],N),t.Disposable=N,(K=t.StatusBarAlignment||(t.StatusBarAlignment={}))[K.Left=1]="Left",K[K.Right=2]="Right",(V=t.TextEditorLineNumbersStyle||(t.TextEditorLineNumbersStyle={}))[V.Off=0]="Off",V[V.On=1]="On",V[V.Relative=2]="Relative",(H=t.ViewColumn||(t.ViewColumn={}))[H.Active=-1]="Active",H[H.Beside=-2]="Beside",H[H.One=1]="One",H[H.Two=2]="Two",H[H.Three=3]="Three",H[H.Four=4]="Four",H[H.Five=5]="Five",H[H.Six=6]="Six",H[H.Seven=7]="Seven",H[H.Eight=8]="Eight",H[H.Nine=9]="Nine",(U=t.ColorThemeKind||(t.ColorThemeKind={}))[U.Light=1]="Light",U[U.Dark=2]="Dark",U[U.HighContrast=3]="HighContrast",U[U.HighContrastLight=4]="HighContrastLight",(z=t.ExtensionMode||(t.ExtensionMode={}))[z.Production=1]="Production",z[z.Development=2]="Development",z[z.Test=3]="Test",(W=t.ExtensionKind||(t.ExtensionKind={}))[W.UI=1]="UI",W[W.Workspace=2]="Workspace",(j=t.SourceControlInputBoxValidationType||(t.SourceControlInputBoxValidationType={}))[j.Error=0]="Error",j[j.Warning=1]="Warning",j[j.Information=2]="Information",(F=t.ExternalUriOpenerPriority||(t.ExternalUriOpenerPriority={}))[F.None=0]="None",F[F.Option=1]="Option",F[F.Default=2]="Default",F[F.Preferred=3]="Preferred";let G=class{constructor(e){this.kind=e}};var $,q;G=_([P.es5ClassCompat,S("design:paramtypes",[Number])],G),t.ColorTheme=G,(q=t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={}))[q.Keyboard=1]="Keyboard",q[q.Mouse=2]="Mouse",q[q.Command=3]="Command",function(e){e.fromValue=function(t){switch(t){case"keyboard":return e.Keyboard;case"mouse":return e.Mouse;case"api":return e.Command}}}(t.TextEditorSelectionChangeKind||(t.TextEditorSelectionChangeKind={})),($=t.TextDocumentChangeReason||(t.TextDocumentChangeReason={}))[$.Undo=1]="Undo",$[$.Redo=2]="Redo";let Y=a=class{constructor(e,t){if(e<0)throw new Error("line number cannot be negative");if(t<0)throw new Error("char number cannot be negative");this._line=e,this._character=t}get line(){return this._line}get character(){return this._character}isBefore(e){return this._line<e._line||!(e._line<this._line)&&this._character<e._character}isBeforeOrEqual(e){return this._line<e._line||!(e._line<this._line)&&this._character<=e._character}isAfter(e){return!this.isBeforeOrEqual(e)}isAfterOrEqual(e){return!this.isBefore(e)}isEqual(e){return this._line===e._line&&this._character===e._character}compareTo(e){return this._line<e._line?-1:this._line>e.line?1:this._character<e._character?-1:this._character>e._character?1:0}translate(e,t=0){if(null===e||null===t)throw(0,x.illegalArgument)();let i;return void 0===e?i=0:"number"==typeof e?i=e:(i="number"==typeof e.lineDelta?e.lineDelta:0,t="number"==typeof e.characterDelta?e.characterDelta:0),0===i&&0===t?this:new a(this.line+i,this.character+t)}with(e,t=this.character){if(null===e||null===t)throw(0,x.illegalArgument)();let i;return void 0===e?i=this.line:"number"==typeof e?i=e:(i="number"==typeof e.line?e.line:this.line,t="number"==typeof e.character?e.character:this.character),i===this.line&&t===this.character?this:new a(i,t)}static Min(...e){let t=e.pop();for(const i of e)i.isBefore(t)&&(t=i);return t}static Max(...e){let t=e.pop();for(const i of e)i.isAfter(t)&&(t=i);return t}static isPosition(e){if(!e)return!1;if("object"!=typeof e||Array.isArray(e))return!1;if(e instanceof a)return!0;const{line:t,character:i}=e;return"number"==typeof t&&"number"==typeof i}toJSON(){return{line:this.line,character:this.character}}};Y=a=_([P.es5ClassCompat,S("design:paramtypes",[Number,Number])],Y),t.Position=Y;let Q=c=class{constructor(e,t,i,n){let o,r;if("number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof n?(o=new Y(e,t),r=new Y(i,n)):e instanceof Y&&t instanceof Y&&(o=e,r=t),!o||!r)throw new Error("Invalid arguments");o.isBefore(r)?(this._start=o,this._end=r):(this._start=r,this._end=o)}get start(){return this._start}get end(){return this._end}contains(e){return e instanceof c?this.contains(e._start)&&this.contains(e._end):e instanceof Y&&!e.isBefore(this._start)&&!this._end.isBefore(e)}isEqual(e){return this._start.isEqual(e._start)&&this._end.isEqual(e._end)}intersection(e){const t=Y.Max(e.start,this._start),i=Y.Min(e.end,this._end);if(!t.isAfter(i))return new c(t,i)}union(e){if(this.contains(e))return this;if(e.contains(this))return e;const t=Y.Min(e.start,this._start),i=Y.Max(e.end,this.end);return new c(t,i)}get isEmpty(){return this._start.isEqual(this._end)}get isSingleLine(){return this._start.line===this._end.line}with(e,t=this.end){if(null===e||null===t)throw(0,x.illegalArgument)();let i;return e?Y.isPosition(e)?i=e:(i=e.start||this.start,t=e.end||this.end):i=this.start,i.isEqual(this._start)&&t.isEqual(this.end)?this:new c(i,t)}static isRange(e){return e instanceof c||(0,O.isObject)(e)&&Y.isPosition(e.start)&&Y.isPosition(e.end)}toJSON(){return[this.start,this.end]}};Q=c=_([P.es5ClassCompat,S("design:paramtypes",[Object,Object,Number,Number])],Q),t.Range=Q;let X=class extends Q{constructor(e,t,i,n){let o,r;if("number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof n?(o=new Y(e,t),r=new Y(i,n)):e instanceof Y&&t instanceof Y&&(o=e,r=t),!o||!r)throw new Error("Invalid arguments");super(o,r),this._anchor=o,this._active=r}get active(){return this._active}get anchor(){return this._anchor}get isReversed(){return this._anchor===this._end}};var Z,J;X=_([P.es5ClassCompat,S("design:paramtypes",[Object,Object,Number,Number])],X),t.Selection=X,(t.TextDocumentShowOptions||(t.TextDocumentShowOptions={})).isTextDocumentShowOptions=function(e){if(!e)return!1;const t=e;return Q.isRange(t.selection)},(J=t.EndOfLine||(t.EndOfLine={}))[J.LF=1]="LF",J[J.CRLF=2]="CRLF",(Z=t.EnvironmentVariableMutatorType||(t.EnvironmentVariableMutatorType={}))[Z.Replace=1]="Replace",Z[Z.Append=2]="Append",Z[Z.Prepend=3]="Prepend";let ee=l=class{constructor(e){this._tabstop=1,this.value=e||""}static isSnippetString(e){return e instanceof l||!!e&&"string"==typeof e.value}static _escape(e){return e.replace(/\$|}|\\/g,"\\$&")}appendText(e){return this.value+=l._escape(e),this}appendTabstop(e=this._tabstop++){return this.value+="$",this.value+=e,this}appendPlaceholder(e,t=this._tabstop++){if("function"==typeof e){const t=new l;t._tabstop=this._tabstop,e(t),this._tabstop=t._tabstop,e=t.value}else e=l._escape(e);return this.value+="${",this.value+=t,this.value+=":",this.value+=e,this.value+="}",this}appendChoice(e,t=this._tabstop++){const i=e.map((e=>e.replace(/\$|}|\\|,/g,"\\$&"))).join(",");return this.value+=`\${${t}|${i}|}`,this}appendVariable(e,t){if("function"==typeof t){const e=new l;e._tabstop=this._tabstop,t(e),this._tabstop=e._tabstop,t=e.value}else"string"==typeof t&&(t=t.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=e,t&&(this.value+=":",this.value+=t),this.value+="}",this}};ee=l=_([P.es5ClassCompat,S("design:paramtypes",[String])],ee),t.SnippetString=ee;let te=class{constructor(e){this.id=e}};te=_([P.es5ClassCompat,S("design:paramtypes",[String])],te),t.ThemeColor=te;let ie=d=class{constructor(e,t){this.id=e,this.color=t}};var ne,oe,re,se;ie.File=new d("file"),ie.Folder=new d("folder"),ie=d=_([P.es5ClassCompat,S("design:paramtypes",[String,te])],ie),t.ThemeIcon=ie,function(e){e.is=function(e){return(0,O.isObject)(e)&&"id"in e}}(ie=t.ThemeIcon||(t.ThemeIcon={})),t.ThemeIcon=ie,(se=t.TextEditorRevealType||(t.TextEditorRevealType={}))[se.Default=0]="Default",se[se.InCenter=1]="InCenter",se[se.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",se[se.AtTop=3]="AtTop",(re=t.DecorationRangeBehavior||(t.DecorationRangeBehavior={}))[re.OpenOpen=0]="OpenOpen",re[re.ClosedClosed=1]="ClosedClosed",re[re.OpenClosed=2]="OpenClosed",re[re.ClosedOpen=3]="ClosedOpen",(oe=t.OverviewRulerLane||(t.OverviewRulerLane={}))[oe.Left=1]="Left",oe[oe.Center=2]="Center",oe[oe.Right=4]="Right",oe[oe.Full=7]="Full",(ne=t.ConfigurationTarget||(t.ConfigurationTarget={}))[ne.Global=1]="Global",ne[ne.Workspace=2]="Workspace",ne[ne.WorkspaceFolder=3]="WorkspaceFolder",ne[ne.Default=4]="Default",ne[ne.Memory=5]="Memory";let ae=class{constructor(e,t){if(this.pattern=t,"string"!=typeof e&&(!e||!R.isUri(e)&&!R.isUri(e.uri)))throw(0,x.illegalArgument)("base");if("string"!=typeof t)throw(0,x.illegalArgument)("pattern");"string"==typeof e?this.baseUri=R.file(e):R.isUri(e)?this.baseUri=e:this.baseUri=e.uri}get base(){return this._base}set base(e){this._base=e,this._baseUri=R.file(e)}get baseUri(){return this._baseUri}set baseUri(e){this._baseUri=e,this.base=e.fsPath}pathToRelative(e,t){return(0,T.relative)(e,t)}};var ce;ae=_([P.es5ClassCompat,S("design:paramtypes",[Object,String])],ae),t.RelativePattern=ae,(ce=t.IndentAction||(t.IndentAction={}))[ce.None=0]="None",ce[ce.Indent=1]="Indent",ce[ce.IndentOutdent=2]="IndentOutdent",ce[ce.Outdent=3]="Outdent";let le=u=class{constructor(e,t){this.range=e,this.newText=t}get range(){return this._range}set range(e){if(e&&!Q.isRange(e))throw(0,x.illegalArgument)("range");this._range=e}get newText(){return this._newText||""}set newText(e){if(e&&"string"!=typeof e)throw(0,x.illegalArgument)("newText");this._newText=e}get newEol(){return this._newEol}set newEol(e){if(e&&"number"!=typeof e)throw(0,x.illegalArgument)("newEol");this._newEol=e}static isTextEdit(e){return e instanceof u||!!e&&Q.isRange(e.range)&&"string"==typeof e.newText}static replace(e,t){return new u(e,t)}static insert(e,t){return u.replace(new Q(e,e),t)}static delete(e){return u.replace(e,"")}static setEndOfLine(e){const t=new u(void 0,void 0);return t.newEol=e,t}};var de,ue;le=u=_([P.es5ClassCompat,S("design:paramtypes",[Object,Object])],le),t.TextEdit=le,(ue=t.CompletionTriggerKind||(t.CompletionTriggerKind={}))[ue.Invoke=0]="Invoke",ue[ue.TriggerCharacter=1]="TriggerCharacter",ue[ue.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",(de=t.CompletionItemKind||(t.CompletionItemKind={}))[de.Text=0]="Text",de[de.Method=1]="Method",de[de.Function=2]="Function",de[de.Constructor=3]="Constructor",de[de.Field=4]="Field",de[de.Variable=5]="Variable",de[de.Class=6]="Class",de[de.Interface=7]="Interface",de[de.Module=8]="Module",de[de.Property=9]="Property",de[de.Unit=10]="Unit",de[de.Value=11]="Value",de[de.Enum=12]="Enum",de[de.Keyword=13]="Keyword",de[de.Snippet=14]="Snippet",de[de.Color=15]="Color",de[de.File=16]="File",de[de.Reference=17]="Reference",de[de.Folder=18]="Folder",de[de.EnumMember=19]="EnumMember",de[de.Constant=20]="Constant",de[de.Struct=21]="Struct",de[de.Event=22]="Event",de[de.Operator=23]="Operator",de[de.TypeParameter=24]="TypeParameter",de[de.User=25]="User",de[de.Issue=26]="Issue";let he=class{constructor(e,t){this.label=e,this.kind=t}};he=_([P.es5ClassCompat,S("design:paramtypes",[String,Number])],he),t.CompletionItem=he;let pe=class{constructor(e=[],t=!1){this.items=e,this.isIncomplete=t}};var ge;pe=_([P.es5ClassCompat,S("design:paramtypes",[Array,Boolean])],pe),t.CompletionList=pe,(ge=t.InlineCompletionTriggerKind||(t.InlineCompletionTriggerKind={}))[ge.Invoke=0]="Invoke",ge[ge.Automatic=1]="Automatic";let fe=class{constructor(e,t,i){this.insertText=e,this.range=t,this.command=i}};fe=_([P.es5ClassCompat,S("design:paramtypes",[String,Q,Object])],fe),t.InlineCompletionItem=fe;let me=class{constructor(e){this.commands=void 0,this.items=e}};var be,ve;me=_([P.es5ClassCompat,S("design:paramtypes",[Array])],me),t.InlineCompletionList=me,function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Information=2]="Information",e[e.Hint=3]="Hint"}(be=t.DiagnosticSeverity||(t.DiagnosticSeverity={})),(ve=t.DebugConsoleMode||(t.DebugConsoleMode={}))[ve.Separate=0]="Separate",ve[ve.MergeWithParent=1]="MergeWithParent";let Ae=h=class{constructor(e,t){this.uri=e,t instanceof Q?this.range=t:t instanceof Y&&(this.range=new Q(t,t))}static isLocation(e){return e instanceof h||!!e&&Q.isRange(e.range)&&R.isUri(e.uri)}};Ae=h=_([P.es5ClassCompat,S("design:paramtypes",[R,Object])],Ae),t.Location=Ae;let ye=class{constructor(e,t){this.location=e,this.message=t}};var Ce,we;ye=_([P.es5ClassCompat,S("design:paramtypes",[Ae,String])],ye),t.DiagnosticRelatedInformation=ye,(we=t.DiagnosticTag||(t.DiagnosticTag={}))[we.Unnecessary=1]="Unnecessary",we[we.Deprecated=2]="Deprecated",(Ce=t.CompletionItemTag||(t.CompletionItemTag={}))[Ce.Deprecated=1]="Deprecated";let _e=class{constructor(e,t,i=be.Error){this.range=e,this.message=t,this.severity=i}};var Se,Ee,ke,xe,De,Te;_e=_([P.es5ClassCompat,S("design:paramtypes",[Q,String,Number])],_e),t.Diagnostic=_e,(Te=t.MarkerSeverity||(t.MarkerSeverity={}))[Te.Hint=1]="Hint",Te[Te.Info=2]="Info",Te[Te.Warning=4]="Warning",Te[Te.Error=8]="Error",(De=t.MarkerTag||(t.MarkerTag={}))[De.Unnecessary=1]="Unnecessary",De[De.Deprecated=2]="Deprecated",(xe=t.NotebookCellKind||(t.NotebookCellKind={}))[xe.Markup=1]="Markup",xe[xe.Code=2]="Code",(ke=t.NotebookCellStatusBarAlignment||(t.NotebookCellStatusBarAlignment={}))[ke.Left=1]="Left",ke[ke.Right=2]="Right",(Ee=t.NotebookControllerAffinity||(t.NotebookControllerAffinity={}))[Ee.Default=1]="Default",Ee[Ee.Preferred=2]="Preferred",(Se=t.NotebookEditorRevealType||(t.NotebookEditorRevealType={}))[Se.Default=0]="Default",Se[Se.InCenter=1]="InCenter",Se[Se.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",Se[Se.AtTop=3]="AtTop";let Me=class{constructor(e,t,i){this.kind=e,this.value=t,this.languageId=i}};Me=_([P.es5ClassCompat,S("design:paramtypes",[Number,String,String])],Me),t.NotebookCellData=Me;let Be=class{constructor(e,t){this.items=e,this.metadata=t}};Be=_([P.es5ClassCompat,S("design:paramtypes",[Array,Object])],Be),t.NotebookCellOutput=Be;class Ie{constructor(e,t){this.data=e,this.mime=t}static text(e,t){const i=E(Ie,n,"f",o).encode(String(e));return new Ie(i,t||"text/plain")}static json(e,t){const i=JSON.stringify(e,void 0,"\t");return Ie.text(i,t)}static stdout(e){return Ie.text(e,"application/vnd.code.notebook.stdout")}static stderr(e){return Ie.text(e,"application/vnd.code.notebook.stderr")}static error(e){return Ie.json(e,"application/vnd.code.notebook.error")}}t.NotebookCellOutputItem=Ie,n=Ie,o={value:new TextEncoder};let Le=class{constructor(e,t){this.text=e,this.alignment=t}};Le=_([P.es5ClassCompat,S("design:paramtypes",[String,Number])],Le),t.NotebookCellStatusBarItem=Le;let Pe=class{constructor(e){this.cells=e}};Pe=_([P.es5ClassCompat,S("design:paramtypes",[Array])],Pe),t.NotebookData=Pe,t.NotebookDocument=class{cellAt(e){return{}}save(){return Promise.resolve(!1)}getCells(e){return[]}},t.NotebookCell=class{};class Oe{constructor(e,t){this.start=e,this.end=t}with(e){let t=this.start,i=this.end;return void 0!==e.start&&(t=e.start),void 0!==e.end&&(i=e.end),t===this.start&&i===this.end?this:new Oe(t,i)}}t.NotebookRange=Oe;class Re{constructor(e,t){this.range=e,this.snippet=t}static isSnippetTextEdit(e){return e instanceof Re||(0,O.isObject)(e)&&Q.isRange(e.range)&&ee.isSnippetString(e.snippet)}static replace(e,t){return new Re(e,t)}static insert(e,t){return Re.replace(new Q(e,e),t)}}t.SnippetTextEdit=Re;let Ne=p=class{static replaceCells(e,t){return new p}static insertCells(e,t){return new p}static deleteCells(e){return new p}static updateCellMetadata(e,t){return new p}static updateNotebookMetadata(e){return new p}};Ne=p=_([P.es5ClassCompat],Ne),t.NotebookEdit=Ne;let Fe=class{constructor(e,t){this.label=e,this.documentation=t}};Fe=_([P.es5ClassCompat,S("design:paramtypes",[Object,Object])],Fe),t.ParameterInformation=Fe;let je=class{constructor(e,t){this.label=e,this.documentation=t,this.parameters=[]}};var We;je=_([P.es5ClassCompat,S("design:paramtypes",[String,Object])],je),t.SignatureInformation=je,(We=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={}))[We.Invoke=1]="Invoke",We[We.TriggerCharacter=2]="TriggerCharacter",We[We.ContentChange=3]="ContentChange";let ze=class{constructor(){this.signatures=[]}};ze=_([P.es5ClassCompat,S("design:paramtypes",[])],ze),t.SignatureHelp=ze;let Ue=class{constructor(e,t){e||(0,x.illegalArgument)("contents must be defined"),Array.isArray(e)?this.contents=e:this.contents=[e],this.range=t}};Ue=_([P.es5ClassCompat,S("design:paramtypes",[Object,Q])],Ue),t.Hover=Ue;let He=class{constructor(e,t){e||(0,x.illegalArgument)("range must be defined"),this.range=e,this.expression=t}};He=_([P.es5ClassCompat,S("design:paramtypes",[Q,String])],He),t.EvaluatableExpression=He;let Ve=class{constructor(e,t){e||(0,x.illegalArgument)("frameId must be defined"),t||(0,x.illegalArgument)("stoppedLocation must be defined"),this.frameId=e,this.stoppedLocation=t}};Ve=_([P.es5ClassCompat,S("design:paramtypes",[Number,Q])],Ve),t.InlineValueContext=Ve;let Ke=class{constructor(e,t){this.type="text",e||(0,x.illegalArgument)("range must be defined"),t||(0,x.illegalArgument)("text must be defined"),this.range=e,this.text=t}};Ke=_([P.es5ClassCompat,S("design:paramtypes",[Q,String])],Ke),t.InlineValueText=Ke;let Ge=class{constructor(e,t,i){this.type="variable",e||(0,x.illegalArgument)("range must be defined"),this.range=e,this.caseSensitiveLookup=i||!0,this.variableName=t}};Ge=_([P.es5ClassCompat,S("design:paramtypes",[Q,String,Boolean])],Ge),t.InlineValueVariableLookup=Ge;let $e=class{constructor(e,t){this.type="expression",e||(0,x.illegalArgument)("range must be defined"),this.range=e,this.expression=t}};var qe;$e=_([P.es5ClassCompat,S("design:paramtypes",[Q,String])],$e),t.InlineValueEvaluatableExpression=$e,(qe=t.DocumentHighlightKind||(t.DocumentHighlightKind={}))[qe.Text=0]="Text",qe[qe.Read=1]="Read",qe[qe.Write=2]="Write";let Ye=class{constructor(e,t){this.range=e,this.kind=t}};Ye=_([P.es5ClassCompat,S("design:paramtypes",[Q,Number])],Ye),t.DocumentHighlight=Ye;let Qe=class{constructor(e,t){if(t&&!R.isUri(t))throw(0,x.illegalArgument)("target");if(!Q.isRange(e)||e.isEmpty)throw(0,x.illegalArgument)("range");this.range=e,this.target=t}};Qe=_([P.es5ClassCompat,S("design:paramtypes",[Q,Object])],Qe),t.DocumentLink=Qe;let Xe=class{constructor(e){this.insertText=e}};Xe=_([P.es5ClassCompat,S("design:paramtypes",[Object])],Xe),t.DocumentDropEdit=Xe;let Ze=class{constructor(e,t){this.range=e,this.command=t}get isResolved(){return!!this.command}};var Je,et;Ze=_([P.es5ClassCompat,S("design:paramtypes",[Q,Object])],Ze),t.CodeLens=Ze,(et=t.CodeActionTrigger||(t.CodeActionTrigger={}))[et.Automatic=1]="Automatic",et[et.Manual=2]="Manual",(Je=t.CodeActionTriggerKind||(t.CodeActionTriggerKind={}))[Je.Invoke=1]="Invoke",Je[Je.Automatic=2]="Automatic";let tt=g=class{constructor(e){this.value=e}append(e){return new g(this.value?this.value+g.sep+e:e)}contains(e){return this.value===e.value||(0,M.startsWithIgnoreCase)(e.value,this.value+g.sep)}intersects(e){return this.contains(e)||e.contains(this)}};var it;tt.sep=".",tt.Empty=new g(""),tt.QuickFix=g.Empty.append("quickfix"),tt.Refactor=g.Empty.append("refactor"),tt.RefactorExtract=g.Refactor.append("extract"),tt.RefactorInline=g.Refactor.append("inline"),tt.RefactorMove=g.Refactor.append("move"),tt.RefactorRewrite=g.Refactor.append("rewrite"),tt.Source=g.Empty.append("source"),tt.SourceOrganizeImports=g.Source.append("organizeImports"),tt.SourceFixAll=g.Source.append("fixAll"),tt=g=_([P.es5ClassCompat,S("design:paramtypes",[String])],tt),t.CodeActionKind=tt,(it=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={}))[it.Manual=1]="Manual",it[it.AfterDelay=2]="AfterDelay",it[it.FocusOut=3]="FocusOut";let nt=class{constructor(e,t){this.title=e,this.kind=t}};nt=_([P.es5ClassCompat,S("design:paramtypes",[String,tt])],nt),t.CodeAction=nt;let ot=class{constructor(){this._edits=new Array}renameFile(e,t,i,n){this._edits.push({_type:1,from:e,to:t,options:i,metadata:n})}createFile(e,t,i){this._edits.push({_type:1,from:void 0,to:e,options:t,metadata:i})}deleteFile(e,t,i){this._edits.push({_type:1,from:e,to:void 0,options:t,metadata:i})}replace(e,t,i,n){this._edits.push({_type:2,uri:e,edit:new le(t,i),metadata:n})}insert(e,t,i,n){this.replace(e,new Q(t,t),i,n)}delete(e,t,i){this.replace(e,t,"",i)}has(e){for(const t of this._edits)if(t&&2===t._type&&t.uri.toString()===e.toString())return!0;return!1}set(e,t){if(t)for(const i of t){if(!i)continue;let t,n;Array.isArray(i)?(t=i[0],n=i[1]):t=i,Re.isSnippetTextEdit(t)?this._edits.push({_type:6,uri:e,range:t.range,edit:t,metadata:n}):this._edits.push({_type:2,uri:e,edit:t})}else{for(let t=0;t<this._edits.length;t++){const i=this._edits[t];!i||2!==i._type&&6!==i._type||i.uri.toString()!==e.toString()||(this._edits[t]=void 0)}this._edits=this._edits.filter((e=>!!e))}}get(e){const t=[];for(const i of this._edits)i&&2===i._type&&i.uri.toString()===e.toString()&&t.push(i.edit);if(0!==t.length)return t}entries(){const e=new Map;for(const t of this._edits)if(t&&2===t._type){let i=e.get(t.uri.toString());i||(i=[t.uri,[]],e.set(t.uri.toString(),i)),i[1].push(t.edit)}const t=[];return e.forEach((e=>t.push(e))),t}_allEntries(){const e=[];for(const t of this._edits)t&&(1===t._type?e.push([t.from,t.to,t.options,t.metadata]):e.push([t.uri,[t.edit],t.metadata]));return e}get size(){return this.entries().length}toJSON(){return this.entries()}};ot=_([P.es5ClassCompat],ot),t.WorkspaceEdit=ot,t.DataTransferItem=class{constructor(e){this.value=e}asString(){return Promise.resolve("string"==typeof this.value?this.value:JSON.stringify(this.value))}asFile(){}};let rt=class{constructor(){this.items=new Map}get(e){return this.items.get(e)}set(e,t){this.items.set(e,t)}has(e){return this.items.has(e)}forEach(e,t){this.items.forEach(((i,n)=>{e.call(t,i,n,this)}))}[Symbol.iterator](){return this.items[Symbol.iterator]()}clear(){this.items.clear()}};rt=_([P.es5ClassCompat],rt),t.DataTransfer=rt;let st=class{constructor(e,t=at.None){this.collapsibleState=t,e instanceof R?this.resourceUri=e:this.label=e}};var at,ct;st=_([P.es5ClassCompat,S("design:paramtypes",[Object,Number])],st),t.TreeItem=st,function(e){e[e.None=0]="None",e[e.Collapsed=1]="Collapsed",e[e.Expanded=2]="Expanded"}(at=t.TreeItemCollapsibleState||(t.TreeItemCollapsibleState={})),(ct=t.SymbolTag||(t.SymbolTag={}))[ct.Deprecated=1]="Deprecated";let lt=f=class{constructor(e,t,i,n,o){this.name=e,this.kind=t,this.containerName=o,"string"==typeof i&&(this.containerName=i),n instanceof Ae?this.location=n:i instanceof Q&&(this.location=new Ae(n,i)),f.validate(this)}static validate(e){if(!e.name)throw new Error("Should provide a name inside candidate field")}toJSON(){return{name:this.name,kind:B.SymbolKind[this.kind],location:this.location,containerName:this.containerName}}};lt=f=_([P.es5ClassCompat,S("design:paramtypes",[String,Number,Object,Object,String])],lt),t.SymbolInformation=lt;let dt=m=class{constructor(e,t,i,n,o){this.name=e,this.detail=t,this.kind=i,this.range=n,this.selectionRange=o,this.children=[],m.validate(this)}static validate(e){if(!e.name)throw new Error("Should provide a name inside candidate field");if(!e.range.contains(e.selectionRange))throw new Error("selectionRange must be contained in fullRange");e.children&&e.children.forEach(m.validate)}};var ut,ht;dt=m=_([P.es5ClassCompat,S("design:paramtypes",[String,String,Number,Q,Q])],dt),t.DocumentSymbol=dt,(ht=t.CommentThreadState||(t.CommentThreadState={}))[ht.Unresolved=0]="Unresolved",ht[ht.Resolved=1]="Resolved",(ut=t.CommentThreadCollapsibleState||(t.CommentThreadCollapsibleState={}))[ut.Collapsed=0]="Collapsed",ut[ut.Expanded=1]="Expanded";let pt=class{};pt.Back={iconPath:{id:"Back"},tooltip:"Back"},pt=_([P.es5ClassCompat],pt),t.QuickInputButtons=pt;let gt=class{constructor(e,t,i){this.startIndex=e,this.length=t,this.tooltip=i}static validate(e){if("number"!=typeof e.startIndex)throw new Error("Should provide a startIndex inside candidate field");if("number"!=typeof e.length)throw new Error("Should provide a length inside candidate field")}};var ft,mt,bt,vt;gt=_([P.es5ClassCompat,S("design:paramtypes",[Number,Number,String])],gt),t.TerminalLink=gt,(mt=t.TerminalLocation||(t.TerminalLocation={}))[mt.Panel=1]="Panel",mt[mt.Editor=2]="Editor",(ft=t.TerminalOutputAnchor||(t.TerminalOutputAnchor={}))[ft.Top=0]="Top",ft[ft.Bottom=1]="Bottom",t.TerminalProfile=class{constructor(e){this.options=e}},(vt=t.TerminalExitReason||(t.TerminalExitReason={}))[vt.Unknown=0]="Unknown",vt[vt.Shutdown=1]="Shutdown",vt[vt.Process=2]="Process",vt[vt.User=3]="User",vt[vt.Extension=4]="Extension",(bt=t.TerminalQuickFixType||(t.TerminalQuickFixType={})).command="command",bt.opener="opener";let At=class{constructor(e,t,i){this.badge=e,this.tooltip=t,this.color=i}static validate(e){if(e.badge&&1!==e.badge.length&&2!==e.badge.length)throw new Error("The 'badge'-property must be undefined or a short character");if(!e.color&&!e.badge&&!e.tooltip)throw new Error("The decoration is empty")}};var yt,Ct;At=_([P.es5ClassCompat,S("design:paramtypes",[String,String,te])],At),t.FileDecoration=At,(Ct=t.CommentMode||(t.CommentMode={}))[Ct.Editing=0]="Editing",Ct[Ct.Preview=1]="Preview",(yt=t.FileChangeType||(t.FileChangeType={}))[yt.Changed=1]="Changed",yt[yt.Created=2]="Created",yt[yt.Deleted=3]="Deleted";let wt=b=class extends Error{constructor(e,t=I.FileSystemProviderErrorCode.Unknown,i){var n;super(R.isUri(e)?e.toString(!0):e),this.code=null!==(n=null==i?void 0:i.name)&&void 0!==n?n:"Unknown",(0,I.markAsFileSystemProviderError)(this,t),"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,b.prototype),"function"==typeof Error.captureStackTrace&&"function"==typeof i&&Error.captureStackTrace(this,i)}static FileExists(e){return new b(e,I.FileSystemProviderErrorCode.FileExists,b.FileExists)}static FileNotFound(e){return new b(e,I.FileSystemProviderErrorCode.FileNotFound,b.FileNotFound)}static FileNotADirectory(e){return new b(e,I.FileSystemProviderErrorCode.FileNotADirectory,b.FileNotADirectory)}static FileIsADirectory(e){return new b(e,I.FileSystemProviderErrorCode.FileIsADirectory,b.FileIsADirectory)}static NoPermissions(e){return new b(e,I.FileSystemProviderErrorCode.NoPermissions,b.NoPermissions)}static Unavailable(e){return new b(e,I.FileSystemProviderErrorCode.Unavailable,b.Unavailable)}};var _t;wt=b=_([P.es5ClassCompat,S("design:paramtypes",[Object,String,Function])],wt),t.FileSystemError=wt,(_t=t.FileType||(t.FileType={}))[_t.Unknown=0]="Unknown",_t[_t.File=1]="File",_t[_t.Directory=2]="Directory",_t[_t.SymbolicLink=64]="SymbolicLink";let St=class{constructor(e,t,i){this.location=e}};St=_([P.es5ClassCompat,S("design:paramtypes",[Number,String,Boolean])],St),t.ProgressOptions=St;let Et=class{report(e){}};var kt;Et=_([P.es5ClassCompat],Et),t.Progress=Et,(kt=t.ProgressLocation||(t.ProgressLocation={}))[kt.SourceControl=1]="SourceControl",kt[kt.Window=10]="Window",kt[kt.Notification=15]="Notification";let xt=class{constructor(e,t,i){if("string"!=typeof e)throw(0,x.illegalArgument)("process");this.executionProcess=e,void 0!==t&&(Array.isArray(t)?(this.arguments=t,this.executionOptions=i):this.executionOptions=t),void 0===this.arguments&&(this.arguments=[])}get process(){return this.executionProcess}set process(e){if("string"!=typeof e)throw(0,x.illegalArgument)("process");this.executionProcess=e}get args(){return this.arguments}set args(e){Array.isArray(e)||(e=[]),this.arguments=e}get options(){return this.executionOptions}set options(e){this.executionOptions=e}static is(e){return e&&!!e.process}};var Dt,Tt,Mt,Bt;xt=_([P.es5ClassCompat,S("design:paramtypes",[String,Object,Object])],xt),t.ProcessExecution=xt,(Bt=t.QuickPickItemKind||(t.QuickPickItemKind={}))[Bt.Separator=-1]="Separator",Bt[Bt.Default=0]="Default",(Mt=t.ShellQuoting||(t.ShellQuoting={}))[Mt.Escape=1]="Escape",Mt[Mt.Strong=2]="Strong",Mt[Mt.Weak=3]="Weak",(Tt=t.TaskPanelKind||(t.TaskPanelKind={}))[Tt.Shared=1]="Shared",Tt[Tt.Dedicated=2]="Dedicated",Tt[Tt.New=3]="New",(Dt=t.TaskRevealKind||(t.TaskRevealKind={}))[Dt.Always=1]="Always",Dt[Dt.Silent=2]="Silent",Dt[Dt.Never=3]="Never";let It=class{constructor(e,t,i){if(Array.isArray(t)||"string"==typeof t){if(!e)throw(0,x.illegalArgument)("command can't be undefined or null");if("string"!=typeof e&&"string"!=typeof e.value)throw(0,x.illegalArgument)("command");this.shellCommand=e,this.arguments=t,this.shellOptions=i}else{if("string"!=typeof e)throw(0,x.illegalArgument)("commandLine");this.shellCommandLine=e,this.shellOptions=t}}get commandLine(){return this.shellCommandLine}set commandLine(e){if("string"!=typeof e)throw(0,x.illegalArgument)("commandLine");this.shellCommandLine=e}get command(){return this.shellCommand}set command(e){if("string"!=typeof e&&"string"!=typeof e.value)throw(0,x.illegalArgument)("command");this.shellCommand=e}get args(){return this.arguments}set args(e){this.arguments=e||[]}get options(){return this.shellOptions}set options(e){this.shellOptions=e}static is(e){const t=e;return t&&(!!t.commandLine||!!t.command)}};It=_([P.es5ClassCompat,S("design:paramtypes",[Object,Object,Object])],It),t.ShellExecution=It;let Lt=class{constructor(e){this._callback=e}set callback(e){this._callback=e}get callback(){return this._callback}static is(e){return e&&!!e._callback}};Lt=_([P.es5ClassCompat,S("design:paramtypes",[Function])],Lt),t.CustomExecution=Lt;let Pt=v=class{constructor(e,t,i){this.id=e,this.isDefault=!!i}static from(e){switch(e){case"clean":return v.Clean;case"build":return v.Build;case"rebuild":return v.Rebuild;case"test":return v.Test;default:return}}};var Ot;Pt.Clean=new v("clean","Clean"),Pt.Build=new v("build","Build"),Pt.Rebuild=new v("rebuild","Rebuild"),Pt.Test=new v("test","Test"),Pt=v=_([P.es5ClassCompat,S("design:paramtypes",[String,String,Object])],Pt),t.TaskGroup=Pt,(Ot=t.TaskScope||(t.TaskScope={}))[Ot.Global=1]="Global",Ot[Ot.Workspace=2]="Workspace";let Rt=class{constructor(...e){let t,i,n,o,r,s;"string"==typeof e[1]?[t,n,o,r,s]=e:[t,i,n,o,r,s]=e,this.definition=t,this.scope=i,this.name=n,this.source=o,this.execution=r,"string"==typeof s?(this.taskProblemMatchers=[s],this.hasTaskProblemMatchers=!0):Array.isArray(s)?(this.taskProblemMatchers=s,this.hasTaskProblemMatchers=!0):(this.taskProblemMatchers=[],this.hasTaskProblemMatchers=!1),this.isTaskBackground=!1,this.presentationOptions=Object.create(null),this.taskRunOptions=Object.create(null)}get definition(){return this.taskDefinition}set definition(e){if(null==e)throw(0,x.illegalArgument)("Kind can't be undefined or null");this.taskDefinition=e}get scope(){return this.taskScope}set scope(e){null===e&&(e=void 0),this.taskScope=e}get name(){return this.taskName}set name(e){if("string"!=typeof e)throw(0,x.illegalArgument)("name");this.taskName=e}get execution(){return this.taskExecution}set execution(e){null===e&&(e=void 0),this.taskExecution=e}get problemMatchers(){return this.taskProblemMatchers}set problemMatchers(e){if(!Array.isArray(e))return this.taskProblemMatchers=[],void(this.hasTaskProblemMatchers=!1);this.taskProblemMatchers=e,this.hasTaskProblemMatchers=!0}get hasProblemMatchers(){return this.hasTaskProblemMatchers}get isBackground(){return this.isTaskBackground}set isBackground(e){!0!==e&&!1!==e&&(e=!1),this.isTaskBackground=e}get source(){return this.taskSource}set source(e){if("string"!=typeof e||0===e.length)throw(0,x.illegalArgument)("source must be a string of length > 0");this.taskSource=e}get group(){return this.taskGroup}set group(e){this.taskGroup=null!=e?e:void 0}get presentationOptions(){return this.taskPresentationOptions}set presentationOptions(e){null==e&&(e=Object.create(null)),this.taskPresentationOptions=e}get runOptions(){return this.taskRunOptions}set runOptions(e){null==e&&(e=Object.create(null)),this.taskRunOptions=e}};Rt=_([P.es5ClassCompat,S("design:paramtypes",[Object])],Rt),t.Task=Rt;let Nt=class extends Rt{};Nt=_([P.es5ClassCompat],Nt),t.Task2=Nt;let Ft=class{constructor(e,t,i){this.command=e,this.args=t,this.options=i}};Ft=_([P.es5ClassCompat,S("design:paramtypes",[String,Array,Object])],Ft),t.DebugAdapterExecutable=Ft,function(e){e.is=function(e){return!!e&&"command"in e}}(Ft=t.DebugAdapterExecutable||(t.DebugAdapterExecutable={})),t.DebugAdapterExecutable=Ft;let jt=class{constructor(e,t){this.port=e,this.host=t}};jt=_([P.es5ClassCompat,S("design:paramtypes",[Number,String])],jt),t.DebugAdapterServer=jt,function(e){e.is=function(e){return!!e&&"port"in e}}(jt=t.DebugAdapterServer||(t.DebugAdapterServer={})),t.DebugAdapterServer=jt;let Wt=class{constructor(e){this.path=e}};Wt=_([P.es5ClassCompat,S("design:paramtypes",[String])],Wt),t.DebugAdapterNamedPipeServer=Wt,function(e){e.is=function(e){return!!e&&"path"in e}}(Wt=t.DebugAdapterNamedPipeServer||(t.DebugAdapterNamedPipeServer={})),t.DebugAdapterNamedPipeServer=Wt;let zt=class{constructor(e){this.implementation=e}};var Ut;zt=_([P.es5ClassCompat,S("design:paramtypes",[Object])],zt),t.DebugAdapterInlineImplementation=zt,function(e){e.is=function(e){return!!e&&"implementation"in e}}(zt=t.DebugAdapterInlineImplementation||(t.DebugAdapterInlineImplementation={})),t.DebugAdapterInlineImplementation=zt,(Ut=t.LogLevel||(t.LogLevel={}))[Ut.Off=0]="Off",Ut[Ut.Trace=1]="Trace",Ut[Ut.Debug=2]="Debug",Ut[Ut.Info=3]="Info",Ut[Ut.Warning=4]="Warning",Ut[Ut.Error=5]="Error";let Ht=class{constructor(e,t,i,n,o){this.enabled=e||!1,this.condition=t,this.hitCondition=i,this.logMessage=n,this._id=o}get id(){return this._id||(this._id=k.UUID.uuid4()),this._id}};Ht=_([P.es5ClassCompat,S("design:paramtypes",[Boolean,String,String,String,String])],Ht),t.Breakpoint=Ht;let Vt=class extends Ht{constructor(e,t,i,n,o,r){super(t,i,n,o,r),this.location=e}};Vt=_([P.es5ClassCompat,S("design:paramtypes",[Ae,Boolean,String,String,String,String])],Vt),t.SourceBreakpoint=Vt;let Kt=class extends Ht{constructor(e,t,i,n,o,r){super(t,i,n,o,r),this.functionName=e}};Kt=_([P.es5ClassCompat,S("design:paramtypes",[String,Boolean,String,String,String,String])],Kt),t.FunctionBreakpoint=Kt;let Gt=class{constructor(e,t,i,n){this.red=e,this.green=t,this.blue=i,this.alpha=n}};Gt=_([P.es5ClassCompat,S("design:paramtypes",[Number,Number,Number,Number])],Gt),t.Color=Gt;let $t=class{constructor(e,t){if(t&&!(t instanceof Gt))throw(0,x.illegalArgument)("color");if(!Q.isRange(e))throw(0,x.illegalArgument)("range");this.range=e,this.color=t}};$t=_([P.es5ClassCompat,S("design:paramtypes",[Q,Gt])],$t),t.ColorInformation=$t;let qt=class{constructor(e){if(!e||"string"!=typeof e)throw(0,x.illegalArgument)("label");this.label=e}};var Yt;qt=_([P.es5ClassCompat,S("design:paramtypes",[String])],qt),t.ColorPresentation=qt,(Yt=t.ColorFormat||(t.ColorFormat={}))[Yt.RGB=0]="RGB",Yt[Yt.HEX=1]="HEX",Yt[Yt.HSL=2]="HSL";let Qt=class{constructor(e){this.value=e}};Qt=_([P.es5ClassCompat,S("design:paramtypes",[String])],Qt),t.InlayHintLabelPart=Qt;let Xt=class{constructor(e,t,i){this.position=e,this.label=t,this.kind=i}};var Zt;Xt=_([P.es5ClassCompat,S("design:paramtypes",[Function,Object,Number])],Xt),t.InlayHint=Xt,(Zt=t.InlayHintKind||(t.InlayHintKind={}))[Zt.Type=1]="Type",Zt[Zt.Parameter=2]="Parameter";let Jt=class{constructor(e,t,i){this.start=e,this.end=t,this.kind=i}};var ei;Jt=_([P.es5ClassCompat,S("design:paramtypes",[Number,Number,Number])],Jt),t.FoldingRange=Jt,(ei=t.FoldingRangeKind||(t.FoldingRangeKind={}))[ei.Comment=1]="Comment",ei[ei.Imports=2]="Imports",ei[ei.Region=3]="Region";let ti=class{constructor(e,t){if(this.range=e,this.parent=t,t&&!t.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};var ii,ni,oi;ti=_([P.es5ClassCompat,S("design:paramtypes",[Q,ti])],ti),t.SelectionRange=ti,(oi=t.OperatingSystem||(t.OperatingSystem={})).Windows="Windows",oi.Linux="Linux",oi.OSX="OSX",(ni=t.WebviewPanelTargetArea||(t.WebviewPanelTargetArea={})).Main="main",ni.Left="left",ni.Right="right",ni.Bottom="bottom",(ii=t.UIKind||(t.UIKind={}))[ii.Desktop=1]="Desktop",ii[ii.Web=2]="Web";let ri=A=class{constructor(e,t,i,n,o,r){this.kind=e,this.name=t,this.detail=i,this.uri=n,this.range=o,this.selectionRange=r}static isCallHierarchyItem(e){return e instanceof A||!!e&&"number"==typeof e.kind&&"string"==typeof e.name&&R.isUri(e.uri)&&Q.isRange(e.range)&&Q.isRange(e.selectionRange)}};ri=A=_([P.es5ClassCompat,S("design:paramtypes",[Number,String,String,R,Q,Q])],ri),t.CallHierarchyItem=ri;let si=class{constructor(e,t){this.fromRanges=t,this.from=e}};si=_([P.es5ClassCompat,S("design:paramtypes",[ri,Array])],si),t.CallHierarchyIncomingCall=si;let ai=class{constructor(e,t){this.fromRanges=t,this.to=e}};ai=_([P.es5ClassCompat,S("design:paramtypes",[ri,Array])],ai),t.CallHierarchyOutgoingCall=ai;let ci=y=class{constructor(e,t,i,n,o,r){this.kind=e,this.name=t,this.detail=i,this.uri=n,this.range=o,this.selectionRange=r}static isTypeHierarchyItem(e){return e instanceof y||!!e&&"number"==typeof e.kind&&"string"==typeof e.name&&R.isUri(e.uri)&&Q.isRange(e.range)&&Q.isRange(e.selectionRange)}};var li;ci=y=_([P.es5ClassCompat,S("design:paramtypes",[Number,String,String,R,Q,Q])],ci),t.TypeHierarchyItem=ci,(li=t.LanguageStatusSeverity||(t.LanguageStatusSeverity={}))[li.Information=0]="Information",li[li.Warning=1]="Warning",li[li.Error=2]="Error";let di=class{constructor(e,t){this.ranges=e,this.wordPattern=t}};var ui;di=_([P.es5ClassCompat,S("design:paramtypes",[Array,RegExp])],di),t.LinkedEditingRanges=di,(ui=t.TestRunProfileKind||(t.TestRunProfileKind={}))[ui.Run=1]="Run",ui[ui.Debug=2]="Debug",ui[ui.Coverage=3]="Coverage";let hi=class{constructor(e){this.id=e}};hi=_([P.es5ClassCompat,S("design:paramtypes",[String])],hi),t.TestTag=hi;let pi=class{constructor(e=void 0,t=void 0,i=void 0,n=void 0){this.include=e,this.exclude=t,this.profile=i,this.continuous=n}};pi=_([P.es5ClassCompat,S("design:paramtypes",[Object,Object,Object,Object])],pi),t.TestRunRequest=pi;let gi=C=class{constructor(e){this.message=e}static diff(e,t,i){const n=new C(e);return n.expectedOutput=t,n.actualOutput=i,n}};gi=C=_([P.es5ClassCompat,S("design:paramtypes",[Object])],gi),t.TestMessage=gi;let fi=class{constructor(e,t){this.label=e,this.timestamp=t}};fi=_([P.es5ClassCompat,S("design:paramtypes",[String,Number])],fi),t.TimelineItem=fi;let mi=class{constructor(e,t=[]){this.tokenTypes=e,this.tokenModifiers=t}};mi=_([P.es5ClassCompat,S("design:paramtypes",[Array,Array])],mi),t.SemanticTokensLegend=mi;let bi=w=class{constructor(e){if(this._prevLine=0,this._prevChar=0,this._dataIsSortedAndDeltaEncoded=!0,this._data=[],this._dataLen=0,this._tokenTypeStrToInt=new Map,this._tokenModifierStrToInt=new Map,this._hasLegend=!1,e){this._hasLegend=!0;for(let t=0,i=e.tokenTypes.length;t<i;t++)this._tokenTypeStrToInt.set(e.tokenTypes[t],t);for(let t=0,i=e.tokenModifiers.length;t<i;t++)this._tokenModifierStrToInt.set(e.tokenModifiers[t],t)}}push(e,t,i,n,o){if("number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof n&&("number"==typeof o||void 0===o))return void 0===o&&(o=0),this._pushEncoded(e,t,i,n,o);if(Q.isRange(e)&&"string"==typeof t&&(void 0===(r=i)||(0,O.isStringArray)(r)))return this._push(e,t,i);var r;throw(0,x.illegalArgument)()}_push(e,t,i){if(!this._hasLegend)throw new Error("Legend must be provided in constructor");if(e.start.line!==e.end.line)throw new Error("`range` cannot span multiple lines");if(!this._tokenTypeStrToInt.has(t))throw new Error("`tokenType` is not in the provided legend");const n=e.start.line,o=e.start.character,r=e.end.character-e.start.character,s=this._tokenTypeStrToInt.get(t);let a=0;if(i)for(const e of i){if(!this._tokenModifierStrToInt.has(e))throw new Error("`tokenModifier` is not in the provided legend");a|=1<<this._tokenModifierStrToInt.get(e)>>>0}this._pushEncoded(n,o,r,s,a)}_pushEncoded(e,t,i,n,o){if(this._dataIsSortedAndDeltaEncoded&&(e<this._prevLine||e===this._prevLine&&t<this._prevChar)){this._dataIsSortedAndDeltaEncoded=!1;const e=this._data.length/5|0;let t=0,i=0;for(let n=0;n<e;n++){let e=this._data[5*n],o=this._data[5*n+1];0===e?(e=t,o+=i):e+=t,this._data[5*n]=e,this._data[5*n+1]=o,t=e,i=o}}let r=e,s=t;this._dataIsSortedAndDeltaEncoded&&this._dataLen>0&&(r-=this._prevLine,0===r&&(s-=this._prevChar)),this._data[this._dataLen++]=r,this._data[this._dataLen++]=s,this._data[this._dataLen++]=i,this._data[this._dataLen++]=n,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=t}static _sortAndDeltaEncode(e){const t=[],i=e.length/5|0;for(let e=0;e<i;e++)t[e]=e;t.sort(((t,i)=>{const n=e[5*t],o=e[5*i];return n===o?e[5*t+1]-e[5*i+1]:n-o}));const n=new Uint32Array(e.length);let o=0,r=0;for(let s=0;s<i;s++){const i=5*t[s],a=e[i+0],c=e[i+1],l=e[i+2],d=e[i+3],u=e[i+4],h=a-o,p=0===h?c-r:c,g=5*s;n[g+0]=h,n[g+1]=p,n[g+2]=l,n[g+3]=d,n[g+4]=u,o=a,r=c}return n}build(e){return this._dataIsSortedAndDeltaEncoded?new vi(new Uint32Array(this._data),e):new vi(w._sortAndDeltaEncode(this._data),e)}};bi=w=_([P.es5ClassCompat,S("design:paramtypes",[mi])],bi),t.SemanticTokensBuilder=bi;let vi=class{constructor(e,t){this.resultId=t,this.data=e}};vi=_([P.es5ClassCompat,S("design:paramtypes",[Uint32Array,String])],vi),t.SemanticTokens=vi;let Ai=class{constructor(e,t,i){this.start=e,this.deleteCount=t,this.data=i}};Ai=_([P.es5ClassCompat,S("design:paramtypes",[Number,Number,Uint32Array])],Ai),t.SemanticTokensEdit=Ai;let yi=class{constructor(e,t){this.resultId=t,this.edits=e}};var Ci;yi=_([P.es5ClassCompat,S("design:paramtypes",[Array,String])],yi),t.SemanticTokensEdits=yi,(Ci=t.InputBoxValidationSeverity||(t.InputBoxValidationSeverity={}))[Ci.Info=1]="Info",Ci[Ci.Warning=2]="Warning",Ci[Ci.Error=3]="Error",t.TextTabInput=class{constructor(e){this.uri=e}},t.TextDiffTabInput=class{constructor(e,t){this.original=e,this.modified=t}},t.TextMergeTabInput=class{constructor(e,t,i,n){this.base=e,this.input1=t,this.input2=i,this.result=n}},t.CustomEditorTabInput=class{constructor(e,t){this.uri=e,this.viewType=t}},t.WebviewEditorTabInput=class{constructor(e){this.viewType=e}},t.TelemetryTrustedValue=class{constructor(e){this.value=e}},t.TelemetryLogger=class{constructor(e,t){this.sender=e,this.options=t}logUsage(e,t){}logError(e,t){}dispose(){}},t.NotebookEditorTabInput=class{constructor(e,t){this.uri=e,this.notebookType=t}},t.NotebookDiffEditorTabInput=class{constructor(e,t,i){this.original=e,this.modified=t,this.notebookType=i}},t.TerminalEditorTabInput=class{constructor(){}},t.InteractiveWindowInput=class{constructor(e,t){this.uri=e,this.inputBoxUri=t}};let wi=class{constructor(e){this.insertText=e}};var _i;wi=_([P.es5ClassCompat,S("design:paramtypes",[Object])],wi),t.DocumentPasteEdit=wi,(_i=t.EditSessionIdentityMatch||(t.EditSessionIdentityMatch={}))[_i.Complete=100]="Complete",_i[_i.Partial=50]="Partial",_i[_i.None=0]="None"},81784:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractResourcePreferenceProvider=void 0;const r=i(69592),s=i(70801),a=i(51138),c=i(87361),l=i(30970),d=i(1278),u=i(60516),h=i(14304),p=i(50641),g=i(9825);let f=class extends c.PreferenceProvider{constructor(){super(...arguments),this.preferences={},this._fileExists=!1,this.loading=new u.Deferred,this.onDidChangeValidityEmitter=new g.Emitter}set fileExists(e){e!==this._fileExists&&(this._fileExists=e,this.onDidChangeValidityEmitter.fire(e))}get onDidChangeValidity(){return this.onDidChangeValidityEmitter.event}init(){this.doInit()}async doInit(){const e=this.getUri();this.toDispose.push(a.Disposable.create((()=>this.loading.reject(new Error(`Preference provider for '${e}' was disposed.`))))),await this.readPreferencesFromFile(),this._ready.resolve(),this.loading.resolve();const t=this.toFileManager().getConfigUri();this.toDispose.pushAll([this.fileService.watch(t),this.fileService.onDidFilesChange((e=>{e.contains(t)&&this.readPreferencesFromFile()})),a.Disposable.create((()=>this.reset()))])}get valid(){return this._fileExists}getConfigUri(e){return e?this.valid&&this.contains(e)?this.getUri():void 0:this.getUri()}contains(e){if(!e)return!0;const t=this.getDomain();if(!t)return!0;const i=new l.default(e).path;return t.some((e=>new l.default(e).path.relativity(i)>=0))}getPreferences(e){return this.valid&&this.contains(e)?this.preferences:{}}async setPreference(e,t,i){let n;return!(this.toDispose.disposed||!(n=this.getPath(e))||!this.contains(i))&&this.doSetPreference(e,n,t)}async doSetPreference(e,t,i){var n;if(!(null===(n=this.transaction)||void 0===n?void 0:n.open)){const e=this.transaction;this.transaction=this.transactionFactory(this.toFileManager(),null==e?void 0:e.result),this.transaction.onWillConclude((({status:e,waitUntil:t})=>{e&&t((async()=>{await this.readPreferencesFromFile(),await this.fireDidPreferencesChanged()})())})),this.toDispose.push(this.transaction)}return this.transaction.enqueueAction(e,t,i)}toFileManager(){return this}getPath(e){const t=this.preferenceOverrideService.overriddenPreferenceName(e);return(null==t?void 0:t.overrideIdentifier)?[this.preferenceOverrideService.markLanguageOverride(t.overrideIdentifier),t.preferenceName]:[e]}async readPreferencesFromFile(){const e=await this.fileService.read(this.toFileManager().getConfigUri()).then((e=>(this.fileExists=!0,e))).catch((()=>(this.fileExists=!1,{value:""})));this.readPreferencesFromContent(e.value)}readPreferencesFromContent(e){let t;try{t=this.parse(e)}catch{t={}}const i=this.getParsedContent(t);this.handlePreferenceChanges(i)}parse(e){if(!(e=e.trim()))return;const t=r.stripComments(e);return r.parse(t)}handlePreferenceChanges(e){const t=Object.assign({},this.preferences);this.preferences=e;const i=new Set([...Object.keys(t),...Object.keys(e)]),n=[],o=this.getUri();for(const r of i.values()){const i=t[r],s=e[r],a=this.schemaProvider.getCombinedSchema().properties[r];if(a){const e=a.scope;if(!this.schemaProvider.isValidInScope(r,this.getScope())){console.warn(`Preference ${r} in ${o} can only be defined in scopes: ${c.PreferenceScope.getScopeNames(e).join(", ")}.`);continue}}c.PreferenceProvider.deepEqual(s,i)||n.push({preferenceName:r,newValue:s,oldValue:i,scope:this.getScope(),domain:this.getDomain()})}n.length>0&&this.emitPreferencesChangedEvent(n)}reset(){const e=this.preferences;this.preferences={};const t=[];for(const i of Object.keys(e)){const n=e[i];void 0!==n&&t.push({preferenceName:i,newValue:void 0,oldValue:n,scope:this.getScope(),domain:this.getDomain()})}t.length>0&&this.emitPreferencesChangedEvent(t)}};n([(0,s.inject)(p.PreferenceTransactionFactory),o("design:type",Function)],f.prototype,"transactionFactory",void 0),n([(0,s.inject)(c.PreferenceSchemaProvider),o("design:type",c.PreferenceSchemaProvider)],f.prototype,"schemaProvider",void 0),n([(0,s.inject)(h.FileService),o("design:type",h.FileService)],f.prototype,"fileService",void 0),n([(0,s.inject)(d.PreferenceConfigurations),o("design:type",d.PreferenceConfigurations)],f.prototype,"configurations",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],f.prototype,"init",null),f=n([(0,s.injectable)()],f),t.AbstractResourcePreferenceProvider=f},6118:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FolderPreferenceProvider=t.FolderPreferenceProviderFolder=t.FolderPreferenceProviderFactory=void 0;const r=i(70801),s=i(87361),a=(i(36090),i(47844));t.FolderPreferenceProviderFactory=Symbol("FolderPreferenceProviderFactory"),t.FolderPreferenceProviderFolder=Symbol("FolderPreferenceProviderFolder");let c=class extends a.SectionPreferenceProvider{get folderUri(){return this._folderUri||(this._folderUri=this.folder.resource),this._folderUri}getScope(){return this.workspaceService.isMultiRootWorkspaceOpened?s.PreferenceScope.Folder:s.PreferenceScope.Workspace}getDomain(){return[this.folderUri.toString()]}};n([(0,r.inject)(t.FolderPreferenceProviderFolder),o("design:type",Object)],c.prototype,"folder",void 0),c=n([(0,r.injectable)()],c),t.FolderPreferenceProvider=c},2477:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FoldersPreferencesProvider=void 0;const r=i(70801),s=i(30970),a=i(98516),c=i(27030),l=i(1278),d=i(6118);let u=class extends a.PreferenceProvider{constructor(){super(...arguments),this.providers=new Map}init(){this.doInit()}async doInit(){await this.workspaceService.roots,this.updateProviders(),this.workspaceService.onWorkspaceChanged((()=>this.updateProviders()));const e=[];for(const t of this.providers.values())e.push(t.ready.catch((e=>console.error(e))));Promise.all(e).then((()=>this._ready.resolve()))}updateProviders(){const e=this.workspaceService.tryGetRoots(),t=new Set(this.providers.keys());for(const i of e)for(const e of this.configurations.getPaths())for(const n of[...this.configurations.getSectionNames(),this.configurations.getConfigName()]){const o=this.configurations.createUri(i.resource,e,n),r=o.toString();if(t.delete(r),!this.providers.has(r)){const e=this.createProvider(o,n,i);this.providers.set(r,e)}}for(const e of t){const t=this.providers.get(e);t&&(this.providers.delete(e),t.dispose())}}getConfigUri(e,t=this.configurations.getConfigName()){for(const i of this.getFolderProviders(e)){const n=i.getConfigUri(e);if(n&&this.configurations.getName(n)===t)return n}}getContainingConfigUri(e,t=this.configurations.getConfigName()){for(const i of this.getFolderProviders(e)){const n=i.getConfigUri();if(i.contains(e)&&this.configurations.getName(n)===t)return n}}getDomain(){return this.workspaceService.tryGetRoots().map((e=>e.resource.toString()))}resolve(e,t){const i={},n=this.groupProvidersByConfigName(t);for(const o of n.values())for(const n of o){const{value:o,configUri:r}=n.resolve(e,t);if(r&&void 0!==o){i.configUri=r,i.value=a.PreferenceProvider.merge(i.value,o);break}}return i}getPreferences(e){let t={};const i=this.groupProvidersByConfigName(e);for(const n of i.values())for(const i of n)if(i.getConfigUri(e)){const e=i.getPreferences();t=a.PreferenceProvider.merge(t,e);break}return t}async setPreference(e,t,i){const n=e.split(".",1)[0],o=this.configurations.getConfigName(),r=this.configurations.isSectionName(n)?n:o;let s;const a=this.getFolderProviders(i).filter((e=>{const t=e.getConfigUri(i);void 0===s&&t&&(s=this.configurations.getPath(t));const n=this.configurations.getName(null!=t?t:e.getConfigUri());return n===r||n===o})),c=[],l=[],d=[],u=[];for(const n of a){const o=n.getConfigUri(i),a=null!=o?o:n.getConfigUri(),h=this.configurations.getName(a)===r,p=this.configurations.getPath(a)===s;if(h&&o){if(await n.setPreference(e,t,i))return!0}else h&&p?c.push(n):h?l.push(n):o?d.push(n):u.push(n)}const h=[c,l,d,u];for(const n of h)for(const o of n)if(await o.setPreference(e,t,i))return!0;return!1}canHandleScope(e){return this.workspaceService.isMultiRootWorkspaceOpened&&e===a.PreferenceScope.Folder||e===a.PreferenceScope.Workspace}groupProvidersByConfigName(e){const t=new Map,i=this.getFolderProviders(e);for(const e of[this.configurations.getConfigName(),...this.configurations.getSectionNames()]){const n=[];for(const t of i)this.configurations.getName(t.getConfigUri())===e&&n.push(t);t.set(e,n)}return t}getFolderProviders(e){if(!e)return[];const t=new s.default(e).path;let i={relativity:Number.MAX_SAFE_INTEGER};const n=new Map;for(const e of this.providers.values()){const o=e.folderUri.toString(),r=n.get(o)||[];r.push(e),n.set(o,r);const s=e.folderUri.path.relativity(t);s>=0&&i.relativity>s&&(i={relativity:s,uri:o})}return i.uri&&n.get(i.uri)||[]}createProvider(e,t,i){const n=this.folderPreferenceProviderFactory(e,t,i);return this.toDispose.push(n),this.toDispose.push(n.onDidPreferencesChanged((e=>this.onDidPreferencesChangedEmitter.fire(e)))),n}};n([(0,r.inject)(c.WorkspaceService),o("design:type",c.WorkspaceService)],u.prototype,"workspaceService",void 0),n([(0,r.inject)(d.FolderPreferenceProviderFactory),o("design:type",Function)],u.prototype,"folderPreferenceProviderFactory",void 0),n([(0,r.inject)(l.PreferenceConfigurations),o("design:type",l.PreferenceConfigurations)],u.prototype,"configurations",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.FoldersPreferencesProvider=u},4941:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoJSONCEditor=void 0;const r=i(69592),s=i(77582),a=i(70801),c=i(39539);let l=class{async setValue(e,t,i,n=!0){const o=this.getEditOperations(e,t,i);o.length>0&&await this.workspace.applyBackgroundEdit(e,o,n)}getEditOperations(e,t,i){const n=e.textEditorModel,o=e.getText().trim();if(!o&&void 0===i)return[];if(!t.length&&void 0===i)return[{range:n.getFullModelRange(),text:null,forceMoveMarkers:!1}];const{insertSpaces:s,tabSize:a,defaultEOL:l}=n.getOptions(),d={formattingOptions:{insertSpaces:s,tabSize:a,eol:l===c.editor.DefaultEndOfLine.LF?"\n":"\r\n"}};return r.modify(o,t,i,d).map((e=>{const t=n.getPositionAt(e.offset),i=n.getPositionAt(e.offset+e.length);return{range:c.Range.fromPositions(t,i),text:e.content||null,forceMoveMarkers:!1}}))}};n([(0,a.inject)(s.MonacoWorkspace),o("design:type",s.MonacoWorkspace)],l.prototype,"workspace",void 0),l=n([(0,a.injectable)()],l),t.MonacoJSONCEditor=l},38792:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindPreferenceProviders=t.bindFactory=t.bindWorkspaceFilePreferenceProvider=void 0;const n=i(70801),o=i(98516),r=i(56881),s=i(18796),a=i(75110),c=i(2477),l=i(6118),d=i(82267),u=i(47844);function h(e){e(a.WorkspaceFilePreferenceProviderFactory).toFactory((e=>t=>{const i=new n.Container({defaultScope:"Singleton"});return i.parent=e.container,i.bind(a.WorkspaceFilePreferenceProvider).toSelf(),i.bind(a.WorkspaceFilePreferenceProviderOptions).toConstantValue(t),i.get(a.WorkspaceFilePreferenceProvider)}))}function p(e,t,i,...o){e(t).toFactory((e=>(...t)=>{const r=new n.Container({defaultScope:"Singleton"});r.parent=e.container;for(let e=0;e<o.length;e++)r.bind(o[e]).toConstantValue(t[e]);return r.bind(i).to(i),r.get(i)}))}t.bindWorkspaceFilePreferenceProvider=h,t.bindFactory=p,t.bindPreferenceProviders=function(e,t){t(o.PreferenceProvider),e(o.PreferenceProvider).to(d.UserConfigsPreferenceProvider).inSingletonScope().whenTargetNamed(o.PreferenceScope.User),e(o.PreferenceProvider).to(s.WorkspacePreferenceProvider).inSingletonScope().whenTargetNamed(o.PreferenceScope.Workspace),e(o.PreferenceProvider).to(c.FoldersPreferencesProvider).inSingletonScope().whenTargetNamed(o.PreferenceScope.Folder),h(e),p(e,r.UserPreferenceProviderFactory,r.UserPreferenceProvider,u.SectionPreferenceProviderUri,u.SectionPreferenceProviderSection),p(e,l.FolderPreferenceProviderFactory,l.FolderPreferenceProvider,u.SectionPreferenceProviderUri,u.SectionPreferenceProviderSection,l.FolderPreferenceProviderFolder)}},27288:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindPreferences=void 0,i(1919),i(14245);const n=i(70801),o=i(87361),r=i(23119),s=i(35468),a=i(38792),c=i(13820),l=i(84882),d=i(82761),u=i(11234),h=i(56012),p=i(4941),g=i(50641),f=i(55952);function m(e,t){(0,a.bindPreferenceProviders)(e,t),(0,c.bindPreferencesWidgets)(e),e(s.PreferenceTreeGenerator).toSelf().inSingletonScope(),(0,o.bindViewContribution)(e,l.PreferencesContribution),e(f.PreferenceOpenHandler).toSelf().inSingletonScope(),e(o.OpenHandler).toService(f.PreferenceOpenHandler),e(d.PreferenceScopeCommandManager).toSelf().inSingletonScope(),e(r.TabBarToolbarContribution).toService(l.PreferencesContribution),e(h.PreferencesJsonSchemaContribution).toSelf().inSingletonScope(),e(u.JsonSchemaContribution).toService(h.PreferencesJsonSchemaContribution),e(p.MonacoJSONCEditor).toSelf().inSingletonScope(),e(g.PreferenceTransaction).toSelf(),e(g.PreferenceTransactionFactory).toFactory(g.preferenceTransactionFactoryCreator)}t.bindPreferences=m,t.default=new n.ContainerModule(((e,t,i,n)=>{m(e,t)}))},55952:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceOpenHandler=void 0;const r=i(87361),s=i(70801),a=i(84882);let c=class{constructor(){this.id="preference"}canHandle(e){return e.scheme===this.id?500:-1}async open(e){const t=await this.preferencesContribution.openView(),i=`li[data-pref-id="${e.path.toString()}"]:not([data-node-id^="commonly-used@"])`,n=document.querySelector(i);return n instanceof HTMLElement&&(n.classList.contains("hidden")&&(await t.setSearchTerm(""),await(0,r.animationFrame)()),n.scrollIntoView({block:"center"}),n.focus(),!0)}};n([(0,s.inject)(a.PreferencesContribution),o("design:type",a.PreferencesContribution)],c.prototype,"preferencesContribution",void 0),c=n([(0,s.injectable)()],c),t.PreferenceOpenHandler=c},50641:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.preferenceTransactionFactoryCreator=t.PreferenceTransactionFactory=t.PreferenceTransaction=t.PreferenceTransactionPreludeProvider=t.PreferenceContext=t.Transaction=void 0;const r=i(9825),s=i(60516),a=i(70801),c=i(53072),l=i(30970),d=i(61488),u=i(731),h=i(4941),p=i(20504);let g=class{constructor(){this._open=!0,this._result=new s.Deferred,this.queue=new d.Mutex(new r.CancellationError),this.onWillConcludeEmitter=new r.Emitter,this.status=new s.Deferred,this.inUse=!1}get open(){return this._open}get result(){return this._result.promise}get onWillConclude(){return this.onWillConcludeEmitter.event}init(){this.doInit()}async doInit(){const e=await this.queue.acquire();try{const e=await this.setUp();this.status.resolve(e)}catch{this.dispose()}finally{e()}}async waitFor(e,t){try{await this.queue.runExclusive((()=>e))}catch{t&&this.dispose()}}async enqueueAction(...e){if(!this._open)throw new Error("Transaction used after disposal.");{let t;try{return t=await this.queue.acquire(),this.inUse||(this.inUse=!0,this.disposeWhenDone()),this.act(...e)}catch(e){if(e instanceof r.CancellationError)throw e;return!1}finally{null==t||t()}}}disposeWhenDone(){this.queue.waitForUnlock().then((()=>{this.queue.isLocked()?this.disposeWhenDone():this.dispose()}))}async conclude(){if(this._open)try{this._open=!1,this.queue.cancel();const e=await this.tearDown(),t="unresolved"!==this.status.state&&"rejected"!==this.status.state&&await this.status.promise;await r.WaitUntilEvent.fire(this.onWillConcludeEmitter,{status:t}),this.onWillConcludeEmitter.dispose(),this._result.resolve(e)}catch{this._result.resolve(!1)}}dispose(){this.conclude()}};n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"init",null),g=n([(0,a.injectable)()],g),t.Transaction=g,t.PreferenceContext=Symbol("PreferenceContext"),t.PreferenceTransactionPreludeProvider=Symbol("PreferenceTransactionPreludeProvider");let f=class extends g{async doInit(){var e;this.waitFor(null===(e=this.prelude)||void 0===e?void 0:e.call(this)),await super.doInit()}async setUp(){const e=await this.textModelService.createModelReference(this.context.getConfigUri());return this._open?(this.reference=e,!(e.object.dirty&&!await this.handleDirtyEditor())||(this.dispose(),!1)):(e.dispose(),!1)}async handleDirtyEditor(){var e;const t=r.nls.localizeByDefault("Save and Retry"),i=r.nls.localizeByDefault("Open File"),n=await this.messageService.error(r.nls.localizeByDefault("Unable to write into {0} settings because the file has unsaved changes. Please save the {0} settings file first and then try again.",r.nls.localizeByDefault(c.PreferenceScope[this.context.getScope()].toLocaleLowerCase())),t,i);if(null===(e=this.reference)||void 0===e?void 0:e.object)if(n===i)this.editorManager.open(new l.default(this.reference.object.uri));else if(n===t)return await this.reference.object.save(),!0;return!1}async act(e,t,i){var n;const o=null===(n=this.reference)||void 0===n?void 0:n.object;try{return!!o&&(await this.jsoncEditor.setValue(o,t,i),this.result)}catch(t){const i=`Failed to update the value of '${e}' in '${this.context.getConfigUri()}'.`;return this.messageService.error(`${i} Please check if it is corrupted.`),console.error(`${i}`,t),!1}}async tearDown(){var e,t;try{const t=null===(e=this.reference)||void 0===e?void 0:e.object;return!(!t||"resolved"!==this.status.state||!await this.status.promise||(await t.save(),0))}finally{null===(t=this.reference)||void 0===t||t.dispose(),this.reference=void 0}}};n([(0,a.inject)(t.PreferenceContext),o("design:type",Object)],f.prototype,"context",void 0),n([(0,a.inject)(t.PreferenceTransactionPreludeProvider),o("design:type",Function)],f.prototype,"prelude",void 0),n([(0,a.inject)(u.MonacoTextModelService),o("design:type",u.MonacoTextModelService)],f.prototype,"textModelService",void 0),n([(0,a.inject)(h.MonacoJSONCEditor),o("design:type",h.MonacoJSONCEditor)],f.prototype,"jsoncEditor",void 0),n([(0,a.inject)(r.MessageService),o("design:type",r.MessageService)],f.prototype,"messageService",void 0),n([(0,a.inject)(p.EditorManager),o("design:type",p.EditorManager)],f.prototype,"editorManager",void 0),f=n([(0,a.injectable)()],f),t.PreferenceTransaction=f,t.PreferenceTransactionFactory=Symbol("PreferenceTransactionFactory"),t.preferenceTransactionFactoryCreator=({container:e})=>(i,n)=>{const o=e.createChild();return o.bind(t.PreferenceContext).toConstantValue(i),o.bind(t.PreferenceTransactionPreludeProvider).toConstantValue((()=>n)),o.get(f)}},78971:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceTreeModel=t.PreferenceFilterChangeSource=void 0;const r=i(70801),s=i(87361),a=i(9825),c=i(76140),l=i(35468),d=i(54300),u=i(35561),h=i(32838);var p;!function(e){e[e.Schema=0]="Schema",e[e.Search=1]="Search",e[e.Scope=2]="Scope"}(p=t.PreferenceFilterChangeSource||(t.PreferenceFilterChangeSource={}));let g=class extends s.TreeModelImpl{constructor(){super(...arguments),this.onTreeFilterChangedEmitter=new a.Emitter,this.onFilterChanged=this.onTreeFilterChangedEmitter.event,this.lastSearchedFuzzy="",this.lastSearchedLiteral="",this._currentScope=Number(h.Preference.DEFAULT_SCOPE.scope),this._isFiltered=!1,this._currentRows=new Map,this._totalVisibleLeaves=0}get currentRows(){return this._currentRows}get totalVisibleLeaves(){return this._totalVisibleLeaves}get isFiltered(){return this._isFiltered}get propertyList(){return this.schemaProvider.getCombinedSchema().properties}get currentScope(){return this.scopeTracker.currentScope}get onSchemaChanged(){return this.treeGenerator.onSchemaChanged}init(){this.doInit()}async doInit(){super.init(),this.toDispose.pushAll([this.treeGenerator.onSchemaChanged((e=>this.handleNewSchema(e))),this.scopeTracker.onScopeChanged((e=>{this._currentScope=e.scope,this.updateFilteredRows(p.Scope)})),this.filterInput.onFilterChanged((e=>{this.lastSearchedLiteral=e,this.lastSearchedFuzzy=e.replace(/\s/g,""),this._isFiltered=e.length>2,this.isFiltered?this.expandAll():s.CompositeTreeNode.is(this.root)&&this.collapseAll(this.root),this.updateFilteredRows(p.Search)})),this.onFilterChanged((()=>{this.filterInput.updateResultsCount(this._totalVisibleLeaves)})),this.onTreeFilterChangedEmitter]),await this.preferenceService.ready,this.handleNewSchema(this.treeGenerator.root)}handleNewSchema(e){this.root=e,this.isFiltered&&this.expandAll(),this.updateFilteredRows(p.Schema)}updateRows(){const e=this.root;if(this._currentRows=new Map,e){this._totalVisibleLeaves=0;let t=0;for(const i of new s.TopDownTreeIterator(e,{pruneCollapsed:!1,pruneSiblings:!0}))if(s.TreeNode.isVisible(i)&&h.Preference.TreeNode.is(i)){const{id:e}=h.Preference.TreeNode.getGroupAndIdFromNodeId(i.id);(s.CompositeTreeNode.is(i)||this.passesCurrentFilters(i,e))&&(this.updateVisibleChildren(i),this._currentRows.set(i.id,{index:t++,node:i,depth:i.depth,visibleChildren:0}))}}}updateFilteredRows(e){this.updateRows(),this.onTreeFilterChangedEmitter.fire({source:e})}passesCurrentFilters(e,t){var i;return!!this.schemaProvider.isValidInScope(t,this._currentScope)&&(!this._isFiltered||!e.id.startsWith(l.COMMONLY_USED_SECTION_PREFIX)&&(d.test(this.lastSearchedFuzzy,t)||(null!==(i=e.preference.data.description)&&void 0!==i?i:"").includes(this.lastSearchedLiteral)))}isVisibleSelectableNode(e){var t;return s.CompositeTreeNode.is(e)&&!!(null===(t=this._currentRows.get(e.id))||void 0===t?void 0:t.visibleChildren)}updateVisibleChildren(e){var t,i,n,o;if(!s.CompositeTreeNode.is(e)){this._totalVisibleLeaves++;let r=(null===(t=e.parent)||void 0===t?void 0:t.id)&&this._currentRows.get(null===(i=e.parent)||void 0===i?void 0:i.id);for(;r&&r.node!==this.root;)r&&(r.visibleChildren+=1),r=(null===(n=r.node.parent)||void 0===n?void 0:n.id)&&this._currentRows.get(null===(o=r.node.parent)||void 0===o?void 0:o.id),r&&(r.isExpansible=!0)}}collapseAllExcept(e){s.ExpandableTreeNode.is(e)&&this.expandNode(e),s.CompositeTreeNode.is(this.root)&&this.root.children.forEach((t=>{t!==e&&s.ExpandableTreeNode.is(t)&&this.collapseNode(t)}))}expandAll(){s.CompositeTreeNode.is(this.root)&&this.root.children.forEach((e=>{s.ExpandableTreeNode.is(e)&&this.expandNode(e)}))}getNodeFromPreferenceId(e){const t=this.getNode(this.treeGenerator.getNodeId(e));return t&&h.Preference.TreeNode.is(t)?t:void 0}selectIfNotSelected(e){return e!==this.selectedNodes[0]&&(this.selectNode(e),!0)}};n([(0,r.inject)(s.PreferenceSchemaProvider),o("design:type",s.PreferenceSchemaProvider)],g.prototype,"schemaProvider",void 0),n([(0,r.inject)(c.PreferencesSearchbarWidget),o("design:type",c.PreferencesSearchbarWidget)],g.prototype,"filterInput",void 0),n([(0,r.inject)(l.PreferenceTreeGenerator),o("design:type",l.PreferenceTreeGenerator)],g.prototype,"treeGenerator",void 0),n([(0,r.inject)(u.PreferencesScopeTabBar),o("design:type",u.PreferencesScopeTabBar)],g.prototype,"scopeTracker",void 0),n([(0,r.inject)(s.PreferenceService),o("design:type",Object)],g.prototype,"preferenceService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"init",null),g=n([(0,r.injectable)()],g),t.PreferenceTreeModel=g},84882:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesContribution=void 0;const r=i(70801),s=i(9825),a=i(87361),c=i(4836),l=i(30566),d=i(10597),u=i(18796),h=i(32838),p=i(8594),g=i(14304),f=i(73246);let m=class extends a.AbstractViewContribution{constructor(){super({widgetId:d.PreferencesWidget.ID,widgetName:d.PreferencesWidget.LABEL,defaultWidgetOptions:{area:"main"}})}registerCommands(e){e.registerCommand(a.CommonCommands.OPEN_PREFERENCES,{execute:async e=>{const t=await this.openView({activate:!0});"string"==typeof e&&t.setSearchTerm(e)}}),e.registerCommand(h.PreferencesCommands.OPEN_PREFERENCES_JSON_TOOLBAR,{isEnabled:()=>!0,isVisible:e=>this.withWidget(e,(()=>!0)),execute:e=>{this.openPreferencesJSON(e)}}),e.registerCommand(h.PreferencesCommands.COPY_JSON_NAME,{isEnabled:h.Preference.EditorCommandArgs.is,isVisible:h.Preference.EditorCommandArgs.is,execute:({id:e,value:t})=>{this.clipboardService.writeText(e)}}),e.registerCommand(h.PreferencesCommands.COPY_JSON_VALUE,{isEnabled:h.Preference.EditorCommandArgs.is,isVisible:h.Preference.EditorCommandArgs.is,execute:({id:e,value:t})=>{const i=`"${e}": ${JSON.stringify(t)}`;this.clipboardService.writeText(i)}}),e.registerCommand(h.PreferencesCommands.RESET_PREFERENCE,{isEnabled:h.Preference.EditorCommandArgs.is,isVisible:h.Preference.EditorCommandArgs.is,execute:({id:e})=>{this.preferenceService.set(e,void 0,Number(this.scopeTracker.currentScope.scope),this.scopeTracker.currentScope.uri)}}),e.registerCommand(h.PreferencesCommands.OPEN_USER_PREFERENCES,{execute:async()=>{(await this.openView({activate:!0})).setScope(a.PreferenceScope.User)}}),e.registerCommand(h.PreferencesCommands.OPEN_WORKSPACE_PREFERENCES,{isEnabled:()=>!!this.workspaceService.workspace,isVisible:()=>!!this.workspaceService.workspace,execute:async()=>{(await this.openView({activate:!0})).setScope(a.PreferenceScope.Workspace)}}),e.registerCommand(h.PreferencesCommands.OPEN_FOLDER_PREFERENCES,{isEnabled:()=>!!this.workspaceService.isMultiRootWorkspaceOpened&&this.workspaceService.tryGetRoots().length>0,isVisible:()=>!!this.workspaceService.isMultiRootWorkspaceOpened&&this.workspaceService.tryGetRoots().length>0,execute:()=>this.openFolderPreferences((e=>{this.openView({activate:!0}),this.scopeTracker.setScope(e.resource)}))}),e.registerCommand(h.PreferencesCommands.OPEN_USER_PREFERENCES_JSON,{execute:async()=>this.openJson(a.PreferenceScope.User)}),e.registerCommand(h.PreferencesCommands.OPEN_WORKSPACE_PREFERENCES_JSON,{isEnabled:()=>!!this.workspaceService.workspace,isVisible:()=>!!this.workspaceService.workspace,execute:async()=>this.openJson(a.PreferenceScope.Workspace)}),e.registerCommand(h.PreferencesCommands.OPEN_FOLDER_PREFERENCES_JSON,{isEnabled:()=>!!this.workspaceService.isMultiRootWorkspaceOpened&&this.workspaceService.tryGetRoots().length>0,isVisible:()=>!!this.workspaceService.isMultiRootWorkspaceOpened&&this.workspaceService.tryGetRoots().length>0,execute:()=>this.openFolderPreferences((e=>this.openJson(a.PreferenceScope.Folder,e.resource.toString())))})}registerMenus(e){e.registerMenuAction(a.CommonMenus.FILE_SETTINGS_SUBMENU_OPEN,{commandId:a.CommonCommands.OPEN_PREFERENCES.id,label:s.nls.localizeByDefault("Settings"),order:"a10"}),e.registerMenuAction(a.CommonMenus.SETTINGS_OPEN,{commandId:a.CommonCommands.OPEN_PREFERENCES.id,label:s.nls.localizeByDefault("Settings"),order:"a10"}),e.registerMenuAction(h.PreferenceMenus.PREFERENCE_EDITOR_CONTEXT_MENU,{commandId:h.PreferencesCommands.RESET_PREFERENCE.id,label:h.PreferencesCommands.RESET_PREFERENCE.label,order:"a"}),e.registerMenuAction(h.PreferenceMenus.PREFERENCE_EDITOR_COPY_ACTIONS,{commandId:h.PreferencesCommands.COPY_JSON_VALUE.id,label:h.PreferencesCommands.COPY_JSON_VALUE.label,order:"b"}),e.registerMenuAction(h.PreferenceMenus.PREFERENCE_EDITOR_COPY_ACTIONS,{commandId:h.PreferencesCommands.COPY_JSON_NAME.id,label:h.PreferencesCommands.COPY_JSON_NAME.label,order:"c"})}registerKeybindings(e){e.registerKeybinding({command:a.CommonCommands.OPEN_PREFERENCES.id,keybinding:c.isOSX&&!a.isFirefox?"cmd+,":"ctrl+,"})}registerToolbarItems(e){e.registerItem({id:h.PreferencesCommands.OPEN_PREFERENCES_JSON_TOOLBAR.id,command:h.PreferencesCommands.OPEN_PREFERENCES_JSON_TOOLBAR.id,tooltip:h.PreferencesCommands.OPEN_USER_PREFERENCES_JSON.label,priority:0})}async openPreferencesJSON(e){var t;const{scope:i,activeScopeIsFolder:n,uri:o}=this.scopeTracker.currentScope,r=Number(i);let s,a="";if("string"==typeof e){a=e;const i=this.preferenceService.inspect(a,o),n=null!==(t=h.Preference.getValueInScope(i,r))&&void 0!==t?t:null==i?void 0:i.defaultValue;this.preferenceService.set(a,n,r,o)}const c=await this.obtainConfigUri(r,n,o);if(c&&(s=await this.editorManager.open(c),a)){const e=s.editor.document.getText();if(a){const{index:t}=e.match(a),i=e.slice(0,t).match(new RegExp("\n","g")).length;s.editor.cursor={line:i,character:4+a.length+4}}}}async openJson(e,t){const i=await this.obtainConfigUri(e,!1,t);i&&await this.editorManager.open(i)}async openFolderPreferences(e){var t;const i=this.workspaceService.tryGetRoots();if(1===i.length)e(i[0]);else{const n=i.map((t=>({label:t.name,description:t.resource.path.fsPath(),execute:()=>e(t)})));null===(t=this.quickInputService)||void 0===t||t.showQuickPick(n,{placeholder:"Select workspace folder"})}}async obtainConfigUri(e,t,i){let n=e;t&&(n=a.PreferenceScope.Folder);const o=i||void 0,r=this.preferenceService.getConfigUri(n,o);if(r)return r&&!await this.fileService.exists(r)&&await this.fileService.create(r),r}withWidget(e=this.tryGetWidget(),t){return e instanceof d.PreferencesWidget&&e.id===d.PreferencesWidget.ID&&t(e)}};n([(0,r.inject)(g.FileService),o("design:type",g.FileService)],m.prototype,"fileService",void 0),n([(0,r.inject)(a.PreferenceProvider),(0,r.named)(a.PreferenceScope.Workspace),o("design:type",u.WorkspacePreferenceProvider)],m.prototype,"workspacePreferenceProvider",void 0),n([(0,r.inject)(l.EditorManager),o("design:type",l.EditorManager)],m.prototype,"editorManager",void 0),n([(0,r.inject)(a.PreferenceService),o("design:type",Object)],m.prototype,"preferenceService",void 0),n([(0,r.inject)(p.ClipboardService),o("design:type",Object)],m.prototype,"clipboardService",void 0),n([(0,r.inject)(d.PreferencesWidget),o("design:type",d.PreferencesWidget)],m.prototype,"scopeTracker",void 0),n([(0,r.inject)(f.WorkspaceService),o("design:type",f.WorkspaceService)],m.prototype,"workspaceService",void 0),n([(0,r.inject)(a.QuickInputService),(0,r.optional)(),o("design:type",Object)],m.prototype,"quickInputService",void 0),n([(0,r.inject)(a.PreferenceSchemaProvider),o("design:type",a.PreferenceSchemaProvider)],m.prototype,"schema",void 0),m=n([(0,r.injectable)(),o("design:paramtypes",[])],m),t.PreferencesContribution=m},56012:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesJsonSchemaContribution=void 0;const r=i(70801),s=i(30970),a=i(9825),c=i(41496),l=i(1278),d=i(87361),u=i(73246),h="vscode://schemas/settings/";let p=class{constructor(){this.serializeSchema=e=>JSON.stringify(this.schemaProvider.getSchema(e))}registerSchemas(e){this.registerSchema(d.PreferenceScope.Default,e),this.registerSchema(d.PreferenceScope.User,e),this.registerSchema(d.PreferenceScope.Workspace,e),this.registerSchema(d.PreferenceScope.Folder,e),this.workspaceService.updateSchema("settings",{$ref:this.getSchemaURIForScope(d.PreferenceScope.Workspace).toString()}),this.schemaProvider.onDidPreferenceSchemaChanged((()=>this.updateInMemoryResources()))}registerSchema(e,t){const i=d.PreferenceScope[e].toLowerCase(),n=new s.default(h+i);this.inmemoryResources.add(n,this.serializeSchema(e)),t.registerSchema({fileMatch:this.getFileMatch(i),url:n.toString()})}updateInMemoryResources(){this.inmemoryResources.update(this.getSchemaURIForScope(d.PreferenceScope.Default),this.serializeSchema(+d.PreferenceScope.Default)),this.inmemoryResources.update(this.getSchemaURIForScope(d.PreferenceScope.User),this.serializeSchema(+d.PreferenceScope.User)),this.inmemoryResources.update(this.getSchemaURIForScope(d.PreferenceScope.Workspace),this.serializeSchema(+d.PreferenceScope.Workspace)),this.inmemoryResources.update(this.getSchemaURIForScope(d.PreferenceScope.Folder),this.serializeSchema(+d.PreferenceScope.Folder))}getSchemaURIForScope(e){return new s.default(h+d.PreferenceScope[e].toLowerCase())}getFileMatch(e){const t=this.preferenceConfigurations.getConfigName()+".json";return[t,new s.default("user-storage:/"+e).resolve(t).toString()]}};n([(0,r.inject)(c.PreferenceSchemaProvider),o("design:type",c.PreferenceSchemaProvider)],p.prototype,"schemaProvider",void 0),n([(0,r.inject)(a.InMemoryResources),o("design:type",a.InMemoryResources)],p.prototype,"inmemoryResources",void 0),n([(0,r.inject)(l.PreferenceConfigurations),o("design:type",l.PreferenceConfigurations)],p.prototype,"preferenceConfigurations",void 0),n([(0,r.inject)(u.WorkspaceService),o("design:type",u.WorkspaceService)],p.prototype,"workspaceService",void 0),p=n([(0,r.injectable)()],p),t.PreferencesJsonSchemaContribution=p},14245:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(39539).languages.register({id:"jsonc",aliases:["JSON with Comments"],filenames:["settings.json"],extensions:[".theia-workspace"]})},47844:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SectionPreferenceProvider=t.SectionPreferenceProviderSection=t.SectionPreferenceProviderUri=void 0;const r=i(70801),s=i(30970),a=i(81784),c=i(27030),l=i(1278);t.SectionPreferenceProviderUri=Symbol("SectionPreferenceProviderUri"),t.SectionPreferenceProviderSection=Symbol("SectionPreferenceProviderSection");let d=class extends a.AbstractResourcePreferenceProvider{get isSection(){return void 0===this._isSection&&(this._isSection=this.preferenceConfigurations.isSectionName(this.section)),this._isSection}getUri(){return this.uri}parse(e){const t=super.parse(e);if(this.isSection){if(void 0===t)return;const e={};return e[this.section]={...t},e}return t}getPath(e){return this.isSection?e===this.section?[]:e.startsWith(`${this.section}.`)?[e.slice(this.section.length+1)]:void 0:super.getPath(e)}};n([(0,r.inject)(c.WorkspaceService),o("design:type",c.WorkspaceService)],d.prototype,"workspaceService",void 0),n([(0,r.inject)(t.SectionPreferenceProviderUri),o("design:type",s.default)],d.prototype,"uri",void 0),n([(0,r.inject)(t.SectionPreferenceProviderSection),o("design:type",String)],d.prototype,"section",void 0),n([(0,r.inject)(l.PreferenceConfigurations),o("design:type",l.PreferenceConfigurations)],d.prototype,"preferenceConfigurations",void 0),d=n([(0,r.injectable)()],d),t.SectionPreferenceProvider=d},82267:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserConfigsPreferenceProvider=void 0;const r=i(70801),s=i(53954),a=i(1278),c=i(60271),l=i(56881);let d=class extends s.PreferenceProvider{constructor(){super(...arguments),this.providers=new Map}init(){this.doInit()}async doInit(){this.createProviders();const e=[];for(const t of this.providers.values())e.push(t.ready.catch((e=>console.error(e))));Promise.all(e).then((()=>this._ready.resolve()))}createProviders(){for(const e of[...this.configurations.getSectionNames(),this.configurations.getConfigName()]){const t=c.UserStorageUri.resolve(e+".json"),i=t.toString();if(!this.providers.has(i)){const n=this.createProvider(t,e);this.providers.set(i,n)}}}getConfigUri(e,t=this.configurations.getConfigName()){for(const i of this.providers.values()){const n=i.getConfigUri(e);if(n&&this.configurations.getName(n)===t)return n}}resolve(e,t){const i={};for(const n of this.providers.values()){const{value:o,configUri:r}=n.resolve(e,t);r&&void 0!==o&&(i.configUri=r,i.value=s.PreferenceProvider.merge(i.value,o))}return i}getPreferences(e){let t={};for(const e of this.providers.values()){const i=e.getPreferences();t=s.PreferenceProvider.merge(t,i)}return t}async setPreference(e,t,i){const n=e.split(".",1)[0],o=this.configurations.getConfigName(),r=this.configurations.isSectionName(n)?n:o,s=async n=>{for(const o of this.providers.values())if(this.configurations.getName(o.getConfigUri())===n&&await o.setPreference(e,t,i))return!0;return!1};return!!await s(r)||r!==o&&s(o)}createProvider(e,t){const i=this.providerFactory(e,t);return this.toDispose.push(i),this.toDispose.push(i.onDidPreferencesChanged((e=>this.onDidPreferencesChangedEmitter.fire(e)))),i}};n([(0,r.inject)(l.UserPreferenceProviderFactory),o("design:type",Function)],d.prototype,"providerFactory",void 0),n([(0,r.inject)(a.PreferenceConfigurations),o("design:type",a.PreferenceConfigurations)],d.prototype,"configurations",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.UserConfigsPreferenceProvider=d},56881:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPreferenceProvider=t.UserPreferenceProviderFactory=void 0;const o=i(70801),r=i(87361),s=i(47844);t.UserPreferenceProviderFactory=Symbol("UserPreferenceProviderFactory");let a=class extends s.SectionPreferenceProvider{getScope(){return r.PreferenceScope.User}};a=n([(0,o.injectable)()],a),t.UserPreferenceProvider=a},82761:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceScopeCommandManager=t.FOLDER_SCOPE_MENU_PATH=void 0;const r=i(70801),s=i(87361),a=i(9825),c=i(32838);t.FOLDER_SCOPE_MENU_PATH=c.PreferenceMenus.FOLDER_SCOPE_MENU_PATH;let l=class{constructor(){this.foldersAsCommands=[]}createFolderWorkspacesMenu(e,i){this.foldersAsCommands.forEach((e=>{this.menuModelRegistry.unregisterMenuAction(e,t.FOLDER_SCOPE_MENU_PATH),this.commandRegistry.unregisterCommand(e)})),this.foldersAsCommands.length=0,e.forEach((e=>{const n=this.labelProvider.getName(e.resource),o=i===e.resource.toString()?(0,s.codicon)("pass"):"",r={id:`preferenceScopeCommand:${e.resource.toString()}`,label:n,iconClass:o};this.foldersAsCommands.push(r),this.commandRegistry.registerCommand(r,{isVisible:(e,t)=>"from-tabbar"===t,isEnabled:(e,t)=>"from-tabbar"===t,execute:t=>{t({scope:s.PreferenceScope.Folder,uri:e.resource.toString(),activeScopeIsFolder:!0})}}),this.menuModelRegistry.registerMenuAction(t.FOLDER_SCOPE_MENU_PATH,{commandId:r.id,label:r.label})}))}};n([(0,r.inject)(a.CommandRegistry),o("design:type",a.CommandRegistry)],l.prototype,"commandRegistry",void 0),n([(0,r.inject)(a.MenuModelRegistry),o("design:type",a.MenuModelRegistry)],l.prototype,"menuModelRegistry",void 0),n([(0,r.inject)(s.LabelProvider),o("design:type",s.LabelProvider)],l.prototype,"labelProvider",void 0),l=n([(0,r.injectable)()],l),t.PreferenceScopeCommandManager=l},35468:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceTreeGenerator=t.COMMONLY_USED_SECTION_PREFIX=void 0;const r=i(70801),s=i(87361),a=i(1278),c=i(9825),l=i(69972),d=i(32838);t.COMMONLY_USED_SECTION_PREFIX="commonly-used";let u=class{constructor(){this.onSchemaChangedEmitter=new c.Emitter,this.onSchemaChanged=this.onSchemaChangedEmitter.event,this.commonlyUsedPreferences=["files.autoSave","files.autoSaveDelay","editor.fontSize","editor.fontFamily","editor.tabSize","editor.renderWhitespace","editor.cursorStyle","editor.multiCursorModifier","editor.insertSpaces","editor.wordWrap","files.exclude","files.associations"],this.topLevelCategories=new Map([[t.COMMONLY_USED_SECTION_PREFIX,"Commonly Used"],["editor","Text Editor"],["workbench","Workbench"],["window","Window"],["features","Features"],["application","Application"],["security","Security"],["extensions","Extensions"]]),this.sectionAssignments=new Map([["breadcrumbs","workbench"],["comments","features"],["debug","features"],["diffEditor","editor"],["explorer","features"],["extensions","features"],["files","editor"],["hosted-plugin","features"],["http","application"],["keyboard","application"],["notification","workbench"],["output","features"],["preview","features"],["problems","features"],["scm","features"],["search","features"],["task","features"],["terminal","features"],["toolbar","features"],["webview","features"],["workspace","application"]]),this.defaultTopLevelCategory="extensions",this.handleChangedSchema=l(this.doHandleChangedSchema,200)}get root(){var e;return null!==(e=this._root)&&void 0!==e?e:this.generateTree()}init(){this.doInit()}async doInit(){await this.schemaProvider.ready,this.schemaProvider.onDidPreferenceSchemaChanged((()=>this.handleChangedSchema())),this.handleChangedSchema()}generateTree(){const e=this.schemaProvider.getCombinedSchema(),i=Object.keys(e.properties),n=new Map,o=this.createRootNode();for(const e of this.topLevelCategories.keys())this.getOrCreatePreferencesGroup(e,e,o,n);const r=this.getOrCreatePreferencesGroup(t.COMMONLY_USED_SECTION_PREFIX,t.COMMONLY_USED_SECTION_PREFIX,o,n);for(const t of this.commonlyUsedPreferences)t in e.properties&&this.createLeafNode(t,r,e.properties[t]);for(const t of i){const i=e.properties[t];if(!this.preferenceConfigs.isSectionName(t)&&!s.OVERRIDE_PROPERTY_PATTERN.test(t)&&!i.deprecationMessage){const e=t.split("."),r=this.getGroupName(e),s=this.getSubgroupName(e,r),a=[r,s].join("."),c=this.getOrCreatePreferencesGroup(r,r,o,n),l=s&&this.getOrCreatePreferencesGroup(a,r,c,n);this.createLeafNode(t,l||c,i)}}for(const e of n.values())e.id!==`${t.COMMONLY_USED_SECTION_PREFIX}@${t.COMMONLY_USED_SECTION_PREFIX}`&&e.children.sort(((e,t)=>{const i=s.CompositeTreeNode.is(e),n=s.CompositeTreeNode.is(t);return i&&!n?1:n&&!i?-1:e.id.localeCompare(t.id)}));return this._root=o,o}getNodeId(e){return`${this.getGroupName(e.split("."))}@${e}`}getGroupName(e){const t=e[0];if(this.topLevelCategories.has(t))return t;return this.sectionAssignments.get(t)||this.defaultTopLevelCategory}getSubgroupName(e,t){return t!==e[0]?e[0]:e.length>2?e[1]:void 0}doHandleChangedSchema(){const e=this.generateTree();this.onSchemaChangedEmitter.fire(e)}createRootNode(){return{id:"root-node-id",name:"",parent:void 0,visible:!0,children:[]}}createLeafNode(e,t,i){const{group:n}=d.Preference.TreeNode.getGroupAndIdFromNodeId(t.id),o={id:`${n}@${e}`,preferenceId:e,parent:t,preference:{data:i},depth:d.Preference.TreeNode.isTopLevel(t)?1:2};return s.CompositeTreeNode.addChild(t,o),o}createPreferencesGroup(e,t,i){const n={id:`${t}@${e}`,visible:!0,parent:i,children:[],expanded:!1,selected:!1,depth:0},o=d.Preference.TreeNode.isTopLevel(n);return o||delete n.expanded,n.depth=o?0:1,s.CompositeTreeNode.addChild(i,n),n}getCustomLabelFor(e){return this.topLevelCategories.get(e)}getOrCreatePreferencesGroup(e,t,i,n){const o=n.get(e);if(o)return o;const r=this.createPreferencesGroup(e,t,i);return n.set(e,r),r}};n([(0,r.inject)(s.PreferenceSchemaProvider),o("design:type",s.PreferenceSchemaProvider)],u.prototype,"schemaProvider",void 0),n([(0,r.inject)(a.PreferenceConfigurations),o("design:type",a.PreferenceConfigurations)],u.prototype,"preferenceConfigs",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.PreferenceTreeGenerator=u},43316:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceTreeLabelProvider=void 0;const r=i(70801),s=i(87361),a=i(32838),c=i(35468);let l=class{canHandle(e){return s.TreeNode.is(e)&&a.Preference.TreeNode.is(e)?150:0}getName(e){var t;const{id:i}=a.Preference.TreeNode.getGroupAndIdFromNodeId(e.id);return this.formatString(null!==(t=this.treeGenerator.getCustomLabelFor(i))&&void 0!==t?t:i.split(".").pop())}getPrefix(e,t=!1){const{depth:i}=e,{id:n,group:o}=a.Preference.TreeNode.getGroupAndIdFromNodeId(e.id),r=n.split("."),s=o===r[0]?i:i-1;r.pop();const c=t?r:r.slice(s);if(c.length){let e=c.length>1?`${this.formatString(c[0])} › `:`${this.formatString(c[0])}: `;for(const t of c.slice(1))e+=`${this.formatString(t)}: `;return e}}formatString(e){let t=e[0].toLocaleUpperCase();for(let i=1;i<e.length;i++)!this.isUpperCase(e[i])||/\s/.test(e[i-1])||this.isUpperCase(e[i-1])||(t+=" "),t+=e[i];return t.trim()}isUpperCase(e){return e===e.toLocaleUpperCase()&&e.toLocaleLowerCase()!==e.toLocaleUpperCase()}};n([(0,r.inject)(c.PreferenceTreeGenerator),o("design:type",c.PreferenceTreeGenerator)],l.prototype,"treeGenerator",void 0),l=n([(0,r.injectable)()],l),t.PreferenceTreeLabelProvider=l},32838:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceMenus=t.PreferencesCommands=t.Preference=void 0;const n=i(87361),o=i(9825);var r,s;!function(e){let t,i,o;!function(e){e.is=function(e){return!!e&&"id"in e&&"value"in e}}(t=e.EditorCommandArgs||(e.EditorCommandArgs={})),e.Node=Symbol("Preference.Node"),function(e){e.is=e=>"depth"in e,e.isTopLevel=t=>{const{group:i,id:n}=e.getGroupAndIdFromNodeId(t.id);return i===n},e.getGroupAndIdFromNodeId=e=>{const t=e.indexOf("@");return{group:e.substring(0,t),id:e.substring(t+1,e.length)}}}(i=e.TreeNode||(e.TreeNode={})),function(e){e.is=e=>"preference"in e&&!!e.preference.data,e.getType=t=>e.is(t)?Array.isArray(t.preference.data.type)?t.preference.data.type[0]:t.preference.data.type:void 0}(o=e.LeafNode||(e.LeafNode={})),e.getValueInScope=(e,t)=>{if(e)switch(t){case n.PreferenceScope.User:return e.globalValue;case n.PreferenceScope.Workspace:return e.workspaceValue;case n.PreferenceScope.Folder:return e.workspaceFolderValue;default:return}},e.DEFAULT_SCOPE={scope:n.PreferenceScope.User,uri:void 0,activeScopeIsFolder:!1}}(t.Preference||(t.Preference={})),(s=t.PreferencesCommands||(t.PreferencesCommands={})).OPEN_PREFERENCES_JSON_TOOLBAR={id:"preferences:openJson.toolbar",iconClass:"codicon codicon-json"},s.COPY_JSON_NAME=o.Command.toDefaultLocalizedCommand({id:"preferences:copyJson.name",label:"Copy Setting ID"}),s.RESET_PREFERENCE=o.Command.toDefaultLocalizedCommand({id:"preferences:reset",label:"Reset Setting"}),s.COPY_JSON_VALUE=o.Command.toDefaultLocalizedCommand({id:"preferences:copyJson.value",label:"Copy Setting as JSON"}),s.OPEN_USER_PREFERENCES=o.Command.toDefaultLocalizedCommand({id:"workbench.action.openGlobalSettings",category:n.CommonCommands.PREFERENCES_CATEGORY,label:"Open User Settings"}),s.OPEN_WORKSPACE_PREFERENCES=o.Command.toDefaultLocalizedCommand({id:"workbench.action.openWorkspaceSettings",category:n.CommonCommands.PREFERENCES_CATEGORY,label:"Open Workspace Settings"}),s.OPEN_FOLDER_PREFERENCES=o.Command.toDefaultLocalizedCommand({id:"workbench.action.openFolderSettings",category:n.CommonCommands.PREFERENCES_CATEGORY,label:"Open Folder Settings"}),s.OPEN_USER_PREFERENCES_JSON=o.Command.toDefaultLocalizedCommand({id:"workbench.action.openSettingsJson",category:n.CommonCommands.PREFERENCES_CATEGORY,label:"Open Settings (JSON)"}),s.OPEN_WORKSPACE_PREFERENCES_JSON=o.Command.toDefaultLocalizedCommand({id:"workbench.action.openWorkspaceSettingsFile",category:n.CommonCommands.PREFERENCES_CATEGORY,label:"Open Workspace Settings (JSON)"}),s.OPEN_FOLDER_PREFERENCES_JSON=o.Command.toDefaultLocalizedCommand({id:"workbench.action.openFolderSettingsFile",category:n.CommonCommands.PREFERENCES_CATEGORY,label:"Open Folder Settings (JSON)"}),(r=t.PreferenceMenus||(t.PreferenceMenus={})).PREFERENCE_EDITOR_CONTEXT_MENU=["preferences:editor.contextMenu"],r.PREFERENCE_EDITOR_COPY_ACTIONS=[...r.PREFERENCE_EDITOR_CONTEXT_MENU,"preferences:editor.contextMenu.copy"],r.FOLDER_SCOPE_MENU_PATH=["preferences:scope.menu"]},67831:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceArrayInputRendererContribution=t.PreferenceArrayInputRenderer=void 0;const r=i(87361),s=i(70801),a=i(32838),c=i(44523),l=i(5339);let d=class extends c.PreferenceLeafNodeRenderer{constructor(){super(...arguments),this.existingValues=new Map}createInteractable(e){const t=document.createElement("ul");t.classList.add("preference-array"),this.wrapper=t;const i=this.getValue();if(Array.isArray(i))for(const[e,n]of i.entries()){const i=this.createExistingValue(n);t.appendChild(i),this.existingValues.set(n,{node:i,index:e})}const n=this.createInput();t.appendChild(n),e.appendChild(t)}getFallbackValue(){return[]}createExistingValue(e){const t=document.createElement("li");t.classList.add("preference-array-element");const i=document.createElement("span");i.classList.add("preference-array-element-val"),i.textContent=e,t.appendChild(i);const n=document.createElement("span");n.classList.add("preference-array-element-btn","remove-btn");const o=this.removeItem.bind(this,e);n.onclick=o,n.onkeydown=o,n.setAttribute("role","button"),n.tabIndex=0,t.appendChild(n);const s=document.createElement("i");return s.classList.add(...(0,r.codiconArray)("close")),n.appendChild(s),t}createInput(){const e=document.createElement("li");this.inputWrapper=e;const t=document.createElement("input");e.appendChild(t),this.interactable=t,t.classList.add("preference-array-input","theia-input"),t.type="text",t.placeholder="Add Value...",t.spellcheck=!1,t.onkeydown=this.handleEnter.bind(this),t.setAttribute("aria-label","Preference String Input");const i=document.createElement("span");e.appendChild(i),i.classList.add("preference-array-element-btn",...(0,r.codiconArray)("add")),i.setAttribute("role","button");const n=this.addItem.bind(this);return i.onclick=n,i.onkeydown=n,i.tabIndex=0,i.setAttribute("aria-label","Submit Preference Input"),e}doHandleValueChange(){var e;this.updateInspection();const t=null!==(e=this.getValue())&&void 0!==e?e:[],i=new Set(...t);for(const[e,t]of this.existingValues.entries())i.has(e)||(t.node.remove(),this.existingValues.delete(e));for(const[e,i]of t.entries()){let t=this.existingValues.get(i);t?t.index=e:(t={node:this.createExistingValue(i),index:e},this.existingValues.set(i,t)),this.wrapper.children[e]!==t.node&&this.wrapper.children[e].insertAdjacentElement("beforebegin",t.node)}this.updateModificationStatus()}removeItem(e){const t=this.existingValues.get(e);t&&(t.node.remove(),this.existingValues.delete(e),this.setPreferenceImmediately(this.getOrderedValues()))}handleEnter(e){"Enter"===e.key&&(e.preventDefault(),this.addItem())}addItem(){const e=this.interactable.value;if(e&&!this.existingValues.has(e)){const t=this.createExistingValue(e);this.inputWrapper.insertAdjacentElement("beforebegin",t),this.existingValues.set(e,{node:t,index:this.existingValues.size}),this.setPreferenceImmediately(this.getOrderedValues())}this.interactable.value=""}getOrderedValues(){return Array.from(this.existingValues.entries()).sort((([,e],[,t])=>e.index-t.index)).map((([e])=>e))}dispose(){this.existingValues.clear(),super.dispose()}};d=o([(0,s.injectable)()],d),t.PreferenceArrayInputRenderer=d;let u=n=class extends l.PreferenceLeafNodeRendererContribution{constructor(){super(...arguments),this.id=n.ID}canHandleLeafNode(e){var t;return"array"===a.Preference.LeafNode.getType(e)&&"string"===(null===(t=e.preference.data.items)||void 0===t?void 0:t.type)?2:0}createLeafNodeRenderer(e){return e.get(d)}};u.ID="preference-array-input-renderer",u=n=o([(0,s.injectable)()],u),t.PreferenceArrayInputRendererContribution=u},46605:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceBooleanInputRendererContribution=t.PreferenceBooleanInputRenderer=void 0;const r=i(70801),s=i(32838),a=i(44523),c=i(5339);let l=class extends a.PreferenceLeafNodeRenderer{createInteractable(e){const t=document.createElement("input");this.interactable=t,t.type="checkbox",t.classList.add("theia-input"),t.defaultChecked=Boolean(this.getValue()),t.onchange=this.handleUserInteraction.bind(this),e.appendChild(t)}getAdditionalNodeClassnames(){return["boolean"]}getFallbackValue(){return!1}handleUserInteraction(){return this.setPreferenceImmediately(this.interactable.checked)}doHandleValueChange(){const e=this.interactable.checked;this.updateInspection();const t=Boolean(this.getValue());this.updateModificationStatus(t),t!==e&&document.activeElement!==this.interactable&&(this.interactable.checked=t)}};l=o([(0,r.injectable)()],l),t.PreferenceBooleanInputRenderer=l;let d=n=class extends c.PreferenceLeafNodeRendererContribution{constructor(){super(...arguments),this.id=n.ID}canHandleLeafNode(e){return"boolean"===s.Preference.LeafNode.getType(e)?2:0}createLeafNodeRenderer(e){return e.get(l)}};d.ID="preference-boolean-input-renderer",d=n=o([(0,r.injectable)()],d),t.PreferenceBooleanInputRendererContribution=d},35767:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceSingleFilePathInputRenderer=t.PreferenceSingleFilePathInputRendererContribution=t.FileNodeTypeDetails=void 0;const s=i(9825),a=i(44989),c=i(70801),l=i(32607),d=i(73246),u=i(5339),h=i(58606);var p;!function(e){e.is=function(e){return(0,s.isObject)(e)&&!!e.isFilepath}}(p=t.FileNodeTypeDetails||(t.FileNodeTypeDetails={}));let g=n=class extends u.PreferenceLeafNodeRendererContribution{constructor(){super(...arguments),this.id=n.ID}canHandleLeafNode(e){var t;const i=e.preference.data.typeDetails;return p.is(i)&&!(null===(t=i.selectionProps)||void 0===t?void 0:t.canSelectMany)?5:0}createLeafNodeRenderer(e){return e.get(f)}};g.ID="preference-single-file-path-input-renderer",g=n=o([(0,c.injectable)()],g),t.PreferenceSingleFilePathInputRendererContribution=g;let f=class extends h.PreferenceStringInputRenderer{get typeDetails(){return this.preferenceNode.preference.data.typeDetails}createInputWrapper(){const e=document.createElement("div");return e.classList.add("preference-file-container"),e}createInteractable(e){const t=this.createInputWrapper();super.createInteractable(t),this.interactable.classList.add("preference-file-input"),this.createBrowseButton(t),e.appendChild(t)}createBrowseButton(e){const t=document.createElement("button");t.classList.add("theia-button","main","preference-file-button"),t.textContent=a.nls.localize("theia/core/file/browse","Browse");const i=this.browse.bind(this);t.onclick=i,t.onkeydown=i,t.tabIndex=0,t.setAttribute("aria-label","Submit Preference Input"),e.appendChild(t)}async browse(){var e;const t=this.typeDetails.selectionProps,i=(null!==(e=null==t?void 0:t.title)&&void 0!==e?e:null==t?void 0:t.canSelectFolders)?d.WorkspaceCommands.OPEN_FOLDER.dialogLabel:d.WorkspaceCommands.OPEN_FILE.dialogLabel,n=await this.fileDialogService.showOpenDialog({title:i,...t});n&&this.setPreferenceImmediately(n.path.fsPath())}setPreferenceImmediately(e){return this.interactable.value=e,super.setPreferenceImmediately(e)}};o([(0,c.inject)(l.FileDialogService),r("design:type",Object)],f.prototype,"fileDialogService",void 0),f=o([(0,c.injectable)()],f),t.PreferenceSingleFilePathInputRenderer=f},66157:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceJSONLinkRendererContribution=t.PreferenceJSONLinkRenderer=void 0;const s=i(44523),a=i(70801),c=i(9825),l=i(32838),d=i(5339);let u=class extends s.PreferenceLeafNodeRenderer{createInteractable(e){const t=c.nls.localizeByDefault("Edit in settings.json"),i=document.createElement("a");this.interactable=i,i.classList.add("theia-json-input"),i.setAttribute("role","button"),i.title=t,i.textContent=t,i.onclick=this.handleUserInteraction.bind(this),i.onkeydown=this.handleUserInteraction.bind(this),e.appendChild(i)}getFallbackValue(){const e=this.preferenceNode;switch(Array.isArray(e.preference.data.type)?e.preference.data.type[0]:e.preference.data.type){case"object":return{};case"array":return[];case"null":return null;default:return""}}doHandleValueChange(){this.updateInspection(),this.updateModificationStatus()}handleUserInteraction(){this.commandService.executeCommand(l.PreferencesCommands.OPEN_PREFERENCES_JSON_TOOLBAR.id,this.id)}};o([(0,a.inject)(c.CommandService),r("design:type",Object)],u.prototype,"commandService",void 0),u=o([(0,a.injectable)()],u),t.PreferenceJSONLinkRenderer=u;let h=n=class extends d.PreferenceLeafNodeRendererContribution{constructor(){super(...arguments),this.id=n.ID}canHandleLeafNode(e){return 1}createLeafNodeRenderer(e){return e.get(u)}};h.ID="preference-json-link-renderer",h=n=o([(0,a.injectable)()],h),t.PreferenceJSONLinkRendererContribution=h},5339:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceHeaderRendererContribution=t.PreferenceLeafNodeRendererContribution=t.DefaultPreferenceNodeRendererCreatorRegistry=t.PreferenceNodeRendererCreator=t.PreferenceNodeRendererContribution=t.PreferenceNodeRendererCreatorRegistry=void 0;const a=i(9825),c=i(70801),l=i(32838),d=i(44523);t.PreferenceNodeRendererCreatorRegistry=Symbol("PreferenceNodeRendererCreatorRegistry"),t.PreferenceNodeRendererContribution=Symbol("PreferenceNodeRendererContribution"),t.PreferenceNodeRendererCreator=Symbol("PreferenceNodeRendererCreator");let u=class{constructor(e){this.contributionProvider=e,this._creators=new Map,this.onDidChangeEmitter=new a.Emitter,this.onDidChange=this.onDidChangeEmitter.event;const t=this.contributionProvider.getContributions();for(const e of t)e.registerPreferenceNodeRendererCreator(this)}registerPreferenceNodeRendererCreator(e){return this._creators.has(e.id)?(console.warn(`A preference node renderer creator ${e.id} is already registered.`),a.Disposable.NULL):(this._creators.set(e.id,e),this.fireDidChange(),a.Disposable.create((()=>this._creators.delete(e.id))))}unregisterPreferenceNodeRendererCreator(e){const t="string"==typeof e?e:e.id;this._creators.delete(t)&&this.fireDidChange()}getPreferenceNodeRendererCreator(e){const t=this.prioritize(e);if(t.length>=1)return t[0];throw new Error(`There is no contribution for ${e.id}.`)}fireDidChange(){this.onDidChangeEmitter.fire(void 0)}prioritize(e){return a.Prioritizeable.prioritizeAllSync(Array.from(this._creators.values()),(t=>{try{return t.canHandle(e)}catch{return 0}})).map((e=>e.value))}};u=o([(0,c.injectable)(),s(0,(0,c.inject)(a.ContributionProvider)),s(0,(0,c.named)(t.PreferenceNodeRendererContribution)),r("design:paramtypes",[Object])],u),t.DefaultPreferenceNodeRendererCreatorRegistry=u;let h=class{canHandle(e){return l.Preference.LeafNode.is(e)?this.canHandleLeafNode(e):0}registerPreferenceNodeRendererCreator(e){e.registerPreferenceNodeRendererCreator(this)}createRenderer(e,t){const i=t.createChild();return i.bind(l.Preference.Node).toConstantValue(e),this.createLeafNodeRenderer(i)}};h=o([(0,c.injectable)()],h),t.PreferenceLeafNodeRendererContribution=h;let p=n=class{constructor(){this.id=n.ID}registerPreferenceNodeRendererCreator(e){e.registerPreferenceNodeRendererCreator(this)}canHandle(e){return l.Preference.LeafNode.is(e)?0:1}createRenderer(e,t){const i=t.createChild();return i.bind(l.Preference.Node).toConstantValue(e),i.get(d.PreferenceHeaderRenderer)}};p.ID="preference-header-renderer",p=n=o([(0,c.injectable)()],p),t.PreferenceHeaderRendererContribution=p},44523:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceLeafNodeRenderer=t.PreferenceHeaderRenderer=t.PreferenceNodeRenderer=t.SUBHEADER_CLASS=t.HEADER_CLASS=t.PreferenceNodeRendererFactory=void 0;const r=i(70801),s=i(87361),a=i(32838),c=i(43316),l=i(35561),d=i(9825),u=i(69972),h=i(78971),p=i(76140),g=i(46402),f=i(49080),m=i(30970);t.PreferenceNodeRendererFactory=Symbol("PreferenceNodeRendererFactory"),t.HEADER_CLASS="settings-section-category-title",t.SUBHEADER_CLASS="settings-section-subcategory-title";let b=class{constructor(){this.attached=!1}get node(){return this.domNode}get nodeId(){return this.preferenceNode.id}get id(){return this._id}get group(){return this._group}get visible(){return!this.node.classList.contains("hidden")}init(){this.setId(),this.domNode=this.createDomNode()}setId(){var e;const{id:t,group:i}=a.Preference.TreeNode.getGroupAndIdFromNodeId(this.preferenceNode.id),n=t.split(".");this._id=t,this._group=i,this._subgroup=null!==(e=i===n[0]?n[1]:n[0])&&void 0!==e?e:""}getAdditionalNodeClassnames(){return[]}insertBefore(e){e.insertAdjacentElement("beforebegin",this.domNode),this.attached=!0}insertAfter(e){e.insertAdjacentElement("afterend",this.domNode)}appendTo(e){e.appendChild(this.domNode)}prependTo(e){e.prepend(this.domNode)}hide(){this.domNode.classList.add("hidden")}show(){this.domNode.classList.remove("hidden")}dispose(){this.domNode.remove()}};n([(0,r.inject)(a.Preference.Node),o("design:type",Object)],b.prototype,"preferenceNode",void 0),n([(0,r.inject)(c.PreferenceTreeLabelProvider),o("design:type",c.PreferenceTreeLabelProvider)],b.prototype,"labelProvider",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],b.prototype,"init",null),b=n([(0,r.injectable)()],b),t.PreferenceNodeRenderer=b,t.PreferenceHeaderRenderer=class extends b{createDomNode(){const e=document.createElement("ul");e.className="settings-section",e.id=`${this.preferenceNode.id}-editor`;const i=a.Preference.TreeNode.isTopLevel(this.preferenceNode)?t.HEADER_CLASS:t.SUBHEADER_CLASS,n=this.labelProvider.getName(this.preferenceNode),o=document.createElement("li");return o.classList.add("settings-section-title",i),o.textContent=n,e.appendChild(o),e}};let v=class extends b{constructor(){super(...arguments),this.isModifiedFromDefault=!1,this.setPreferenceWithDebounce=u(this.setPreferenceImmediately.bind(this),500,{leading:!1,trailing:!0})}get schema(){return this.preferenceNode.preference.data}init(){this.setId(),this.updateInspection(),this.markdownRenderer=this.buildMarkdownRenderer(),this.domNode=this.createDomNode(),this.updateModificationStatus()}updateInspection(){this.inspection=this.preferenceService.inspect(this.id,this.scopeTracker.currentScope.uri)}buildMarkdownRenderer(){const e=g(),t=e.renderer.rules.code_inline;return e.renderer.rules.code_inline=(e,i,n,o,r)=>{const s=e[i].content;if(s.startsWith("#")&&s.endsWith("#")){const e=s.substring(1,s.length-1),t=this.model.getNodeFromPreferenceId(e);if(t){let i=this.labelProvider.getName(t);const n=this.labelProvider.getPrefix(t,!0);return n&&(i=n+i),`<a title="${e}" href="preference:${e}">${i}</a>`}console.warn(`Linked preference "${e}" not found. Source: "${this.preferenceNode.preferenceId}"`)}return t?t(e,i,n,o,r):""},e}openLink(e){if(e.target instanceof HTMLAnchorElement&&(e.preventDefault(),e.stopPropagation(),e.button<2)){const t=new m.default(e.target.href);(0,s.open)(this.openerService,t)}}createDomNode(){const e=document.createElement("li");e.classList.add("single-pref"),e.id=`${this.id}-editor`,e.tabIndex=0,e.setAttribute("data-pref-id",this.id),e.setAttribute("data-node-id",this.preferenceNode.id);const t=document.createElement("div");t.classList.add("pref-name"),t.title=this.id,this.headlineWrapper=t,e.appendChild(t),this.updateHeadline();const i=document.createElement("div");i.classList.add("pref-context-gutter"),this.gutter=i,e.appendChild(i);const n=document.createElement("i");n.className=`${(0,s.codicon)("settings-gear",!0)} settings-context-menu-btn`,n.setAttribute("aria-label","Open Context Menu"),n.setAttribute("role","button"),n.onclick=this.handleCogAction.bind(this),n.onkeydown=this.handleCogAction.bind(this),n.title=d.nls.localizeByDefault("More Actions..."),i.appendChild(n);const o=document.createElement("div");o.classList.add("pref-content-container",...this.getAdditionalNodeClassnames()),e.appendChild(o);const{description:r,markdownDescription:a}=this.preferenceNode.preference.data;if(a||r){const e=document.createElement("div");if(e.classList.add("pref-description"),a){const t=this.markdownRenderer.render(a);e.onauxclick=this.openLink.bind(this),e.onclick=this.openLink.bind(this),e.oncontextmenu=()=>!1,e.innerHTML=f.sanitize(t,{ALLOW_UNKNOWN_PROTOCOLS:!0})}else r&&(e.textContent=r);o.appendChild(e)}const c=document.createElement("div");return c.classList.add("pref-input"),o.appendChild(c),this.createInteractable(c),e}handleCogAction({currentTarget:e}){var t,i;const n=null!==(t=a.Preference.getValueInScope(this.inspection,this.scopeTracker.currentScope.scope))&&void 0!==t?t:null===(i=this.inspection)||void 0===i?void 0:i.defaultValue,o=e;if(o&&void 0!==n){this.showCog();const e=o.getBoundingClientRect();this.menuRenderer.render({menuPath:a.PreferenceMenus.PREFERENCE_EDITOR_CONTEXT_MENU,anchor:{x:e.left,y:e.bottom},args:[{id:this.id,value:n}],onHide:()=>this.hideCog()})}}addModifiedMarking(){this.gutter.classList.add("theia-mod-item-modified")}removeModifiedMarking(){this.gutter.classList.remove("theia-mod-item-modified")}showCog(){this.gutter.classList.add("show-cog")}hideCog(){this.gutter.classList.remove("show-cog")}updateModificationStatus(e){const t=this.isModifiedFromDefault,{inspection:i}=this,n=null!=e?e:a.Preference.getValueInScope(i,this.scopeTracker.currentScope.scope);this.isModifiedFromDefault=void 0!==n&&!s.PreferenceProvider.deepEqual(n,null==i?void 0:i.defaultValue),t!==this.isModifiedFromDefault&&this.gutter.classList.toggle("theia-mod-item-modified",this.isModifiedFromDefault)}updateHeadline(e=this.model.isFiltered){const{headlineWrapper:t}=this;if(0===this.headlineWrapper.childElementCount){const e=this.labelProvider.getName(this.preferenceNode),i=document.createElement("span");i.classList.add("preference-leaf-headline-name"),i.textContent=e,t.appendChild(i)}const i=this.labelProvider.getPrefix(this.preferenceNode,e),n=t.children[0],o=n.classList.contains("preference-leaf-headline-prefix");if(i){let e;o?e=n:(e=document.createElement("span"),e.classList.add("preference-leaf-headline-prefix"),t.insertBefore(e,n)),e.textContent=i}else o&&t.removeChild(n);const r=t.lastChild;r.classList.contains("preference-leaf-headline-suffix")?this.compareOtherModifiedScopes(t,r):this.createOtherModifiedScopes(t)}compareOtherModifiedScopes(e,t){const i=this.getModifiedScopesAsStrings();if(0===i.length)e.removeChild(t);else{const e=t.children[0],n=this.getModifiedMessagePrefix();e.textContent!==n&&(e.textContent=n);const[o,r]=i,a=t.children[1],c=t.children[2];if(a.children[0].textContent=s.PreferenceScope[o],this.addEventHandlerToModifiedScope(o,a.children[0]),1===i.length&&c)t.removeChild(c);else if(2===i.length&&!c){const e=this.createModifiedScopeMessage(r);t.appendChild(e)}}}createOtherModifiedScopes(e){const t=this.getModifiedScopesAsStrings();if(0!==t.length){const i=document.createElement("i");i.classList.add("preference-leaf-headline-suffix"),e.appendChild(i);const n=this.getModifiedMessagePrefix(),o=document.createElement("span");o.classList.add("preference-other-modified-scope-alert"),o.textContent=n,i.appendChild(o),t.forEach(((e,t)=>{const n=this.createModifiedScopeMessage(e);i.appendChild(n)}))}}createModifiedScopeMessage(e){const t=document.createElement("span");t.classList.add("preference-modified-scope-wrapper");const i=document.createElement("span");i.classList.add("preference-scope-underlined");const n=s.PreferenceScope[e];return this.addEventHandlerToModifiedScope(e,i),i.textContent=n,t.appendChild(i),t}getModifiedMessagePrefix(){return(this.isModifiedFromDefault?d.nls.localizeByDefault("Also modified in"):d.nls.localizeByDefault("Modified in"))+": "}addEventHandlerToModifiedScope(e,t){if(e===s.PreferenceScope.User||e===s.PreferenceScope.Workspace){const i=()=>{this.scopeTracker.setScope(e),this.searchbar.updateSearchTerm(this.id)};t.onclick=i,t.onkeydown=i,t.tabIndex=0}else t.onclick=null,t.onkeydown=null,t.tabIndex=-1}getModifiedScopesAsStrings(){const e=this.scopeTracker.currentScope.scope,{inspection:t}=this,i=[];if(t)for(const n of[s.PreferenceScope.User,s.PreferenceScope.Workspace])if(n!==e){const e=a.Preference.getValueInScope(t,n);void 0===e||s.PreferenceProvider.deepEqual(e,t.defaultValue)||i.push(n)}return i}getValue(){var e;let t=a.Preference.getValueInScope(this.inspection,this.scopeTracker.currentScope.scope);return void 0===t&&(t=null===(e=this.inspection)||void 0===e?void 0:e.defaultValue),void 0!==t?t:this.getFallbackValue()}setPreferenceImmediately(e){return this.preferenceService.set(this.id,e,this.scopeTracker.currentScope.scope,this.scopeTracker.currentScope.uri).catch((()=>this.handleValueChange()))}handleSearchChange(e=this.model.isFiltered){this.updateHeadline(e)}handleScopeChange(e=this.model.isFiltered){this.handleValueChange(),this.updateHeadline(e)}handleValueChange(){this.doHandleValueChange(),this.updateHeadline()}};n([(0,r.inject)(a.Preference.Node),o("design:type",Object)],v.prototype,"preferenceNode",void 0),n([(0,r.inject)(s.PreferenceService),o("design:type",Object)],v.prototype,"preferenceService",void 0),n([(0,r.inject)(s.ContextMenuRenderer),o("design:type",s.ContextMenuRenderer)],v.prototype,"menuRenderer",void 0),n([(0,r.inject)(l.PreferencesScopeTabBar),o("design:type",l.PreferencesScopeTabBar)],v.prototype,"scopeTracker",void 0),n([(0,r.inject)(h.PreferenceTreeModel),o("design:type",h.PreferenceTreeModel)],v.prototype,"model",void 0),n([(0,r.inject)(p.PreferencesSearchbarWidget),o("design:type",p.PreferencesSearchbarWidget)],v.prototype,"searchbar",void 0),n([(0,r.inject)(s.OpenerService),o("design:type",Object)],v.prototype,"openerService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],v.prototype,"init",null),v=n([(0,r.injectable)()],v),t.PreferenceLeafNodeRenderer=v},34659:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceNumberInputRendererContribution=t.PreferenceNumberInputRenderer=void 0;const r=i(9825),s=i(70801),a=i(32838),c=i(44523),l=i(5339);let d=class extends c.PreferenceLeafNodeRenderer{get errorMessage(){if(!this._errorMessage){const e=document.createElement("div");e.classList.add("pref-error-notification"),this._errorMessage=e}return this._errorMessage}createInteractable(e){var t,i;const n=document.createElement("div");this.interactableWrapper=n,n.classList.add("pref-input-container");const o=document.createElement("input");this.interactable=o,o.type="number",o.step="integer"===this.preferenceNode.preference.data.type?"1":"any",o.classList.add("theia-input"),o.defaultValue=null!==(i=null===(t=this.getValue())||void 0===t?void 0:t.toString())&&void 0!==i?i:"",o.oninput=this.handleUserInteraction.bind(this),o.onblur=this.handleBlur.bind(this),n.appendChild(o),e.appendChild(n)}getFallbackValue(){return 0}handleUserInteraction(){const{value:e,message:t}=this.getInputValidation(this.interactable.value);isNaN(e)?this.showErrorMessage(t):(this.hideErrorMessage(),this.setPreferenceWithDebounce(e))}async handleBlur(){this.hideErrorMessage(),await this.setPreferenceWithDebounce.flush(),this.handleValueChange()}doHandleValueChange(){var e;const{value:t}=this.interactable,i=t.length?Number(t):NaN;this.updateInspection();const n=null!==(e=this.getValue())&&void 0!==e?e:"";this.updateModificationStatus(n),n!==i&&(document.activeElement!==this.interactable?this.interactable.value=n.toString():this.handleUserInteraction())}getInputValidation(e){const{preference:{data:t}}=this.preferenceNode,i=Number(e),n=[];return""===e||isNaN(i)?{value:NaN,message:r.nls.localizeByDefault("Value must be a number.")}:(t.minimum&&i<t.minimum&&n.push(r.nls.localizeByDefault("Value must be greater than or equal to {0}.",t.minimum)),t.maximum&&i>t.maximum&&n.push(r.nls.localizeByDefault("Value must be less than or equal to {0}.",t.maximum)),"integer"!==t.type||Number.isInteger(i)||n.push(r.nls.localizeByDefault("Value must be an integer.")),{value:n.length?NaN:i,message:n.join(" ")})}showErrorMessage(e){this.errorMessage.textContent=e,this.interactableWrapper.appendChild(this.errorMessage)}hideErrorMessage(){this.errorMessage.remove()}};d=o([(0,s.injectable)()],d),t.PreferenceNumberInputRenderer=d;let u=n=class extends l.PreferenceLeafNodeRendererContribution{constructor(){super(...arguments),this.id=n.ID}canHandleLeafNode(e){const t=a.Preference.LeafNode.getType(e);return"integer"===t||"number"===t?2:0}createLeafNodeRenderer(e){return e.get(d)}};u.ID="preference-number-input-renderer",u=n=o([(0,s.injectable)()],u),t.PreferenceNumberInputRendererContribution=u},62154:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceSelectInputRendererContribution=t.PreferenceSelectInputRenderer=void 0;const r=i(44523),s=i(70801),a=i(53954),c=i(3594),l=i(5339),d=i(92664),u=i(13558),h=i(81312);let p=class extends r.PreferenceLeafNodeRenderer{constructor(){super(...arguments),this.selectComponent=d.createRef()}get enumValues(){return this.preferenceNode.preference.data.enum}get selectOptions(){var e,t,i,n;const o=[],r=this.enumValues,s=this.preferenceNode.preference.data,c=s.default;for(let l=0;l<r.length;l++){const d=r[l],u=`${d}`,p=(0,h.escapeInvisibleChars)(null!==(t=null===(e=s.enumItemLabels)||void 0===e?void 0:e[l])&&void 0!==t?t:u),g=a.PreferenceProvider.deepEqual(c,d)?"default":void 0;let f=null===(i=s.enumDescriptions)||void 0===i?void 0:i[l],m=!1;const b=null===(n=s.markdownEnumDescriptions)||void 0===n?void 0:n[l];b&&(f=this.markdownRenderer.renderInline(b),m=!0),o.push({label:p,value:u,detail:g,description:f,markdown:m})}return o}createInteractable(e){const t=document.createElement("div"),i=d.createElement(c.SelectComponent,{options:this.selectOptions,defaultValue:this.getDataValue(),onChange:(e,t)=>this.handleUserInteraction(t),ref:this.selectComponent});this.interactable=t,(0,u.createRoot)(t).render(i),e.appendChild(t)}getFallbackValue(){const{default:e,defaultValue:t,enum:i}=this.preferenceNode.preference.data;return void 0!==e?e:void 0!==t?t:i[0]}doHandleValueChange(){this.updateInspection();const e=this.getDataValue();this.updateModificationStatus(this.getValue()),document.activeElement!==this.interactable&&this.selectComponent.current&&(this.selectComponent.current.value=e)}getDataValue(){const e=this.getValue();let t=this.enumValues.findIndex((t=>a.PreferenceProvider.deepEqual(t,e)));if(-1===t){const e=this.getFallbackValue();t=this.enumValues.findIndex((t=>a.PreferenceProvider.deepEqual(t,e)))}return Math.max(t,0)}handleUserInteraction(e){const t=this.enumValues[e];this.setPreferenceImmediately(t)}};p=o([(0,s.injectable)()],p),t.PreferenceSelectInputRenderer=p;let g=n=class extends l.PreferenceLeafNodeRendererContribution{constructor(){super(...arguments),this.id=n.ID}canHandleLeafNode(e){return e.preference.data.enum?3:0}createLeafNodeRenderer(e){return e.get(p)}};g.ID="preference-select-input-renderer",g=n=o([(0,s.injectable)()],g),t.PreferenceSelectInputRendererContribution=g},58606:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferenceStringInputRendererContribution=t.PreferenceStringInputRenderer=void 0;const r=i(70801),s=i(32838),a=i(44523),c=i(5339);let l=class extends a.PreferenceLeafNodeRenderer{createInteractable(e){var t;const i=document.createElement("input");this.interactable=i,i.type="text",i.spellcheck=!1,i.classList.add("theia-input"),i.defaultValue=null!==(t=this.getValue())&&void 0!==t?t:"",i.oninput=this.handleUserInteraction.bind(this),i.onblur=this.handleBlur.bind(this),e.appendChild(i)}getFallbackValue(){return""}doHandleValueChange(){var e;const t=this.interactable.value;this.updateInspection();const i=null!==(e=this.getValue())&&void 0!==e?e:"";this.updateModificationStatus(i),i!==t&&(document.activeElement!==this.interactable?this.interactable.value=i:this.handleUserInteraction())}handleUserInteraction(){this.setPreferenceWithDebounce(this.interactable.value)}async handleBlur(){await this.setPreferenceWithDebounce.flush(),this.handleValueChange()}};l=o([(0,r.injectable)()],l),t.PreferenceStringInputRenderer=l;let d=n=class extends c.PreferenceLeafNodeRendererContribution{constructor(){super(...arguments),this.id=n.ID}canHandleLeafNode(e){return"string"===s.Preference.LeafNode.getType(e)?2:0}createLeafNodeRenderer(e){return e.get(l)}};d.ID="preference-string-input-renderer",d=n=o([(0,r.injectable)()],d),t.PreferenceStringInputRendererContribution=d},22009:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesEditorWidget=void 0;const s=i(70801),a=i(95327),c=i(64351),l=i(87361),d=i(9825),u=i(35022),h=i(78971),p=i(44523),g=i(32838),f=i(35468),m=i(35561),b=i(5339);let v=n=class extends u.BaseWidget{constructor(){super(...arguments),this.scrollOptions=u.DEFAULT_SCROLL_OPTIONS,this.currentModelSelectionId="",this.lastUserSelection="",this.isAtScrollTop=!0,this.firstVisibleChildID="",this.renderers=new Map,this.preferenceDataKeys=new Map,this.commonlyUsedRenderers=new Map,this.onScroll=a(this.doOnScroll.bind(this),50)}init(){this.doInit()}async doInit(){this.id=n.ID,this.title.label=n.LABEL,this.addClass("settings-main"),this.toDispose.pushAll([this.preferenceService.onPreferencesChanged((e=>this.handlePreferenceChanges(e))),this.model.onFilterChanged((e=>this.handleDisplayChange(e))),this.model.onSelectionChanged((e=>this.handleSelectionChange(e)))]),this.createContainers(),await this.preferenceService.ready,this.handleDisplayChange({source:h.PreferenceFilterChangeSource.Schema}),this.rendererRegistry.onDidChange((()=>this.handleRegistryChange()))}createContainers(){const e=document.createElement("div");e.classList.add("settings-main-scroll-container"),this.scrollContainer=e,e.addEventListener("scroll",this.onScroll,{passive:!0}),this.node.appendChild(e);const t=document.createElement("div");t.classList.add("settings-no-results-announcement"),t.textContent="That search query has returned no results.",this.node.appendChild(t)}handleDisplayChange(e){const{isFiltered:t}=this.model,i=this.firstVisibleChildID,n=this.areLeavesVisible();e.source===h.PreferenceFilterChangeSource.Search?this.handleSearchChange(t,n):e.source===h.PreferenceFilterChangeSource.Scope?this.handleScopeChange(t):e.source===h.PreferenceFilterChangeSource.Schema?this.handleSchemaChange(t):(0,d.unreachable)(e.source,"Not all PreferenceFilterChangeSource enum variants handled."),this.resetScroll(i,e.source===h.PreferenceFilterChangeSource.Search&&!t)}handleRegistryChange(){for(const[e,t,i]of this.allRenderers())t.dispose(),i.delete(e);this.handleDisplayChange({source:h.PreferenceFilterChangeSource.Schema})}handleSchemaChange(e){var t;for(const[e,t,i]of this.allRenderers()){const n=this.model.getNode(t.nodeId);(!n||g.Preference.LeafNode.is(n)&&this.hasSchemaChanged(t,n))&&(t.dispose(),i.delete(e))}if(this.model.root){const i=Array.from(this.scrollContainer.children)[Symbol.iterator]();let n=i.next().value;for(const o of new l.TopDownTreeIterator(this.model.root))if(g.Preference.TreeNode.is(o)){const{collection:r,id:s}=this.analyzeIDAndGetRendererGroup(o.id),a=null!==(t=r.get(s))&&void 0!==t?t:this.rendererFactory(o);a.node.parentElement||(this.hideIfFailsFilters(a,e),r.set(s,a)),n!==a.node?n?a.insertBefore(n):a.appendTo(this.scrollContainer):n=i.next().value}}}handleScopeChange(e=this.model.isFiltered){var t;for(const[,i]of this.allRenderers()){const n=this.hideIfFailsFilters(i,e);!e&&n||null===(t=i.handleScopeChange)||void 0===t||t.call(i,e)}}hasSchemaChanged(e,t){return!c(e.schema,t.preference.data)}handleSearchChange(e,t){var i;if(t)for(const[,t]of this.allRenderers())this.hideIfFailsFilters(t,e)||null===(i=t.handleSearchChange)||void 0===i||i.call(t,e)}areLeavesVisible(){const e=this.model.totalVisibleLeaves>0;return this.node.classList.toggle("no-results",!e),this.scrollContainer.classList.toggle("hidden",!e),e}*allRenderers(){for(const[e,t]of this.commonlyUsedRenderers.entries())yield[e,t,this.commonlyUsedRenderers];for(const[e,t]of this.renderers.entries())yield[e,t,this.renderers]}handlePreferenceChanges(e){var t,i,n,o;for(const r of Object.keys(e))null===(i=null===(t=this.commonlyUsedRenderers.get(r))||void 0===t?void 0:t.handleValueChange)||void 0===i||i.call(t),null===(o=null===(n=this.renderers.get(r))||void 0===n?void 0:n.handleValueChange)||void 0===o||o.call(n)}hideIfFailsFilters(e,t){const i=this.model.currentRows.get(e.nodeId);return!i||l.CompositeTreeNode.is(i.node)&&(t||0===i.visibleChildren)?(e.hide(),!0):(e.show(),!1)}resetScroll(e,t=!1){if(this.scrollBar)this.doResetScroll(e,t);else{const i=setInterval((()=>{this.scrollBar&&(clearInterval(i),this.doResetScroll(e,t))}),500)}}doResetScroll(e,t=!1){requestAnimationFrame((()=>{var i;if(null===(i=this.scrollBar)||void 0===i||i.update(),!t&&e){const{id:t,collection:i}=this.analyzeIDAndGetRendererGroup(e),n=i.get(t);if(null==n?void 0:n.visible)return void n.node.scrollIntoView()}this.scrollContainer.scrollTop=0}))}doOnScroll(){const{scrollContainer:e}=this,t=this.findFirstVisibleChildID();this.setFirstVisibleChildID(t),this.isAtScrollTop&&0!==e.scrollTop?(this.isAtScrollTop=!1,this.tabbar.toggleShadow(!0)):this.isAtScrollTop||0!==e.scrollTop||(this.isAtScrollTop=!0,this.tabbar.toggleShadow(!1))}findFirstVisibleChildID(){const{scrollTop:e}=this.scrollContainer;for(const[,t]of this.allRenderers()){const{offsetTop:i,offsetHeight:n}=t.node;if(Math.abs(i-e)<=n/2)return t.nodeId}}setFirstVisibleChildID(e){if(e&&e!==this.firstVisibleChildID){this.firstVisibleChildID=e;let t,i,n=this.model.getNode(e);for(;n&&(!t||!i);)!i&&l.SelectableTreeNode.is(n)&&(i=n),!t&&l.ExpandableTreeNode.is(n)&&(t=n),n=n.parent;i&&(this.currentModelSelectionId=i.id,t=null!=t?t:i,this.model.selectIfNotSelected(i),this.model.isFiltered||e===this.lastUserSelection||(this.lastUserSelection="",this.model.collapseAllExcept(t)))}}handleSelectionChange(e){const t=e[0];if(t&&t.id!==this.currentModelSelectionId)if(this.currentModelSelectionId=t.id,this.lastUserSelection=t.id,this.model.isFiltered&&l.CompositeTreeNode.is(t))for(const e of new l.TopDownTreeIterator(t,{pruneSiblings:!0})){const{id:t,collection:i}=this.analyzeIDAndGetRendererGroup(e.id),n=i.get(t);if(null==n?void 0:n.visible)return this.lastUserSelection=n.nodeId,void n.node.scrollIntoView()}else{const{id:e,collection:i}=this.analyzeIDAndGetRendererGroup(t.id),n=i.get(e);null==n||n.node.scrollIntoView()}}analyzeIDAndGetRendererGroup(e){const{id:t,group:i}=g.Preference.TreeNode.getGroupAndIdFromNodeId(e);return{id:t,group:i,collection:i===f.COMMONLY_USED_SECTION_PREFIX?this.commonlyUsedRenderers:this.renderers}}getScrollContainer(){return this.scrollContainer}storeState(){return{firstVisibleChildID:this.firstVisibleChildID}}restoreState(e){this.firstVisibleChildID=e.firstVisibleChildID,this.resetScroll(this.firstVisibleChildID)}};v.ID="settings.editor",v.LABEL="Settings Editor",o([(0,s.inject)(l.PreferenceService),r("design:type",Object)],v.prototype,"preferenceService",void 0),o([(0,s.inject)(h.PreferenceTreeModel),r("design:type",h.PreferenceTreeModel)],v.prototype,"model",void 0),o([(0,s.inject)(p.PreferenceNodeRendererFactory),r("design:type",Function)],v.prototype,"rendererFactory",void 0),o([(0,s.inject)(b.PreferenceNodeRendererCreatorRegistry),r("design:type",Object)],v.prototype,"rendererRegistry",void 0),o([(0,s.inject)(l.PreferenceSchemaProvider),r("design:type",l.PreferenceSchemaProvider)],v.prototype,"schemaProvider",void 0),o([(0,s.inject)(m.PreferencesScopeTabBar),r("design:type",m.PreferencesScopeTabBar)],v.prototype,"tabbar",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],v.prototype,"init",null),v=n=o([(0,s.injectable)()],v),t.PreferencesEditorWidget=v},35561:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesScopeTabBar=void 0;const s=i(70801),a=i(29486),c=i(87361),l=i(27030),d=i(30970),u=i(82761),h=i(32838),p=i(9825),g=i(44989),f=g.nls.localizeByDefault("User"),m=c.PreferenceScope.User,b=g.nls.localizeByDefault("Workspace"),v=c.PreferenceScope.Workspace,A=g.nls.localizeByDefault("Folder"),y=c.PreferenceScope.Folder,C="preferences-scope-tab",w="preference-folder",_="preferences-folder-tab",S="preferences-folder-dropdown",E="preferences-folder-dropdown-icon "+(0,c.codicon)("chevron-down"),k=`${C} ${w} ${_}`,x=`${C} ${w} ${S}`,D=`${C} ${w} ${_} ${S}`;let T=n=class extends a.TabBar{constructor(){super(...arguments),this.onScopeChangedEmitter=new p.Emitter,this.onScopeChanged=this.onScopeChangedEmitter.event,this.toDispose=new p.DisposableCollection,this.currentWorkspaceRoots=[],this.currentSelection=h.Preference.DEFAULT_SCOPE,this.editorScrollAtTop=!0,this.folderSelectionCallback=e=>{this.setNewScopeSelection(e)}}get currentScope(){return this.currentSelection}setNewScopeSelection(e){const t=e.scope.toString(),i=this.titles.findIndex((e=>e.dataset.scope===t));-1!==i&&(this.currentSelection=e,this.currentIndex=i,e.scope===c.PreferenceScope.Folder&&this.addOrUpdateFolderTab(),this.emitNewScope())}init(){this.id=n.ID,this.setupInitialDisplay(),this.tabActivateRequested.connect(((e,t)=>{const i=this.toScopeDetails(t.title);i&&this.setNewScopeSelection(i)})),this.toDispose.pushAll([this.workspaceService.onWorkspaceChanged((e=>this.doUpdateDisplay(e))),this.workspaceService.onWorkspaceLocationChanged((()=>this.doUpdateDisplay(this.workspaceService.tryGetRoots())))]);const e=document.createElement("div");e.className="tabbar-underline",this.node.append(e)}toScopeDetails(e){if(e){const t="dataset"in e?e.dataset:e,{scope:i,uri:n,activeScopeIsFolder:o}=t;return{scope:Number(i),uri:n||void 0,activeScopeIsFolder:"true"===o||!0===o}}}toDataSet(e){const{scope:t,uri:i,activeScopeIsFolder:n}=e;return{scope:t.toString(),uri:null!=i?i:"",activeScopeIsFolder:n.toString()}}setupInitialDisplay(){this.addUserTab(),this.workspaceService.workspace&&this.addWorkspaceTab(this.workspaceService.workspace),this.addOrUpdateFolderTab()}onUpdateRequest(e){super.onUpdateRequest(e),this.addTabIndexToTabs()}addTabIndexToTabs(){this.node.querySelectorAll("li").forEach(((e,t)=>{e.tabIndex=0;const i=()=>{if(e.className.includes(w)&&this.currentWorkspaceRoots.length>1){const t=e.getBoundingClientRect();this.openContextMenu(t,e,"keypress")}else{const e=this.toScopeDetails(this.titles[t]);e&&this.setNewScopeSelection(e)}};e.onkeydown=i,e.onclick=i}))}addUserTab(){this.addTab(new a.Title({dataset:{uri:"",scope:m.toString()},label:f,owner:this,className:C}))}addWorkspaceTab(e){const t=this.getWorkspaceDataset(e),i=new a.Title({dataset:this.toDataSet(t),label:b,owner:this,className:C});return this.addTab(i),i}getWorkspaceDataset(e){const{resource:t,isDirectory:i}=e,n=v;return{uri:t.toString(),activeScopeIsFolder:i,scope:n}}addOrUpdateFolderTab(){if(this.workspaceService.workspace){this.currentWorkspaceRoots=this.workspaceService.tryGetRoots();const e=this.currentWorkspaceRoots&&this.currentWorkspaceRoots.length>1,t=0===this.currentWorkspaceRoots.length,i=this.workspaceService.saved;if(t){const e=this.titles.findIndex((e=>e.caption===A));e>-1&&this.removeTabAt(e)}else this.folderTitle||(this.folderTitle=new a.Title({label:"",caption:A,owner:this})),this.setFolderTitleProperties(e),(e||i)&&this.addTab(this.folderTitle)}}setFolderTitleProperties(e){if(this.folderTitle.iconClass=e?E:"",this.currentSelection.scope===y)this.folderTitle.label=this.labelProvider.getName(new d.default(this.currentSelection.uri)),this.folderTitle.dataset=this.toDataSet(this.currentSelection),this.folderTitle.className=e?D:k;else{const t=this.currentWorkspaceRoots[0].resource,i=this.labelProvider.getName(t),n=e?"":t.toString();this.folderTitle.label=e?A:i,this.folderTitle.className=e?x:k,this.folderTitle.dataset={folderTitle:"true",scope:y.toString(),uri:n}}}getFolderContextMenu(e=this.workspaceService.tryGetRoots()){this.preferencesMenuFactory.createFolderWorkspacesMenu(e,this.currentSelection.uri)}handleEvent(){}openContextMenu(e,t,i){const n=new p.DisposableCollection;for(const e of this.workspaceService.tryGetRoots()){const t=`set-scope-to-${e.resource.toString()}`;n.pushAll([this.commandRegistry.registerCommand({id:t},{execute:()=>this.setScope(e.resource)}),this.menuModelRegistry.registerMenuAction(h.PreferenceMenus.FOLDER_SCOPE_MENU_PATH,{commandId:t,label:this.labelProvider.getName(e)})])}this.contextMenuRenderer.render({menuPath:h.PreferenceMenus.FOLDER_SCOPE_MENU_PATH,anchor:{x:e.left,y:e.bottom},onHide:()=>{setTimeout((()=>n.dispose())),"click"===i&&t.blur()}})}doUpdateDisplay(e){const t=e.length<this.currentWorkspaceRoots.length;this.currentWorkspaceRoots=e,t&&!this.currentWorkspaceRoots.some((e=>e.resource.toString()===this.currentSelection.uri))&&this.setNewScopeSelection(h.Preference.DEFAULT_SCOPE),this.updateWorkspaceTab(),this.addOrUpdateFolderTab()}updateWorkspaceTab(){var e;const t=this.workspaceService.workspace;if(t){const i=null!==(e=this.titles.find((e=>e.label===b)))&&void 0!==e?e:this.addWorkspaceTab(t),n=this.getWorkspaceDataset(t);i.dataset=this.toDataSet(n),this.currentSelection.scope===c.PreferenceScope.Workspace&&this.setNewScopeSelection(n)}}emitNewScope(){this.onScopeChangedEmitter.fire(this.currentSelection)}setScope(e){const t=e instanceof d.default?this.getDetailsForResource(e):this.getDetailsForScope(e);t&&this.setNewScopeSelection(t)}getDetailsForScope(e){const t=e.toString(),i=this.titles.find((e=>e.dataset.scope===t));return this.toScopeDetails(i)}getDetailsForResource(e){const t=this.workspaceService.getWorkspaceRootUri(e);if(t)return this.workspaceService.isMultiRootWorkspaceOpened?{scope:c.PreferenceScope.Folder,uri:t.toString(),activeScopeIsFolder:!0}:this.getDetailsForScope(c.PreferenceScope.Workspace)}storeState(){return{scopeDetails:this.currentScope}}restoreState(e){const t=this.toScopeDetails(e.scopeDetails);t&&this.setNewScopeSelection(t)}toggleShadow(e){this.toggleClass("with-shadow",e)}dispose(){super.dispose(),this.toDispose.dispose()}};T.ID="preferences-scope-tab-bar",o([(0,s.inject)(l.WorkspaceService),r("design:type",l.WorkspaceService)],T.prototype,"workspaceService",void 0),o([(0,s.inject)(u.PreferenceScopeCommandManager),r("design:type",u.PreferenceScopeCommandManager)],T.prototype,"preferencesMenuFactory",void 0),o([(0,s.inject)(c.ContextMenuRenderer),r("design:type",c.ContextMenuRenderer)],T.prototype,"contextMenuRenderer",void 0),o([(0,s.inject)(c.LabelProvider),r("design:type",c.LabelProvider)],T.prototype,"labelProvider",void 0),o([(0,s.inject)(p.CommandRegistry),r("design:type",p.CommandRegistry)],T.prototype,"commandRegistry",void 0),o([(0,s.inject)(p.MenuModelRegistry),r("design:type",p.MenuModelRegistry)],T.prototype,"menuModelRegistry",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],T.prototype,"init",null),T=n=o([(0,s.injectable)()],T),t.PreferencesScopeTabBar=T},76140:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesSearchbarWidget=void 0;const a=i(87361),c=i(70801),l=i(92664),d=i(6577),u=i(9825),h=i(44989);let p=n=class extends a.ReactWidget{constructor(e){super(e),this.onFilterStringChangedEmitter=new u.Emitter,this.onFilterChanged=this.onFilterStringChangedEmitter.event,this.searchbarRef=l.createRef(),this.resultsCount=0,this.handleSearch=e=>this.search(e.target.value),this.search=d((async e=>{this.onFilterStringChangedEmitter.fire(e),this.update()}),200),this.clearSearchResults=async e=>{const t=document.getElementById(n.SEARCHBAR_ID);t&&(t.value="",await this.search(t.value),this.update())},this.focus=this.focus.bind(this)}init(){this.id=n.ID,this.title.label=n.LABEL,this.update()}focus(){this.searchbarRef.current&&this.searchbarRef.current.focus()}renderOptionContainer(){const e=this.renderResultsCountOption(),t=this.renderClearAllOption();return l.createElement("div",{className:"option-buttons"}," ",e," ",t," ")}renderResultsCountOption(){let e;return e=0===this.resultsCount?h.nls.localizeByDefault("No Settings Found"):1===this.resultsCount?h.nls.localizeByDefault("1 Setting Found"):h.nls.localizeByDefault("{0} Settings Found",this.resultsCount.toFixed(0)),this.searchTermExists()?l.createElement("span",{className:"results-found",title:e},e):""}renderClearAllOption(){return l.createElement("span",{className:`${(0,a.codicon)("clear-all")} option ${this.searchTermExists()?"enabled":""}`,title:h.nls.localizeByDefault("Clear Search Results"),onClick:this.clearSearchResults})}searchTermExists(){var e;return!!(null===(e=this.searchbarRef.current)||void 0===e?void 0:e.value)}getSearchTerm(){const e=document.getElementById(n.SEARCHBAR_ID);return null==e?void 0:e.value}async updateSearchTerm(e){const t=document.getElementById(n.SEARCHBAR_ID);t&&t.value!==e&&(t.value=e,await this.search(t.value),this.update())}render(){const e=this.renderOptionContainer();return l.createElement("div",{className:"settings-header"},l.createElement("div",{className:"settings-search-container",ref:this.focus},l.createElement("input",{type:"text",id:n.SEARCHBAR_ID,spellCheck:!1,placeholder:h.nls.localizeByDefault("Search settings"),className:"settings-search-input theia-input",onChange:this.handleSearch,ref:this.searchbarRef}),e))}updateResultsCount(e){this.resultsCount=e,this.update()}storeState(){return{searchTerm:this.getSearchTerm()}}restoreState(e){const t=this.onDidChangeVisibility((()=>{this.updateSearchTerm(e.searchTerm||""),t.dispose()}))}};p.ID="settings.header",p.LABEL="Settings Header",p.SEARCHBAR_ID="preference-searchbar",o([(0,c.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],p.prototype,"init",null),p=n=o([(0,c.injectable)(),s(0,(0,c.unmanaged)()),r("design:paramtypes",[Object])],p),t.PreferencesSearchbarWidget=p},52898:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesTreeWidget=void 0;const s=i(70801),a=i(87361),c=i(92664),l=i(78971);let d=n=class extends a.TreeWidget{constructor(){super(...arguments),this.shouldFireSelectionEvents=!0}init(){super.init(),this.id=n.ID,this.toDispose.pushAll([this.model.onFilterChanged((()=>{this.updateRows()}))])}doUpdateRows(){this.rows=new Map;let e=0;for(const[t,i]of this.model.currentRows.entries())i.visibleChildren>0&&(a.ExpandableTreeNode.is(i.node)||a.ExpandableTreeNode.isExpanded(i.node.parent))&&this.rows.set(t,{...i,index:e++});this.updateScrollToRow()}doRenderNodeRow({depth:e,visibleChildren:t,node:i,isExpansible:n}){return this.renderNode(i,{depth:e,visibleChildren:t,isExpansible:n})}renderNode(e,t){if(!a.TreeNode.isVisible(e))return;const i=this.createNodeAttributes(e,t),n=c.createElement("div",{className:a.TREE_NODE_CONTENT_CLASS},this.renderExpansionToggle(e,t),this.renderCaption(e,t));return c.createElement("div",i,n)}renderExpansionToggle(e,t){return a.ExpandableTreeNode.is(e)&&!t.isExpansible?c.createElement("div",{className:"preferences-tree-spacer"}):super.renderExpansionToggle(e,t)}toNodeName(e){var t;const i=null===(t=this.model.currentRows.get(e.id))||void 0===t?void 0:t.visibleChildren,n=this.labelProvider.getName(e);return this.model.isFiltered&&void 0!==i?`${n} (${i})`:n}};d.ID="preferences.tree",o([(0,s.inject)(l.PreferenceTreeModel),r("design:type",l.PreferenceTreeModel)],d.prototype,"model",void 0),o([(0,s.inject)(a.TreeProps),r("design:type",Object)],d.prototype,"treeProps",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],d.prototype,"init",null),d=n=o([(0,s.injectable)()],d),t.PreferencesTreeWidget=d},13820:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPreferencesWidgetContainer=t.bindPreferencesWidgets=void 0;const n=i(87361),o=i(12704),r=i(78971),s=i(43316),a=i(67831),c=i(46605),l=i(35767),d=i(66157),u=i(44523),h=i(5339),p=i(34659),g=i(62154),f=i(58606),m=i(22009),b=i(35561),v=i(76140),A=i(52898),y=i(10597);function C(e){const t=(0,n.createTreeContainer)(e,{model:r.PreferenceTreeModel,widget:A.PreferencesTreeWidget,props:{search:!1}});return t.bind(m.PreferencesEditorWidget).toSelf(),t.bind(v.PreferencesSearchbarWidget).toSelf(),t.bind(b.PreferencesScopeTabBar).toSelf(),t.bind(y.PreferencesWidget).toSelf(),t.bind(u.PreferenceNodeRendererFactory).toFactory((({container:e})=>t=>e.get(h.PreferenceNodeRendererCreatorRegistry).getPreferenceNodeRendererCreator(t).createRenderer(t,e))),t}t.bindPreferencesWidgets=function(e){e(s.PreferenceTreeLabelProvider).toSelf().inSingletonScope(),e(n.LabelProviderContribution).toService(s.PreferenceTreeLabelProvider),e(y.PreferencesWidget).toDynamicValue((({container:e})=>C(e).get(y.PreferencesWidget))).inSingletonScope(),e(n.WidgetFactory).toDynamicValue((({container:e})=>({id:y.PreferencesWidget.ID,createWidget:()=>e.get(y.PreferencesWidget)}))).inSingletonScope(),(0,o.bindContributionProvider)(e,h.PreferenceNodeRendererContribution),e(g.PreferenceSelectInputRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(g.PreferenceSelectInputRendererContribution).inSingletonScope(),e(a.PreferenceArrayInputRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(a.PreferenceArrayInputRendererContribution).inSingletonScope(),e(f.PreferenceStringInputRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(f.PreferenceStringInputRendererContribution).inSingletonScope(),e(c.PreferenceBooleanInputRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(c.PreferenceBooleanInputRendererContribution).inSingletonScope(),e(p.PreferenceNumberInputRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(p.PreferenceNumberInputRendererContribution).inSingletonScope(),e(d.PreferenceJSONLinkRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(d.PreferenceJSONLinkRendererContribution).inSingletonScope(),e(u.PreferenceHeaderRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(h.PreferenceHeaderRendererContribution).inSingletonScope(),e(l.PreferenceSingleFilePathInputRenderer).toSelf(),e(h.PreferenceNodeRendererContribution).to(l.PreferenceSingleFilePathInputRendererContribution).inSingletonScope(),e(h.DefaultPreferenceNodeRendererCreatorRegistry).toSelf().inSingletonScope(),e(h.PreferenceNodeRendererCreatorRegistry).toService(h.DefaultPreferenceNodeRendererCreatorRegistry)},t.createPreferencesWidgetContainer=C},10597:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PreferencesWidget=void 0;const s=i(70801),a=i(87361),c=i(22009),l=i(52898),d=i(76140),u=i(35561),h=i(44989);let p=n=class extends a.Panel{get currentScope(){return this.tabBarWidget.currentScope}setSearchTerm(e){return this.searchbarWidget.updateSearchTerm(e)}setScope(e){this.tabBarWidget.setScope(e)}onResize(e){super.onResize(e),e.width<600&&this.treeWidget&&!this.treeWidget.isHidden?(this.treeWidget.hide(),this.editorWidget.addClass("full-pane")):e.width>=600&&this.treeWidget&&this.treeWidget.isHidden&&(this.treeWidget.show(),this.editorWidget.removeClass("full-pane"))}onActivateRequest(e){super.onActivateRequest(e),this.searchbarWidget.focus()}init(){this.id=n.ID,this.title.label=n.LABEL,this.title.closable=!0,this.addClass("theia-settings-container"),this.title.iconClass=(0,a.codicon)("settings"),this.searchbarWidget.addClass("preferences-searchbar-widget"),this.addWidget(this.searchbarWidget),this.tabBarWidget.addClass("preferences-tabbar-widget"),this.addWidget(this.tabBarWidget),this.treeWidget.addClass("preferences-tree-widget"),this.addWidget(this.treeWidget),this.editorWidget.addClass("preferences-editor-widget"),this.addWidget(this.editorWidget),this.update()}storeState(){return{scopeTabBarState:this.tabBarWidget.storeState(),editorState:this.editorWidget.storeState(),searchbarWidgetState:this.searchbarWidget.storeState()}}restoreState(e){this.tabBarWidget.restoreState(e.scopeTabBarState),this.editorWidget.restoreState(e.editorState),this.searchbarWidget.restoreState(e.searchbarWidgetState)}};p.ID="settings_widget",p.LABEL=h.nls.localizeByDefault("Settings"),o([(0,s.inject)(c.PreferencesEditorWidget),r("design:type",c.PreferencesEditorWidget)],p.prototype,"editorWidget",void 0),o([(0,s.inject)(l.PreferencesTreeWidget),r("design:type",l.PreferencesTreeWidget)],p.prototype,"treeWidget",void 0),o([(0,s.inject)(d.PreferencesSearchbarWidget),r("design:type",d.PreferencesSearchbarWidget)],p.prototype,"searchbarWidget",void 0),o([(0,s.inject)(u.PreferencesScopeTabBar),r("design:type",u.PreferencesScopeTabBar)],p.prototype,"tabBarWidget",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],p.prototype,"init",null),p=n=o([(0,s.injectable)()],p),t.PreferencesWidget=p},75110:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFilePreferenceProvider=t.WorkspaceFilePreferenceProviderFactory=t.WorkspaceFilePreferenceProviderOptions=void 0;const r=i(70801),s=i(98516),a=i(27030),c=i(81784);let l=class{};l=n([(0,r.injectable)()],l),t.WorkspaceFilePreferenceProviderOptions=l,t.WorkspaceFilePreferenceProviderFactory=Symbol("WorkspaceFilePreferenceProviderFactory");let d=class extends c.AbstractResourcePreferenceProvider{constructor(){super(...arguments),this.sectionsInsideSettings=new Set}getUri(){return this.options.workspaceUri}parse(e){const t=super.parse(e);if(a.WorkspaceData.is(t)){const e={...t.settings};for(const i of this.configurations.getSectionNames().filter((e=>"settings"!==e)))e[i]&&this.sectionsInsideSettings.add(i),t[i]&&(e[i]=t[i],this.sectionsInsideSettings.delete(i));return e}return{}}getPath(e){var t;const i=e.split(".",1)[0],n=e.slice(i.length+1);if(this.belongsInSection(i,n)){const e=[i];return n&&e.push(n),this.sectionsInsideSettings.has(i)&&e.unshift("settings"),e}return["settings"].concat(null!==(t=super.getPath(e))&&void 0!==t?t:[])}belongsInSection(e,t){return this.configurations.isSectionName(e)}getScope(){return s.PreferenceScope.Workspace}getDomain(){return this.workspaceService.tryGetRoots().map((e=>e.resource.toString())).concat([this.options.workspaceUri.toString()])}};n([(0,r.inject)(a.WorkspaceService),o("design:type",a.WorkspaceService)],d.prototype,"workspaceService",void 0),n([(0,r.inject)(l),o("design:type",l)],d.prototype,"options",void 0),d=n([(0,r.injectable)()],d),t.WorkspaceFilePreferenceProvider=d},18796:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspacePreferenceProvider=void 0;const r=i(70801),s=i(51138),a=i(98516),c=i(27030),l=i(75110);let d=class extends a.PreferenceProvider{constructor(){super(...arguments),this.toDisposeOnEnsureDelegateUpToDate=new s.DisposableCollection}init(){this.workspaceService.ready.then((()=>{this.workspaceService.workspace||this._ready.resolve()})),this.workspaceService.onWorkspaceLocationChanged((()=>this.ensureDelegateUpToDate())),this.workspaceService.onWorkspaceChanged((()=>this.ensureDelegateUpToDate()))}getConfigUri(e=this.ensureResourceUri(),t){var i;return null===(i=this.delegate)||void 0===i?void 0:i.getConfigUri(e,t)}getContainingConfigUri(e=this.ensureResourceUri(),t){var i,n;return null===(n=null===(i=this.delegate)||void 0===i?void 0:i.getContainingConfigUri)||void 0===n?void 0:n.call(i,e,t)}get delegate(){return this._delegate}ensureDelegateUpToDate(){const e=this.createDelegate();this._delegate!==e&&(this.toDisposeOnEnsureDelegateUpToDate.dispose(),this.toDispose.push(this.toDisposeOnEnsureDelegateUpToDate),this._delegate=e,e&&e.ready.then((()=>this._ready.resolve()),(()=>{})),e instanceof l.WorkspaceFilePreferenceProvider&&this.toDisposeOnEnsureDelegateUpToDate.pushAll([e,e.onDidPreferencesChanged((e=>this.onDidPreferencesChangedEmitter.fire(e)))]))}createDelegate(){const e=this.workspaceService.workspace;if(e)return this.workspaceService.isMultiRootWorkspaceOpened?this._delegate instanceof l.WorkspaceFilePreferenceProvider&&this._delegate.getConfigUri().isEqual(e.resource)?this._delegate:this.workspaceFileProviderFactory({workspaceUri:e.resource}):this.folderPreferenceProvider}get(e,t=this.ensureResourceUri()){const i=this.delegate;return i?i.get(e,t):void 0}resolve(e,t=this.ensureResourceUri()){const i=this.delegate;return i?i.resolve(e,t):{}}getPreferences(e=this.ensureResourceUri()){const t=this.delegate;return t?t.getPreferences(e):{}}async setPreference(e,t,i=this.ensureResourceUri()){const n=this.delegate;return!!n&&n.setPreference(e,t,i)}ensureResourceUri(){if(this.workspaceService.workspace&&!this.workspaceService.isMultiRootWorkspaceOpened)return this.workspaceService.workspace.resource.toString()}};n([(0,r.inject)(c.WorkspaceService),o("design:type",c.WorkspaceService)],d.prototype,"workspaceService",void 0),n([(0,r.inject)(l.WorkspaceFilePreferenceProviderFactory),o("design:type",Function)],d.prototype,"workspaceFileProviderFactory",void 0),n([(0,r.inject)(a.PreferenceProvider),(0,r.named)(a.PreferenceScope.Folder),o("design:type",a.PreferenceProvider)],d.prototype,"folderPreferenceProvider",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.WorkspacePreferenceProvider=d},6751:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(69612);t.default=new n.ContainerModule(((e,t,i,n)=>{e(o.ShellCommandBuilder).toSelf().inSingletonScope()}))},69612:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ShellCommandBuilder=void 0;const o=i(70801),r=i(61398);let s=class{buildCommand(e,t){const i=e&&e.executable,n=t.cwd,o=t.args.map((e=>({value:e,quoting:"strong"}))),r=[];if(t.env)for(const e of Object.keys(t.env))r.push([e,t.env[e]]);if(i){if(/(bash|wsl)(.exe)?$/.test(i))return this.buildForBash(o,n,r);if(/(ps|pwsh|powershell)(.exe)?$/i.test(i))return this.buildForPowershell(o,n,r);if(/cmd(.exe)?$/i.test(i))return this.buildForCmd(o,n,r)}return this.buildForDefault(o,n,r)}buildForBash(e,t,i){let n="";if(t&&(n+=`cd ${r.BashQuotingFunctions.strong(t)} && `),null==i?void 0:i.length){n+="env";for(const[e,t]of i)n+=null===t?` -u ${r.BashQuotingFunctions.strong(e)}`:` ${r.BashQuotingFunctions.strong(`${e}=${t}`)}`;n+=" "}return n+=this.createShellCommandLine(e,r.BashQuotingFunctions),n}buildForPowershell(e,t,i){let n="";if(t&&(n+=`cd ${r.PowershellQuotingFunctions.strong(t)}; `),null==i?void 0:i.length)for(const[e,t]of i){const i=e.replace(/`/g,"````").replace(/\?/g,"``?");n+=null===t?`Remove-Item \${env:${i}}; `:`\${env:${i}}=${r.PowershellQuotingFunctions.strong(t)}; `}return n+="& "+this.createShellCommandLine(e,r.PowershellQuotingFunctions),n}buildForCmd(e,t,i){let n="";if(t&&(n+=`cd ${r.CmdQuotingFunctions.strong(t)} && `),n+='cmd /C "',null==i?void 0:i.length)for(const[e,t]of i)n+=null===t?`set ${r.CmdQuotingFunctions.strong(e)}="" && `:`set ${r.CmdQuotingFunctions.strong(`${e}=${t}`)} && `;return n+=this.createShellCommandLine(e,r.CmdQuotingFunctions),n+='"',n}buildForDefault(e,t,i){return this.buildForBash(e,t,i)}createShellCommandLine(e,t){let i="";if(e.length>0){const[n,...o]=e;i+=this.quoteExecutableIfNecessary(n,t),o.length>0&&(i+=" "+(0,r.createShellCommandLine)(o,t))}return i}quoteExecutableIfNecessary(e,t){return"string"!=typeof e||this.needsQuoting(e)?(0,r.escapeForShell)(e,t):e}needsQuoting(e){return/\W/.test(e)}};s=n([(0,o.injectable)()],s),t.ShellCommandBuilder=s},61398:(e,t)=>{"use strict";function i(e,t,i){let n,o=i;if("string"==typeof e){if(!o)return e;n=e}else o||(o=e.quoting),n=e.value;return t&&"function"==typeof t[o]?t[o](n):n}Object.defineProperty(t,"__esModule",{value:!0}),t.PowershellQuotingFunctions=t.CmdQuotingFunctions=t.BashQuotingFunctions=t.escapeForShell=t.createShellCommandLine=void 0,t.createShellCommandLine=function(e,t){return e.map((e=>i(e,t))).join(" ")},t.escapeForShell=i,t.BashQuotingFunctions={characters:{needQuotes:"()",escape:"\\",strong:"'",weak:'"'},escape:e=>e.replace(/[\s\\|(){}<>$&;"']/g,"\\$&"),strong:e=>`'${e.replace(/'+/g,"'\"$&\"'")}'`,weak:e=>`"${e.replace(/\\"/g,'\\\\"').replace(/"/g,'\\"').replace(/\\$/g,"\\\\")}"`},t.CmdQuotingFunctions={characters:{weak:'"'},escape:e=>e.replace(/[%&<>()@^|]/g,"^$&").replace(/[\\"]/g,"\\$&").replace(/\s+/g,'"$&"'),strong(e){return this.weak(e).replace(/%/g,'"%"')},weak:e=>`"${e.replace(/\\"/g,'\\\\"').replace(/"/g,'\\"').replace(/[&<>()@^|]/g,"^$&").replace(/\\$/g,"\\\\").replace(/\r?\n/g,"^$&")}"`},t.PowershellQuotingFunctions={characters:{needQuotes:"()",escape:"`",strong:"'",weak:'"'},escape:e=>e.replace(/[`|{}()<>;"' ]/g,"`$&"),strong:e=>`'${e.replace(/'/g,"''")}'`,weak:e=>`"${e.replace(/`"/g,'``"').replace(/"/g,'`"').replace(/`$/g,"``")}"`}},47336:(e,t,i)=>{"use strict";var n=i(13485).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_SERVICE_PATH=t.BackendRequestService=t.RequestService=t.RequestContext=void 0;const o="undefined"!=typeof TextDecoder?new TextDecoder:void 0;!function(e){function t(e){return e.res.statusCode&&e.res.statusCode>=200&&e.res.statusCode<300||1223===e.res.statusCode}function i(e){if(!t(e))throw new Error(`Server returned code ${e.res.statusCode}.`);return function(e){return 204===e.res.statusCode}(e)?"":(e=r(e),o?o.decode(e.buffer):e.buffer.toString())}function r(e){const t=e.buffer;return"string"==typeof t&&"function"==typeof atob&&(e.buffer=Uint8Array.from(atob(t),(e=>e.charCodeAt(0)))),e}e.isSuccess=t,e.asText=i,e.asJson=function(e){const t=i(e);try{return JSON.parse(t)}catch(e){throw e.message+=":\n"+t,e}},e.compress=function(e){return e.buffer instanceof Uint8Array&&void 0!==n&&(e.buffer=n.from(e.buffer).toString("base64")),e},e.decompress=r}(t.RequestContext||(t.RequestContext={})),t.RequestService=Symbol("RequestService"),t.BackendRequestService=Symbol("BackendRequestService"),t.REQUEST_SERVICE_PATH="/services/request-service"},2622:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(47336),t)},66855:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmDecorationsService=void 0;const s=i(70801),a=i(9825),c=i(65258),l=i(63522),d=i(16100),u=i(30566),h=i(85656);let p=class{constructor(e,t,i,n){this.decorator=e,this.scmService=t,this.editorManager=i,this.resourceProvider=n,this.dirtyState=!0,this.diffComputer=new l.DiffComputer,this.editorManager.onCreated((async e=>this.applyEditorDecorations(e.editor))),this.scmService.onDidAddRepository((e=>e.provider.onDidChange((()=>{const e=this.editorManager.currentEditor;e&&(this.dirtyState?(this.applyEditorDecorations(e.editor),this.dirtyState=!1):setTimeout((()=>{this.dirtyState=!0}),500))})))),this.scmService.onDidChangeSelectedRepository((()=>{const e=this.editorManager.currentEditor;e&&this.applyEditorDecorations(e.editor)}))}async applyEditorDecorations(e){const t=this.scmService.selectedRepository;if(t)try{const i=e.uri.withScheme(t.provider.id).withQuery(`{"ref":"", "path":"${e.uri.path.toString()}"}`),n=await this.resourceProvider(i),o=await n.readContents(),r=d.ContentLines.fromString(o),s=await this.resourceProvider(e.uri),a=await s.readContents(),c=d.ContentLines.fromString(a),{added:l,removed:u,modified:h}=this.diffComputer.computeDirtyDiff(d.ContentLines.arrayLike(r),d.ContentLines.arrayLike(c));this.decorator.applyDecorations({editor:e,added:l,removed:u,modified:h}),s.dispose(),n.dispose()}catch(e){}}};p=n([(0,s.injectable)(),r(0,(0,s.inject)(c.DirtyDiffDecorator)),r(1,(0,s.inject)(h.ScmService)),r(2,(0,s.inject)(u.EditorManager)),r(3,(0,s.inject)(a.ResourceProvider)),o("design:paramtypes",[c.DirtyDiffDecorator,h.ScmService,u.EditorManager,Function])],p),t.ScmDecorationsService=p},79015:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmTabBarDecorator=void 0;const r=i(70801),s=i(18894),a=i(85656),c=i(87361),l=i(51138),d=i(41712);let u=class{constructor(){this.id="theia-scm-tabbar-decorator",this.emitter=new s.Emitter,this.toDispose=new l.DisposableCollection,this.toDisposeOnDidChange=new l.DisposableCollection}init(){this.toDispose.push(this.scmService.onDidChangeSelectedRepository((e=>{this.toDisposeOnDidChange.dispose(),e&&this.toDisposeOnDidChange.push(e.provider.onDidChange((()=>this.fireDidChangeDecorations()))),this.fireDidChangeDecorations()})))}decorate(e){const{owner:t}=e;if(t instanceof c.ViewContainer&&t.getParts().find((e=>e.wrapped instanceof d.ScmWidget))){const e=this.collectChangesCount();return e>0?[{badge:e}]:[]}return[]}collectChangesCount(){const e=this.scmService.selectedRepository;let t=0;return e?(e.provider.groups.map((e=>{"index"!==e.id&&"workingTree"!==e.id||(t+=e.resources.length)})),t):0}get onDidChangeDecorations(){return this.emitter.event}fireDidChangeDecorations(){this.emitter.fire(void 0)}};n([(0,r.inject)(a.ScmService),o("design:type",a.ScmService)],u.prototype,"scmService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.ScmTabBarDecorator=u},16100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentLines=void 0,function(e){const t="\n".charCodeAt(0),i="\r".charCodeAt(0);e.fromString=function(e){const n=(e=>{const n=[0];for(let o=0;o<e.length;o++){const r=e.charCodeAt(o);r===i?o+1<e.length&&e.charCodeAt(o+1)===t?(n[n.length]=o+2,o++):n[n.length]=o+1:r===t&&(n[n.length]=o+1)}return n})(e);return{length:n.length,getLineContent:t=>{if(t>=n.length)throw new Error("line index out of bounds");const o=n[t];let r=t===n.length-1?void 0:n[t+1]-1;return r&&e.charCodeAt(r-1)===i&&r--,e.substring(o,r)}}},e.arrayLike=function(e){return new Proxy(e,{get(e,t){switch(t){case"prototype":return;case"length":return e.length;case"slice":return(t,i)=>void 0!==t?[t,void 0!==i?i-1:e.length-1]:[0,e.length-1];case Symbol.iterator:return function*(){for(let t=0;t<e.length;t++)yield e.getLineContent(t)}}const i=Number.parseInt(t);if(!Number.isInteger(i))throw new Error(`get ${String(t)} not implemented`);if(i>=0&&i<e.length){const t=e.getLineContent(i);return void 0===t&&console.log(e),t}}})}}(t.ContentLines||(t.ContentLines={}))},63522:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiffComputer=void 0;const n=i(96200);t.DiffComputer=class{computeDiff(e,t){var i,n;return i=e,n=t,r.diff(i,n)}computeDirtyDiff(e,t){const i=[],n=[],o=[],r=this.computeDiff(e,t);let s=-1;for(let a=0;a<r.length;a++){const c=r[a],l=r[a+1];if(c.added){const e=s+1,t=s+c.count;i.push({start:e,end:t}),s=t}else if(c.removed&&l&&l.added){const d=0===a,u=a===r.length-2,h=l.value.length>0&&0===t[l.value[0]].length,p=c.value.length>0&&0===e[c.value[0]].length;if(d&&h)n.push(0);else if(d&&p){const e=0,t=l.count-1;i.push({start:e,end:t}),s=t}else if(u&&h)n.push(s+1);else{const e=s+1,t=s+l.count;o.push({start:e,end:t}),s=t}a++}else!c.removed||l&&l.added?s+=c.count:n.push(Math.max(0,s))}return{added:i,removed:n,modified:o}}};class o extends n.Diff{tokenize(e){return e}join(e){return e}removeEmpty(e){return e}}const r=new o},65258:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DirtyDiffDecorator=t.DirtyDiffDecorationType=void 0;const o=i(70801),r=i(30566);var s;(s=t.DirtyDiffDecorationType||(t.DirtyDiffDecorationType={})).AddedLine="dirty-diff-added-line",s.RemovedLine="dirty-diff-removed-line",s.ModifiedLine="dirty-diff-modified-line";const a={linesDecorationsClassName:"dirty-diff-glyph dirty-diff-added-line",overviewRuler:{color:{id:"editorOverviewRuler.addedForeground"},position:r.OverviewRulerLane.Left},minimap:{color:{id:"minimapGutter.addedBackground"},position:r.MinimapPosition.Gutter},isWholeLine:!0},c={linesDecorationsClassName:"dirty-diff-glyph dirty-diff-removed-line",overviewRuler:{color:{id:"editorOverviewRuler.deletedForeground"},position:r.OverviewRulerLane.Left},minimap:{color:{id:"minimapGutter.deletedBackground"},position:r.MinimapPosition.Gutter},isWholeLine:!1},l={linesDecorationsClassName:"dirty-diff-glyph dirty-diff-modified-line",overviewRuler:{color:{id:"editorOverviewRuler.modifiedForeground"},position:r.OverviewRulerLane.Left},minimap:{color:{id:"minimapGutter.modifiedBackground"},position:r.MinimapPosition.Gutter},isWholeLine:!0};let d=class extends r.EditorDecorator{applyDecorations(e){const t=[...e.modified.map((e=>this.toDeltaDecoration(e,l))),...e.added.map((e=>this.toDeltaDecoration(e,a))),...e.removed.map((e=>this.toDeltaDecoration(e,c)))];this.setDecorations(e.editor,t)}toDeltaDecoration(e,t){const[i,n]="number"==typeof e?[e,e]:[e.start,e.end];return{range:r.Range.create(r.Position.create(i,0),r.Position.create(n,0)),options:t}}};d=n([(0,o.injectable)()],d),t.DirtyDiffDecorator=d},15869:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindDirtyDiff=void 0;const n=i(65258);i(72233),t.bindDirtyDiff=function(e){e(n.DirtyDiffDecorator).toSelf().inSingletonScope()}},14071:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScmAmendComponent=void 0,i(1426);const n=i(92664),o=i(87361),r=i(9825),s=i(44989);class a extends n.Component{constructor(e){super(e),this.transitionHint="none",this.lastCommitHeight=0,this.lastCommitScrollRef=e=>{e&&0===this.lastCommitHeight&&(this.lastCommitHeight=e.getBoundingClientRect().height)},this.toDisposeOnUnmount=new r.DisposableCollection,this.amend=async()=>{"none"!==this.state.transition.state&&"none"!==this.transitionHint||(this.transitionHint="amend",await this.resetAndSetMessage("HEAD~","HEAD"))},this.unamend=async()=>{if("none"!==this.state.transition.state&&"none"!==this.transitionHint)return;const e=this.state.amendingCommits.length>=1?this.state.amendingCommits[this.state.amendingCommits.length-1]:void 0,t=this.state.amendingCommits.length>=2?this.state.amendingCommits[this.state.amendingCommits.length-2]:void 0;if(e){const i=t?t.commit.id:void 0;this.transitionHint="unamend",await this.resetAndSetMessage(e.commit.id,i)}},this.unamendAll=()=>this.doUnamendAll(),this.clearAmending=()=>this.doClearAmending(),this.state={transition:{state:"none"},amendingCommits:[],lastCommit:void 0};const t=this.setState.bind(this);this.setState=e=>{this.toDisposeOnUnmount.disposed||t(e)}}async componentDidMount(){this.toDisposeOnUnmount.push(r.Disposable.create((()=>{})));const e=await this.getLastCommit();this.setState({amendingCommits:await this.buildAmendingList(e?e.commit:void 0),lastCommit:e}),this.toDisposeOnUnmount.disposed||this.toDisposeOnUnmount.push(this.props.repository.provider.onDidChange((()=>this.fetchStatusAndSetState())))}componentWillUnmount(){this.toDisposeOnUnmount.dispose()}async fetchStatusAndSetState(){const e=this.getStorageKey(),t=await this.getLastCommit();if(t&&this.state.lastCommit&&t.commit.id===this.state.lastCommit.commit.id);else if(void 0===t&&void 0===this.state.lastCommit);else if("none"===this.transitionHint)await this.clearAmendingCommits(),this.setState({amendingCommits:[],lastCommit:t});else{const i=this.state.amendingCommits.concat([]),n="amend"===this.transitionHint?"up":"down";switch(this.transitionHint){case"amend":if(this.state.lastCommit){i.push(this.state.lastCommit);const n=JSON.stringify({amendingHeadCommitSha:i[0].commit.id,latestCommitSha:t?t.commit.id:void 0});this.props.storageService.setData(e,n)}break;case"unamend":if(i.pop(),0===i.length)this.props.storageService.setData(e,void 0);else{const n=JSON.stringify({amendingHeadCommitSha:i[0].commit.id,latestCommitSha:t?t.commit.id:void 0});this.props.storageService.setData(e,n)}}if(this.state.lastCommit&&t){const e={direction:n,previousLastCommit:this.state.lastCommit};this.setState({lastCommit:t,amendingCommits:i,transition:{...e,state:"start"}}),this.onNextFrame((()=>{this.setState({transition:{...e,state:"transitioning"}})})),setTimeout((()=>{this.setState({transition:{state:"none"}})}),300)}else this.setState({transition:{state:"none"},amendingCommits:i,lastCommit:t})}this.transitionHint="none"}async clearAmendingCommits(){const e=this.getStorageKey();await this.props.storageService.setData(e,void 0)}async buildAmendingList(e){const t=this.getStorageKey(),i=await this.props.storageService.getData(t,void 0);if(i){const{amendingHeadCommitSha:t,latestCommitSha:n}=JSON.parse(i);if(!this.commitsAreEqual(e,n))return[];const o=(await this.props.scmAmendSupport.getInitialAmendingCommits(t,e?e.id:void 0)).map((async e=>({commit:e,avatar:await this.props.avatarService.getAvatar(e.authorEmail)})));return Promise.all(o)}return[]}getStorageKey(){return"scmRepository:"+this.props.repository.provider.rootUri}commitsAreEqual(e,t){return e?e.id===t:void 0===t}async resetAndSetMessage(e,t){const i=t?await this.props.scmAmendSupport.getMessage(t):"";await this.props.scmAmendSupport.reset(e),this.props.setCommitMessage(i)}render(){const e=this.state.amendingCommits.length<=3?{...this.props.style,flexShrink:0}:{...this.props.style,flexShrink:1,minHeight:240};return n.createElement("div",{className:a.Styles.COMMIT_CONTAINER+" no-select",style:e},this.state.amendingCommits.length>0||this.state.lastCommit&&"none"!==this.state.transition.state&&"down"===this.state.transition.direction?this.renderAmendingCommits():"",this.state.lastCommit?n.createElement("div",null,n.createElement("div",{id:"lastCommit",className:"theia-scm-amend"},n.createElement("div",{className:"theia-header scm-theia-header"},s.nls.localize("theia/scm/amendHeadCommit","HEAD Commit")),this.renderLastCommit())):"")}async getLastCommit(){const e=await this.props.scmAmendSupport.getLastCommit();if(e)return{commit:e,avatar:await this.props.avatarService.getAvatar(e.authorEmail)}}renderAmendingCommits(){const e=this.state.amendingCommits.length<=3?{flexShrink:0}:{flexShrink:1,minHeight:0};return n.createElement("div",{id:"amendedCommits",className:"theia-scm-amend-outer-container",style:e},n.createElement("div",{className:"theia-header scm-theia-header"},n.createElement("div",{className:"noWrapInfo"},"Commits being Amended"),this.renderAmendCommitListButtons(),this.renderCommitCount(this.state.amendingCommits.length)),n.createElement("div",{style:this.styleAmendedCommits()},this.state.amendingCommits.map(((e,t,i)=>this.renderCommitBeingAmended(e,t===i.length-1))),this.state.lastCommit&&"none"!==this.state.transition.state&&"down"===this.state.transition.direction?this.renderCommitBeingAmended(this.state.lastCommit,!1):""))}renderAmendCommitListButtons(){return n.createElement("div",{className:"theia-scm-inline-actions-container"},n.createElement("div",{className:"theia-scm-inline-actions"},n.createElement("div",{className:"theia-scm-inline-action"},n.createElement("a",{className:(0,o.codicon)("dash"),title:"Unamend All Commits",onClick:this.unamendAll})),n.createElement("div",{className:"theia-scm-inline-action"},n.createElement("a",{className:(0,o.codicon)("close"),title:"Clear Amending Commits",onClick:this.clearAmending}))))}renderLastCommit(){return this.state.lastCommit?n.createElement("div",{className:a.Styles.COMMIT_AND_BUTTON,style:{flexGrow:0,flexShrink:0},key:this.state.lastCommit.commit.id},this.renderLastCommitNoButton(this.state.lastCommit),n.createElement("div",{className:a.Styles.FLEX_CENTER},n.createElement("button",{className:"theia-button",title:s.nls.localize("theia/scm/amendLastCommit","Amend last commit"),onClick:this.amend},s.nls.localize("theia/scm/amend","Amend")))):""}renderLastCommitNoButton(e){switch(this.state.transition.state){case"none":return n.createElement("div",{ref:this.lastCommitScrollRef,className:"theia-scm-scrolling-container"},this.renderCommitAvatarAndDetail(e));case"start":case"transitioning":switch(this.state.transition.direction){case"up":return n.createElement("div",{style:this.styleLastCommitMovingUp(this.state.transition.state)},this.renderCommitAvatarAndDetail(this.state.transition.previousLastCommit),this.renderCommitAvatarAndDetail(e));case"down":return n.createElement("div",{style:this.styleLastCommitMovingDown(this.state.transition.state)},this.renderCommitAvatarAndDetail(e),this.renderCommitAvatarAndDetail(this.state.transition.previousLastCommit))}}}onNextFrame(e){setTimeout((()=>window.requestAnimationFrame(e)),0)}renderCommitAvatarAndDetail(e){const{commit:t,avatar:i}=e;return n.createElement("div",{className:a.Styles.COMMIT_AVATAR_AND_TEXT,key:t.id},n.createElement("div",{className:a.Styles.COMMIT_MESSAGE_AVATAR},n.createElement("img",{src:i})),n.createElement("div",{className:a.Styles.COMMIT_DETAILS},n.createElement("div",{className:a.Styles.COMMIT_MESSAGE_SUMMARY},t.summary),n.createElement("div",{className:a.Styles.LAST_COMMIT_MESSAGE_TIME},`${t.authorDateRelative} by ${t.authorName}`)))}renderCommitCount(e){return n.createElement("div",{className:"notification-count-container scm-change-count"},n.createElement("span",{className:"notification-count"},e))}renderCommitBeingAmended(e,t){return t&&"none"!==this.state.transition.state&&"up"===this.state.transition.direction?n.createElement("div",{className:a.Styles.COMMIT_AVATAR_AND_TEXT,style:{flexGrow:0,flexShrink:0},key:e.commit.id},n.createElement("div",{className:"fixed-height-commit-container"},this.renderCommitAvatarAndDetail(e))):n.createElement("div",{className:a.Styles.COMMIT_AVATAR_AND_TEXT,style:{flexGrow:0,flexShrink:0},key:e.commit.id},this.renderCommitAvatarAndDetail(e),t?n.createElement("div",{className:a.Styles.FLEX_CENTER},n.createElement("button",{className:"theia-button",title:s.nls.localize("theia/scm/unamendCommit","Unamend commit"),onClick:this.unamend},s.nls.localize("theia/scm/unamend","Unamend"))):"")}styleAmendedCommits(){const e={display:"flex",whitespace:"nowrap",width:"100%",minHeight:0,flexShrink:1,paddingTop:"2px"};switch(this.state.transition.state){case"none":return{...e,flexDirection:"column",overflowY:"auto",marginBottom:"0"};case"start":case"transitioning":let t=0,i=0;switch(this.state.transition.direction){case"down":t=0,i=-32;break;case"up":t=-32,i=0}switch(this.state.transition.state){case"start":return{...e,flexDirection:"column",overflowY:"hidden",marginBottom:`${t}px`};case"transitioning":return{...e,flexDirection:"column",overflowY:"hidden",marginBottom:`${i}px`,transitionProperty:"margin-bottom",transitionDuration:"300ms",transitionTimingFunction:"linear"}}}}styleLastCommitMovingUp(e){return this.styleLastCommit(e,0,-28)}styleLastCommitMovingDown(e){return this.styleLastCommit(e,-28,0)}styleLastCommit(e,t,i){const n={display:"flex",width:"100%",overflow:"hidden",paddingTop:0,paddingBottom:0,borderTop:0,borderBottom:0,height:2*this.lastCommitHeight},o=i,r=t;switch(e){case"start":return{...n,position:"relative",flexDirection:"column",marginTop:t,marginBottom:i};case"transitioning":return{...n,position:"relative",flexDirection:"column",marginTop:o,marginBottom:r,transitionProperty:"margin-top margin-bottom",transitionDuration:"300ms",transitionTimingFunction:"linear"}}}async doUnamendAll(){for(;this.state.amendingCommits.length>0;)this.unamend(),await new Promise((e=>setTimeout(e,300)))}async doClearAmending(){await this.clearAmendingCommits(),this.setState({amendingCommits:[]})}}t.ScmAmendComponent=a,function(e){let t;!function(e){e.COMMIT_CONTAINER="theia-scm-commit-container",e.COMMIT_AND_BUTTON="theia-scm-commit-and-button",e.COMMIT_AVATAR_AND_TEXT="theia-scm-commit-avatar-and-text",e.COMMIT_DETAILS="theia-scm-commit-details",e.COMMIT_MESSAGE_AVATAR="theia-scm-commit-message-avatar",e.COMMIT_MESSAGE_SUMMARY="theia-scm-commit-message-summary",e.LAST_COMMIT_MESSAGE_TIME="theia-scm-commit-message-time",e.FLEX_CENTER="theia-scm-flex-container-center"}(t=e.Styles||(e.Styles={}))}(a=t.ScmAmendComponent||(t.ScmAmendComponent={}))},87277:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmAmendWidget=void 0;const a=i(70801),c=i(9825),l=i(92664),d=i(87361),u=i(85656),h=i(99005),p=i(14071);let g=n=class extends d.ReactWidget{constructor(e){super(),this.contextMenuRenderer=e,this.shouldScrollToRow=!0,this.setInputValue=e=>{const t=this.scmService.selectedRepository;t&&(t.input.value="string"==typeof e?e:e.currentTarget.value)},this.scrollOptions={suppressScrollX:!0,minScrollbarLength:35},this.id=n.ID}render(){const e=this.scmService.selectedRepository;if(e&&e.provider.amendSupport)return l.createElement(p.ScmAmendComponent,{key:`amend:${e.provider.rootUri}`,style:{flexGrow:0},repository:e,scmAmendSupport:e.provider.amendSupport,setCommitMessage:this.setInputValue,avatarService:this.avatarService,storageService:this.storageService})}};g.ID="scm-amend-widget",o([(0,a.inject)(u.ScmService),r("design:type",u.ScmService)],g.prototype,"scmService",void 0),o([(0,a.inject)(h.ScmAvatarService),r("design:type",h.ScmAvatarService)],g.prototype,"avatarService",void 0),o([(0,a.inject)(d.StorageService),r("design:type",Object)],g.prototype,"storageService",void 0),o([(0,a.inject)(c.SelectionService),r("design:type",c.SelectionService)],g.prototype,"selectionService",void 0),o([(0,a.inject)(d.LabelProvider),r("design:type",d.LabelProvider)],g.prototype,"labelProvider",void 0),o([(0,a.inject)(d.KeybindingRegistry),r("design:type",d.KeybindingRegistry)],g.prototype,"keybindings",void 0),g=n=o([(0,a.injectable)(),s(0,(0,a.inject)(d.ContextMenuRenderer)),r("design:paramtypes",[d.ContextMenuRenderer])],g),t.ScmAmendWidget=g},99005:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmAvatarService=void 0;const o=i(70801),r=i(79040);let s=class{async getAvatar(e){return`https://www.gravatar.com/avatar/${r.Md5.hashStr(e)}?d=robohash`}};s=n([(0,o.injectable)()],s),t.ScmAvatarService=s},38273:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmCommitWidget=void 0;const a=i(70801),c=i(9825),l=i(92664),d=i(93101),u=i(58228),h=i(87361),p=i(85656);let g=n=class extends h.ReactWidget{constructor(e){super(),this.contextMenuRenderer=e,this.toDisposeOnRepositoryChange=new c.DisposableCollection,this.shouldScrollToRow=!0,this.inputRef=l.createRef(),this.setInputValue=e=>{const t=this.scmService.selectedRepository;t&&(t.input.value="string"==typeof e?e:e.currentTarget.value)},this.scrollOptions={suppressScrollX:!0,minScrollbarLength:35},this.addClass("theia-scm-commit"),this.id=n.ID}onAfterAttach(e){super.onAfterAttach(e),this.refreshOnRepositoryChange(),this.toDisposeOnDetach.push(this.scmService.onDidChangeSelectedRepository((()=>{this.refreshOnRepositoryChange(),this.update()})))}refreshOnRepositoryChange(){this.toDisposeOnRepositoryChange.dispose();const e=this.scmService.selectedRepository;e&&(this.toDisposeOnRepositoryChange.push(e.provider.onDidChange((async()=>{this.update()}))),this.toDisposeOnRepositoryChange.push(e.provider.onDidChangeCommitTemplate((e=>{this.setInputValue(e)}))))}onActivateRequest(e){super.onActivateRequest(e),this.focus()}focus(){(this.inputRef.current||this.node).focus()}render(){const e=this.scmService.selectedRepository;if(e)return l.createElement("div",this.createContainerAttributes(),this.renderInput(e.input))}createContainerAttributes(){return{style:{flexGrow:0}}}renderInput(e){let t="idle";if(e.issue)switch(e.issue.type){case u.ScmInputIssueType.Error:t="error";break;case u.ScmInputIssueType.Information:t="info";break;case u.ScmInputIssueType.Warning:t="warning"}const i=e.issue?e.issue.message:"",o=this.keybindings.acceleratorFor(this.keybindings.getKeybindingsForCommand("scm.acceptInput")[0]).join("+"),r=((e,...t)=>0!==t.length?e.replace(/{(\d+)}/g,((e,i)=>{const n=parseInt(i);return isNaN(n)||n<0||n>=t.length?e:t[n]})):e)(e.placeholder||"",o),s=e.visible&&l.createElement(d.default,{className:`${n.Styles.INPUT_MESSAGE} theia-input theia-scm-input-message-${t}`,id:n.Styles.INPUT_MESSAGE,placeholder:r,spellCheck:!1,autoFocus:!0,value:e.value,disabled:!e.enabled,onChange:this.setInputValue,ref:this.inputRef,rows:1,maxRows:6});return l.createElement("div",{className:n.Styles.INPUT_MESSAGE_CONTAINER},s,l.createElement("div",{className:`${n.Styles.VALIDATION_MESSAGE} ${n.Styles.NO_SELECT}\n                    theia-scm-validation-message-${t} theia-scm-input-message-${t}`,style:{display:e.issue?"block":"none"}},i))}storeState(){var e;return{message:null===(e=this.scmService.selectedRepository)||void 0===e?void 0:e.input.value}}restoreState(e){const t=e.message;if(!t)return;let i=this.scmService.selectedRepository;if(i)i.input.value=t;else{const e=this.scmService.onDidChangeSelectedRepository((()=>{i=this.scmService.selectedRepository,i&&(e.dispose(),i.input.value||(i.input.value=t))}));this.toDispose.push(e)}}};g.ID="scm-commit-widget",o([(0,a.inject)(p.ScmService),r("design:type",p.ScmService)],g.prototype,"scmService",void 0),o([(0,a.inject)(h.KeybindingRegistry),r("design:type",h.KeybindingRegistry)],g.prototype,"keybindings",void 0),g=n=o([(0,a.injectable)(),s(0,(0,a.inject)(h.ContextMenuRenderer)),r("design:paramtypes",[h.ContextMenuRenderer])],g),t.ScmCommitWidget=g,function(e){let t;!function(e){e.INPUT_MESSAGE_CONTAINER="theia-scm-input-message-container",e.INPUT_MESSAGE="theia-scm-input-message",e.VALIDATION_MESSAGE="theia-scm-input-validation-message",e.NO_SELECT="no-select"}(t=e.Styles||(e.Styles={}))}(g=t.ScmCommitWidget||(t.ScmCommitWidget={})),t.ScmCommitWidget=g},17543:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmContextKeyService=void 0;const r=i(70801),s=i(949);let a=class{get scmProvider(){return this._scmProvider}get scmResourceGroup(){return this._scmResourceGroup}init(){this._scmProvider=this.contextKeyService.createKey("scmProvider",void 0),this._scmResourceGroup=this.contextKeyService.createKey("scmResourceGroup",void 0)}match(e){return!e||this.contextKeyService.match(e)}};n([(0,r.inject)(s.ContextKeyService),o("design:type",Object)],a.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],a.prototype,"init",null),a=n([(0,r.injectable)()],a),t.ScmContextKeyService=a},51334:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmContribution=t.ScmColors=t.SCM_COMMANDS=t.SCM_VIEW_CONTAINER_TITLE_OPTIONS=t.SCM_VIEW_CONTAINER_ID=t.SCM_WIDGET_FACTORY_ID=void 0;const r=i(70801),s=i(18894),a=i(87361),c=i(9825),l=i(949),d=i(85656),u=i(41712),h=i(30970),p=i(91019),g=i(71177),f=i(66855),m=i(44989),b=i(53645);var v,A;t.SCM_WIDGET_FACTORY_ID=u.ScmWidget.ID,t.SCM_VIEW_CONTAINER_ID="scm-view-container",t.SCM_VIEW_CONTAINER_TITLE_OPTIONS={label:m.nls.localizeByDefault("Source Control"),iconClass:(0,a.codicon)("source-control"),closeable:!0},function(e){e.CHANGE_REPOSITORY={id:"scm.change.repository",category:m.nls.localizeByDefault("Source Control"),originalCategory:"Source Control",label:m.nls.localize("theia/scm/changeRepository","Change Repository..."),originalLabel:"Change Repository..."},e.ACCEPT_INPUT={id:"scm.acceptInput"},e.TREE_VIEW_MODE={id:"scm.viewmode.tree",tooltip:m.nls.localizeByDefault("View as Tree"),iconClass:(0,a.codicon)("list-tree"),originalLabel:"View as Tree",label:m.nls.localizeByDefault("View as Tree")},e.LIST_VIEW_MODE={id:"scm.viewmode.list",tooltip:m.nls.localizeByDefault("View as List"),iconClass:(0,a.codicon)("list-flat"),originalLabel:"View as List",label:m.nls.localizeByDefault("View as List")},e.COLLAPSE_ALL={id:"scm.collapseAll",category:m.nls.localizeByDefault("Source Control"),originalCategory:"Source Control",tooltip:m.nls.localizeByDefault("Collapse All"),iconClass:(0,a.codicon)("collapse-all"),label:m.nls.localizeByDefault("Collapse All"),originalLabel:"Collapse All"}}(v=t.SCM_COMMANDS||(t.SCM_COMMANDS={})),function(e){e.editorGutterModifiedBackground="editorGutter.modifiedBackground",e.editorGutterAddedBackground="editorGutter.addedBackground",e.editorGutterDeletedBackground="editorGutter.deletedBackground"}(A=t.ScmColors||(t.ScmColors={}));let y=class extends a.AbstractViewContribution{constructor(){super({viewContainerId:t.SCM_VIEW_CONTAINER_ID,widgetId:t.SCM_WIDGET_FACTORY_ID,widgetName:t.SCM_VIEW_CONTAINER_TITLE_OPTIONS.label,defaultWidgetOptions:{area:"left",rank:300},toggleCommandId:"scmView:toggle",toggleKeybinding:"ctrlcmd+shift+g"}),this.statusBarDisposable=new c.DisposableCollection}init(){this.scmFocus=this.contextKeys.createKey("scmFocus",!1)}async initializeLayout(){await this.openView()}onStart(){this.updateStatusBar(),this.scmService.onDidAddRepository((()=>this.updateStatusBar())),this.scmService.onDidRemoveRepository((()=>this.updateStatusBar())),this.scmService.onDidChangeSelectedRepository((()=>this.updateStatusBar())),this.scmService.onDidChangeStatusBarCommands((()=>this.updateStatusBar())),this.labelProvider.onDidChange((()=>this.updateStatusBar())),this.updateContextKeys(),this.shell.onDidChangeCurrentWidget((()=>this.updateContextKeys()))}updateContextKeys(){this.scmFocus.set(this.shell.currentWidget instanceof u.ScmWidget)}registerCommands(e){super.registerCommands(e),e.registerCommand(v.CHANGE_REPOSITORY,{execute:()=>this.scmQuickOpenService.changeRepository(),isEnabled:()=>this.scmService.repositories.length>1}),e.registerCommand(v.ACCEPT_INPUT,{execute:()=>this.acceptInput(),isEnabled:()=>!!this.scmFocus.get()&&!!this.acceptInputCommand()})}registerToolbarItems(e){const t=new s.Emitter,i=(i,n)=>{const o=i.id,r={id:o,command:o,tooltip:i.label,onDidChange:t.event};this.commandRegistry.registerCommand({id:o,iconClass:i&&i.iconClass},{execute:e=>{e instanceof u.ScmWidget&&(e.viewMode=n,t.fire())},isVisible:e=>e instanceof u.ScmWidget&&!!this.scmService.selectedRepository&&e.viewMode!==n}),e.registerItem(r)};i(v.TREE_VIEW_MODE,"tree"),i(v.LIST_VIEW_MODE,"list"),this.commandRegistry.registerCommand(v.COLLAPSE_ALL,{execute:e=>{e instanceof u.ScmWidget&&"tree"===e.viewMode&&e.collapseScmTree()},isVisible:e=>e instanceof u.ScmWidget&&!!this.scmService.selectedRepository&&"tree"===e.viewMode}),e.registerItem({...v.COLLAPSE_ALL,command:v.COLLAPSE_ALL.id})}registerKeybindings(e){super.registerKeybindings(e),e.registerKeybinding({command:v.ACCEPT_INPUT.id,keybinding:"ctrlcmd+enter",when:"scmFocus"})}async acceptInput(){const e=this.acceptInputCommand();e&&e.command&&await this.commands.executeCommand(e.command,...e.arguments?e.arguments:[])}acceptInputCommand(){const e=this.scmService.selectedRepository;if(e)return e.provider.acceptInputCommand}updateStatusBar(){this.statusBarDisposable.dispose();const e=this.scmService.selectedRepository;if(!e)return;const t=this.labelProvider.getName(new h.default(e.provider.rootUri));this.scmService.repositories.length>1&&this.setStatusBarEntry(v.CHANGE_REPOSITORY.id,{text:`$(database) ${t}`,tooltip:t.toString(),command:v.CHANGE_REPOSITORY.id,alignment:a.StatusBarAlignment.LEFT,priority:100});const i=e.provider.rootUri?`${t} (${e.provider.label})`:e.provider.label;this.scmService.statusBarCommands.forEach(((e,t)=>this.setStatusBarEntry(`scm.status.${t}`,{text:e.title,tooltip:i+(e.tooltip?` - ${e.tooltip}`:""),command:e.command,arguments:e.arguments,alignment:a.StatusBarAlignment.LEFT,priority:100})))}setStatusBarEntry(e,t){this.statusBar.setElement(e,t),this.statusBarDisposable.push(c.Disposable.create((()=>this.statusBar.removeElement(e))))}registerColors(e){e.register({id:A.editorGutterModifiedBackground,defaults:{dark:"#1B81A8",light:"#2090D3",hcDark:"#1B81A8",hcLight:"#2090D3"},description:"Editor gutter background color for lines that are modified."},{id:A.editorGutterAddedBackground,defaults:{dark:"#487E02",light:"#48985D",hcDark:"#487E02",hcLight:"#48985D"},description:"Editor gutter background color for lines that are added."},{id:A.editorGutterDeletedBackground,defaults:{dark:"editorError.foreground",light:"editorError.foreground",hcDark:"editorError.foreground",hcLight:"editorError.foreground"},description:"Editor gutter background color for lines that are deleted."},{id:"minimapGutter.modifiedBackground",defaults:{dark:"editorGutter.modifiedBackground",light:"editorGutter.modifiedBackground",hcDark:"editorGutter.modifiedBackground",hcLight:"editorGutter.modifiedBackground"},description:"Minimap gutter background color for lines that are modified."},{id:"minimapGutter.addedBackground",defaults:{dark:"editorGutter.addedBackground",light:"editorGutter.addedBackground",hcDark:"editorGutter.modifiedBackground",hcLight:"editorGutter.modifiedBackground"},description:"Minimap gutter background color for lines that are added."},{id:"minimapGutter.deletedBackground",defaults:{dark:"editorGutter.deletedBackground",light:"editorGutter.deletedBackground",hcDark:"editorGutter.deletedBackground",hcLight:"editorGutter.deletedBackground"},description:"Minimap gutter background color for lines that are deleted."},{id:"editorOverviewRuler.modifiedForeground",defaults:{dark:g.Color.transparent(A.editorGutterModifiedBackground,.6),light:g.Color.transparent(A.editorGutterModifiedBackground,.6),hcDark:g.Color.transparent(A.editorGutterModifiedBackground,.6),hcLight:g.Color.transparent(A.editorGutterModifiedBackground,.6)},description:"Overview ruler marker color for modified content."},{id:"editorOverviewRuler.addedForeground",defaults:{dark:g.Color.transparent(A.editorGutterAddedBackground,.6),light:g.Color.transparent(A.editorGutterAddedBackground,.6),hcDark:g.Color.transparent(A.editorGutterAddedBackground,.6),hcLight:g.Color.transparent(A.editorGutterAddedBackground,.6)},description:"Overview ruler marker color for added content."},{id:"editorOverviewRuler.deletedForeground",defaults:{dark:g.Color.transparent(A.editorGutterDeletedBackground,.6),light:g.Color.transparent(A.editorGutterDeletedBackground,.6),hcDark:g.Color.transparent(A.editorGutterDeletedBackground,.6),hcLight:g.Color.transparent(A.editorGutterDeletedBackground,.6)},description:"Overview ruler marker color for deleted content."})}registerThemeStyle(e,t){const i=e.getColor("contrastBorder");i&&(0,b.isHighContrast)(e.type)&&t.addRule(`\n                .theia-scm-input-message-container textarea {\n                    outline: var(--theia-border-width) solid ${i};\n                    outline-offset: -1px;\n                }\n            `)}};n([(0,r.inject)(a.StatusBar),o("design:type",Object)],y.prototype,"statusBar",void 0),n([(0,r.inject)(d.ScmService),o("design:type",d.ScmService)],y.prototype,"scmService",void 0),n([(0,r.inject)(p.ScmQuickOpenService),o("design:type",p.ScmQuickOpenService)],y.prototype,"scmQuickOpenService",void 0),n([(0,r.inject)(a.LabelProvider),o("design:type",a.LabelProvider)],y.prototype,"labelProvider",void 0),n([(0,r.inject)(c.CommandService),o("design:type",Object)],y.prototype,"commands",void 0),n([(0,r.inject)(c.CommandRegistry),o("design:type",c.CommandRegistry)],y.prototype,"commandRegistry",void 0),n([(0,r.inject)(l.ContextKeyService),o("design:type",Object)],y.prototype,"contextKeys",void 0),n([(0,r.inject)(f.ScmDecorationsService),o("design:type",f.ScmDecorationsService)],y.prototype,"scmDecorationsService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],y.prototype,"init",null),y=n([(0,r.injectable)(),o("design:paramtypes",[])],y),t.ScmContribution=y},42998:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScmWidgetContainer=t.createScmTreeContainer=void 0,i(1242);const n=i(70801),o=i(87361),r=i(85656),s=i(51334),a=i(41712),c=i(73485),l=i(38273),d=i(87277),u=i(92201),h=i(67418),p=i(81887),g=i(91019),f=i(15869),m=i(66855),b=i(99005),v=i(17543),A=i(58353),y=i(92774),C=i(23119),w=i(22227),_=i(17264),S=i(12973),E=i(79015),k=i(20422);function x(e){const t=(0,o.createTreeContainer)(e,{props:{virtualized:!0,search:!0,multiSelect:!0},widget:c.ScmTreeWidget});return t.unbind(o.TreeModel),t.unbind(o.TreeModelImpl),t.bind(h.ScmTreeModelProps).toConstantValue({defaultExpansion:"expanded"}),t}function D(e){const t=x(e);return t.bind(p.ScmGroupsTreeModel).toSelf(),t.bind(o.TreeModel).toService(p.ScmGroupsTreeModel),t}t.default=new n.ContainerModule((e=>{e(v.ScmContextKeyService).toSelf().inSingletonScope(),e(r.ScmService).toSelf().inSingletonScope(),e(a.ScmWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:s.SCM_WIDGET_FACTORY_ID,createWidget:()=>D(e).get(a.ScmWidget)}))).inSingletonScope(),e(l.ScmCommitWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:l.ScmCommitWidget.ID,createWidget:()=>e.get(l.ScmCommitWidget)}))).inSingletonScope(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:c.ScmTreeWidget.ID,createWidget:()=>e.get(c.ScmTreeWidget)}))).inSingletonScope(),e(d.ScmAmendWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:d.ScmAmendWidget.ID,createWidget:()=>e.get(d.ScmAmendWidget)}))).inSingletonScope(),e(u.ScmNoRepositoryWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:u.ScmNoRepositoryWidget.ID,createWidget:()=>e.get(u.ScmNoRepositoryWidget)}))).inSingletonScope(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:s.SCM_VIEW_CONTAINER_ID,createWidget:async()=>{const t=e.get(o.ViewContainer.Factory)({id:s.SCM_VIEW_CONTAINER_ID,progressLocationId:"scm"});t.setTitleOptions(s.SCM_VIEW_CONTAINER_TITLE_OPTIONS);const i=await e.get(o.WidgetManager).getOrCreateWidget(s.SCM_WIDGET_FACTORY_ID);return t.addWidget(i,{canHide:!1,initiallyCollapsed:!1}),t}}))).inSingletonScope(),e(o.ApplicationShellLayoutMigration).to(A.ScmLayoutVersion3Migration).inSingletonScope(),e(o.ApplicationShellLayoutMigration).to(A.ScmLayoutVersion5Migration).inSingletonScope(),e(g.ScmQuickOpenService).toSelf().inSingletonScope(),(0,o.bindViewContribution)(e,s.ScmContribution),e(o.FrontendApplicationContribution).toService(s.ScmContribution),e(C.TabBarToolbarContribution).toService(s.ScmContribution),e(w.ColorContribution).toService(s.ScmContribution),e(o.StylingParticipant).toService(s.ScmContribution),e(m.ScmDecorationsService).toSelf().inSingletonScope(),e(b.ScmAvatarService).toSelf().inSingletonScope(),(0,f.bindDirtyDiff)(e),e(y.ScmTreeLabelProvider).toSelf().inSingletonScope(),e(_.LabelProviderContribution).toService(y.ScmTreeLabelProvider),(0,S.bindScmPreferences)(e),e(E.ScmTabBarDecorator).toSelf().inSingletonScope(),e(k.TabBarDecorator).toService(E.ScmTabBarDecorator)})),t.createScmTreeContainer=x,t.createScmWidgetContainer=D},81887:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmGroupsTreeModel=void 0;const r=i(70801),s=i(51138),a=i(85656),c=i(67418);let l=class extends c.ScmTreeModel{constructor(){super(...arguments),this.toDisposeOnRepositoryChange=new s.DisposableCollection}init(){super.init(),this.refreshOnRepositoryChange(),this.toDispose.push(this.scmService.onDidChangeSelectedRepository((()=>{this.refreshOnRepositoryChange()})))}refreshOnRepositoryChange(){const e=this.scmService.selectedRepository;e?this.changeRepository(e.provider):this.changeRepository(void 0)}changeRepository(e){this.toDisposeOnRepositoryChange.dispose(),this.contextKeys.scmProvider.set(e?e.id:void 0),this.provider=e,e&&(this.toDisposeOnRepositoryChange.push(e.onDidChange((()=>this.root=this.createTree()))),e.onDidChangeResources&&this.toDisposeOnRepositoryChange.push(e.onDidChangeResources((()=>this.root=this.createTree()))),this.root=this.createTree())}get rootUri(){if(this.provider)return this.provider.rootUri}get groups(){return this.provider?this.provider.groups:[]}canTabToWidget(){return!!this.provider}};n([(0,r.inject)(a.ScmService),o("design:type",a.ScmService)],l.prototype,"scmService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],l.prototype,"init",null),l=n([(0,r.injectable)()],l),t.ScmGroupsTreeModel=l},58228:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScmInput=t.ScmInputIssueType=void 0;const n=i(6577),o=i(9825),r=i(28563);var s;(s=t.ScmInputIssueType||(t.ScmInputIssueType={}))[s.Error=0]="Error",s[s.Warning=1]="Warning",s[s.Information=2]="Information",t.ScmInput=class{constructor(e={}){var t;this.options=e,this.onDidChangeEmitter=new o.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.onDidFocusEmitter=new o.Emitter,this.onDidFocus=this.onDidFocusEmitter.event,this.toDispose=new o.DisposableCollection(this.onDidChangeEmitter,this.onDidFocusEmitter),this._placeholder=this.options.placeholder,this._visible=this.options.visible,this._enabled=null===(t=this.options.enabled)||void 0===t||t,this.validate=n((async()=>{this.options.validator&&(this.issue=await this.options.validator(this.value))}),200)}fireDidChange(){this.onDidChangeEmitter.fire(void 0)}dispose(){this.toDispose.dispose()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder!==e&&(this._placeholder=e,this.fireDidChange())}get value(){return this._value||""}set value(e){this.value!==e&&(this._value=e,this.fireDidChange(),this.validate())}get visible(){var e;return null===(e=this._visible)||void 0===e||e}set visible(e){this.visible!==e&&(this._visible=e,this.fireDidChange(),this.validate())}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.fireDidChange(),this.validate())}get issue(){return this._issue}set issue(e){r.JSONExt.deepEqual(this._issue||{},e||{})||(this._issue=e,this.fireDidChange())}focus(){this.onDidFocusEmitter.fire(void 0)}toJSON(){return{value:this._value,issue:this._issue}}fromJSON(e){void 0===this._value&&"value"in e&&(this._value=e.value,this._issue=e.issue,this.fireDidChange())}}},58353:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmLayoutVersion5Migration=t.ScmLayoutVersion3Migration=void 0;const o=i(70801),r=i(51334);let s=class{constructor(){this.layoutVersion=3}onWillInflateWidget(e,{parent:t}){if("scm"===e.constructionOptions.factoryId&&!t)return{constructionOptions:{factoryId:r.SCM_VIEW_CONTAINER_ID},innerWidgetState:{parts:[{widget:{constructionOptions:{factoryId:r.SCM_WIDGET_FACTORY_ID},innerWidgetState:e.innerWidgetState},partId:{factoryId:r.SCM_WIDGET_FACTORY_ID},collapsed:!1,hidden:!1}],title:r.SCM_VIEW_CONTAINER_TITLE_OPTIONS}}}};s=n([(0,o.injectable)()],s),t.ScmLayoutVersion3Migration=s;let a=class{constructor(){this.layoutVersion=5}onWillInflateWidget(e){if(e.constructionOptions.factoryId===r.SCM_VIEW_CONTAINER_ID&&"string"==typeof e.innerWidgetState)return e.innerWidgetState=e.innerWidgetState.replace(/scm-tab-icon/g,r.SCM_VIEW_CONTAINER_TITLE_OPTIONS.iconClass),e}};a=n([(0,o.injectable)()],a),t.ScmLayoutVersion5Migration=a},92201:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmNoRepositoryWidget=void 0;const s=i(70801),a=i(92664),c=i(87361),l=i(86508),d=i(44989);let u=n=class extends c.ReactWidget{constructor(){super(),this.addClass("theia-scm-no-repository"),this.id=n.ID}render(){return a.createElement(l.AlertMessage,{type:"WARNING",header:d.nls.localize("theia/scm/noRepositoryFound","No repository found")})}};u.ID="scm-no-repository-widget",u=n=o([(0,s.injectable)(),r("design:paramtypes",[])],u),t.ScmNoRepositoryWidget=u},12973:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindScmPreferences=t.createScmPreferences=t.ScmPreferences=t.ScmPreferenceContribution=t.scmPreferenceSchema=void 0;const n=i(98516),o=i(44989);function r(e,i=t.scmPreferenceSchema){return(0,n.createPreferenceProxy)(e,i)}t.scmPreferenceSchema={type:"object",properties:{"scm.defaultViewMode":{type:"string",enum:["tree","list"],enumDescriptions:[o.nls.localizeByDefault("Show the repository changes as a tree."),o.nls.localizeByDefault("Show the repository changes as a list.")],description:o.nls.localizeByDefault("Controls the default Source Control repository view mode."),default:"list"}}},t.ScmPreferenceContribution=Symbol("ScmPreferenceContribution"),t.ScmPreferences=Symbol("ScmPreferences"),t.createScmPreferences=r,t.bindScmPreferences=function(e){e(t.ScmPreferences).toDynamicValue((e=>r(e.container.get(n.PreferenceService),e.container.get(t.ScmPreferenceContribution).schema))).inSingletonScope(),e(t.ScmPreferenceContribution).toConstantValue({schema:t.scmPreferenceSchema}),e(n.PreferenceContribution).toService(t.ScmPreferenceContribution)}},91019:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmQuickOpenService=void 0;const r=i(70801),s=i(13318),a=i(30970),c=i(85656),l=i(17264),d=i(87361);let u=class{async changeRepository(){var e;const t=this.scmService.repositories;if(t.length>1){const i=await Promise.all(t.map((async e=>{const t=new a.default(e.provider.rootUri);return{label:this.labelProvider.getName(t),description:this.labelProvider.getLongName(t),execute:()=>{this.scmService.selectedRepository=e}}})));null===(e=this.quickInputService)||void 0===e||e.showQuickPick(i,{placeholder:"Select repository to work with:"})}}};n([(0,r.inject)(d.QuickInputService),(0,r.optional)(),o("design:type",Object)],u.prototype,"quickInputService",void 0),n([(0,r.inject)(s.MessageService),o("design:type",s.MessageService)],u.prototype,"messageService",void 0),n([(0,r.inject)(l.LabelProvider),o("design:type",l.LabelProvider)],u.prototype,"labelProvider",void 0),n([(0,r.inject)(c.ScmService),o("design:type",c.ScmService)],u.prototype,"scmService",void 0),u=n([(0,r.injectable)()],u),t.ScmQuickOpenService=u},32358:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScmRepository=void 0;const n=i(9825),o=i(58228);t.ScmRepository=class{constructor(e,t={}){this.provider=e,this.options=t,this.onDidChangeEmitter=new n.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.toDispose=new n.DisposableCollection(this.onDidChangeEmitter),this.toDispose.pushAll([this.provider,this.input=new o.ScmInput(t.input),this.input.onDidChange((()=>this.fireDidChange()))])}fireDidChange(){this.onDidChangeEmitter.fire(void 0)}dispose(){this.toDispose.dispose()}}},85656:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmService=void 0;const r=i(9825),s=i(70801),a=i(17543),c=i(32358),l=i(30970);let d=class{constructor(){this._repositories=new Map,this.onDidChangeSelectedRepositoryEmitter=new r.Emitter,this.onDidChangeSelectedRepository=this.onDidChangeSelectedRepositoryEmitter.event,this.onDidAddRepositoryEmitter=new r.Emitter,this.onDidAddRepository=this.onDidAddRepositoryEmitter.event,this.onDidRemoveRepositoryEmitter=new r.Emitter,this.onDidRemoveRepository=this.onDidAddRepositoryEmitter.event,this.onDidChangeStatusBarCommandsEmitter=new r.Emitter,this.onDidChangeStatusBarCommands=this.onDidChangeStatusBarCommandsEmitter.event,this.toDisposeOnSelected=new r.DisposableCollection}fireDidChangeStatusBarCommands(){this.onDidChangeStatusBarCommandsEmitter.fire(this.statusBarCommands)}get statusBarCommands(){const e=this.selectedRepository;return e&&e.provider.statusBarCommands||[]}get repositories(){return[...this._repositories.values()]}get selectedRepository(){return this._selectedRepository}set selectedRepository(e){this._selectedRepository!==e&&(this.toDisposeOnSelected.dispose(),this._selectedRepository=e,this._selectedRepository&&this._selectedRepository.provider.onDidChangeStatusBarCommands&&this.toDisposeOnSelected.push(this._selectedRepository.provider.onDidChangeStatusBarCommands((()=>this.fireDidChangeStatusBarCommands()))),this.onDidChangeSelectedRepositoryEmitter.fire(this._selectedRepository),this.fireDidChangeStatusBarCommands())}findRepository(e){return this.repositories.sort(((e,t)=>t.provider.rootUri.length-e.provider.rootUri.length)).find((t=>new l.default(t.provider.rootUri).isEqualOrParent(e)))}registerScmProvider(e,t={}){const i=e.id+":"+e.rootUri;if(this._repositories.has(i))throw new Error(`${e.label} provider for '${e.rootUri}' already exists.`);const n=new c.ScmRepository(e,t),o=n.dispose;return n.dispose=()=>{this._repositories.delete(i),o.bind(n)(),this.onDidRemoveRepositoryEmitter.fire(n),this._selectedRepository===n&&(this.selectedRepository=this._repositories.values().next().value)},this._repositories.set(i,n),this.onDidAddRepositoryEmitter.fire(n),1===this._repositories.size&&(this.selectedRepository=n),n}};n([(0,s.inject)(a.ScmContextKeyService),o("design:type",a.ScmContextKeyService)],d.prototype,"contextKeys",void 0),d=n([(0,s.injectable)()],d),t.ScmService=d},92774:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmTreeLabelProvider=void 0;const r=i(70801),s=i(30970),a=i(17264),c=i(21810),l=i(67418);let d=class{canHandle(e){return c.TreeNode.is(e)&&(l.ScmFileChangeGroupNode.is(e)||l.ScmFileChangeFolderNode.is(e)||l.ScmFileChangeNode.is(e))?60:0}getName(e){return l.ScmFileChangeGroupNode.is(e)?e.groupLabel:l.ScmFileChangeFolderNode.is(e)?e.path:l.ScmFileChangeNode.is(e)?this.labelProvider.getName(new s.default(e.sourceUri)):""}};n([(0,r.inject)(a.LabelProvider),o("design:type",a.LabelProvider)],d.prototype,"labelProvider",void 0),d=n([(0,r.injectable)()],d),t.ScmTreeLabelProvider=d},67418:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmTreeModel=t.ScmFileChangeNode=t.ScmFileChangeFolderNode=t.ScmFileChangeGroupNode=t.ScmTreeModelProps=void 0;const r=i(70801),s=i(21810),a=i(30970),c=i(17543);var l,d,u;t.ScmTreeModelProps=Symbol("ScmTreeModelProps"),function(e){e.is=function(e){return"groupId"in e&&"children"in e&&!d.is(e)}}(l=t.ScmFileChangeGroupNode||(t.ScmFileChangeGroupNode={})),function(e){e.is=function(e){return"groupId"in e&&"sourceUri"in e&&"path"in e&&"children"in e}}(d=t.ScmFileChangeFolderNode||(t.ScmFileChangeFolderNode={})),function(e){e.is=function(e){return"sourceUri"in e&&!d.is(e)},e.getGroupId=function(e){const t=e.parent;if(!t||!d.is(t)&&!l.is(t))throw new Error("bad node");return t.groupId}}(u=t.ScmFileChangeNode||(t.ScmFileChangeNode={}));let h=class extends s.TreeModelImpl{constructor(){super(...arguments),this._viewMode="list",this.compareNodes=(e,t)=>this.doCompareNodes(e,t)}get languageId(){return this._languageId}set viewMode(e){const t=this.selectedNodes;if(this._viewMode=e,this.root){this.root=this.createTree();for(const e of t){const t=this.getNode(e.id);s.SelectableTreeNode.is(t)&&this.revealNode(t)}}}get viewMode(){return this._viewMode}createTree(){const e={id:"file-change-tree-root",parent:void 0,visible:!1,rootUri:this.rootUri,children:[]},t=this.groups.filter((e=>!!e.resources.length||!e.hideWhenEmpty)).map((t=>this.toGroupNode(t,e)));return e.children=t,e}toGroupNode(e,t){const i={id:`${e.id}`,groupId:e.id,groupLabel:e.label,parent:t,children:[],expanded:!0},n=e.resources.sort(((e,t)=>e.sourceUri.toString().localeCompare(t.sourceUri.toString())));switch(this._viewMode){case"list":i.children=n.map((e=>this.toFileChangeNode(e,i)));break;case"tree":const t=e.provider.rootUri;if(t){const e=n.map((e=>{const i=new a.default(t).relative(e.sourceUri);return{resource:e,pathParts:i?i.toString().split("/"):[]}}));i.children=this.buildFileChangeTree(e,0,n.length,0,i)}}return i}buildFileChangeTree(e,t,i,n,o){const r=[];let s=t;for(;s<i;){const t=e[s];if(n===t.pathParts.length-1)r.push(this.toFileChangeNode(t.resource,o)),s++;else{let a=s+1;for(;a<i&&e[a].pathParts[n]===t.pathParts[n];)a++;const c=a;if(c-s<(this.props.nestingThreshold||1))for(let t=s;t<c;t++)r.push(this.toFileChangeNode(e[t].resource,o));else{const i=t.pathParts,a=e[c-1].pathParts;let l=n+1;for(;l<i.length-1&&l<a.length-1&&i[l]===a[l];)l++;const d=i.slice(n,l).join("/");r.push(this.toFileChangeFolderNode(e,s,c,l,d,o))}s=c}}return r.sort(this.compareNodes)}doCompareNodes(e,t){const i=d.is(e),n=d.is(t);return i&&!n?-1:n&&!i?1:e.sourceUri.localeCompare(t.sourceUri)}toFileChangeFolderNode(e,t,i,n,o,r){let c=this.getRoot(r).rootUri;d.is(r)&&(c=r.sourceUri);const l=new a.default(c).resolve(o),u=!this.props.defaultExpansion||"expanded"===this.props.defaultExpansion,h=`${r.groupId}:${String(l)}`,p=this.getNode(h),g={id:h,groupId:r.groupId,path:o,sourceUri:String(l),children:[],parent:r,expanded:s.ExpandableTreeNode.is(p)?p.expanded:u,selected:s.SelectableTreeNode.is(p)&&p.selected};return g.children=this.buildFileChangeTree(e,t,i,n,g),g}getRoot(e){let t=e.parent;for(;l.is(t)&&d.is(t);)t=t.parent;return t}toFileChangeNode(e,t){const i=`${e.group.id}:${String(e.sourceUri)}`,n=this.getNode(i),o={id:i,sourceUri:String(e.sourceUri),decorations:e.decorations,parent:t,selected:s.SelectableTreeNode.is(n)&&n.selected};return o.selected&&this.selectionService.addSelection(o),o}async revealNode(e){if(d.is(e)||u.is(e)){const t=e.parent;s.ExpandableTreeNode.is(t)&&(await this.revealNode(t),t.expanded||await this.expandNode(t))}}getResourceFromNode(e){const t=u.getGroupId(e),i=this.findGroup(t);if(i)return i.resources.find((t=>String(t.sourceUri)===e.sourceUri))}getResourceGroupFromNode(e){return this.findGroup(e.groupId)}getResourcesFromFolderNode(e){const t=[],i=this.findGroup(e.groupId);return i&&this.collectResources(t,e,i),t}getSelectionArgs(e){const t=[];for(const i of e){if(u.is(i)){const e=u.getGroupId(i),n=this.findGroup(e);if(n){const e=n.resources.find((e=>String(e.sourceUri)===i.sourceUri));e&&t.push(e)}}if(d.is(i)){const e=this.findGroup(i.groupId);e&&this.collectResources(t,i,e)}}return t.filter(((e,i)=>t.findIndex((t=>e.sourceUri===t.sourceUri))===i))}collectResources(e,t,i){if(d.is(t))for(const n of t.children)this.collectResources(e,n,i);else if(u.is(t)){const n=i.resources.find((e=>String(e.sourceUri)===t.sourceUri));e.push(n)}}execInNodeContext(e,t){if(!this.provider)return;let i;if(l.is(e)||d.is(e))i=e.groupId;else{if(!u.is(e))return;i=u.getGroupId(e)}this.contextKeys.scmProvider.set(this.provider.id),this.contextKeys.scmResourceGroup.set(i);try{t()}finally{}}findGroup(e){return this.groups.find((t=>t.id===e))}storeState(){return{...super.storeState(),mode:this.viewMode}}restoreState(e){super.restoreState(e),this.viewMode="tree"===e.mode?"tree":"list"}};n([(0,r.inject)(s.TreeProps),o("design:type",Object)],h.prototype,"props",void 0),n([(0,r.inject)(c.ScmContextKeyService),o("design:type",c.ScmContextKeyService)],h.prototype,"contextKeys",void 0),h=n([(0,r.injectable)()],h),t.ScmTreeModel=h},73485:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmInlineAction=t.ScmInlineActions=t.ScmResourceFolderElement=t.ScmResourceGroupElement=t.ScmResourceComponent=t.ScmElement=t.ScmTreeWidget=void 0;const a=i(92664),c=i(70801),l=i(30970),d=i(4836),u=i(51138),h=i(21810),p=i(67418),g=i(49381),f=i(87361),m=i(17543),b=i(30566),v=i(5355),A=i(53414),y=i(16967),C=i(36090),w=i(20311);let _=n=class extends h.TreeWidget{constructor(e,t,i){super(e,t,i),this.id=n.ID,this.addClass("groups-outer-container")}init(){super.init(),this.toDispose.push(this.themeService.onDidColorThemeChange((()=>this.update())))}set viewMode(e){this.searchBox.hide(),this.model.viewMode=e}get viewMode(){return this.model.viewMode}renderNode(e,t){var i;if(!h.TreeNode.isVisible(e))return;const n=this.createNodeAttributes(e,t),o=this.labelProvider.getName(e),r=null===(i=this.searchHighlights)||void 0===i?void 0:i.get(e.id),s=r&&!p.ScmFileChangeGroupNode.is(e)?this.toReactNode(o,r):o;if(p.ScmFileChangeGroupNode.is(e)){const i=a.createElement(k,{key:`${e.groupId}`,model:this.model,treeNode:e,renderExpansionToggle:()=>this.renderExpansionToggle(e,t),commandExecutor:this.menuCommandExecutor,contextMenuRenderer:this.contextMenuRenderer,menus:this.menus,contextKeys:this.contextKeys,labelProvider:this.labelProvider,corePreferences:this.corePreferences,caption:s});return a.createElement("div",n,i)}if(p.ScmFileChangeFolderNode.is(e)){const i=a.createElement(x,{key:String(e.sourceUri),model:this.model,treeNode:e,sourceUri:e.sourceUri,renderExpansionToggle:()=>this.renderExpansionToggle(e,t),commandExecutor:this.menuCommandExecutor,contextMenuRenderer:this.contextMenuRenderer,menus:this.menus,contextKeys:this.contextKeys,labelProvider:this.labelProvider,corePreferences:this.corePreferences,caption:s});return a.createElement("div",n,i)}if(p.ScmFileChangeNode.is(e)){const i=e.parent&&p.ScmFileChangeFolderNode.is(e.parent)?new l.default(e.parent.sourceUri):new l.default(this.model.rootUri),o=a.createElement(E,{key:e.sourceUri,model:this.model,treeNode:e,contextMenuRenderer:this.contextMenuRenderer,commandExecutor:this.menuCommandExecutor,menus:this.menus,contextKeys:this.contextKeys,labelProvider:this.labelProvider,corePreferences:this.corePreferences,caption:s,...{...this.props,parentPath:i,sourceUri:e.sourceUri,decoration:this.decorationsService.getDecoration(new l.default(e.sourceUri),!0)[0],colors:this.colors,isLightTheme:this.isCurrentThemeLight(),renderExpansionToggle:()=>this.renderExpansionToggle(e,t)}});return a.createElement("div",n,o)}return super.renderNode(e,t)}createContainerAttributes(){return this.model.canTabToWidget()?{...super.createContainerAttributes(),tabIndex:0}:super.createContainerAttributes()}async handleLeft(e){if(1===this.model.selectedNodes.length){const t=this.model.selectedNodes[0];if(p.ScmFileChangeNode.is(t)){const i=this.model.getResourceFromNode(t);if(!i)return super.handleLeft(e);const n=await this.openResource(i);if(n){const e=this.diffNavigatorProvider(n.editor);if(e.hasPrevious())e.previous();else{const e=this.moveToPreviousFileNode();if(e){const t=this.model.getResourceFromNode(e);t&&this.openResource(t)}}return}}}return super.handleLeft(e)}async handleRight(e){if(0!==this.model.selectedNodes.length){if(1===this.model.selectedNodes.length){const t=this.model.selectedNodes[0];if(p.ScmFileChangeNode.is(t)){const i=this.model.getResourceFromNode(t);if(!i)return super.handleRight(e);const n=await this.openResource(i);if(n){const e=this.diffNavigatorProvider(n.editor);if(e.hasNext())e.next();else{const e=this.moveToNextFileNode();if(e){const t=this.model.getResourceFromNode(e);t&&this.openResource(t)}}}return}}return super.handleRight(e)}{const e=this.getFirstSelectableNode();if(!e)return;this.model.selectNode(e)}}handleEnter(e){if(1===this.model.selectedNodes.length){const e=this.model.selectedNodes[0];if(p.ScmFileChangeNode.is(e)){const t=this.model.getResourceFromNode(e);return void(t&&this.openResource(t))}}super.handleEnter(e)}async goToPreviousChange(){if(1===this.model.selectedNodes.length){const e=this.model.selectedNodes[0];if(p.ScmFileChangeNode.is(e)&&p.ScmFileChangeNode.is(e)){const t=this.model.getResourceFromNode(e);if(!t)return;const i=await this.openResource(t);if(i){const e=this.diffNavigatorProvider(i.editor);if(e.hasPrevious())e.previous();else{const e=this.moveToPreviousFileNode();if(e){const t=this.model.getResourceFromNode(e);t&&this.openResource(t)}}}}}}async goToNextChange(){if(0!==this.model.selectedNodes.length){if(1===this.model.selectedNodes.length){const e=this.model.selectedNodes[0];if(p.ScmFileChangeNode.is(e)){const t=this.model.getResourceFromNode(e);if(!t)return;const i=await this.openResource(t);if(i){const e=this.diffNavigatorProvider(i.editor);if(e.hasNext())e.next();else{const e=this.moveToNextFileNode();if(e){const t=this.model.getResourceFromNode(e);t&&this.openResource(t)}}}}}}else{const e=this.getFirstSelectableNode();if(!e)return;this.model.selectNode(e)}}selectNodeByUri(e){for(const t of this.model.groups){const i=new l.default(e.path.toString()),n=`${t.id}:${i.toString()}`,o=this.model.getNode(n);if(h.SelectableTreeNode.is(o))return void this.model.selectNode(o)}}getFirstSelectableNode(){if(this.model.root)return this.model.root.children[0].children[0]}moveToPreviousFileNode(){let e=this.model.getPrevSelectableNode();for(;e;){if(p.ScmFileChangeNode.is(e))return this.model.selectNode(e),e;e=this.model.getPrevSelectableNode(e)}}moveToNextFileNode(){let e=this.model.getNextSelectableNode();for(;e;){if(p.ScmFileChangeNode.is(e))return this.model.selectNode(e),e;e=this.model.getNextSelectableNode(e)}}async openResource(e){try{await e.open()}catch(e){return void console.error("Failed to open a SCM resource",e)}let t;const i=e.sourceUri.path.toString();for(const n of this.editorManager.all){const o=n.editor.document.uri;if(i===new l.default(o).path.toString()){if(n.editor.uri.scheme===f.DiffUris.DIFF_SCHEME)return n;t=n}if(n.editor.uri.scheme===f.DiffUris.DIFF_SCHEME&&o===e.sourceUri.toString())return n}return t}getPaddingLeft(e,t){return"list"===this.viewMode&&1===t.depth?this.props.expansionTogglePadding:super.getPaddingLeft(e,t)}isCurrentThemeLight(){return this.themeService.getCurrentTheme().type.toLocaleLowerCase().includes("light")}needsExpansionTogglePadding(e){const t=this.iconThemeService.getDefinition(this.iconThemeService.current);return(!t||!(t.hidesExplorerArrows||t.hasFileIcons&&!t.hasFolderIcons))&&super.needsExpansionTogglePadding(e)}};_.ID="scm-resource-widget",_.RESOURCE_GROUP_CONTEXT_MENU=["RESOURCE_GROUP_CONTEXT_MENU"],_.RESOURCE_GROUP_INLINE_MENU=["RESOURCE_GROUP_CONTEXT_MENU","inline"],_.RESOURCE_FOLDER_CONTEXT_MENU=["RESOURCE_FOLDER_CONTEXT_MENU"],_.RESOURCE_FOLDER_INLINE_MENU=["RESOURCE_FOLDER_CONTEXT_MENU","inline"],_.RESOURCE_CONTEXT_MENU=["RESOURCE_CONTEXT_MENU"],_.RESOURCE_INLINE_MENU=["RESOURCE_CONTEXT_MENU","inline"],o([(0,c.inject)(g.MenuCommandExecutor),r("design:type",Object)],_.prototype,"menuCommandExecutor",void 0),o([(0,c.inject)(g.MenuModelRegistry),r("design:type",g.MenuModelRegistry)],_.prototype,"menus",void 0),o([(0,c.inject)(m.ScmContextKeyService),r("design:type",m.ScmContextKeyService)],_.prototype,"contextKeys",void 0),o([(0,c.inject)(b.EditorManager),r("design:type",b.EditorManager)],_.prototype,"editorManager",void 0),o([(0,c.inject)(b.DiffNavigatorProvider),r("design:type",Function)],_.prototype,"diffNavigatorProvider",void 0),o([(0,c.inject)(v.IconThemeService),r("design:type",v.IconThemeService)],_.prototype,"iconThemeService",void 0),o([(0,c.inject)(y.DecorationsService),r("design:type",Object)],_.prototype,"decorationsService",void 0),o([(0,c.inject)(A.ColorRegistry),r("design:type",A.ColorRegistry)],_.prototype,"colors",void 0),o([(0,c.inject)(w.ThemeService),r("design:type",w.ThemeService)],_.prototype,"themeService",void 0),o([(0,c.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],_.prototype,"init",null),_=n=o([(0,c.injectable)(),s(0,(0,c.inject)(h.TreeProps)),s(1,(0,c.inject)(h.TreeModel)),s(2,(0,c.inject)(f.ContextMenuRenderer)),r("design:paramtypes",[Object,p.ScmTreeModel,f.ContextMenuRenderer])],_),t.ScmTreeWidget=_,function(e){let t;!function(e){e.NO_SELECT="no-select"}(t=e.Styles||(e.Styles={}))}(_=t.ScmTreeWidget||(t.ScmTreeWidget={})),t.ScmTreeWidget=_;class S extends a.Component{constructor(e){super(e),this.toDisposeOnUnmount=new u.DisposableCollection,this.detectHover=e=>{e&&window.requestAnimationFrame((()=>{const t=e.matches(":hover");this.setState({hover:t})}))},this.showHover=()=>this.setState({hover:!0}),this.hideHover=()=>this.setState({hover:!1}),this.renderContextMenu=e=>{e.preventDefault();const{treeNode:t,contextMenuRenderer:i}=this.props;this.props.model.execInNodeContext(t,(()=>{i.render({menuPath:this.contextMenuPath,anchor:e.nativeEvent,args:this.contextMenuArgs})}))},this.state={hover:!1};const t=this.setState.bind(this);this.setState=e=>{this.toDisposeOnUnmount.disposed||t(e)}}componentDidMount(){this.toDisposeOnUnmount.push(u.Disposable.create((()=>{})))}componentWillUnmount(){this.toDisposeOnUnmount.dispose()}}t.ScmElement=S;class E extends S{constructor(){super(...arguments),this.open=()=>{const e=this.props.model.getResourceFromNode(this.props.treeNode);e&&e.open()},this.contextMenuPath=_.RESOURCE_CONTEXT_MENU,this.handleClick=e=>{this.hasCtrlCmdOrShiftMask(e)||this.props.corePreferences&&"singleClick"===this.props.corePreferences["workbench.list.openMode"]&&this.open()},this.handleDoubleClick=()=>{this.props.corePreferences&&"doubleClick"===this.props.corePreferences["workbench.list.openMode"]&&this.open()}}render(){var e;const{hover:t}=this.state,{model:i,treeNode:n,colors:o,parentPath:r,sourceUri:s,decoration:c,labelProvider:d,commandExecutor:u,menus:p,contextKeys:g,caption:f,isLightTheme:m}=this.props,b=new l.default(s),v=n.decorations,A=m?null==v?void 0:v.icon:null==v?void 0:v.iconDark,y=A?["decoration-icon",A]:["decoration-icon","status"],C=d.getIcon(b),w=c&&c.colorId&&!A?`var(${o.toCssVariableName(c.colorId)})`:"",S=c&&c.letter&&!A?c.letter:"",E=c&&c.tooltip||"",k=!0===(null===(e=n.decorations)||void 0===e?void 0:e.strikeThrough)?"line-through":"normal",x=r.relative(b.parent),T=x?x.fsPath():d.getLongName(b.parent),M=0!==E.length?`${b.path.fsPath()} • ${E}`:b.path.fsPath();return a.createElement("div",{key:s,className:`scmItem ${h.TREE_NODE_SEGMENT_CLASS} ${h.TREE_NODE_SEGMENT_GROW_CLASS}`,onContextMenu:this.renderContextMenu,onMouseEnter:this.showHover,onMouseLeave:this.hideHover,ref:this.detectHover,title:M,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick},a.createElement("span",{className:C+" file-icon"}),this.props.renderExpansionToggle(),a.createElement("div",{className:`noWrapInfo ${h.TREE_NODE_SEGMENT_GROW_CLASS}`},a.createElement("span",{className:"name",style:{textDecoration:k}},f),a.createElement("span",{className:"path",style:{textDecoration:k}},T)),a.createElement(D,{hover:t,menu:p.getMenu(_.RESOURCE_INLINE_MENU),menuPath:_.RESOURCE_INLINE_MENU,commandExecutor:u,args:this.contextMenuArgs,contextKeys:g,model:i,treeNode:n},a.createElement("div",{title:E,className:y.join(" "),style:{color:w}},S)))}get contextMenuArgs(){return this.props.model.selectedNodes.some((e=>p.ScmFileChangeNode.is(e)&&e.sourceUri===this.props.sourceUri))?this.props.model.getSelectionArgs(this.props.model.selectedNodes):this.singleNodeArgs}get singleNodeArgs(){const e=this.props.model.getResourceFromNode(this.props.treeNode);return e?[e]:[]}hasCtrlCmdOrShiftMask(e){const{metaKey:t,ctrlKey:i,shiftKey:n}=e;return d.isOSX&&t||i||n}}t.ScmResourceComponent=E;class k extends S{constructor(){super(...arguments),this.contextMenuPath=_.RESOURCE_GROUP_CONTEXT_MENU}render(){const{hover:e}=this.state,{model:t,treeNode:i,menus:n,commandExecutor:o,contextKeys:r,caption:s}=this.props;return a.createElement("div",{className:`theia-header scm-theia-header ${h.TREE_NODE_SEGMENT_GROW_CLASS}`,onContextMenu:this.renderContextMenu,onMouseEnter:this.showHover,onMouseLeave:this.hideHover,ref:this.detectHover},this.props.renderExpansionToggle(),a.createElement("div",{className:`noWrapInfo ${h.TREE_NODE_SEGMENT_GROW_CLASS}`},s),a.createElement(D,{hover:e,args:this.contextMenuArgs,menu:n.getMenu(_.RESOURCE_GROUP_INLINE_MENU),menuPath:_.RESOURCE_GROUP_INLINE_MENU,commandExecutor:o,contextKeys:r,model:t,treeNode:i},this.renderChangeCount()))}renderChangeCount(){const e=this.props.model.getResourceGroupFromNode(this.props.treeNode);return a.createElement("div",{className:"notification-count-container scm-change-count"},a.createElement("span",{className:"notification-count"},e?e.resources.length:0))}get contextMenuArgs(){const e=this.props.model.getResourceGroupFromNode(this.props.treeNode);return e?[e]:[]}}t.ScmResourceGroupElement=k;class x extends S{constructor(){super(...arguments),this.contextMenuPath=_.RESOURCE_FOLDER_CONTEXT_MENU}render(){const{hover:e}=this.state,{model:t,treeNode:i,sourceUri:n,labelProvider:o,commandExecutor:r,menus:s,contextKeys:c,caption:d}=this.props,u=C.FileStat.dir(n),p=o.getIcon(u),g=new l.default(n).path.fsPath();return a.createElement("div",{key:n,className:`scmItem  ${h.TREE_NODE_SEGMENT_CLASS} ${h.TREE_NODE_SEGMENT_GROW_CLASS} ${_.Styles.NO_SELECT}`,title:g,onContextMenu:this.renderContextMenu,onMouseEnter:this.showHover,onMouseLeave:this.hideHover,ref:this.detectHover},this.props.renderExpansionToggle(),a.createElement("span",{className:p+" file-icon"}),a.createElement("div",{className:`noWrapInfo ${h.TREE_NODE_SEGMENT_GROW_CLASS}`},a.createElement("span",{className:"name"},d)),a.createElement(D,{hover:e,menu:s.getMenu(_.RESOURCE_FOLDER_INLINE_MENU),menuPath:_.RESOURCE_FOLDER_INLINE_MENU,commandExecutor:r,args:this.contextMenuArgs,contextKeys:c,model:t,treeNode:i}))}get contextMenuArgs(){return this.props.model.selectedNodes.some((e=>p.ScmFileChangeFolderNode.is(e)&&e.sourceUri===this.props.sourceUri))?this.props.model.getSelectionArgs(this.props.model.selectedNodes):this.singleNodeArgs}get singleNodeArgs(){return this.props.model.getResourcesFromFolderNode(this.props.treeNode)}}t.ScmResourceFolderElement=x;class D extends a.Component{render(){const{hover:e,menu:t,menuPath:i,args:n,commandExecutor:o,model:r,treeNode:s,contextKeys:c,children:l}=this.props;return a.createElement("div",{className:"theia-scm-inline-actions-container"},a.createElement("div",{className:"theia-scm-inline-actions"},e&&t.children.map(((e,t)=>e instanceof g.ActionMenuNode&&a.createElement(T,{key:t,node:e,menuPath:i,args:n,commandExecutor:o,model:r,treeNode:s,contextKeys:c})))),l)}}t.ScmInlineActions=D;class T extends a.Component{constructor(){super(...arguments),this.execute=e=>{e.stopPropagation();const{commandExecutor:t,menuPath:i,node:n,args:o}=this.props;t.executeCommand([i[0]],n.command,...o)}}render(){const{node:e,model:t,treeNode:i,args:n,commandExecutor:o,menuPath:r,contextKeys:s}=this.props;let c=!1;return t.execInNodeContext(i,(()=>{c=s.match(e.when)})),!(!o.isVisible(r,e.command,...n)||!c)&&a.createElement("div",{className:"theia-scm-inline-action"},a.createElement("a",{className:`${e.icon} ${f.ACTION_ITEM}`,title:e.label,onClick:this.execute}))}}t.ScmInlineAction=T},41712:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ScmWidget=void 0;const s=i(70801),a=i(51138),c=i(87361),l=i(38273),d=i(87277),u=i(92201),h=i(85656),p=i(73485),g=i(12973),f=i(44989);let m=n=class extends c.BaseWidget{constructor(){super(),this.toDisposeOnRefresh=new a.DisposableCollection,this.node.tabIndex=0,this.id=n.ID,this.addClass("theia-scm"),this.addClass("theia-scm-main-container")}set viewMode(e){this.resourceWidget.viewMode=e}get viewMode(){return this.resourceWidget.viewMode}init(){const e=new c.PanelLayout;this.layout=e,this.panel=new c.Panel({layout:new c.PanelLayout({})}),this.panel.node.tabIndex=-1,this.panel.node.setAttribute("class","theia-scm-panel"),e.addWidget(this.panel),this.containerLayout.addWidget(this.commitWidget),this.containerLayout.addWidget(this.resourceWidget),this.containerLayout.addWidget(this.amendWidget),this.containerLayout.addWidget(this.noRepositoryWidget),this.refresh(),this.toDispose.push(this.scmService.onDidChangeSelectedRepository((()=>this.refresh()))),this.updateViewMode(this.scmPreferences.get("scm.defaultViewMode")),this.toDispose.push(this.scmPreferences.onPreferenceChanged((e=>{"scm.defaultViewMode"===e.preferenceName&&this.updateViewMode(e.newValue)}))),this.toDispose.push(this.shell.onDidChangeCurrentWidget((({newValue:e})=>{const t=c.NavigatableWidget.getUri(e||void 0);t&&this.resourceWidget.selectNodeByUri(t)})))}get containerLayout(){return this.panel.layout}updateViewMode(e){this.viewMode=e}refresh(){this.toDisposeOnRefresh.dispose(),this.toDispose.push(this.toDisposeOnRefresh);const e=this.scmService.selectedRepository;this.title.label=e?e.provider.label:f.nls.localize("theia/scm/noRepositoryFound","No repository found"),this.title.caption=this.title.label,this.update(),e?(this.toDisposeOnRefresh.push(e.onDidChange((()=>this.update()))),this.toDisposeOnRefresh.push(e.input.onDidChange((()=>this.updateImmediately()))),this.toDisposeOnRefresh.push(e.input.onDidFocus((()=>this.focusInput()))),this.commitWidget.show(),this.resourceWidget.show(),this.amendWidget.show(),this.noRepositoryWidget.hide()):(this.commitWidget.hide(),this.resourceWidget.hide(),this.amendWidget.hide(),this.noRepositoryWidget.show())}updateImmediately(){this.onUpdateRequest(c.Widget.Msg.UpdateRequest)}onUpdateRequest(e){c.MessageLoop.sendMessage(this.commitWidget,e),c.MessageLoop.sendMessage(this.resourceWidget,e),c.MessageLoop.sendMessage(this.amendWidget,e),c.MessageLoop.sendMessage(this.noRepositoryWidget,e),super.onUpdateRequest(e)}onAfterAttach(e){this.node.appendChild(this.commitWidget.node),this.node.appendChild(this.resourceWidget.node),this.node.appendChild(this.amendWidget.node),this.node.appendChild(this.noRepositoryWidget.node),super.onAfterAttach(e),this.update()}onActivateRequest(e){super.onActivateRequest(e),this.refresh(),this.commitWidget.isVisible?this.commitWidget.focus():this.node.focus()}focusInput(){this.commitWidget.focus()}storeState(){return{commitState:this.commitWidget.storeState(),changesTreeState:this.resourceWidget.storeState()}}restoreState(e){const{commitState:t,changesTreeState:i}=e;this.commitWidget.restoreState(t),this.resourceWidget.restoreState(i)}collapseScmTree(){const{model:e}=this.resourceWidget,t=e.root;c.CompositeTreeNode.is(t)&&t.children.map((t=>{c.CompositeTreeNode.is(t)&&t.children.map((t=>{c.CompositeTreeNode.is(t)&&e.collapseAll(t),c.SelectableTreeNode.isSelected(t)&&e.toggleNode(t)}))}))}};m.ID="scm-view",o([(0,s.inject)(c.ApplicationShell),r("design:type",c.ApplicationShell)],m.prototype,"shell",void 0),o([(0,s.inject)(h.ScmService),r("design:type",h.ScmService)],m.prototype,"scmService",void 0),o([(0,s.inject)(l.ScmCommitWidget),r("design:type",l.ScmCommitWidget)],m.prototype,"commitWidget",void 0),o([(0,s.inject)(p.ScmTreeWidget),r("design:type",p.ScmTreeWidget)],m.prototype,"resourceWidget",void 0),o([(0,s.inject)(d.ScmAmendWidget),r("design:type",d.ScmAmendWidget)],m.prototype,"amendWidget",void 0),o([(0,s.inject)(u.ScmNoRepositoryWidget),r("design:type",u.ScmNoRepositoryWidget)],m.prototype,"noRepositoryWidget",void 0),o([(0,s.inject)(g.ScmPreferences),r("design:type",Object)],m.prototype,"scmPreferences",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],m.prototype,"init",null),m=n=o([(0,s.injectable)(),r("design:paramtypes",[])],m),t.ScmWidget=m},60715:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceInput=void 0;const n=i(92664),o=i(87361),r=i(69972);class s extends n.Component{constructor(e){super(e),this.input=n.createRef(),this.onKeyDown=e=>{var t,i,n,r;o.Key.ARROW_UP.keyCode===(null===(t=o.KeyCode.createKeyCode(e.nativeEvent).key)||void 0===t?void 0:t.keyCode)?(e.preventDefault(),this.previousValue()):o.Key.ARROW_DOWN.keyCode===(null===(i=o.KeyCode.createKeyCode(e.nativeEvent).key)||void 0===i?void 0:i.keyCode)&&(e.preventDefault(),this.nextValue()),null===(r=(n=this.props).onKeyDown)||void 0===r||r.call(n,e)},this.onChange=e=>{var t,i;this.addToHistory(),null===(i=(t=this.props).onChange)||void 0===i||i.call(t,e)},this.addToHistory=r(this.doAddToHistory,1e3),this.state={history:[],index:0}}updateState(e,t){this.value=t?t[e]:this.state.history[e],this.setState((i=>{const n={...i,index:e};return t&&(n.history=t),n}))}get value(){var e,t;return null!==(t=null===(e=this.input.current)||void 0===e?void 0:e.value)&&void 0!==t?t:""}set value(e){this.input.current&&(this.input.current.value=e)}previousValue(){const{history:e,index:t}=this.state;this.value?t>0&&t<e.length&&this.updateState(t-1):this.value=e[t]}nextValue(){const{history:e,index:t}=this.state;t===e.length-1?this.value="":this.value?t>=0&&t<e.length-1&&this.updateState(t+1):this.value=e[t]}doAddToHistory(){if(!this.value)return;const e=this.state.history.filter((e=>e!==this.value)).concat(this.value).slice(-s.LIMIT);this.updateState(e.length-1,e)}render(){return n.createElement("input",{...this.props,onKeyDown:this.onKeyDown,onChange:this.onChange,spellCheck:!1,ref:this.input})}}t.SearchInWorkspaceInput=s,s.LIMIT=100},13745:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceContextKeyService=void 0;const r=i(70801),s=i(949);let a=class{get searchViewletVisible(){return this._searchViewletVisible}get searchViewletFocus(){return this._searchViewletFocus}setSearchInputBoxFocus(e){this.searchInputBoxFocus.set(e),this.updateInputBoxFocus()}setReplaceInputBoxFocus(e){this.replaceInputBoxFocus.set(e),this.updateInputBoxFocus()}setPatternIncludesInputBoxFocus(e){this.patternIncludesInputBoxFocus.set(e),this.updateInputBoxFocus()}setPatternExcludesInputBoxFocus(e){this.patternExcludesInputBoxFocus.set(e),this.updateInputBoxFocus()}updateInputBoxFocus(){this.inputBoxFocus.set(this.searchInputBoxFocus.get()||this.replaceInputBoxFocus.get()||this.patternIncludesInputBoxFocus.get()||this.patternExcludesInputBoxFocus.get())}get replaceActive(){return this._replaceActive}get hasSearchResult(){return this._hasSearchResult}init(){this._searchViewletVisible=this.contextKeyService.createKey("searchViewletVisible",!1),this._searchViewletFocus=this.contextKeyService.createKey("searchViewletFocus",!1),this.inputBoxFocus=this.contextKeyService.createKey("inputBoxFocus",!1),this.searchInputBoxFocus=this.contextKeyService.createKey("searchInputBoxFocus",!1),this.replaceInputBoxFocus=this.contextKeyService.createKey("replaceInputBoxFocus",!1),this.patternIncludesInputBoxFocus=this.contextKeyService.createKey("patternIncludesInputBoxFocus",!1),this.patternExcludesInputBoxFocus=this.contextKeyService.createKey("patternExcludesInputBoxFocus",!1),this._replaceActive=this.contextKeyService.createKey("replaceActive",!1),this._hasSearchResult=this.contextKeyService.createKey("hasSearchResult",!1)}};n([(0,r.inject)(s.ContextKeyService),o("design:type",Object)],a.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],a.prototype,"init",null),a=n([(0,r.injectable)()],a),t.SearchInWorkspaceContextKeyService=a},94933:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceFactory=t.SEARCH_VIEW_CONTAINER_TITLE_OPTIONS=t.SEARCH_VIEW_CONTAINER_ID=void 0;const r=i(70801),s=i(87361),a=i(65410),c=i(44989);t.SEARCH_VIEW_CONTAINER_ID="search-view-container",t.SEARCH_VIEW_CONTAINER_TITLE_OPTIONS={label:c.nls.localizeByDefault("Search"),iconClass:(0,s.codicon)("search"),closeable:!0};let l=class{constructor(){this.id=t.SEARCH_VIEW_CONTAINER_ID,this.searchWidgetOptions={canHide:!1,initiallyCollapsed:!1}}async createWidget(){const e=this.viewContainerFactory({id:t.SEARCH_VIEW_CONTAINER_ID,progressLocationId:"search"});e.setTitleOptions(t.SEARCH_VIEW_CONTAINER_TITLE_OPTIONS);const i=await this.widgetManager.getOrCreateWidget(a.SearchInWorkspaceWidget.ID);return e.addWidget(i,this.searchWidgetOptions),e}};n([(0,r.inject)(s.ViewContainer.Factory),o("design:type",Function)],l.prototype,"viewContainerFactory",void 0),n([(0,r.inject)(s.WidgetManager),o("design:type",s.WidgetManager)],l.prototype,"widgetManager",void 0),l=n([(0,r.injectable)()],l),t.SearchInWorkspaceFactory=l},26140:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceFrontendContribution=t.SearchInWorkspaceCommands=void 0;const r=i(87361),s=i(65410),a=i(70801),c=i(9825),l=i(6388),d=i(10483),u=i(8433),h=i(73246),p=i(13745),g=i(20504),f=i(75437),m=i(14304),b=i(94933),v=i(80525),A=i(75480),y=i(8594),C=i(53645);var w;!function(e){const t="Search";e.TOGGLE_SIW_WIDGET={id:"search-in-workspace.toggle"},e.OPEN_SIW_WIDGET=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.open",category:t,label:"Find in Files"}),e.REPLACE_IN_FILES=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.replace",category:t,label:"Replace in Files"}),e.FIND_IN_FOLDER=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.in-folder",category:t,label:"Find in Folder..."}),e.REFRESH_RESULTS=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.refresh",category:t,label:"Refresh",iconClass:(0,l.codicon)("refresh")}),e.CANCEL_SEARCH=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.cancel",category:t,label:"Cancel Search",iconClass:(0,l.codicon)("search-stop")}),e.COLLAPSE_ALL=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.collapse-all",category:t,label:"Collapse All",iconClass:(0,l.codicon)("collapse-all")}),e.EXPAND_ALL=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.expand-all",category:t,label:"Expand All",iconClass:(0,l.codicon)("expand-all")}),e.CLEAR_ALL=c.Command.toDefaultLocalizedCommand({id:"search-in-workspace.clear-all",category:t,label:"Clear Search Results",iconClass:(0,l.codicon)("clear-all")}),e.COPY_ALL=c.Command.toDefaultLocalizedCommand({id:"search.action.copyAll",category:t,label:"Copy All"}),e.COPY_ONE=c.Command.toDefaultLocalizedCommand({id:"search.action.copyMatch",category:t,label:"Copy"}),e.DISMISS_RESULT=c.Command.toDefaultLocalizedCommand({id:"search.action.remove",category:t,label:"Dismiss"}),e.REPLACE_RESULT=c.Command.toDefaultLocalizedCommand({id:"search.action.replace"}),e.REPLACE_ALL_RESULTS=c.Command.toDefaultLocalizedCommand({id:"search.action.replaceAll"})}(w=t.SearchInWorkspaceCommands||(t.SearchInWorkspaceCommands={}));let _=class extends r.AbstractViewContribution{constructor(){super({viewContainerId:b.SEARCH_VIEW_CONTAINER_ID,widgetId:s.SearchInWorkspaceWidget.ID,widgetName:s.SearchInWorkspaceWidget.LABEL,defaultWidgetOptions:{area:"left",rank:200},toggleCommandId:w.TOGGLE_SIW_WIDGET.id})}init(){const e=()=>this.contextKeyService.searchViewletFocus.set(this.shell.activeWidget instanceof s.SearchInWorkspaceWidget);e(),this.shell.onDidChangeActiveWidget(e)}async initializeLayout(e){await this.openView({activate:!1})}async registerCommands(e){super.registerCommands(e),e.registerCommand(w.OPEN_SIW_WIDGET,{isEnabled:()=>this.workspaceService.tryGetRoots().length>0,execute:async()=>{(await this.openView({activate:!0})).updateSearchTerm(this.getSearchTerm())}}),e.registerCommand(w.REPLACE_IN_FILES,{isEnabled:()=>this.workspaceService.tryGetRoots().length>0,execute:async()=>{(await this.openView({activate:!0})).updateSearchTerm(this.getSearchTerm(),!0)}}),e.registerCommand(w.FIND_IN_FOLDER,this.newMultiUriAwareCommandHandler({execute:async e=>{const t=[];for(const{stat:i}of await this.fileService.resolveAll(e.map((e=>({resource:e})))))if(i){const e=i.resource;let n=this.labelProvider.getLongName(e);i&&!i.isDirectory&&(n=this.labelProvider.getLongName(e.parent)),t.push(n)}(await this.openView({activate:!0})).findInFolder(t)}})),e.registerCommand(w.CANCEL_SEARCH,{execute:e=>this.withWidget(e,(e=>e.getCancelIndicator()&&e.getCancelIndicator().cancel())),isEnabled:e=>this.withWidget(e,(e=>void 0!==e.getCancelIndicator())),isVisible:e=>this.withWidget(e,(e=>void 0!==e.getCancelIndicator()))}),e.registerCommand(w.REFRESH_RESULTS,{execute:e=>this.withWidget(e,(e=>e.refresh())),isEnabled:e=>this.withWidget(e,(e=>(e.hasResultList()||e.hasSearchTerm())&&this.workspaceService.tryGetRoots().length>0)),isVisible:e=>this.withWidget(e,(()=>!0))}),e.registerCommand(w.COLLAPSE_ALL,{execute:e=>this.withWidget(e,(e=>e.collapseAll())),isEnabled:e=>this.withWidget(e,(e=>e.hasResultList())),isVisible:e=>this.withWidget(e,(e=>!e.areResultsCollapsed()))}),e.registerCommand(w.EXPAND_ALL,{execute:e=>this.withWidget(e,(e=>e.expandAll())),isEnabled:e=>this.withWidget(e,(e=>e.hasResultList())),isVisible:e=>this.withWidget(e,(e=>e.areResultsCollapsed()))}),e.registerCommand(w.CLEAR_ALL,{execute:e=>this.withWidget(e,(e=>e.clear())),isEnabled:e=>this.withWidget(e,(e=>e.hasResultList())),isVisible:e=>this.withWidget(e,(()=>!0))}),e.registerCommand(w.DISMISS_RESULT,{isEnabled:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0})),isVisible:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0})),execute:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;A.TreeWidgetSelection.is(t)&&t.forEach((t=>e.resultTreeWidget.removeNode(t)))}))}),e.registerCommand(w.REPLACE_RESULT,{isEnabled:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0&&!v.SearchInWorkspaceFileNode.is(t[0])})),isVisible:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0&&!v.SearchInWorkspaceFileNode.is(t[0])})),execute:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;A.TreeWidgetSelection.is(t)&&t.forEach((t=>e.resultTreeWidget.replace(t)))}))}),e.registerCommand(w.REPLACE_ALL_RESULTS,{isEnabled:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0&&v.SearchInWorkspaceFileNode.is(t[0])})),isVisible:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0&&v.SearchInWorkspaceFileNode.is(t[0])})),execute:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;A.TreeWidgetSelection.is(t)&&t.forEach((t=>e.resultTreeWidget.replace(t)))}))}),e.registerCommand(w.COPY_ONE,{isEnabled:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0})),isVisible:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0})),execute:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;if(A.TreeWidgetSelection.is(t)){const i=e.resultTreeWidget.nodeToString(t[0],!0);0!==i.length&&this.clipboardService.writeText(i)}}))}),e.registerCommand(w.COPY_ALL,{isEnabled:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0})),isVisible:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;return A.TreeWidgetSelection.isSource(t,e.resultTreeWidget)&&t.length>0})),execute:()=>this.withWidget(void 0,(e=>{const{selection:t}=this.selectionService;if(A.TreeWidgetSelection.is(t)){const t=e.resultTreeWidget.treeToString();0!==t.length&&this.clipboardService.writeText(t)}}))})}withWidget(e=this.tryGetWidget(),t){return e instanceof s.SearchInWorkspaceWidget&&e.id===s.SearchInWorkspaceWidget.ID&&t(e)}getSearchTerm(){if(!this.editorManager.currentEditor)return"";const e=this.editorManager.currentEditor.editor.selection,t=f.Range.create(e.start.line,e.start.character,e.end.line,e.end.character);return this.editorManager.currentEditor?this.editorManager.currentEditor.editor.document.getText(t):""}registerKeybindings(e){super.registerKeybindings(e),e.registerKeybinding({command:w.OPEN_SIW_WIDGET.id,keybinding:"ctrlcmd+shift+f"}),e.registerKeybinding({command:w.FIND_IN_FOLDER.id,keybinding:"shift+alt+f",when:"explorerResourceIsFolder"}),e.registerKeybinding({command:w.DISMISS_RESULT.id,keybinding:c.isOSX?"cmd+backspace":"del",when:"searchViewletFocus && !inputBoxFocus"}),e.registerKeybinding({command:w.REPLACE_RESULT.id,keybinding:"ctrlcmd+shift+1",when:"searchViewletFocus && replaceActive"}),e.registerKeybinding({command:w.REPLACE_ALL_RESULTS.id,keybinding:"ctrlcmd+shift+1",when:"searchViewletFocus && replaceActive"}),e.registerKeybinding({command:w.COPY_ONE.id,keybinding:"ctrlcmd+c",when:"searchViewletFocus && !inputBoxFocus"})}registerMenus(e){super.registerMenus(e),e.registerMenuAction(d.NavigatorContextMenu.SEARCH,{commandId:w.FIND_IN_FOLDER.id,when:"explorerResourceIsFolder"}),e.registerMenuAction(r.CommonMenus.EDIT_FIND,{commandId:w.OPEN_SIW_WIDGET.id,order:"2"}),e.registerMenuAction(r.CommonMenus.EDIT_FIND,{commandId:w.REPLACE_IN_FILES.id,order:"3"}),e.registerMenuAction(v.SearchInWorkspaceResultTreeWidget.Menus.INTERNAL,{commandId:w.REPLACE_RESULT.id,label:c.nls.localizeByDefault("Replace"),order:"1",when:"replaceActive"}),e.registerMenuAction(v.SearchInWorkspaceResultTreeWidget.Menus.INTERNAL,{commandId:w.REPLACE_ALL_RESULTS.id,label:c.nls.localizeByDefault("Replace All"),order:"1",when:"replaceActive"}),e.registerMenuAction(v.SearchInWorkspaceResultTreeWidget.Menus.INTERNAL,{commandId:w.DISMISS_RESULT.id,order:"1"}),e.registerMenuAction(v.SearchInWorkspaceResultTreeWidget.Menus.COPY,{commandId:w.COPY_ONE.id,order:"1"}),e.registerMenuAction(v.SearchInWorkspaceResultTreeWidget.Menus.COPY,{commandId:r.CommonCommands.COPY_PATH.id,order:"2"}),e.registerMenuAction(v.SearchInWorkspaceResultTreeWidget.Menus.COPY,{commandId:w.COPY_ALL.id,order:"3"}),e.registerMenuAction(v.SearchInWorkspaceResultTreeWidget.Menus.EXTERNAL,{commandId:d.FileNavigatorCommands.REVEAL_IN_NAVIGATOR.id,order:"1"})}async registerToolbarItems(e){const t=(await this.widget).onDidUpdate;e.registerItem({id:w.CANCEL_SEARCH.id,command:w.CANCEL_SEARCH.id,tooltip:w.CANCEL_SEARCH.label,priority:0,onDidChange:t}),e.registerItem({id:w.REFRESH_RESULTS.id,command:w.REFRESH_RESULTS.id,tooltip:w.REFRESH_RESULTS.label,priority:1,onDidChange:t}),e.registerItem({id:w.CLEAR_ALL.id,command:w.CLEAR_ALL.id,tooltip:w.CLEAR_ALL.label,priority:2,onDidChange:t}),e.registerItem({id:w.COLLAPSE_ALL.id,command:w.COLLAPSE_ALL.id,tooltip:w.COLLAPSE_ALL.label,priority:3,onDidChange:t}),e.registerItem({id:w.EXPAND_ALL.id,command:w.EXPAND_ALL.id,tooltip:w.EXPAND_ALL.label,priority:3,onDidChange:t})}newUriAwareCommandHandler(e){return u.UriAwareCommandHandler.MonoSelect(this.selectionService,e)}newMultiUriAwareCommandHandler(e){return u.UriAwareCommandHandler.MultiSelect(this.selectionService,e)}registerThemeStyle(e,t){const i=e.getColor("contrastBorder");i&&(0,C.isHighContrast)(e.type)&&t.addRule(`\n                .t-siw-search-container .searchHeader .search-field-container {\n                    border-color: ${i};\n                }\n            `)}};n([(0,a.inject)(c.SelectionService),o("design:type",c.SelectionService)],_.prototype,"selectionService",void 0),n([(0,a.inject)(r.LabelProvider),o("design:type",r.LabelProvider)],_.prototype,"labelProvider",void 0),n([(0,a.inject)(h.WorkspaceService),o("design:type",h.WorkspaceService)],_.prototype,"workspaceService",void 0),n([(0,a.inject)(m.FileService),o("design:type",m.FileService)],_.prototype,"fileService",void 0),n([(0,a.inject)(g.EditorManager),o("design:type",g.EditorManager)],_.prototype,"editorManager",void 0),n([(0,a.inject)(y.ClipboardService),o("design:type",Object)],_.prototype,"clipboardService",void 0),n([(0,a.inject)(p.SearchInWorkspaceContextKeyService),o("design:type",p.SearchInWorkspaceContextKeyService)],_.prototype,"contextKeyService",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],_.prototype,"init",null),_=n([(0,a.injectable)(),o("design:paramtypes",[])],_),t.SearchInWorkspaceFrontendContribution=_},94318:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSearchTreeWidget=void 0,i(55959);const n=i(70801),o=i(76875),r=i(52103),s=i(87361),a=i(65410),c=i(80525),l=i(26140),d=i(13745),u=i(23119),h=i(52971),p=i(18892),g=i(94933),f=i(46606);function m(e){return(0,s.createTreeContainer)(e,{widget:c.SearchInWorkspaceResultTreeWidget,props:{contextMenuPath:c.SearchInWorkspaceResultTreeWidget.Menus.BASE,multiSelect:!0,globalSelection:!0}}).get(c.SearchInWorkspaceResultTreeWidget)}t.default=new n.ContainerModule((e=>{e(d.SearchInWorkspaceContextKeyService).toSelf().inSingletonScope(),e(a.SearchInWorkspaceWidget).toSelf(),e(s.WidgetFactory).toDynamicValue((e=>({id:a.SearchInWorkspaceWidget.ID,createWidget:()=>e.container.get(a.SearchInWorkspaceWidget)}))),e(c.SearchInWorkspaceResultTreeWidget).toDynamicValue((e=>m(e.container))),e(g.SearchInWorkspaceFactory).toSelf().inSingletonScope(),e(s.WidgetFactory).toService(g.SearchInWorkspaceFactory),e(s.ApplicationShellLayoutMigration).to(f.SearchLayoutVersion3Migration).inSingletonScope(),(0,s.bindViewContribution)(e,l.SearchInWorkspaceFrontendContribution),e(s.FrontendApplicationContribution).toService(l.SearchInWorkspaceFrontendContribution),e(u.TabBarToolbarContribution).toService(l.SearchInWorkspaceFrontendContribution),e(s.StylingParticipant).toService(l.SearchInWorkspaceFrontendContribution),e(o.SearchInWorkspaceClientImpl).toSelf().inSingletonScope(),e(o.SearchInWorkspaceService).toSelf().inSingletonScope(),e(r.SearchInWorkspaceServer).toDynamicValue((e=>{const t=e.container.get(o.SearchInWorkspaceClientImpl);return s.WebSocketConnectionProvider.createProxy(e.container,r.SIW_WS_PATH,t)})).inSingletonScope(),(0,h.bindSearchInWorkspacePreferences)(e),e(p.SearchInWorkspaceLabelProvider).toSelf().inSingletonScope(),e(s.LabelProviderContribution).toService(p.SearchInWorkspaceLabelProvider)})),t.createSearchTreeWidget=m},18892:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceLabelProvider=void 0;const r=i(70801),s=i(17264),a=i(80525),c=i(30970);let l=class{canHandle(e){return a.SearchInWorkspaceRootFolderNode.is(e)||a.SearchInWorkspaceFileNode.is(e)?100:0}getIcon(e){return a.SearchInWorkspaceFileNode.is(e)?this.labelProvider.getIcon(new c.default(e.fileUri).withScheme("file")):this.labelProvider.folderIcon}getName(e){const t=a.SearchInWorkspaceFileNode.is(e)?e.fileUri:e.folderUri;return new c.default(t).displayName}affects(e,t){return a.SearchInWorkspaceFileNode.is(e)&&t.affects(new c.default(e.fileUri).withScheme("file"))}};n([(0,r.inject)(s.LabelProvider),o("design:type",s.LabelProvider)],l.prototype,"labelProvider",void 0),l=n([(0,r.injectable)()],l),t.SearchInWorkspaceLabelProvider=l},52971:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindSearchInWorkspacePreferences=t.createSearchInWorkspacePreferences=t.SearchInWorkspacePreferences=t.SearchInWorkspacePreferenceContribution=t.SearchInWorkspaceConfiguration=t.searchInWorkspacePreferencesSchema=void 0;const n=i(44989),o=i(98516);function r(e,i=t.searchInWorkspacePreferencesSchema){return(0,o.createPreferenceProxy)(e,i)}t.searchInWorkspacePreferencesSchema={type:"object",properties:{"search.lineNumbers":{description:n.nls.localizeByDefault("Controls whether to show line numbers for search results."),default:!1,type:"boolean"},"search.collapseResults":{description:n.nls.localizeByDefault("Controls whether the search results will be collapsed or expanded."),default:"auto",type:"string",enum:["auto","alwaysCollapse","alwaysExpand"]},"search.searchOnType":{description:n.nls.localizeByDefault("Search all files as you type."),default:!0,type:"boolean"},"search.searchOnTypeDebouncePeriod":{markdownDescription:n.nls.localizeByDefault("When {0} is enabled, controls the timeout in milliseconds between a character being typed and the search starting. Has no effect when {0} is disabled.","`#search.searchOnType#`"),default:300,type:"number"},"search.searchOnEditorModification":{description:n.nls.localize("theia/search-in-workspace/searchOnEditorModification","Search the active editor when modified."),default:!0,type:"boolean"},"search.smartCase":{description:n.nls.localizeByDefault("Search case-insensitively if the pattern is all lowercase, otherwise, search case-sensitively."),default:!1,type:"boolean"},"search.followSymlinks":{description:n.nls.localizeByDefault("Controls whether to follow symlinks while searching."),default:!0,type:"boolean"}}},t.SearchInWorkspaceConfiguration=class{},t.SearchInWorkspacePreferenceContribution=Symbol("SearchInWorkspacePreferenceContribution"),t.SearchInWorkspacePreferences=Symbol("SearchInWorkspacePreferences"),t.createSearchInWorkspacePreferences=r,t.bindSearchInWorkspacePreferences=function(e){e(t.SearchInWorkspacePreferences).toDynamicValue((e=>r(e.container.get(o.PreferenceService),e.container.get(t.SearchInWorkspacePreferenceContribution).schema))).inSingletonScope(),e(t.SearchInWorkspacePreferenceContribution).toConstantValue({schema:t.searchInWorkspacePreferencesSchema}),e(o.PreferenceContribution).toService(t.SearchInWorkspacePreferenceContribution)}},80525:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceResultTreeWidget=t.SearchInWorkspaceResultLineNode=t.SearchInWorkspaceFileNode=t.SearchInWorkspaceRootFolderNode=t.SearchInWorkspaceRoot=void 0;const s=i(70801),a=i(87361),c=i(9825),l=i(30566),d=i(73246),u=i(21549),h=i(14304),p=i(76875),g=i(9825),f=i(30970),m=i(92664),b=i(52971),v=i(53414),A=i(92400),y=i(51138),C=i(69972),w=i(44989),_="ResultTree";var S,E,k,x;!function(e){e.is=function(e){return a.CompositeTreeNode.is(e)&&e.id===_}}(S=t.SearchInWorkspaceRoot||(t.SearchInWorkspaceRoot={})),function(e){e.is=function(e){return a.ExpandableTreeNode.is(e)&&a.SelectableTreeNode.is(e)&&"path"in e&&"folderUri"in e&&!("fileUri"in e)}}(E=t.SearchInWorkspaceRootFolderNode||(t.SearchInWorkspaceRootFolderNode={})),function(e){e.is=function(e){return a.ExpandableTreeNode.is(e)&&a.SelectableTreeNode.is(e)&&"path"in e&&"fileUri"in e&&!("folderUri"in e)}}(k=t.SearchInWorkspaceFileNode||(t.SearchInWorkspaceFileNode={})),function(e){e.is=function(e){return a.SelectableTreeNode.is(e)&&"line"in e&&"character"in e&&"lineText"in e}}(x=t.SearchInWorkspaceResultLineNode||(t.SearchInWorkspaceResultLineNode={}));let D=class extends a.TreeWidget{constructor(e,t,i){super(e,t,i),this._showReplaceButtons=!1,this._replaceTerm="",this.searchTerm="",this.startSearchOnModification=e=>C((()=>this.searchActiveEditor(e,this.searchTerm,this.searchOptions)),this.searchOnEditorModificationDelay),this.searchOnEditorModificationDelay=300,this.toDisposeOnActiveEditorChanged=new y.DisposableCollection,this.defaultRootName=w.nls.localizeByDefault("Other files"),this.forceVisibleRootNode=!1,this.appliedDecorations=new Map,this.changeEmitter=new c.Emitter,this.onExpansionChangedEmitter=new c.Emitter,this.onExpansionChanged=this.onExpansionChangedEmitter.event,this.focusInputEmitter=new c.Emitter,this.remove=(e,t)=>this.doRemove(e,t),t.root={id:_,parent:void 0,visible:!1,children:[]},this.toDispose.push(t.onSelectionChanged((e=>{const t=e[0];x.is(t)&&this.doOpen(t,!0,!0)}))),this.toDispose.push(t.onOpenNode((e=>{x.is(e)&&this.doOpen(e,!0,!1)}))),this.resultTree=new Map,this.toDispose.push(t.onNodeRefreshed((()=>this.changeEmitter.fire(this.resultTree))))}init(){super.init(),this.addClass("resultContainer"),this.toDispose.push(this.changeEmitter),this.toDispose.push(this.focusInputEmitter),this.toDispose.push(this.editorManager.onActiveEditorChanged((e=>{this.updateCurrentEditorDecorations(),this.toDisposeOnActiveEditorChanged.dispose(),this.toDispose.push(this.toDisposeOnActiveEditorChanged),e&&this.toDisposeOnActiveEditorChanged.push(e.editor.onDocumentContentChanged((()=>{""!==this.searchTerm&&this.searchInWorkspacePreferences["search.searchOnEditorModification"]&&this.startSearchOnModification(e)()})))}))),this.toDispose.push(this.searchInWorkspacePreferences.onPreferenceChanged((()=>{this.update()}))),this.toDispose.push(this.fileService.onDidFilesChange((e=>{e.gotDeleted()&&(e.getDeleted().forEach((e=>{this.getFileNodesByUri(e.resource).forEach((e=>this.removeFileNode(e)))})),this.model.refresh())}))),this.toDispose.push(this.model.onExpansionChanged((()=>{this.onExpansionChangedEmitter.fire(void 0)})))}get fileNumber(){let e=0;for(const t of this.resultTree.values())e+=t.children.length;return e}set showReplaceButtons(e){this._showReplaceButtons=e,this.update()}set replaceTerm(e){this._replaceTerm=e,this.update()}get isReplacing(){return""!==this._replaceTerm&&this._showReplaceButtons}get onChange(){return this.changeEmitter.event}get onFocusInput(){return this.focusInputEmitter.event}collapseAll(){for(const e of this.resultTree.values()){for(const t of e.children)this.expansionService.collapseNode(t);e.visible&&this.expansionService.collapseNode(e)}}expandAll(){for(const e of this.resultTree.values()){for(const t of e.children)this.expansionService.expandNode(t);e.visible&&this.expansionService.expandNode(e)}}areResultsCollapsed(){for(const e of this.resultTree.values())for(const t of e.children)if(!a.ExpandableTreeNode.isCollapsed(t))return!1;return!0}findMatches(e,t,i){if(!t.editor.document.findMatches)return[];const n=t.editor.document.findMatches({searchString:e,isRegex:!!i.useRegExp,matchCase:!!i.matchCase,matchWholeWord:!!i.matchWholeWord,limitResultCount:i.maxResults}),o=[];return n.forEach((e=>{const i=t.editor.document.getLineContent(e.range.start.line);o.push({line:e.range.start.line,character:e.range.start.character,length:e.range.end.character-e.range.start.character,lineText:i})})),o}convertPatternToGlob(e,t){return t.startsWith("**/")?t:t.startsWith("./")?void 0===e?t:e.toString()+t.replace("./","/"):t.startsWith("/")?"**"+t:"**/"+t}inPatternList(e,t){const i={dot:!0,matchBase:!0};return t.some((t=>A(e.toString(),this.convertPatternToGlob(this.workspaceService.getWorkspaceRootUri(e),t),i)))}shouldApplySearch(e,t){const i=this.getExcludeGlobs(t.exclude);if(this.inPatternList(e.editor.uri,i))return!1;const n=t.include;return!((null==n?void 0:n.length)&&!this.inPatternList(e.editor.uri,n))}searchActiveEditor(e,t,i){const n=()=>!!this.resultTree.get(this.defaultRootName),o=n(),r=this.searchInEditor(e,t,i);this.getFileNodesByUri(e.editor.uri).forEach((e=>this.removeFileNode(e))),r&&this.appendToResultTree(r);const s=n();(o?s:!s)?this.handleSearchCompleted():this.search(this.searchTerm,this.searchOptions)}searchInOpenEditors(e,t){let i=0;const n=[];return this.editorManager.all.forEach((o=>{const r=this.searchInEditor(o,e,t);r&&(i+=r.matches.length,n.push(r))})),{numberOfResults:i,matches:n}}searchInEditor(e,t,i){var n;if(!this.shouldApplySearch(e,i))return;const o=this.findMatches(t,e,i);if(o.length<=0)return;const r=e.editor.uri.toString(),s=null===(n=this.workspaceService.getWorkspaceRootUri(e.editor.uri))||void 0===n?void 0:n.toString();return{root:null!=s?s:this.defaultRootName,fileUri:r,matches:o}}appendToResultTree(e){const t=this.searchInWorkspacePreferences["search.collapseResults"];let i;i=e.root===this.defaultRootName?new f.default(e.fileUri).path.dir.fsPath():this.filenameAndPath(e.root,e.fileUri).path;const n=this.resultTree;let o=n.get(e.root);o||(o=this.createRootFolderNode(e.root),n.set(e.root,o));let r=o.children.find((t=>t.fileUri===e.fileUri));r||(r=this.createFileNode(e.root,i,e.fileUri,o),o.children.push(r));for(const t of e.matches){const i=this.createResultLineNode(e,t,r);r.children.findIndex((e=>e.id===i.id))<0&&r.children.push(i)}this.collapseFileNode(r,t)}handleSearchCompleted(e){e&&e.cancel(),this.sortResultTree(),this.refreshModelChildren()}sortResultTree(){const e=[...this.resultTree.entries()];e.sort((([,e],[,t])=>this.compare(e.folderUri,t.folderUri))),this.resultTree=new Map(e),e.forEach((([,e])=>{e.children.sort(((e,t)=>this.compare(e.fileUri,t.fileUri)))}))}async search(e,t){if(this.searchTerm=e,this.searchOptions=t,t={...t,exclude:this.getExcludeGlobs(t.exclude)},this.resultTree.clear(),this.forceVisibleRootNode=!1,this.cancelIndicator&&this.cancelIndicator.cancel(),""===e)return void this.refreshModelChildren();this.cancelIndicator=new c.CancellationTokenSource;const i=this.cancelIndicator,n=this.cancelIndicator.token,o=await this.progressService.showProgress({text:`search: ${e}`,options:{location:"search"}});n.onCancellationRequested((()=>{o.cancel(),l&&this.searchService.cancel(l),this.cancelIndicator=void 0,this.changeEmitter.fire(this.resultTree)}));const{numberOfResults:r,matches:s}=this.searchInOpenEditors(e,t);let a;this.forceVisibleRootNode=s.some((e=>e.root===this.defaultRootName))&&this.workspaceService.opened,s.forEach((e=>this.appendToResultTree(e))),this.editorManager.all.forEach((e=>{const i=e.editor.uri.path.toString();t.exclude=t.exclude?t.exclude.concat(i):[i]})),t.maxResults&&(t.maxResults-=r);const l=await this.searchService.search(e,{onResult:(e,t)=>{n.isCancellationRequested||e!==l||(this.appendToResultTree(t),a&&clearTimeout(a),a=setTimeout((()=>this.refreshModelChildren()),100))},onDone:()=>{this.handleSearchCompleted(i)}},t).catch((()=>{this.handleSearchCompleted(i)}))}focusFirstResult(){if(S.is(this.model.root)&&this.model.root.children.length>0){const e=this.model.root.children[0];a.SelectableTreeNode.is(e)&&(this.node.focus(),this.model.selectNode(e))}}collapseFileNode(e,t){"auto"===t&&e.children.length>=10||"alwaysCollapse"===t?e.expanded=!1:"alwaysExpand"===t&&(e.expanded=!0)}handleUp(e){this.model.getPrevSelectableNode(this.model.getFocusedNode())?super.handleUp(e):this.focusInputEmitter.fire(!0)}async refreshModelChildren(){S.is(this.model.root)&&(this.model.root.children=Array.from(this.resultTree.values()),this.model.refresh(),this.updateCurrentEditorDecorations())}updateCurrentEditorDecorations(){this.shell.allTabBars.forEach((e=>{const t=e.currentTitle;if(t&&t.owner instanceof l.EditorWidget){const e=t.owner,i=this.getFileNodesByUri(e.editor.uri);i.length>0?i.forEach((t=>{this.decorateEditor(t,e)})):this.decorateEditor(void 0,e)}}));const e=this.editorManager.currentEditor;e&&this.getFileNodesByUri(e.editor.uri).forEach((t=>{this.decorateEditor(t,e)}))}createRootFolderNode(e){return{selected:!1,path:new f.default(e).path.fsPath(),folderUri:e,uri:new f.default(e),children:[],expanded:!0,id:e,parent:this.model.root,visible:this.forceVisibleRootNode||this.workspaceService.isMultiRootWorkspaceOpened}}createFileNode(e,t,i,n){return{selected:!1,path:t,children:[],expanded:!0,id:`${e}::${i}`,parent:n,fileUri:i,uri:new f.default(i)}}createResultLineNode(e,t,i){return{...e,...t,selected:!1,id:e.fileUri+"-"+t.line+"-"+t.character+"-"+t.length,name:"string"==typeof t.lineText?t.lineText:t.lineText.text,parent:i}}getFileNodesByUri(e){const t=[],i=e.withScheme("file").toString();for(const n of this.resultTree.values())if(new f.default(n.path).withScheme("file").isEqualOrParent(e)||n.id===this.defaultRootName)for(const e of n.children)e.fileUri===i&&t.push(e);return t}filenameAndPath(e,t){const i=new f.default(t),n=new f.default(e).relative(i.parent);return{name:this.labelProvider.getName(i),path:n?n.fsPath():""}}renderCaption(e,t){return E.is(e)?this.renderRootFolderNode(e):k.is(e)?this.renderFileNode(e):x.is(e)?this.renderResultLineNode(e):""}renderTailDecorations(e,t){return m.createElement("div",{className:"result-node-buttons"},this._showReplaceButtons&&this.renderReplaceButton(e),this.renderRemoveButton(e))}doReplace(e,t){(a.SelectableTreeNode.isSelected(e)?this.selectionService.selection:[e]).forEach((e=>this.replace(e))),t.stopPropagation()}renderReplaceButton(e){const t=x.is(e);return m.createElement("span",{className:t?(0,a.codicon)("replace"):(0,a.codicon)("replace-all"),onClick:t=>this.doReplace(e,t),title:t?w.nls.localizeByDefault("Replace"):w.nls.localizeByDefault("Replace All")})}getFileCount(e){return S.is(e)?e.children.reduce(((e,t)=>e+this.getFileCount(t)),0):E.is(e)?e.children.length:k.is(e)?1:0}getResultCount(e){return S.is(e)||E.is(e)?e.children.reduce(((e,t)=>e+this.getResultCount(t)),0):k.is(e)?e.children.length:x.is(e)?1:0}async replace(e){const t=e||this.model.root,i=!k.is(e)&&!x.is(e),n=this._replaceTerm;i&&!await this.confirmReplaceAll(this.getResultCount(t),this.getFileCount(t),n)||(e?[e]:Array.from(this.resultTree.values())).forEach((t=>{this.replaceResult(t,!!e,n),this.removeNode(t)}))}confirmReplaceAll(e,t,i){return new a.ConfirmDialog({title:w.nls.localizeByDefault("Replace All"),msg:this.buildReplaceAllConfirmationMessage(e,t,i)}).open()}buildReplaceAllConfirmationMessage(e,t,i){return 1===e?1===t?i?w.nls.localizeByDefault("Replace {0} occurrence across {1} file with '{2}'?",e,t,i):w.nls.localizeByDefault("Replace {0} occurrence across {1} file?",e,t):i?w.nls.localizeByDefault("Replace {0} occurrence across {1} files with '{2}'?",e,t,i):w.nls.localizeByDefault("Replace {0} occurrence across {1} files?",e,t):1===t?i?w.nls.localizeByDefault("Replace {0} occurrences across {1} file with '{2}'?",e,t,i):w.nls.localizeByDefault("Replace {0} occurrences across {1} file?",e,t):i?w.nls.localizeByDefault("Replace {0} occurrences across {1} files with '{2}'?",e,t,i):w.nls.localizeByDefault("Replace {0} occurrences across {1} files?",e,t)}updateRightResults(e){const t=e.parent.children.filter((t=>t.line===e.line&&t.character>e.character)),i=this._replaceTerm.length-this.searchTerm.length;t.forEach((e=>e.character+=i))}async replaceResult(e,t,i){const n=[];if(E.is(e)?e.children.forEach((e=>this.replaceResult(e,t,i))):k.is(e)?n.push(...e.children):x.is(e)&&(n.push(e),this.updateRightResults(e)),n.length>0){const e=this.editorManager.all,o=t?await this.doOpen(n[0]):await this.doGetWidget(n[0]),r=o.editor.document.getText(),s=n.map((e=>({text:i,range:{start:{line:e.line-1,character:e.character-1},end:{line:e.line-1,character:e.character-1+e.length}}})));await o.editor.replaceText({source:r,replaceOperations:s}),await o.saveable.save(),t||-1===e.indexOf(o)&&o.dispose()}}doRemove(e,t){(a.SelectableTreeNode.isSelected(e)?this.selectionService.selection:[e]).forEach((e=>this.removeNode(e))),t.stopPropagation()}renderRemoveButton(e){return m.createElement("span",{className:(0,a.codicon)("close"),onClick:t=>this.remove(e,t),title:"Dismiss"})}removeNode(e){E.is(e)?this.removeRootFolderNode(e):k.is(e)?this.removeFileNode(e):x.is(e)&&this.removeResultLineNode(e),this.refreshModelChildren()}removeRootFolderNode(e){for(const t of this.resultTree.keys())if(t===e.folderUri){this.resultTree.delete(t);break}}removeFileNode(e){const t=e.parent,i=t.children.findIndex((t=>t.id===e.id));i>-1&&t.children.splice(i,1),0===this.getFileCount(t)&&this.removeRootFolderNode(t)}removeResultLineNode(e){const t=e.parent,i=t.children.findIndex((t=>t.fileUri===e.fileUri&&t.line===e.line&&t.character===e.character));i>-1&&(t.children.splice(i,1),0===this.getResultCount(t)&&this.removeFileNode(t))}renderRootFolderNode(e){return m.createElement("div",{className:"result"},m.createElement("div",{className:"result-head"},m.createElement("div",{className:"result-head-info noWrapInfo noselect "+(e.selected?"selected":"")},m.createElement("span",{className:`file-icon ${this.toNodeIcon(e)||""}`}),m.createElement("div",{className:"noWrapInfo"},m.createElement("span",{className:"file-name"},this.toNodeName(e)),e.path!=="/"+this.defaultRootName&&m.createElement("span",{className:"file-path "+a.TREE_NODE_INFO_CLASS},e.path))),m.createElement("span",{className:"notification-count-container highlighted-count-container"},m.createElement("span",{className:"notification-count"},this.getFileCount(e)))))}renderFileNode(e){return m.createElement("div",{className:"result"},m.createElement("div",{className:"result-head"},m.createElement("div",{className:"result-head-info noWrapInfo noselect "+(e.selected?"selected":""),title:new f.default(e.fileUri).path.fsPath()},m.createElement("span",{className:`file-icon ${this.toNodeIcon(e)}`}),m.createElement("div",{className:"noWrapInfo"},m.createElement("span",{className:"file-name"},this.toNodeName(e)),m.createElement("span",{className:"file-path "+a.TREE_NODE_INFO_CLASS},e.path))),m.createElement("span",{className:"notification-count-container"},m.createElement("span",{className:"notification-count"},this.getResultCount(e)))))}renderResultLineNode(e){const t="string"==typeof e.lineText?e.character:e.lineText.character,i="string"==typeof e.lineText?e.lineText:e.lineText.text;let n=Math.max(0,t-26);const o=/\b/g;for(;n>0&&o.test(i)&&o.lastIndex<t&&!(t-o.lastIndex<26);)n=o.lastIndex,o.lastIndex++;const r=i.slice(n,t-1).trimLeft();return m.createElement("div",{className:"resultLine noWrapInfo noselect "+(e.selected?"selected":""),title:i.trim()},this.searchInWorkspacePreferences["search.lineNumbers"]&&m.createElement("span",{className:"theia-siw-lineNumber"},e.line),m.createElement("span",null,r),this.renderMatchLinePart(e),m.createElement("span",null,i.slice(e.character+e.length-1,250-r.length+e.length)))}renderMatchLinePart(e){const t=this.isReplacing?m.createElement("span",{className:"replace-term"},this._replaceTerm):"",i="match"+(this.isReplacing?" strike-through":""),n="string"==typeof e.lineText?e.lineText.substring(e.character-1,e.length+e.character-1):e.lineText.text.substring(e.lineText.character-1,e.length+e.lineText.character-1);return m.createElement(m.Fragment,null,m.createElement("span",{className:i},n),t)}async doGetWidget(e){const t=new f.default(e.fileUri);return await this.editorManager.getOrCreateByUri(t)}async doOpen(e,t=!1,i=!1){let n;const o=e.parent;if(o&&this.isReplacing&&t){const t=new f.default(e.fileUri),i=await this.createReplacePreview(o);n=a.DiffUris.encode(t,i)}else n=new f.default(e.fileUri);const r={selection:{start:{line:e.line-1,character:e.character-1},end:{line:e.line-1,character:e.character-1+e.length}},mode:i?"reveal":"activate",preview:i},s=await this.editorManager.open(n,r);return a.DiffUris.isDiffUri(n)||this.decorateEditor(o,s),s}async createReplacePreview(e){const t=new f.default(e.fileUri).withScheme("file"),i=this.editorManager.all.find((({editor:e})=>e.uri.toString()===t.toString()));let n;if(i)n=i.editor.document.getText();else{const e=await this.fileResourceResolver.resolve(t);n=await e.readContents()}const o=n.split("\n");return e.children.forEach((t=>{const i=e.children.filter((e=>e.line===t.line&&e.character<t.character)),n=(this._replaceTerm.length-this.searchTerm.length)*i.length,r=o[t.line-1].substring(0,t.character-1+n),s=o[t.line-1].substring(t.character-1+n+t.length);o[t.line-1]=r+this._replaceTerm+s})),t.withScheme(g.MEMORY_TEXT).withQuery(o.join("\n"))}decorateEditor(e,t){if(!a.DiffUris.isDiffUri(t.editor.uri)){const i=`${t.editor.uri.toString()}#search-in-workspace-matches`,n=this.appliedDecorations.get(i)||[],o=this.createEditorDecorations(e),r=t.editor.deltaDecorations({newDecorations:o,oldDecorations:n});this.appliedDecorations.set(i,r)}}createEditorDecorations(e){const t=[];return e&&e.children.forEach((e=>{t.push({range:{start:{line:e.line-1,character:e.character-1},end:{line:e.line-1,character:e.character-1+e.length}},options:{overviewRuler:{color:{id:"editor.findMatchHighlightBackground"},position:l.OverviewRulerLane.Center},className:e.selected?"current-search-in-workspace-editor-match":"search-in-workspace-editor-match",stickiness:l.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}})})),t}getExcludeGlobs(e){const t=this.filesystemPreferences["files.exclude"],i=Object.keys(t).filter((e=>!!t[e]));return[...new Set([...i,...e||[]])]}compare(e,t){const i=e.toLowerCase().trim(),n=t.toLowerCase().trim();return i.localeCompare(n)}nodeToString(e,t){return k.is(e)||E.is(e)?t?this.nodeIteratorToString(new a.TopDownTreeIterator(e,{pruneSiblings:!0})):this.labelProvider.getLongName(e.uri):x.is(e)?`  ${e.line}:${e.character}: ${e.lineText}`:""}treeToString(){return this.nodeIteratorToString(this.getVisibleNodes())}*getVisibleNodes(){for(const{node:e}of this.rows.values())yield e}nodeIteratorToString(e){const t=[];for(const i of e){const e=this.nodeToString(i,!1);0!==e.length&&t.push(e)}return t.join(c.EOL)}};n([(0,s.inject)(p.SearchInWorkspaceService),o("design:type",p.SearchInWorkspaceService)],D.prototype,"searchService",void 0),n([(0,s.inject)(l.EditorManager),o("design:type",l.EditorManager)],D.prototype,"editorManager",void 0),n([(0,s.inject)(u.FileResourceResolver),o("design:type",u.FileResourceResolver)],D.prototype,"fileResourceResolver",void 0),n([(0,s.inject)(a.ApplicationShell),o("design:type",a.ApplicationShell)],D.prototype,"shell",void 0),n([(0,s.inject)(d.WorkspaceService),o("design:type",d.WorkspaceService)],D.prototype,"workspaceService",void 0),n([(0,s.inject)(a.TreeExpansionService),o("design:type",Object)],D.prototype,"expansionService",void 0),n([(0,s.inject)(b.SearchInWorkspacePreferences),o("design:type",Object)],D.prototype,"searchInWorkspacePreferences",void 0),n([(0,s.inject)(c.ProgressService),o("design:type",c.ProgressService)],D.prototype,"progressService",void 0),n([(0,s.inject)(v.ColorRegistry),o("design:type",v.ColorRegistry)],D.prototype,"colorRegistry",void 0),n([(0,s.inject)(u.FileSystemPreferences),o("design:type",Object)],D.prototype,"filesystemPreferences",void 0),n([(0,s.inject)(h.FileService),o("design:type",h.FileService)],D.prototype,"fileService",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],D.prototype,"init",null),D=n([(0,s.injectable)(),r(0,(0,s.inject)(a.TreeProps)),r(1,(0,s.inject)(a.TreeModel)),r(2,(0,s.inject)(a.ContextMenuRenderer)),o("design:paramtypes",[Object,Object,a.ContextMenuRenderer])],D),t.SearchInWorkspaceResultTreeWidget=D,function(e){let t;!function(e){e.BASE=["siw-tree-context-menu"],e.INTERNAL=[...e.BASE,"1_internal"],e.COPY=[...e.BASE,"2_copy"],e.EXTERNAL=[...e.BASE,"3_external"]}(t=e.Menus||(e.Menus={}))}(D=t.SearchInWorkspaceResultTreeWidget||(t.SearchInWorkspaceResultTreeWidget={})),t.SearchInWorkspaceResultTreeWidget=D},76875:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceService=t.SearchInWorkspaceClientImpl=void 0;const r=i(70801),s=i(52103),a=i(73246),c=i(9825);let l=class{onResult(e,t){this.service.onResult(e,t)}onDone(e,t){this.service.onDone(e,t)}setService(e){this.service=e}};l=n([(0,r.injectable)()],l),t.SearchInWorkspaceClientImpl=l;let d=class{constructor(){this.pendingSearches=new Map,this.pendingOnDones=new Map,this.lastKnownSearchId=-1}init(){this.client.setService(this)}isEnabled(){return this.workspaceService.opened}onResult(e,t){const i=this.pendingSearches.get(e);i&&i.onResult(e,t)}onDone(e,t){const i=this.pendingSearches.get(e);i?(this.pendingSearches.delete(e),i.onDone(e,t)):e>this.lastKnownSearchId?(this.logger.debug(`Got an onDone for a searchId we don't know about (${e}), stashing it for later with error = `,t),this.pendingOnDones.set(e,t)):this.logger.debug(`Got an onDone for a searchId we don't know about (${e}), but it's probably an old one, error = `,t)}async search(e,t,i){if(!this.workspaceService.opened)throw new Error("Search failed: no workspace root.");const n=await this.workspaceService.roots;return this.doSearch(e,n.map((e=>e.resource.toString())),t,i)}async doSearch(e,t,i,n){const o=await this.searchServer.search(e,t,n);if(this.pendingSearches.set(o,i),this.lastKnownSearchId=o,this.logger.debug("Service launched search "+o),this.pendingOnDones.has(o)){this.logger.debug("Ohh, we have a stashed onDone for that searchId");const e=this.pendingOnDones.get(o);this.pendingOnDones.delete(o),setTimeout((()=>{this.onDone(o,e)}),0)}return o}async searchWithCallback(e,t,i,n){return this.doSearch(e,t,i,n)}cancel(e){this.pendingSearches.delete(e),this.searchServer.cancel(e)}};n([(0,r.inject)(s.SearchInWorkspaceServer),o("design:type",Object)],d.prototype,"searchServer",void 0),n([(0,r.inject)(l),o("design:type",l)],d.prototype,"client",void 0),n([(0,r.inject)(a.WorkspaceService),o("design:type",a.WorkspaceService)],d.prototype,"workspaceService",void 0),n([(0,r.inject)(c.ILogger),o("design:type",Object)],d.prototype,"logger",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.SearchInWorkspaceService=d},65410:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceWidget=void 0;const s=i(87361),a=i(70801),c=i(80525),l=i(92664),d=i(13558),u=i(9825),h=i(73246),p=i(13745),g=i(6031),f=i(30566),m=i(52971),b=i(60715),v=i(44989);let A=n=class extends s.BaseWidget{constructor(){super(...arguments),this.showSearchDetails=!1,this._hasResults=!1,this.resultNumber=0,this.searchFieldContainerIsFocused=!1,this.searchTerm="",this.replaceTerm="",this.searchRef=l.createRef(),this.replaceRef=l.createRef(),this.includeRef=l.createRef(),this.excludeRef=l.createRef(),this._showReplaceField=!1,this.onDidUpdateEmitter=new u.Emitter,this.onDidUpdate=this.onDidUpdateEmitter.event,this.focusSearchFieldContainer=()=>this.doFocusSearchFieldContainer(),this.blurSearchFieldContainer=()=>this.doBlurSearchFieldContainer(),this.search=e=>{if(e.persist(),this.searchInWorkspacePreferences["search.searchOnType"]){const t=this.searchInWorkspacePreferences["search.searchOnTypeDebouncePeriod"]||0;window.clearTimeout(this._searchTimeout),this._searchTimeout=window.setTimeout((()=>this.doSearch(e)),t)}},this.onKeyDownSearch=e=>{var t;s.Key.ENTER.keyCode===(null===(t=s.KeyCode.createKeyCode(e.nativeEvent).key)||void 0===t?void 0:t.keyCode)&&(this.searchTerm=e.target.value,this.performSearch())},this.handleFocusSearchInputBox=()=>this.contextKeyService.setSearchInputBoxFocus(!0),this.handleBlurSearchInputBox=()=>this.contextKeyService.setSearchInputBoxFocus(!1),this.updateReplaceTerm=e=>this.doUpdateReplaceTerm(e),this.handleFocusReplaceInputBox=()=>this.contextKeyService.setReplaceInputBoxFocus(!0),this.handleBlurReplaceInputBox=()=>this.contextKeyService.setReplaceInputBoxFocus(!1),this.handleFocusIncludesInputBox=()=>this.contextKeyService.setPatternIncludesInputBoxFocus(!0),this.handleBlurIncludesInputBox=()=>this.contextKeyService.setPatternIncludesInputBoxFocus(!1),this.handleFocusExcludesInputBox=()=>this.contextKeyService.setPatternExcludesInputBoxFocus(!0),this.handleBlurExcludesInputBox=()=>this.contextKeyService.setPatternExcludesInputBoxFocus(!1)}get hasResults(){return this._hasResults}set hasResults(e){this.contextKeyService.hasSearchResult.set(e),this._hasResults=e}get showReplaceField(){return this._showReplaceField}set showReplaceField(e){this.contextKeyService.replaceActive.set(e),this._showReplaceField=e}init(){this.id=n.ID,this.title.label=n.LABEL,this.title.caption=n.LABEL,this.title.iconClass=(0,s.codicon)("search"),this.title.closable=!0,this.contentNode=document.createElement("div"),this.contentNode.classList.add("t-siw-search-container"),this.searchFormContainer=document.createElement("div"),this.searchFormContainer.classList.add("searchHeader"),this.contentNode.appendChild(this.searchFormContainer),this.searchFormContainerRoot=(0,d.createRoot)(this.searchFormContainer),this.node.tabIndex=0,this.node.appendChild(this.contentNode),this.matchCaseState={className:(0,s.codicon)("case-sensitive"),enabled:!1,title:v.nls.localizeByDefault("Match Case")},this.wholeWordState={className:(0,s.codicon)("whole-word"),enabled:!1,title:v.nls.localizeByDefault("Match Whole Word")},this.regExpState={className:(0,s.codicon)("regex"),enabled:!1,title:v.nls.localizeByDefault("Use Regular Expression")},this.includeIgnoredState={className:(0,s.codicon)("eye"),enabled:!1,title:v.nls.localize("theia/search-in-workspace/includeIgnoredFiles","Include Ignored Files")},this.searchInWorkspaceOptions={matchCase:!1,matchWholeWord:!1,useRegExp:!1,includeIgnored:!1,include:[],exclude:[],maxResults:2e3},this.toDispose.push(this.resultTreeWidget.onChange((e=>{this.hasResults=e.size>0,this.resultNumber=0,Array.from(e.values()).forEach((e=>e.children.forEach((e=>this.resultNumber+=e.children.length)))),this.update()}))),this.toDispose.push(this.resultTreeWidget.onFocusInput((e=>{this.focusInputField()}))),this.toDispose.push(this.searchInWorkspacePreferences.onPreferenceChanged((e=>{"search.smartCase"===e.preferenceName&&this.performSearch()}))),this.toDispose.push(this.resultTreeWidget),this.toDispose.push(this.resultTreeWidget.onExpansionChanged((()=>{this.onDidUpdateEmitter.fire()}))),this.toDispose.push(this.progressBarFactory({container:this.node,insertMode:"prepend",locationId:"search"}))}storeState(){var e,t,i,n;return{matchCaseState:this.matchCaseState,wholeWordState:this.wholeWordState,regExpState:this.regExpState,includeIgnoredState:this.includeIgnoredState,showSearchDetails:this.showSearchDetails,searchInWorkspaceOptions:this.searchInWorkspaceOptions,searchTerm:this.searchTerm,replaceTerm:this.replaceTerm,showReplaceField:this.showReplaceField,searchHistoryState:null===(e=this.searchRef.current)||void 0===e?void 0:e.state,replaceHistoryState:null===(t=this.replaceRef.current)||void 0===t?void 0:t.state,includeHistoryState:null===(i=this.includeRef.current)||void 0===i?void 0:i.state,excludeHistoryState:null===(n=this.excludeRef.current)||void 0===n?void 0:n.state}}restoreState(e){var t,i,n,o;this.matchCaseState=e.matchCaseState,this.wholeWordState=e.wholeWordState,this.regExpState=e.regExpState,this.includeIgnoredState=e.includeIgnoredState,this.matchCaseState.title=v.nls.localizeByDefault("Match Case"),this.wholeWordState.title=v.nls.localizeByDefault("Match Whole Word"),this.regExpState.title=v.nls.localizeByDefault("Use Regular Expression"),this.includeIgnoredState.title=v.nls.localize("theia/search-in-workspace/includeIgnoredFiles","Include Ignored Files"),this.showSearchDetails=e.showSearchDetails,this.searchInWorkspaceOptions=e.searchInWorkspaceOptions,this.searchTerm=e.searchTerm,this.replaceTerm=e.replaceTerm,this.showReplaceField=e.showReplaceField,this.resultTreeWidget.replaceTerm=this.replaceTerm,this.resultTreeWidget.showReplaceButtons=this.showReplaceField,null===(t=this.searchRef.current)||void 0===t||t.setState(e.searchHistoryState),null===(i=this.replaceRef.current)||void 0===i||i.setState(e.replaceHistoryState),null===(n=this.includeRef.current)||void 0===n||n.setState(e.includeHistoryState),null===(o=this.excludeRef.current)||void 0===o||o.setState(e.excludeHistoryState),this.refresh()}findInFolder(e){this.showSearchDetails=!0;const t=Array.from(new Set(e.map((e=>`${e}/**`)))),i=t.join(", ");this.searchInWorkspaceOptions.include=t,this.includeRef.current&&(this.includeRef.current.value=i,this.includeRef.current.addToHistory()),this.update()}updateSearchTerm(e,t){this.searchTerm=e,this.searchRef.current&&(this.searchRef.current.value=e,this.searchRef.current.addToHistory()),t&&(this.showReplaceField=!0),this.refresh()}hasResultList(){return this.hasResults}hasSearchTerm(){return""!==this.searchTerm}refresh(){this.performSearch(),this.update()}getCancelIndicator(){return this.resultTreeWidget.cancelIndicator}collapseAll(){this.resultTreeWidget.collapseAll(),this.update()}expandAll(){this.resultTreeWidget.expandAll(),this.update()}areResultsCollapsed(){return this.resultTreeWidget.areResultsCollapsed()}clear(){this.searchTerm="",this.replaceTerm="",this.searchInWorkspaceOptions.include=[],this.searchInWorkspaceOptions.exclude=[],this.includeIgnoredState.enabled=!1,this.matchCaseState.enabled=!1,this.wholeWordState.enabled=!1,this.regExpState.enabled=!1,this.searchRef.current&&(this.searchRef.current.value=""),this.replaceRef.current&&(this.replaceRef.current.value=""),this.includeRef.current&&(this.includeRef.current.value=""),this.excludeRef.current&&(this.excludeRef.current.value=""),this.performSearch(),this.update()}onAfterAttach(e){super.onAfterAttach(e),this.searchFormContainerRoot.render(l.createElement(l.Fragment,null,this.renderSearchHeader(),this.renderSearchInfo())),s.Widget.attach(this.resultTreeWidget,this.contentNode),this.toDisposeOnDetach.push(u.Disposable.create((()=>{s.Widget.detach(this.resultTreeWidget)})))}onUpdateRequest(e){super.onUpdateRequest(e);const t=this.renderSearchInfo();t&&(this.searchFormContainerRoot.render(l.createElement(l.Fragment,null,this.renderSearchHeader(),t)),this.onDidUpdateEmitter.fire(void 0))}onResize(e){super.onResize(e),s.MessageLoop.sendMessage(this.resultTreeWidget,s.Widget.ResizeMessage.UnknownSize)}onAfterShow(e){super.onAfterShow(e),this.focusInputField(),this.contextKeyService.searchViewletVisible.set(!0)}onAfterHide(e){super.onAfterHide(e),this.contextKeyService.searchViewletVisible.set(!1)}onActivateRequest(e){super.onActivateRequest(e),this.focusInputField()}focusInputField(){const e=document.getElementById("search-input-field");e&&(e.focus(),e.select())}renderSearchHeader(){const e=this.renderSearchAndReplace(),t=this.renderSearchDetails();return l.createElement("div",null,e,t)}renderSearchAndReplace(){const e=this.renderReplaceFieldToggle(),t=this.renderSearchField(),i=this.renderReplaceField();return l.createElement("div",{className:"search-and-replace-container"},e,l.createElement("div",{className:"search-and-replace-fields"},t,i))}renderReplaceFieldToggle(){const e=l.createElement("span",{className:(0,s.codicon)(this.showReplaceField?"chevron-down":"chevron-right")});return l.createElement("div",{title:v.nls.localizeByDefault("Toggle Replace"),className:"replace-toggle",tabIndex:0,onClick:e=>{const t=document.getElementsByClassName("replace-toggle");t&&t.length>0&&t[0].focus(),this.showReplaceField=!this.showReplaceField,this.resultTreeWidget.showReplaceButtons=this.showReplaceField,this.update()}},e)}renderNotification(){return this.workspaceService.tryGetRoots().length<=0&&this.editorManager.all.length<=0?l.createElement("div",{className:"search-notification show"},l.createElement("div",null,v.nls.localize("theia/search-in-workspace/noFolderSpecified","You have not opened or specified a folder. Only open files are currently searched."))):l.createElement("div",{className:"search-notification "+(this.searchInWorkspaceOptions.maxResults&&this.resultNumber>=this.searchInWorkspaceOptions.maxResults?"show":"")},l.createElement("div",null,v.nls.localize("theia/search-in-workspace/resultSubset","This is only a subset of all results. Use a more specific search term to narrow down the result list.")))}doFocusSearchFieldContainer(){this.searchFieldContainerIsFocused=!0,this.update()}doBlurSearchFieldContainer(){this.searchFieldContainerIsFocused=!1,this.update()}doSearch(e){var t;if(e.target){const i=e.target.value;if(this.searchTerm===i&&s.Key.ENTER.keyCode!==(null===(t=s.KeyCode.createKeyCode(e.nativeEvent).key)||void 0===t?void 0:t.keyCode))return;this.searchTerm=i,this.performSearch()}}performSearch(){const e={...this.searchInWorkspaceOptions,followSymlinks:this.shouldFollowSymlinks(),matchCase:this.shouldMatchCase()};this.resultTreeWidget.search(this.searchTerm,e)}shouldFollowSymlinks(){return this.searchInWorkspacePreferences["search.followSymlinks"]}shouldMatchCase(){return this.matchCaseState.enabled?this.matchCaseState.enabled:!!this.searchInWorkspacePreferences["search.smartCase"]&&this.searchTerm!==this.searchTerm.toLowerCase()}renderSearchField(){const e=l.createElement(b.SearchInWorkspaceInput,{id:"search-input-field",className:"theia-input",title:n.LABEL,type:"text",size:1,placeholder:n.LABEL,defaultValue:this.searchTerm,autoComplete:"off",onKeyUp:this.search,onKeyDown:this.onKeyDownSearch,onFocus:this.handleFocusSearchInputBox,onBlur:this.handleBlurSearchInputBox,ref:this.searchRef}),t=this.renderNotification(),i=this.renderOptionContainer(),o=`search-field-container ${this.searchInWorkspaceOptions.maxResults&&this.resultNumber>=this.searchInWorkspaceOptions.maxResults?"tooManyResults":""} ${this.searchFieldContainerIsFocused?"focused":""}`;return l.createElement("div",{className:o},l.createElement("div",{className:"search-field",tabIndex:-1,onFocus:this.focusSearchFieldContainer,onBlur:this.blurSearchFieldContainer},e,i),t)}doUpdateReplaceTerm(e){var t;e.target&&(this.replaceTerm=e.target.value,this.resultTreeWidget.replaceTerm=this.replaceTerm,(null===(t=s.KeyCode.createKeyCode(e.nativeEvent).key)||void 0===t?void 0:t.keyCode)===s.Key.ENTER.keyCode&&this.performSearch(),this.update())}renderReplaceField(){const e=this.renderReplaceAllButtonContainer(),t=v.nls.localizeByDefault("Replace");return l.createElement("div",{className:"replace-field"+(this.showReplaceField?"":" hidden")},l.createElement(b.SearchInWorkspaceInput,{id:"replace-input-field",className:"theia-input",title:t,type:"text",size:1,placeholder:t,defaultValue:this.replaceTerm,autoComplete:"off",onKeyUp:this.updateReplaceTerm,onFocus:this.handleFocusReplaceInputBox,onBlur:this.handleBlurReplaceInputBox,ref:this.replaceRef}),e)}renderReplaceAllButtonContainer(){const e=""!==this.searchTerm&&this.resultNumber>0;return l.createElement("div",{className:"replace-all-button-container"},l.createElement("span",{title:v.nls.localizeByDefault("Replace All"),className:`${(0,s.codicon)("replace-all",!0)} ${e?" ":" disabled"}`,onClick:()=>{e&&this.resultTreeWidget.replace(void 0)}}))}renderOptionContainer(){const e=this.renderOptionElement(this.matchCaseState),t=this.renderOptionElement(this.wholeWordState),i=this.renderOptionElement(this.regExpState),n=this.renderOptionElement(this.includeIgnoredState);return l.createElement("div",{className:"option-buttons"},e,t,i,n)}renderOptionElement(e){return l.createElement("span",{className:`${e.className} option ${e.enabled?"enabled":""}`,title:e.title,onClick:()=>this.handleOptionClick(e)})}handleOptionClick(e){e.enabled=!e.enabled,this.updateSearchOptions(),this.searchFieldContainerIsFocused=!0,this.performSearch(),this.update()}updateSearchOptions(){this.searchInWorkspaceOptions.matchCase=this.matchCaseState.enabled,this.searchInWorkspaceOptions.matchWholeWord=this.wholeWordState.enabled,this.searchInWorkspaceOptions.useRegExp=this.regExpState.enabled,this.searchInWorkspaceOptions.includeIgnored=this.includeIgnoredState.enabled}renderSearchDetails(){const e=this.renderExpandGlobFieldsButton(),t=this.renderGlobFieldContainer();return l.createElement("div",{className:"search-details"},e,t)}renderGlobFieldContainer(){const e=this.renderGlobField("include"),t=this.renderGlobField("exclude");return l.createElement("div",{className:"glob-field-container"+(this.showSearchDetails?"":" hidden")},e,t)}renderExpandGlobFieldsButton(){return l.createElement("div",{className:"button-container"},l.createElement("span",{title:v.nls.localizeByDefault("Toggle Search Details"),className:(0,s.codicon)("ellipsis"),onClick:()=>{this.showSearchDetails=!this.showSearchDetails,this.update()}}))}renderGlobField(e){const t=this.searchInWorkspaceOptions[e],i=t&&t.join(", ")||"";return l.createElement("div",{className:"glob-field"},l.createElement("div",{className:"label"},v.nls.localizeByDefault("files to "+e)),l.createElement(b.SearchInWorkspaceInput,{className:"theia-input",type:"text",size:1,defaultValue:i,autoComplete:"off",id:e+"-glob-field",placeholder:"include"===e?v.nls.localizeByDefault("e.g. *.ts, src/**/include"):v.nls.localizeByDefault("e.g. *.ts, src/**/exclude"),onKeyUp:t=>{var i;if(t.target){const n=t.target.value||"";let o=s.Key.ENTER.keyCode===(null===(i=s.KeyCode.createKeyCode(t.nativeEvent).key)||void 0===i?void 0:i.keyCode);((e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0})((this.searchInWorkspaceOptions[e]||[]).slice().map((e=>e.trim())).sort(),this.splitOnComma(n).map((e=>e.trim())).sort())||(this.searchInWorkspaceOptions[e]=this.splitOnComma(n),o=!0),o&&this.performSearch()}},onFocus:"include"===e?this.handleFocusIncludesInputBox:this.handleFocusExcludesInputBox,onBlur:"include"===e?this.handleBlurIncludesInputBox:this.handleBlurExcludesInputBox,ref:"include"===e?this.includeRef:this.excludeRef}))}splitOnComma(e){return e.length>0?e.split(",").map((e=>e.trim())):[]}renderSearchInfo(){const e=this.getSearchResultMessage()||"";return l.createElement("div",{className:"search-info"},e)}getSearchResultMessage(){if(this.searchTerm){if(0===this.resultNumber){const e=this.searchInWorkspaceOptions.include&&this.searchInWorkspaceOptions.include.length>0,t=this.searchInWorkspaceOptions.exclude&&this.searchInWorkspaceOptions.exclude.length>0;let i;return i=e&&t?v.nls.localizeByDefault("No results found in '{0}' excluding '{1}' - ",this.searchInWorkspaceOptions.include.toString(),this.searchInWorkspaceOptions.exclude.toString()):e?v.nls.localizeByDefault("No results found in '{0}' - ",this.searchInWorkspaceOptions.include.toString()):t?v.nls.localizeByDefault("No results found excluding '{0}' - ",this.searchInWorkspaceOptions.exclude.toString()):v.nls.localizeByDefault("No results found")+" - ",i.substring(0,i.length-2).trim()}return 1===this.resultNumber&&1===this.resultTreeWidget.fileNumber?v.nls.localizeByDefault("{0} result in {1} file",this.resultNumber.toString(),this.resultTreeWidget.fileNumber.toString()):1===this.resultTreeWidget.fileNumber?v.nls.localizeByDefault("{0} results in {1} file",this.resultNumber.toString(),this.resultTreeWidget.fileNumber.toString()):this.resultTreeWidget.fileNumber>0?v.nls.localizeByDefault("{0} results in {1} files",this.resultNumber.toString(),this.resultTreeWidget.fileNumber.toString()):void 0}}};A.ID="search-in-workspace",A.LABEL=v.nls.localizeByDefault("Search"),o([(0,a.inject)(c.SearchInWorkspaceResultTreeWidget),r("design:type",c.SearchInWorkspaceResultTreeWidget)],A.prototype,"resultTreeWidget",void 0),o([(0,a.inject)(h.WorkspaceService),r("design:type",h.WorkspaceService)],A.prototype,"workspaceService",void 0),o([(0,a.inject)(p.SearchInWorkspaceContextKeyService),r("design:type",p.SearchInWorkspaceContextKeyService)],A.prototype,"contextKeyService",void 0),o([(0,a.inject)(g.ProgressBarFactory),r("design:type",Function)],A.prototype,"progressBarFactory",void 0),o([(0,a.inject)(f.EditorManager),r("design:type",f.EditorManager)],A.prototype,"editorManager",void 0),o([(0,a.inject)(m.SearchInWorkspacePreferences),r("design:type",Object)],A.prototype,"searchInWorkspacePreferences",void 0),o([(0,a.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],A.prototype,"init",null),A=n=o([(0,a.injectable)()],A),t.SearchInWorkspaceWidget=A},46606:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchLayoutVersion3Migration=void 0;const o=i(70801),r=i(65410),s=i(94933);let a=class{constructor(){this.layoutVersion=6}onWillInflateWidget(e,{parent:t}){if(e.constructionOptions.factoryId===r.SearchInWorkspaceWidget.ID&&!t)return{constructionOptions:{factoryId:s.SEARCH_VIEW_CONTAINER_ID},innerWidgetState:{parts:[{widget:{constructionOptions:{factoryId:r.SearchInWorkspaceWidget.ID},innerWidgetState:e.innerWidgetState},partId:{factoryId:r.SearchInWorkspaceWidget.ID},collapsed:!1,hidden:!1}],title:s.SEARCH_VIEW_CONTAINER_TITLE_OPTIONS}}}};a=n([(0,o.injectable)()],a),t.SearchLayoutVersion3Migration=a},52103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInWorkspaceServer=t.SIW_WS_PATH=t.SearchInWorkspaceClient=t.SearchInWorkspaceResult=void 0,(t.SearchInWorkspaceResult||(t.SearchInWorkspaceResult={})).compare=function(e,t){return e.fileUri!==t.fileUri?e.fileUri<t.fileUri?-1:1:0},t.SearchInWorkspaceClient=Symbol("SearchInWorkspaceClient"),t.SIW_WS_PATH="/services/search-in-workspace",t.SearchInWorkspaceServer=Symbol("SearchInWorkspaceServer")},30529:(e,t,i)=>{var n=i(18533);const o="object"==typeof n&&n&&"win32"===n.platform;e.exports=o?{sep:"\\"}:{sep:"/"}},92400:(e,t,i)=>{const n=e.exports=(e,t,i={})=>(m(t),!(!i.nocomment&&"#"===t.charAt(0))&&new v(t,i).match(e));e.exports=n;const o=i(30529);n.sep=o.sep;const r=Symbol("globstar **");n.GLOBSTAR=r;const s=i(67828),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",l=c+"*?",d=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),u=d("().*{}+?[]^$\\!"),h=d("[.("),p=/\/+/;n.filter=(e,t={})=>(i,o,r)=>n(i,e,t);const g=(e,t={})=>{const i={};return Object.keys(e).forEach((t=>i[t]=e[t])),Object.keys(t).forEach((e=>i[e]=t[e])),i};n.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return n;const t=n,i=(i,n,o)=>t(i,n,g(e,o));return(i.Minimatch=class extends t.Minimatch{constructor(t,i){super(t,g(e,i))}}).defaults=i=>t.defaults(g(e,i)).Minimatch,i.filter=(i,n)=>t.filter(i,g(e,n)),i.defaults=i=>t.defaults(g(e,i)),i.makeRe=(i,n)=>t.makeRe(i,g(e,n)),i.braceExpand=(i,n)=>t.braceExpand(i,g(e,n)),i.match=(i,n,o)=>t.match(i,n,g(e,o)),i},n.braceExpand=(e,t)=>f(e,t);const f=(e,t={})=>(m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)),m=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},b=Symbol("subparse");n.makeRe=(e,t)=>new v(e,t||{}).makeRe(),n.match=(e,t,i={})=>{const n=new v(t,i);return e=e.filter((e=>n.match(e))),n.options.nonull&&!e.length&&e.push(t),e};class v{constructor(e,t){m(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let i=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,i),i=this.globParts=i.map((e=>e.split(p))),this.debug(this.pattern,i),i=i.map(((e,t,i)=>e.map(this.parse,this))),this.debug(this.pattern,i),i=i.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,i),this.set=i}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,i=0;for(let n=0;n<e.length&&"!"===e.charAt(n);n++)t=!t,i++;i&&(this.pattern=e.slice(i)),this.negate=t}matchOne(e,t,i){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var l,d=t[s],u=e[o];if(this.debug(t,d,u),!1===d)return!1;if(d===r){this.debug("GLOBSTAR",[t,d,u]);var h=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!n.dot&&"."===e[o].charAt(0))return!1;return!0}for(;h<a;){var g=e[h];if(this.debug("\nglobstar while",e,h,t,p,g),this.matchOne(e.slice(h),t.slice(p),i))return this.debug("globstar found match!",h,a,g),!0;if("."===g||".."===g||!n.dot&&"."===g.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!i||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof d?(l=u===d,this.debug("string match",d,u,l)):(l=u.match(d),this.debug("pattern match",d,u,l)),!l)return!1}if(o===a&&s===c)return!0;if(o===a)return i;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return f(this.pattern,this.options)}parse(e,t){m(e);const i=this.options;if("**"===e){if(!i.noglobstar)return r;e="*"}if(""===e)return"";let n="",o=!1,s=!1;const d=[],p=[];let g,f,v,A,y=!1,C=-1,w=-1,_="."===e.charAt(0),S=i.dot||_;const E=e=>"."===e.charAt(0)?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",k=()=>{if(g){switch(g){case"*":n+=l,o=!0;break;case"?":n+=c,o=!0;break;default:n+="\\"+g}this.debug("clearStateChar %j %j",g,n),g=!1}};for(let t,r=0;r<e.length&&(t=e.charAt(r));r++)if(this.debug("%s\t%s %s %j",e,r,n,t),s){if("/"===t)return!1;u[t]&&(n+="\\"),n+=t,s=!1}else switch(t){case"/":return!1;case"\\":if(y&&"-"===e.charAt(r+1)){n+=t;continue}k(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,r,n,t),y){this.debug("  in class"),"!"===t&&r===w+1&&(t="^"),n+=t;continue}this.debug("call clearStateChar %j",g),k(),g=t,i.noext&&k();continue;case"(":{if(y){n+="(";continue}if(!g){n+="\\(";continue}const t={type:g,start:r-1,reStart:n.length,open:a[g].open,close:a[g].close};this.debug(this.pattern,"\t",t),d.push(t),n+=t.open,0===t.start&&"!"!==t.type&&(_=!0,n+=E(e.slice(r+1))),this.debug("plType %j %j",g,n),g=!1;continue}case")":{const e=d[d.length-1];if(y||!e){n+="\\)";continue}d.pop(),k(),o=!0,v=e,n+=v.close,"!"===v.type&&p.push(Object.assign(v,{reEnd:n.length}));continue}case"|":{const t=d[d.length-1];if(y||!t){n+="\\|";continue}k(),n+="|",0===t.start&&"!"!==t.type&&(_=!0,n+=E(e.slice(r+1)));continue}case"[":if(k(),y){n+="\\"+t;continue}y=!0,w=r,C=n.length,n+=t;continue;case"]":if(r===w+1||!y){n+="\\"+t;continue}f=e.substring(w+1,r);try{RegExp("["+(f.replace(/\\([^-\]])/g,"$1").replace(/[[\]\\]/g,"\\$&")+"]")),n+=t}catch(e){n=n.substring(0,C)+"(?:$.)"}o=!0,y=!1;continue;default:k(),!u[t]||"^"===t&&y||(n+="\\"),n+=t}for(y&&(f=e.slice(w+1),A=this.parse(f,b),n=n.substring(0,C)+"\\["+A[0],o=o||A[1]),v=d.pop();v;v=d.pop()){let e;e=n.slice(v.reStart+v.open.length),this.debug("setting tail",n,v),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,i)=>(i||(i="\\"),t+t+i+"|"))),this.debug("tail=%j\n   %s",e,e,v,n);const t="*"===v.type?l:"?"===v.type?c:"\\"+v.type;o=!0,n=n.slice(0,v.reStart)+t+"\\("+e}k(),s&&(n+="\\\\");const x=h[n.charAt(0)];for(let e=p.length-1;e>-1;e--){const i=p[e],o=n.slice(0,i.reStart),r=n.slice(i.reStart,i.reEnd-8);let s=n.slice(i.reEnd);const a=n.slice(i.reEnd-8,i.reEnd)+s,c=o.split(")").length,l=o.split("(").length-c;let d=s;for(let e=0;e<l;e++)d=d.replace(/\)[+*?]?/,"");s=d,n=o+r+s+(""===s&&t!==b?"(?:$|\\/)":"")+a}if(""!==n&&o&&(n="(?=.)"+n),x&&(n=(_?"":S?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+n),t===b)return[n,o];if(i.nocase&&!o&&(o=e.toUpperCase()!==e.toLowerCase()),!o)return(e=>e.replace(/\\(.)/g,"$1"))(e);const D=i.nocase?"i":"";try{return Object.assign(new RegExp("^"+n+"$",D),{_glob:e,_src:n})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,i=t.noglobstar?l:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"";let o=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===r?r:e._src)).reduce(((e,t)=>(e[e.length-1]===r&&t===r||e.push(t),e)),[]),e.forEach(((t,n)=>{t===r&&e[n-1]!==r&&(0===n?e.length>1?e[n+1]="(?:\\/|"+i+"\\/)?"+e[n+1]:e[n]=i:n===e.length-1?e[n-1]+="(?:\\/|"+i+")?":(e[n-1]+="(?:\\/|\\/"+i+"\\/)"+e[n+1],e[n+1]=r))})),e.filter((e=>e!==r)).join("/")))).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,n)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const i=this.options;"/"!==o.sep&&(e=e.split(o.sep).join("/")),e=e.split(p),this.debug(this.pattern,"split",e);const n=this.set;let r;this.debug(this.pattern,"set",n);for(let t=e.length-1;t>=0&&(r=e[t],!r);t--);for(let o=0;o<n.length;o++){const s=n[o];let a=e;if(i.matchBase&&1===s.length&&(a=[r]),this.matchOne(a,s,t))return!!i.flipNegate||!this.negate}return!i.flipNegate&&this.negate}static defaults(e){return n.defaults(e).Minimatch}}n.Minimatch=v},467:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(47028),t),o(i(46544),t),o(i(22950),t),o(i(82842),t),o(i(30917),t),o(i(71952),t)},21601:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessTaskContribution=void 0;const r=i(70801),s=i(58869);let a=class{registerResolvers(e){e.registerExecutionResolver("process",this.processTaskResolver),e.registerExecutionResolver("shell",this.processTaskResolver)}};n([(0,r.inject)(s.ProcessTaskResolver),o("design:type",s.ProcessTaskResolver)],a.prototype,"processTaskResolver",void 0),a=n([(0,r.injectable)()],a),t.ProcessTaskContribution=a},23788:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindProcessTaskModule=void 0;const n=i(21601),o=i(58869),r=i(46544);t.bindProcessTaskModule=function(e){e(o.ProcessTaskResolver).toSelf().inSingletonScope(),e(n.ProcessTaskContribution).toSelf().inSingletonScope(),e(r.TaskContribution).toService(n.ProcessTaskContribution)}},58869:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessTaskResolver=void 0;const r=i(70801),s=i(3754),a=i(22950),c=i(30970),l=i(73246);let d=class{async resolveTask(e){var t;const i=e.taskType||e.type;if("process"!==i&&"shell"!==i)throw new Error("Unsupported task configuration type.");const n="string"==typeof e._scope?new c.default(e._scope):void 0,o={context:n,configurationSection:"tasks"},r=e;let s=r.options&&r.options.cwd;if(!s){const e=this.workspaceService.getWorkspaceRootUri(n);e&&(s=e.toString())}return{...r,command:await this.variableResolverService.resolve(r.command,o),args:r.args?await this.variableResolverService.resolve(r.args,o):void 0,windows:r.windows?{command:await this.variableResolverService.resolve(r.windows.command,o),args:r.windows.args?await this.variableResolverService.resolve(r.windows.args,o):void 0,options:r.windows.options}:void 0,osx:r.osx?{command:await this.variableResolverService.resolve(r.osx.command,o),args:r.osx.args?await this.variableResolverService.resolve(r.osx.args,o):void 0,options:r.osx.options}:void 0,linux:r.linux?{command:await this.variableResolverService.resolve(r.linux.command,o),args:r.linux.args?await this.variableResolverService.resolve(r.linux.args,o):void 0,options:r.linux.options}:void 0,options:{cwd:await this.variableResolverService.resolve(s,o),env:(null===(t=r.options)||void 0===t?void 0:t.env)&&await this.variableResolverService.resolve(r.options.env,o),shell:r.options&&r.options.shell}}}};n([(0,r.inject)(s.VariableResolverService),o("design:type",s.VariableResolverService)],d.prototype,"variableResolverService",void 0),n([(0,r.inject)(a.TaskDefinitionRegistry),o("design:type",a.TaskDefinitionRegistry)],d.prototype,"taskDefinitionRegistry",void 0),n([(0,r.inject)(l.WorkspaceService),o("design:type",l.WorkspaceService)],d.prototype,"workspaceService",void 0),d=n([(0,r.injectable)()],d),t.ProcessTaskResolver=d},24015:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProvidedTaskConfigurations=t.ALL_TASK_TYPES=void 0;const r=i(70801),s=i(46544),a=i(22950),c=i(32161);t.ALL_TASK_TYPES="*";let l=class{constructor(){this.tasksMap=new Map,this.currentToken=0,this.activatedProvidersTypes=[],this.nextToken=1}startUserAction(){return this.nextToken++}updateUserAction(e){this.currentToken!==e&&(this.currentToken=e,this.activatedProvidersTypes.length=0)}pushActivatedProvidersType(e){this.activatedProvidersTypes.includes(e)||this.activatedProvidersTypes.push(e)}isTaskProviderActivationNeeded(e){return!(!e||this.activatedProvidersTypes.includes(e)||this.activatedProvidersTypes.includes(t.ALL_TASK_TYPES))}async activateProviders(e){e&&(await this.taskProviderRegistry.activateProvider(e),this.pushActivatedProvidersType(e))}async getTasks(e,i){await this.refreshTasks(e,i);const n=[];for(const e of this.tasksMap.values())for(const o of e.values())for(const e of o.values())i&&e.type!==i&&i!==t.ALL_TASK_TYPES||n.push(e);return n}async refreshTasks(e,t){const i=this.isTaskProviderActivationNeeded(t);if(e!==this.currentToken||i){this.updateUserAction(e),await this.activateProviders(t);const i=await this.taskProviderRegistry.getProviders(),n=(await Promise.all(i.map((e=>this.resolveTaskConfigurations(e))))).reduce(((e,t)=>e.concat(t)),[]);this.cacheTasks(n)}}async resolveTaskConfigurations(e){return(await e.provideTasks()).filter((e=>e.scope!==c.TaskScope.Global)).map((e=>{const t=e.presentation||{};return{...e,presentation:{...c.TaskOutputPresentation.getDefault(),...t}}}))}async getTask(e,t,i,n){return await this.refreshTasks(e),this.getCachedTask(t,i,n)}async getTaskToCustomize(e,t,i){const n=this.taskDefinitionRegistry.getDefinition(t);if(!n)return;const o=[];let r=-1;const s=await this.getTasks(e,t.type);for(const e of s){const i=n.properties.required||[];if(!i.every((e=>void 0!==t[e])))continue;let s=i.length;const a=new Set(i);s+=n.properties.all.filter((e=>!a.has(e)&&void 0!==t[e])).length,s>=r&&(s>r&&(r=s,o.length=0),o.push(e))}const a=[i,c.TaskScope.Workspace];return o.find((e=>a.some((t=>t===e._scope))&&n.properties.all.every((i=>e[i]===t[i]))))}getCachedTask(e,t,i){const n=this.tasksMap.get(e);if(n){const e=n.get(t);if(e)return i?e.get(i.toString()):Array.from(e.values())[0]}}cacheTasks(e){this.tasksMap.clear();for(const t of e){const e=t.label,i=t._source,n=t._scope;if(this.tasksMap.has(i)){const o=this.tasksMap.get(i);if(o.has(e))o.get(e).set(n.toString(),t);else{const i=new Map;i.set(n.toString(),t),o.set(e,i)}}else{const o=new Map,r=new Map;r.set(n.toString(),t),o.set(e,r),this.tasksMap.set(i,o)}}}};n([(0,r.inject)(s.TaskProviderRegistry),o("design:type",s.TaskProviderRegistry)],l.prototype,"taskProviderRegistry",void 0),n([(0,r.inject)(a.TaskDefinitionRegistry),o("design:type",a.TaskDefinitionRegistry)],l.prototype,"taskDefinitionRegistry",void 0),l=n([(0,r.injectable)()],l),t.ProvidedTaskConfigurations=l},53146:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskRestartRunningQuickOpen=t.RunningTaskQuickOpenItem=t.TaskRunningQuickOpen=t.TaskTerminateQuickOpen=t.TaskConfigureQuickOpenItem=t.ConfigureBuildOrTestTaskQuickOpenItem=t.TaskRunQuickOpenItem=t.QuickOpenTask=t.SHOW_ALL=t.NO_TASK_TO_RUN=t.CONFIGURE_A_TASK=t.CHOOSE_TASK=t.TaskEntry=t.ConfigureTaskAction=void 0;const s=i(70801),a=i(47028),c=i(29274),l=i(22950),d=i(30970),u=i(87361),h=i(73246),p=i(24227),g=i(24015),f=i(98105),m=i(64843),b=i(64746),v=i(78733),A=i(44989),y=i(77450);var C,w;(w=t.ConfigureTaskAction||(t.ConfigureTaskAction={})).ID="workbench.action.tasks.configureTaskRunner",w.TEXT="Configure Task",function(e){e.isQuickPickValue=function(e){return"value"in e&&"string"==typeof e.value}}(C=t.TaskEntry||(t.TaskEntry={})),t.CHOOSE_TASK=A.nls.localizeByDefault("Select the task to run"),t.CONFIGURE_A_TASK=A.nls.localizeByDefault("Configure a Task"),t.NO_TASK_TO_RUN=A.nls.localize("theia/task/noTaskToRun","No task to run found. Configure Tasks..."),t.SHOW_ALL=A.nls.localizeByDefault("Show All Tasks...");let _=n=class{constructor(){this.description="Run Task",this.items=[]}init(){return this.doInit(this.taskService.startUserAction())}async doInit(e){const i=this.taskService.recentTasks,n=await this.taskService.getConfiguredTasks(e),o=this.taskDefinitionRegistry.getAll(),{filteredRecentTasks:r,filteredConfiguredTasks:s}=this.getFilteredTasks(i,n,[]),a=this.workspaceService.isMultiRootWorkspaceOpened;this.items=[];const c=this.getItems(r,"recently used tasks",e,a),l=this.getItems(s,"configured tasks",e,a,{label:`$(plus) ${t.CONFIGURE_A_TASK}`,execute:()=>this.configure()}),d=this.createProvidedTypeItems(o);this.items.push(...c,...l,...d),this.items.length||this.items.push({label:t.NO_TASK_TO_RUN,execute:()=>this.configure()})}createProvidedTypeItems(e){const i=[];i.push({type:"separator",label:A.nls.localizeByDefault("contributed")}),e.sort(((e,t)=>e.taskType.localeCompare(t.taskType)));for(const t of e){const e=t.taskType;i.push(this.toProvidedTaskTypeEntry(e,`$(folder) ${e}`))}return i.push(this.toProvidedTaskTypeEntry(t.SHOW_ALL,t.SHOW_ALL)),i}toProvidedTaskTypeEntry(e,t){return{label:t,value:e,execute:()=>{this.doSecondLevel(e)}}}onDidTriggerGearIcon(e){e instanceof S&&(this.taskService.configure(e.token,e.task),this.quickInputService.hide())}async open(){this.showMultiLevelQuickPick()}async showMultiLevelQuickPick(e){e||await this.init();const i=this.quickInputService.createQuickPick();i.placeholder=t.CHOOSE_TASK,i.matchOnDescription=!0,i.ignoreFocusOut=!1,i.items=this.items;const n=await this.doPickerFirstLevel(i);n&&C.isQuickPickValue(n)?(i.busy=!0,await this.doSecondLevel(n.value)):n&&"execute"in n&&"function"==typeof n.execute&&n.execute(),i.dispose()}async doPickerFirstLevel(e){e.show();const t=await new Promise((t=>{e.onDidAccept((async()=>{t(e.selectedItems?e.selectedItems[0]:void 0)}))}));return null!=t?t:void 0}async doSecondLevel(e){var i;const n=this.workspaceService.isMultiRootWorkspaceOpened,o=this.taskService.startUserAction(),r=e===t.SHOW_ALL?await this.taskService.getProvidedTasks(o,g.ALL_TASK_TYPES):await this.taskService.getProvidedTasks(o,e),s=this.getItems(r,e+" tasks",o,n),a=s.length?A.nls.localizeByDefault("Go back ↩"):A.nls.localizeByDefault("No {0} tasks found. Go back ↩",e);s.push({label:a,execute:()=>this.showMultiLevelQuickPick(!0)}),null===(i=this.quickInputService)||void 0===i||i.showQuickPick(s,{placeholder:t.CHOOSE_TASK})}attach(){this.items=[];const e=this.workspaceService.isMultiRootWorkspaceOpened;this.taskService.getRunningTasks().then((i=>{var n;i.length?i.forEach((t=>{t.terminalId&&this.items.push(new M(t,this.taskService,this.taskNameResolver,this.taskSourceResolver,this.taskDefinitionRegistry,this.labelProvider,e,(()=>this.taskService.attach(t.terminalId,t))))})):this.items.push({label:"No tasks found"}),0===this.items.length&&this.items.push({label:"No tasks found"}),null===(n=this.quickInputService)||void 0===n||n.showQuickPick(this.items,{placeholder:t.CHOOSE_TASK})}))}async configure(){var e;null===(e=this.quickInputService)||void 0===e||e.pick(this.resolveItemsToConfigure(),{placeHolder:A.nls.localizeByDefault("Select a task to configure")}).then((async e=>{e&&"execute"in e&&"function"==typeof e.execute&&e.execute()}))}async resolveItemsToConfigure(){const e=[],t=this.workspaceService.isMultiRootWorkspaceOpened,i=this.taskService.startUserAction(),n=await this.taskService.getConfiguredTasks(i),o=await this.taskService.getProvidedTasks(i,g.ALL_TASK_TYPES),{filteredConfiguredTasks:r,filteredProvidedTasks:s}=this.getFilteredTasks([],n,o),a=this.getGroupedTasksByWorkspaceFolder([...r,...s]);if(a.has(c.TaskScope.Global.toString())){const n=a.get(c.TaskScope.Global.toString());this.addConfigurationItems(e,n,i,t)}if(a.has(c.TaskScope.Workspace.toString())){const n=a.get(c.TaskScope.Workspace.toString());this.addConfigurationItems(e,n,i,t)}const l=(await this.workspaceService.roots).map((e=>e.resource.toString()));for(const n of l){const o=new d.default(n).displayName;if(a.has(n)){const o=a.get(n.toString());this.addConfigurationItems(e,o,i,t)}else{const{configUri:t}=this.preferences.resolve("tasks",[],n),i=!!t;e.push({label:i?"Open tasks.json file":"Create tasks.json file from template",execute:()=>{setTimeout((()=>this.taskConfigurationManager.openConfiguration(n)))}})}e.length>0&&e.unshift({type:"separator",label:t?o:""})}return 0===e.length&&e.push({label:"No tasks found"}),e}addConfigurationItems(e,t,i,n){e.push(...t.map((e=>{const t=new x(i,e,this.taskService,this.taskNameResolver,this.workspaceService,n);return t.taskDefinitionRegistry=this.taskDefinitionRegistry,t})).sort(((e,t)=>e.label.localeCompare(t.label))))}getTaskItems(){return this.items.filter((e=>"separator"!==e.type&&void 0!==e.task))}async runBuildOrTestTask(e){var t;const i="build"===e,n=this.taskService.startUserAction();await this.doInit(n);const o=this.getTaskItems();if(o.length>0){const t=o.filter((e=>i?c.TaskCustomization.isBuildTask(e.task):c.TaskCustomization.isTestTask(e.task)));if(t.length>0){const e=t.filter((e=>i?c.TaskCustomization.isDefaultBuildTask(e.task):c.TaskCustomization.isDefaultTestTask(e.task)));if(1===e.length){const t=e[0].task,i=t._scope;return void(this.taskDefinitionRegistry&&this.taskDefinitionRegistry.getDefinition(t)?this.taskService.run(n,t.source,t.label,i):this.taskService.run(n,t._source,t.label,i))}this.items=t}else this.items=[{label:`No ${e} task to run found. Configure ${e.charAt(0).toUpperCase()+e.slice(1)} Task...`,execute:()=>{this.doInit(n).then((()=>{var t;this.items=this.getTaskItems().map((e=>new E(n,e.task,this.taskService,this.workspaceService.isMultiRootWorkspaceOpened,this.taskNameResolver,i,this.taskConfigurationManager,this.taskDefinitionRegistry,this.taskSourceResolver))),null===(t=this.quickInputService)||void 0===t||t.showQuickPick(this.items,{placeholder:`Select the task to be used as the default ${e} task`})}))}}]}else this.items=[{label:`No ${e} task to run found. Configure ${e.charAt(0).toUpperCase()+e.slice(1)} Task...`,execute:()=>this.configure()}];null===(t=this.quickInputService)||void 0===t||t.showQuickPick(this.items,{placeholder:`Select the ${e} task to run`,onDidTriggerItemButton:({item:e})=>this.onDidTriggerGearIcon(e)})}async getPicks(e,t){return await this.init(),(0,v.filterItems)(this.items,e)}registerQuickAccessProvider(){this.quickAccessRegistry.registerQuickAccessProvider({getInstance:()=>this,prefix:n.PREFIX,placeholder:"Select the task to run",helpEntries:[{description:"Run Task",needsEditor:!1}]})}getRunningTaskLabel(e){return`Task id: ${e.taskId}, label: ${e.config.label}`}getItems(e,t,i,n,o){const r=e.map((e=>new S(i,e,this.taskService,n,this.taskDefinitionRegistry,this.taskNameResolver,this.taskSourceResolver,this.taskConfigurationManager,[{iconClass:"codicon-gear",tooltip:"Configure Task"}]))).sort(((e,t)=>{var i,n;let o=(null!==(i=e.description)&&void 0!==i?i:"").localeCompare(null!==(n=t.description)&&void 0!==n?n:"");return 0===o&&(o=e.label.localeCompare(t.label)),o}));return 0===r.length&&o&&r.push(o),r.length>0&&r.unshift({type:"separator",label:t}),r}getFilteredTasks(e,t,i){const n=[];e.forEach((e=>{const o=[...t,...i].find((t=>this.taskDefinitionRegistry.compareTasks(e,t)));o&&n.push(o)}));const o=[];i.forEach((e=>{[...n,...t].some((t=>this.taskDefinitionRegistry.compareTasks(e,t)))||o.push(e)}));const r=[];return t.forEach((e=>{n.some((t=>this.taskDefinitionRegistry.compareTasks(e,t)))||r.push(e)})),{filteredRecentTasks:n,filteredConfiguredTasks:r,filteredProvidedTasks:o}}getGroupedTasksByWorkspaceFolder(e){const t=new Map;for(const i of e){const e=i._scope;t.has(e.toString())?t.get(e.toString()).push(i):t.set(e.toString(),[i])}for(const e of t.values())e.sort(((e,t)=>e.label.localeCompare(t.label)));return t}};_.PREFIX="task ",o([(0,s.inject)(a.TaskService),r("design:type",a.TaskService)],_.prototype,"taskService",void 0),o([(0,s.inject)(u.QuickInputService),(0,s.optional)(),r("design:type",Object)],_.prototype,"quickInputService",void 0),o([(0,s.inject)(u.QuickAccessRegistry),r("design:type",Object)],_.prototype,"quickAccessRegistry",void 0),o([(0,s.inject)(h.WorkspaceService),r("design:type",h.WorkspaceService)],_.prototype,"workspaceService",void 0),o([(0,s.inject)(l.TaskDefinitionRegistry),r("design:type",l.TaskDefinitionRegistry)],_.prototype,"taskDefinitionRegistry",void 0),o([(0,s.inject)(f.TaskNameResolver),r("design:type",f.TaskNameResolver)],_.prototype,"taskNameResolver",void 0),o([(0,s.inject)(m.TaskSourceResolver),r("design:type",m.TaskSourceResolver)],_.prototype,"taskSourceResolver",void 0),o([(0,s.inject)(b.TaskConfigurationManager),r("design:type",b.TaskConfigurationManager)],_.prototype,"taskConfigurationManager",void 0),o([(0,s.inject)(u.PreferenceService),r("design:type",Object)],_.prototype,"preferences",void 0),o([(0,s.inject)(u.LabelProvider),r("design:type",u.LabelProvider)],_.prototype,"labelProvider",void 0),_=n=o([(0,s.injectable)()],_),t.QuickOpenTask=_;class S{constructor(e,t,i,n,o,r,s,a,c){this.token=e,this.task=t,this.taskService=i,this.isMulti=n,this.taskDefinitionRegistry=o,this.taskNameResolver=r,this.taskSourceResolver=s,this.taskConfigurationManager=a,this.buttons=c}get label(){return this.taskNameResolver.resolve(this.task)}get description(){return k(this.task._scope,this.isMulti)}get detail(){return this.task.detail}execute(){const e=this.task._scope;this.taskDefinitionRegistry&&this.taskDefinitionRegistry.getDefinition(this.task)?this.taskService.run(this.token,this.task.source||this.task._source,this.task.label,e):this.taskService.run(this.token,this.task._source,this.task.label,e)}trigger(){return this.taskService.configure(this.token,this.task),y.TriggerAction.CLOSE_PICKER}}t.TaskRunQuickOpenItem=S;class E extends S{constructor(e,t,i,n,o,r,s,a,c){super(e,t,i,n,a,o,c,s),this.isBuildTask=r}execute(){this.taskService.updateTaskConfiguration(this.token,this.task,{group:{kind:this.isBuildTask?"build":"test",isDefault:!0}}).then((()=>{this.task._scope&&this.taskConfigurationManager.openConfiguration(this.task._scope)}))}}function k(e,t){return"string"==typeof e?t?new d.default(e).displayName:"":c.TaskScope[e]}t.ConfigureBuildOrTestTaskQuickOpenItem=E;class x{constructor(e,t,i,n,o,r){this.token=e,this.task=t,this.taskService=i,this.taskNameResolver=n,this.workspaceService=o,this.isMulti=r;const s=this.workspaceService.workspace;this.isMulti=!!s&&!s.isDirectory}get label(){return this.taskNameResolver.resolve(this.task)}get description(){return k(this.task._scope,this.isMulti)}accept(){this.execute()}execute(){this.taskService.configure(this.token,this.task)}}t.TaskConfigureQuickOpenItem=x;let D=class{async getItems(){const e=[],t=await this.taskService.getRunningTasks(),i=this.workspaceService.isMultiRootWorkspaceOpened;return t.length<=0?e.push({label:"No task is currently running"}):(t.forEach((t=>{e.push(new M(t,this.taskService,this.taskNameResolver,this.taskSourceResolver,this.taskDefinitionRegistry,this.labelProvider,i,(()=>this.taskService.kill(t.taskId))))})),t.length>1&&e.push({label:"All running tasks",execute:()=>{t.forEach((e=>{this.taskService.kill(e.taskId)}))}})),e}async open(){var e;const t=await this.getItems();null===(e=this.quickInputService)||void 0===e||e.showQuickPick(t,{placeholder:"Select task to terminate"})}};o([(0,s.inject)(u.LabelProvider),r("design:type",u.LabelProvider)],D.prototype,"labelProvider",void 0),o([(0,s.inject)(u.QuickInputService),(0,s.optional)(),r("design:type",Object)],D.prototype,"quickInputService",void 0),o([(0,s.inject)(l.TaskDefinitionRegistry),r("design:type",l.TaskDefinitionRegistry)],D.prototype,"taskDefinitionRegistry",void 0),o([(0,s.inject)(f.TaskNameResolver),r("design:type",f.TaskNameResolver)],D.prototype,"taskNameResolver",void 0),o([(0,s.inject)(m.TaskSourceResolver),r("design:type",m.TaskSourceResolver)],D.prototype,"taskSourceResolver",void 0),o([(0,s.inject)(a.TaskService),r("design:type",a.TaskService)],D.prototype,"taskService",void 0),o([(0,s.inject)(h.WorkspaceService),r("design:type",h.WorkspaceService)],D.prototype,"workspaceService",void 0),D=o([(0,s.injectable)()],D),t.TaskTerminateQuickOpen=D;let T=class{async getItems(){const e=[],t=await this.taskService.getRunningTasks(),i=this.workspaceService.isMultiRootWorkspaceOpened;return t.length<=0?e.push({label:"No task is currently running"}):t.forEach((t=>{e.push(new M(t,this.taskService,this.taskNameResolver,this.taskSourceResolver,this.taskDefinitionRegistry,this.labelProvider,i,(()=>{if(t.terminalId){const e=this.terminalService.getByTerminalId(t.terminalId);e&&this.terminalService.open(e)}})))})),e}async open(){var e;const t=await this.getItems();null===(e=this.quickInputService)||void 0===e||e.showQuickPick(t,{placeholder:"Select the task to show its output"})}};o([(0,s.inject)(u.LabelProvider),r("design:type",u.LabelProvider)],T.prototype,"labelProvider",void 0),o([(0,s.inject)(u.QuickInputService),(0,s.optional)(),r("design:type",Object)],T.prototype,"quickInputService",void 0),o([(0,s.inject)(l.TaskDefinitionRegistry),r("design:type",l.TaskDefinitionRegistry)],T.prototype,"taskDefinitionRegistry",void 0),o([(0,s.inject)(f.TaskNameResolver),r("design:type",f.TaskNameResolver)],T.prototype,"taskNameResolver",void 0),o([(0,s.inject)(m.TaskSourceResolver),r("design:type",m.TaskSourceResolver)],T.prototype,"taskSourceResolver",void 0),o([(0,s.inject)(a.TaskService),r("design:type",a.TaskService)],T.prototype,"taskService",void 0),o([(0,s.inject)(h.WorkspaceService),r("design:type",h.WorkspaceService)],T.prototype,"workspaceService",void 0),o([(0,s.inject)(p.TerminalService),r("design:type",Object)],T.prototype,"terminalService",void 0),T=o([(0,s.injectable)()],T),t.TaskRunningQuickOpen=T;class M{constructor(e,t,i,n,o,r,s,a){this.taskInfo=e,this.taskService=t,this.taskNameResolver=i,this.taskSourceResolver=n,this.taskDefinitionRegistry=o,this.labelProvider=r,this.isMulti=s,this.execute=a}get label(){return this.taskNameResolver.resolve(this.taskInfo.config)}get description(){return k(this.taskInfo.config._scope,this.isMulti)}get detail(){return this.taskInfo.config.detail}}t.RunningTaskQuickOpenItem=M;let B=class{async getItems(){const e=[],t=await this.taskService.getRunningTasks(),i=this.workspaceService.isMultiRootWorkspaceOpened;return t.length<=0?e.push({label:"No task to restart"}):t.forEach((t=>{e.push(new M(t,this.taskService,this.taskNameResolver,this.taskSourceResolver,this.taskDefinitionRegistry,this.labelProvider,i,(()=>this.taskService.restartTask(t))))})),e}async open(){var e;const t=await this.getItems();null===(e=this.quickInputService)||void 0===e||e.showQuickPick(t,{placeholder:"Select task to restart"})}};o([(0,s.inject)(u.LabelProvider),r("design:type",u.LabelProvider)],B.prototype,"labelProvider",void 0),o([(0,s.inject)(u.QuickInputService),(0,s.optional)(),r("design:type",Object)],B.prototype,"quickInputService",void 0),o([(0,s.inject)(l.TaskDefinitionRegistry),r("design:type",l.TaskDefinitionRegistry)],B.prototype,"taskDefinitionRegistry",void 0),o([(0,s.inject)(f.TaskNameResolver),r("design:type",f.TaskNameResolver)],B.prototype,"taskNameResolver",void 0),o([(0,s.inject)(m.TaskSourceResolver),r("design:type",m.TaskSourceResolver)],B.prototype,"taskSourceResolver",void 0),o([(0,s.inject)(a.TaskService),r("design:type",a.TaskService)],B.prototype,"taskService",void 0),o([(0,s.inject)(h.WorkspaceService),r("design:type",h.WorkspaceService)],B.prototype,"workspaceService",void 0),B=o([(0,s.injectable)()],B),t.TaskRestartRunningQuickOpen=B},64746:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskConfigurationManager=void 0;const r=i(69592),s=i(6577),a=i(70801),c=i(18894),l=i(30566),d=i(87361),u=i(36856),h=i(27030),p=i(30775),g=i(50818),f=i(29274),m=i(69928),b=i(1278),v=i(14304),A=i(9825),y=i(71952);let C=class{constructor(){this.onDidChangeTaskConfigEmitter=new c.Emitter,this.onDidChangeTaskConfig=this.onDidChangeTaskConfigEmitter.event,this.models=new Map,this.updateModels=s((async()=>{const e=await this.workspaceService.roots,t=new Set([...this.models.keys()].filter((e=>e!==f.TaskScope.Global&&e!==f.TaskScope.Workspace)));this.updateWorkspaceModel();for(const i of e){const e=i.resource.toString();if(t.delete(e),!this.models.has(e)){const t=new p.TaskConfigurationModel(e,this.folderPreferences);t.onDidChange((()=>this.onDidChangeTaskConfigEmitter.fire({scope:e,type:0}))),t.onDispose((()=>this.models.delete(e))),this.models.set(e,t),this.onDidChangeTaskConfigEmitter.fire({scope:e,type:0})}}for(const e of t){const t=this.models.get(e);t&&t.dispose(),this.onDidChangeTaskConfigEmitter.fire({scope:e,type:2})}}),500),this.toDisposeOnDelegateChange=new A.DisposableCollection}init(){this.createModels(),this.folderPreferences.onDidPreferencesChanged((e=>{e.tasks&&this.updateModels()})),this.workspaceService.onWorkspaceChanged((()=>{this.updateModels()})),this.workspaceService.onWorkspaceLocationChanged((()=>{this.updateModels()}))}createModels(){const e=new p.TaskConfigurationModel(f.TaskScope.Global,this.userPreferences);e.onDidChange((()=>this.onDidChangeTaskConfigEmitter.fire({scope:f.TaskScope.Global,type:0}))),this.models.set(f.TaskScope.Global,e),this.updateModels()}getTasks(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.configurations)&&void 0!==i?i:[]}getTask(e,t){return this.getTasks(t).find((t=>t.name===e))}async openConfiguration(e){const t=this.getModel(e),i="string"==typeof e?e:void 0,n=this.preferenceService.getConfigUri(this.getMatchingPreferenceScope(e),i,"tasks");t&&n&&await this.doOpen(t,n)}async addTaskConfiguration(e,t){const i=this.getModel(e);if(i){const n=i.configurations;return this.setTaskConfigurations(e,[...n,t])}return!1}async setTaskConfigurations(e,t){const i=this.getModel(e);return!!i&&i.setConfigurations(t)}getModel(e){return this.models.get(e)}async doOpen(e,t){return e.uri||await this.doCreate(e,t),this.editorManager.open(t,{mode:"activate"})}async doCreate(e,t){var i;const n=await this.getInitialConfigurationContent();if(n)if("tasks"===this.preferenceConfigurations.getName(t))await this.fileService.write(t,n);else{let t;try{t=r.parse(n)}catch{t=null!==(i=this.taskSchemaProvider.getTaskSchema().default)&&void 0!==i?i:{}}await e.preferences.setPreference("tasks",t)}}getMatchingPreferenceScope(e){switch(e){case f.TaskScope.Global:return d.PreferenceScope.User;case f.TaskScope.Workspace:return d.PreferenceScope.Workspace;default:return d.PreferenceScope.Folder}}async getInitialConfigurationContent(){var e;const t=await this.quickPickService.show(this.taskTemplateSelector.selectTemplates(),{placeholder:"Select a Task Template"});if(t)return null===(e=t.value)||void 0===e?void 0:e.content}updateWorkspaceModel(){var e;const t=this.workspaceService.opened&&!this.workspaceService.saved,i=t?this.folderPreferences:this.workspacePreferences,n=t?null===(e=this.workspaceService.tryGetRoots()[0])||void 0===e?void 0:e.resource.toString():f.TaskScope.Workspace;if(i!==this.workspaceDelegate){this.workspaceDelegate=i,this.toDisposeOnDelegateChange.dispose();const e=new p.TaskConfigurationModel(n,i);this.toDisposeOnDelegateChange.push(e),i===this.workspacePreferences&&this.toDisposeOnDelegateChange.push(e.onDidChange((()=>{this.onDidChangeTaskConfigEmitter.fire({scope:f.TaskScope.Workspace,type:0})}))),this.models.set(f.TaskScope.Workspace,e),this.onDidChangeTaskConfigEmitter.fire({scope:n,type:0})}}};n([(0,a.inject)(h.WorkspaceService),o("design:type",h.WorkspaceService)],C.prototype,"workspaceService",void 0),n([(0,a.inject)(l.EditorManager),o("design:type",l.EditorManager)],C.prototype,"editorManager",void 0),n([(0,a.inject)(u.QuickPickService),o("design:type",Object)],C.prototype,"quickPickService",void 0),n([(0,a.inject)(v.FileService),o("design:type",v.FileService)],C.prototype,"fileService",void 0),n([(0,a.inject)(d.PreferenceService),o("design:type",Object)],C.prototype,"preferenceService",void 0),n([(0,a.inject)(y.TaskSchemaUpdater),o("design:type",y.TaskSchemaUpdater)],C.prototype,"taskSchemaProvider",void 0),n([(0,a.inject)(d.PreferenceProvider),(0,a.named)(d.PreferenceScope.Folder),o("design:type",d.PreferenceProvider)],C.prototype,"folderPreferences",void 0),n([(0,a.inject)(d.PreferenceProvider),(0,a.named)(d.PreferenceScope.User),o("design:type",d.PreferenceProvider)],C.prototype,"userPreferences",void 0),n([(0,a.inject)(d.PreferenceProvider),(0,a.named)(d.PreferenceScope.Workspace),o("design:type",d.PreferenceProvider)],C.prototype,"workspacePreferences",void 0),n([(0,a.inject)(b.PreferenceConfigurations),o("design:type",b.PreferenceConfigurations)],C.prototype,"preferenceConfigurations",void 0),n([(0,a.inject)(m.WorkspaceVariableContribution),o("design:type",m.WorkspaceVariableContribution)],C.prototype,"workspaceVariables",void 0),n([(0,a.inject)(g.TaskTemplateSelector),o("design:type",g.TaskTemplateSelector)],C.prototype,"taskTemplateSelector",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],C.prototype,"init",null),C=n([(0,a.injectable)()],C),t.TaskConfigurationManager=C},30775:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskConfigurationModel=void 0;const n=i(18894),o=i(51138),r=i(87361),s=i(9825);t.TaskConfigurationModel=class{constructor(e,t){this.scope=e,this.preferences=t,this.onDidChangeEmitter=new n.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.toDispose=new o.DisposableCollection(this.onDidChangeEmitter),this.reconcile(),this.toDispose.push(this.preferences.onDidPreferencesChanged((e=>{const t=e.tasks;t&&r.PreferenceProviderDataChange.affects(t,this.getWorkspaceFolder())&&this.reconcile()})))}get uri(){return this.json.uri}getWorkspaceFolder(){return"string"==typeof this.scope?this.scope:void 0}dispose(){this.toDispose.dispose()}get onDispose(){return this.toDispose.onDispose}get configurations(){return this.json.configurations}reconcile(){this.json=this.parseConfigurations(),this.onDidChangeEmitter.fire(void 0)}setConfigurations(e){return this.preferences.setPreference("tasks.tasks",e,this.getWorkspaceFolder())}parseConfigurations(){const e=[],{configUri:t,value:i}=this.preferences.resolve("tasks",this.getWorkspaceFolder());if((0,s.isObject)(i)&&Array.isArray(i.tasks))for(const t of i.tasks)e.push(t);return{uri:t,configurations:e}}}},63450:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskConfigurations=void 0;const r=i(70801),s=i(32161),a=i(22950),c=i(24015),l=i(64746),d=i(71952),u=i(64843),h=i(9825),p=i(73246);let g=class{constructor(){this.toDispose=new h.DisposableCollection,this.tasksMap=new Map,this.taskCustomizationMap=new Map,this.client=void 0,this.rawTaskConfigurations=new Map,this.toDispose.push(h.Disposable.create((()=>{this.tasksMap.clear(),this.taskCustomizationMap.clear(),this.rawTaskConfigurations.clear(),this.client=void 0})))}init(){this.toDispose.push(this.taskConfigurationManager.onDidChangeTaskConfig((async e=>{try{await this.onDidTaskFileChange([e]),this.client&&this.client.taskConfigurationChanged(this.getTaskLabels())}catch(e){console.error(e)}}))),this.reorganizeTasks(),this.toDispose.push(this.taskSchemaUpdater.onDidChangeTaskSchema((()=>this.reorganizeTasks())))}setClient(e){this.client=e}dispose(){this.toDispose.dispose()}getTaskLabels(){return Array.from(this.tasksMap.values()).reduce(((e,t)=>e.concat(Array.from(t.keys()))),[])}async getTasks(e){const t=Array.from(this.tasksMap.values()).reduce(((e,t)=>e.concat(Array.from(t.values()))),[]),i=[];for(const[t,n]of Array.from(this.taskCustomizationMap.entries()))for(const o of n){const n=await this.providedTaskConfigurations.getTaskToCustomize(e,o,t);n&&i.push({...n,...o})}return[...t,...i]}getRawTaskConfigurations(e){if(void 0===e){const e=[];for(const t of this.rawTaskConfigurations.values())e.push(...t);return e}const t=this.getKeyFromScope(e);return this.rawTaskConfigurations.has(t)?Array.from(this.rawTaskConfigurations.get(t).values()):[]}getInvalidTaskConfigurations(){const e=[];for(const t of this.rawTaskConfigurations.values())for(const i of t)this.isTaskConfigValid(i)||e.push(i);return e}getTask(e,t){const i=this.tasksMap.get(this.getKeyFromScope(e));if(i)return i.get(t)}async getCustomizedTask(e,t,i){const n=this.taskCustomizationMap.get(this.getKeyFromScope(t));if(n){const o=n.find((e=>e.label===i));if(o){const i=await this.providedTaskConfigurations.getTaskToCustomize(e,o,t);if(i)return{...i,...o,type:i.type}}}}removeTasks(e){const t=this.getKeyFromScope(e);this.tasksMap.delete(t),this.taskCustomizationMap.delete(t)}removeTaskCustomizations(e){const t=this.getKeyFromScope(e);this.taskCustomizationMap.delete(t)}getTaskCustomizations(e,t){const i=this.taskCustomizationMap.get(this.getKeyFromScope(t));return i?i.filter((t=>t.type===e)):[]}getCustomizationForTask(e){if(!this.isDetectedTask(e))return;const t=this.getTaskCustomizations(e.type,e._scope)||[];if(t.length>0){const i=this.taskDefinitionRegistry.getDefinition(e);if(i){const n=i.properties.required||[];return t.find((t=>n.every((i=>t[i]===e[i]))))}}}async onDidTaskFileChange(e){for(const t of e)2===t.type?this.removeTasks(t.scope):await this.refreshTasks(t.scope)}async refreshTasks(e){await this.readTasks(e),this.removeTasks(e),this.removeTaskCustomizations(e),this.reorganizeTasks()}async readTasks(e){const t=this.taskConfigurationManager.getTasks(e),i=this.getKeyFromScope(e);return this.rawTaskConfigurations.has(i)&&this.rawTaskConfigurations.delete(i),this.rawTaskConfigurations.set(i,t),t}async openUserTasks(){await this.taskConfigurationManager.openConfiguration(s.TaskScope.Global)}async configure(e,t){const i=t._scope;if(i===s.TaskScope.Global)return this.openUserTasks();if(this.workspaceService.workspace){(await this.getTasks(e)).some((e=>this.taskDefinitionRegistry.compareTasks(e,t)))||await this.saveTask(i,t);try{await this.taskConfigurationManager.openConfiguration(i)}catch(e){console.error(`Error occurred while opening 'tasks.json' in ${this.taskSourceResolver.resolve(t)}.`,e)}}}getTaskCustomizationTemplate(e){const t=this.getTaskDefinition(e);if(!t)return void console.error("Detected / Contributed tasks should have a task definition.");const i={type:e.type,runOptions:e.runOptions};if(t.properties.all.forEach((t=>{void 0!==e[t]&&(i[t]=e[t])})),"problemMatcher"in e){const t=[];Array.isArray(e.problemMatcher)?t.push(...e.problemMatcher.map((e=>"string"==typeof e?e:e.name))):"string"==typeof e.problemMatcher?t.push(e.problemMatcher):e.problemMatcher&&t.push(e.problemMatcher.name),i.problemMatcher=t.map((e=>e.startsWith("$")?e:`$${e}`))}return e.group&&(i.group=e.group),i.label=e.label,{...i}}saveTask(e,t){const{_source:i,$ident:n,...o}=t,r=this.getTaskCustomizationTemplate(t)||o;return this.taskConfigurationManager.addTaskConfiguration(e,r)}reorganizeTasks(){const e=new Map,t=new Map,i=(t,i,n)=>{if(e.has(t))e.get(t).set(i,n);else{const o=new Map;o.set(i,n),e.set(t,o)}};for(const[e,r]of this.rawTaskConfigurations.entries())for(const s of r){const r=this.getScopeFromKey(e);if(!this.isTaskConfigValid(s))continue;const a=this.getTransformedRawTask(s,r);this.isDetectedTask(a)?(n=e,o=a,t.has(n)?t.get(n).push(o):t.set(n,[o])):i(e,a.label,a)}var n,o;this.taskCustomizationMap=t,this.tasksMap=e}getTransformedRawTask(e,t){let i;if(this.isDetectedTask(e)){const n=this.getTaskDefinition(e);i={...e,_source:n.source,_scope:t}}else i={...e,_source:t,_scope:t};return{...i,presentation:s.TaskOutputPresentation.fromJson(e)}}isTaskConfigValid(e){return this.taskSchemaUpdater.validate({tasks:[e]})}async updateTaskConfig(e,t,i){const n=t._scope;if((await this.getTasks(e)).some((e=>this.taskDefinitionRegistry.compareTasks(e,t)))){const e=this.taskConfigurationManager.getTasks(n);if(e){const n=e.findIndex((e=>{if(e.type!==t.type)return!1;const i=this.taskDefinitionRegistry.getDefinition(e);return i?i.properties.all.every((i=>e[i]===t[i])):e.label===t.label}));e[n]={...e[n],...i}}this.taskConfigurationManager.setTaskConfigurations(n,e)}else Object.keys(i).forEach((e=>{t[e]=i[e]})),this.saveTask(n,t)}getKeyFromScope(e){return e.toString()}getScopeFromKey(e){return s.TaskScope.Global.toString()===e?s.TaskScope.Global:s.TaskScope.Workspace.toString()===e?s.TaskScope.Workspace:e}isDetectedTask(e){return!!this.getTaskDefinition(e)}getTaskDefinition(e){return this.taskDefinitionRegistry.getDefinition(e)}};n([(0,r.inject)(p.WorkspaceService),o("design:type",p.WorkspaceService)],g.prototype,"workspaceService",void 0),n([(0,r.inject)(a.TaskDefinitionRegistry),o("design:type",a.TaskDefinitionRegistry)],g.prototype,"taskDefinitionRegistry",void 0),n([(0,r.inject)(c.ProvidedTaskConfigurations),o("design:type",c.ProvidedTaskConfigurations)],g.prototype,"providedTaskConfigurations",void 0),n([(0,r.inject)(l.TaskConfigurationManager),o("design:type",l.TaskConfigurationManager)],g.prototype,"taskConfigurationManager",void 0),n([(0,r.inject)(d.TaskSchemaUpdater),o("design:type",d.TaskSchemaUpdater)],g.prototype,"taskSchemaUpdater",void 0),n([(0,r.inject)(u.TaskSourceResolver),o("design:type",u.TaskSourceResolver)],g.prototype,"taskSourceResolver",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],g.prototype,"init",null),g=n([(0,r.injectable)(),o("design:paramtypes",[])],g),t.TaskConfigurations=g},46544:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskProviderRegistry=t.TaskResolverRegistry=t.TaskContribution=void 0;const r=i(70801),s=i(18894);t.TaskContribution=Symbol("TaskContribution");let a=class{constructor(){this.onWillProvideTaskResolverEmitter=new s.Emitter,this.onWillProvideTaskResolver=this.onWillProvideTaskResolverEmitter.event,this.taskResolvers=new Map,this.executionResolvers=new Map}register(e,t){return this.registerTaskResolver(e,t)}registerTaskResolver(e,t){return this.taskResolvers.has(e)&&console.warn(`Overriding task resolver for ${e}`),this.taskResolvers.set(e,t),{dispose:()=>this.taskResolvers.delete(e)}}async getResolver(e){return this.getTaskResolver(e)}async getTaskResolver(e){return await s.WaitUntilEvent.fire(this.onWillProvideTaskResolverEmitter,{taskType:e}),this.taskResolvers.get(e)}registerExecutionResolver(e,t){return this.executionResolvers.has(e)&&console.warn(`Overriding execution resolver for ${e}`),this.executionResolvers.set(e,t),{dispose:()=>this.executionResolvers.delete(e)}}getExecutionResolver(e){return this.executionResolvers.get(e)}};a=n([(0,r.injectable)()],a),t.TaskResolverRegistry=a;let c=class{constructor(){this.onWillProvideTaskProviderEmitter=new s.Emitter,this.onWillProvideTaskProvider=this.onWillProvideTaskProviderEmitter.event}init(){this.providers=new Map}register(e,t,i){const n=void 0===i?e:`${e}::${i}`;return this.providers.set(n,t),{dispose:()=>this.providers.delete(n)}}async activateProvider(e){await s.WaitUntilEvent.fire(this.onWillProvideTaskProviderEmitter,{taskType:e})}async getProvider(e){return await this.activateProvider(e),this.providers.get(e)}async getProviders(){return[...this.providers.values()]}};n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"init",null),c=n([(0,r.injectable)()],c),t.TaskProviderRegistry=c},22950:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskDefinitionRegistry=void 0;const o=i(70801),r=i(28563),s=i(9825),a=i(51138);let c=class{constructor(){this.definitions=new Map,this.onDidRegisterTaskDefinitionEmitter=new s.Emitter,this.onDidUnregisterTaskDefinitionEmitter=new s.Emitter}get onDidRegisterTaskDefinition(){return this.onDidRegisterTaskDefinitionEmitter.event}get onDidUnregisterTaskDefinition(){return this.onDidUnregisterTaskDefinitionEmitter.event}getAll(){const e=[];for(const t of this.definitions.values())e.push(...t);return e}getDefinitions(e){return this.definitions.get(e)||[]}getDefinition(e){const t=this.getDefinitions(e.type);let i,n=-1;for(const o of t){const t=o.properties.required||[];if(!t.every((t=>void 0!==e[t])))continue;let r=t.length;const s=new Set(t);r+=o.properties.all.filter((t=>!s.has(t)&&void 0!==e[t])).length,r>n&&(n=r,i=o)}return i}register(e){const t=e.taskType,i=this.definitions.get(t)||[];return i.push(e),this.definitions.set(t,i),this.onDidRegisterTaskDefinitionEmitter.fire(void 0),a.Disposable.create((()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1),this.onDidUnregisterTaskDefinitionEmitter.fire(void 0)}))}compareTasks(e,t){if(e.type!==t.type)return!1;const i=this.getDefinition(e);return i?i.properties.all.every((i=>"type"===i||r.JSONExt.deepEqual(e[i],t[i])))&&(e._scope===t._scope||e.scope===t.scope):e.label===t.label&&e._source===t._source}};c=n([(0,o.injectable)()],c),t.TaskDefinitionRegistry=c},21471:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskFrontendContribution=t.TaskCommands=void 0;const r=i(70801),s=i(9825),a=i(53146),c=i(87361),l=i(9791),d=i(46544),u=i(47028),h=i(75906),p=i(71952),g=i(32161),f=i(30566),m=i(27030);var b;!function(e){const t="Task",i=s.nls.getDefaultKey(t);e.TASK_RUN=s.Command.toDefaultLocalizedCommand({id:"task:run",category:t,label:"Run Task..."}),e.TASK_RUN_BUILD=s.Command.toDefaultLocalizedCommand({id:"task:run:build",category:t,label:"Run Build Task"}),e.TASK_RUN_TEST=s.Command.toDefaultLocalizedCommand({id:"task:run:test",category:t,label:"Run Test Task"}),e.WORKBENCH_RUN_TASK=s.Command.toLocalizedCommand({id:"workbench.action.tasks.runTask",category:t},"",i),e.TASK_RUN_LAST=s.Command.toDefaultLocalizedCommand({id:"task:run:last",category:t,label:"Rerun Last Task"}),e.TASK_ATTACH=s.Command.toLocalizedCommand({id:"task:attach",category:t,label:"Attach Task..."},"theia/task/attachTask",i),e.TASK_RUN_TEXT=s.Command.toDefaultLocalizedCommand({id:"task:run:text",category:t,label:"Run Selected Text"}),e.TASK_CONFIGURE=s.Command.toDefaultLocalizedCommand({id:"task:configure",category:t,label:"Configure Tasks..."}),e.TASK_OPEN_USER=s.Command.toLocalizedCommand({id:"task:open_user",category:t,label:"Open User Tasks"},"theia/task/openUserTasks",i),e.TASK_CLEAR_HISTORY=s.Command.toLocalizedCommand({id:"task:clear-history",category:t,label:"Clear History"},"theia/task/clearHistory",i),e.TASK_SHOW_RUNNING=s.Command.toDefaultLocalizedCommand({id:"task:show-running",category:t,label:"Show Running Tasks"}),e.TASK_TERMINATE=s.Command.toDefaultLocalizedCommand({id:"task:terminate",category:t,label:"Terminate Task"}),e.TASK_RESTART_RUNNING=s.Command.toDefaultLocalizedCommand({id:"task:restart-running",category:t,label:"Restart Running Task..."})}(b=t.TaskCommands||(t.TaskCommands={}));const v="tasks";let A=class{init(){this.taskWatcher.onTaskCreated((()=>this.updateRunningTasksItem())),this.taskWatcher.onTaskExit((()=>this.updateRunningTasksItem()))}onStart(){this.contributionProvider.getContributions().forEach((e=>{e.registerResolvers&&e.registerResolvers(this.taskResolverRegistry),e.registerProviders&&e.registerProviders(this.taskProviderRegistry)})),this.schemaUpdater.update(),this.storageService.getData(v,{recent:[]}).then((e=>this.taskService.recentTasks=e.recent))}onStop(){const e=this.taskService.recentTasks;this.storageService.setData(v,{recent:e})}async updateRunningTasksItem(){const e="show-running-tasks",t=await this.taskService.getRunningTasks();t.length?this.statusBar.setElement(e,{text:`$(tools) ${t.length}`,tooltip:b.TASK_SHOW_RUNNING.label,alignment:c.StatusBarAlignment.LEFT,priority:2,command:b.TASK_SHOW_RUNNING.id}):this.statusBar.removeElement(e)}registerCommands(e){e.registerCommand(b.WORKBENCH_RUN_TASK,{isEnabled:()=>!0,execute:async e=>{await this.taskService.runTaskByLabel(this.taskService.startUserAction(),e)||this.quickOpenTask.open()}}),e.registerCommand(b.TASK_RUN,{isEnabled:()=>!0,execute:(...e)=>{const[t,i,n]=e;return t&&i?this.taskService.run(this.taskService.startUserAction(),t,i,n):this.quickOpenTask.open()}}),e.registerCommand(b.TASK_RUN_BUILD,{isEnabled:()=>this.workspaceService.opened,execute:()=>this.quickOpenTask.runBuildOrTestTask("build")}),e.registerCommand(b.TASK_RUN_TEST,{isEnabled:()=>this.workspaceService.opened,execute:()=>this.quickOpenTask.runBuildOrTestTask("test")}),e.registerCommand(b.TASK_ATTACH,{isEnabled:()=>!0,execute:()=>this.quickOpenTask.attach()}),e.registerCommand(b.TASK_RUN_LAST,{execute:async()=>{await this.taskService.runLastTask(this.taskService.startUserAction())||await this.quickOpenTask.open()}}),e.registerCommand(b.TASK_RUN_TEXT,{isVisible:()=>!!this.editorManager.currentEditor,isEnabled:()=>!!this.editorManager.currentEditor,execute:()=>this.taskService.runSelectedText()}),e.registerCommand(b.TASK_CONFIGURE,{execute:()=>this.quickOpenTask.configure()}),e.registerCommand(b.TASK_OPEN_USER,{execute:()=>{this.taskService.openUserTasks()}}),e.registerCommand(b.TASK_CLEAR_HISTORY,{execute:()=>this.taskService.clearRecentTasks()}),e.registerCommand(b.TASK_SHOW_RUNNING,{execute:()=>this.taskRunningQuickOpen.open()}),e.registerCommand(b.TASK_TERMINATE,{execute:()=>this.taskTerminateQuickOpen.open()}),e.registerCommand(b.TASK_RESTART_RUNNING,{execute:()=>this.taskRestartRunningQuickOpen.open()})}registerMenus(e){e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS,{commandId:b.TASK_RUN.id,order:"0"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS,{commandId:b.TASK_RUN_BUILD.id,order:"1"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS,{commandId:b.TASK_RUN_TEST.id,order:"2"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS,{commandId:b.TASK_RUN_LAST.id,order:"3"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS,{commandId:b.TASK_ATTACH.id,order:"4"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS,{commandId:b.TASK_RUN_TEXT.id,order:"5"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS_INFO,{commandId:b.TASK_SHOW_RUNNING.id,label:b.TASK_SHOW_RUNNING.label+"...",order:"0"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS_INFO,{commandId:b.TASK_RESTART_RUNNING.id,label:b.TASK_RESTART_RUNNING.label,order:"1"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS_INFO,{commandId:b.TASK_TERMINATE.id,label:b.TASK_TERMINATE.label+"...",order:"2"}),e.registerMenuAction(h.TerminalMenus.TERMINAL_TASKS_CONFIG,{commandId:b.TASK_CONFIGURE.id,order:"0"})}registerQuickAccessProvider(){this.quickOpenTask.registerQuickAccessProvider()}registerKeybindings(e){e.registerKeybinding({command:b.TASK_RUN_LAST.id,keybinding:"ctrlcmd+shift+k",when:"!textInputFocus || editorReadonly"})}};n([(0,r.inject)(a.QuickOpenTask),o("design:type",a.QuickOpenTask)],A.prototype,"quickOpenTask",void 0),n([(0,r.inject)(f.EditorManager),o("design:type",f.EditorManager)],A.prototype,"editorManager",void 0),n([(0,r.inject)(c.FrontendApplication),o("design:type",c.FrontendApplication)],A.prototype,"app",void 0),n([(0,r.inject)(s.ILogger),(0,r.named)("task"),o("design:type",Object)],A.prototype,"logger",void 0),n([(0,r.inject)(l.WidgetManager),o("design:type",l.WidgetManager)],A.prototype,"widgetManager",void 0),n([(0,r.inject)(s.ContributionProvider),(0,r.named)(d.TaskContribution),o("design:type",Object)],A.prototype,"contributionProvider",void 0),n([(0,r.inject)(d.TaskProviderRegistry),o("design:type",d.TaskProviderRegistry)],A.prototype,"taskProviderRegistry",void 0),n([(0,r.inject)(d.TaskResolverRegistry),o("design:type",d.TaskResolverRegistry)],A.prototype,"taskResolverRegistry",void 0),n([(0,r.inject)(u.TaskService),o("design:type",u.TaskService)],A.prototype,"taskService",void 0),n([(0,r.inject)(p.TaskSchemaUpdater),o("design:type",p.TaskSchemaUpdater)],A.prototype,"schemaUpdater",void 0),n([(0,r.inject)(c.StorageService),o("design:type",Object)],A.prototype,"storageService",void 0),n([(0,r.inject)(a.TaskRunningQuickOpen),o("design:type",a.TaskRunningQuickOpen)],A.prototype,"taskRunningQuickOpen",void 0),n([(0,r.inject)(a.TaskTerminateQuickOpen),o("design:type",a.TaskTerminateQuickOpen)],A.prototype,"taskTerminateQuickOpen",void 0),n([(0,r.inject)(a.TaskRestartRunningQuickOpen),o("design:type",a.TaskRestartRunningQuickOpen)],A.prototype,"taskRestartRunningQuickOpen",void 0),n([(0,r.inject)(g.TaskWatcher),o("design:type",g.TaskWatcher)],A.prototype,"taskWatcher",void 0),n([(0,r.inject)(c.StatusBar),o("design:type",Object)],A.prototype,"statusBar",void 0),n([(0,r.inject)(m.WorkspaceService),o("design:type",m.WorkspaceService)],A.prototype,"workspaceService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],A.prototype,"init",null),A=n([(0,r.injectable)()],A),t.TaskFrontendContribution=A},90473:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(87361),r=i(9825),s=i(60556),a=i(53146),c=i(46544),l=i(47028),d=i(63450),u=i(24015),h=i(21471),p=i(83591),g=i(29274),f=i(82758),m=i(23788),b=i(71952),v=i(22950),A=i(82842),y=i(30917),C=i(64746),w=i(12522);i(23088),i(8734);const _=i(98105),S=i(64843),E=i(50818),k=i(81841),x=i(11234),D=i(81670);t.default=new n.ContainerModule((e=>{e(h.TaskFrontendContribution).toSelf().inSingletonScope(),e(l.TaskService).toSelf().inSingletonScope();for(const t of[o.FrontendApplicationContribution,r.CommandContribution,o.KeybindingContribution,r.MenuContribution,D.QuickAccessContribution])e(t).toService(h.TaskFrontendContribution);e(a.QuickOpenTask).toSelf().inSingletonScope(),e(a.TaskRunningQuickOpen).toSelf().inSingletonScope(),e(a.TaskTerminateQuickOpen).toSelf().inSingletonScope(),e(a.TaskRestartRunningQuickOpen).toSelf().inSingletonScope(),e(d.TaskConfigurations).toSelf().inSingletonScope(),e(u.ProvidedTaskConfigurations).toSelf().inSingletonScope(),e(C.TaskConfigurationManager).toSelf().inSingletonScope(),e(g.TaskServer).toDynamicValue((e=>{const t=e.container.get(s.WebSocketConnectionProvider),i=e.container.get(f.TaskWatcher);return t.createProxy(g.taskPath,i.getTaskClient())})).inSingletonScope(),e(v.TaskDefinitionRegistry).toSelf().inSingletonScope(),e(A.ProblemMatcherRegistry).toSelf().inSingletonScope(),e(y.ProblemPatternRegistry).toSelf().inSingletonScope(),(0,p.createCommonBindings)(e),e(c.TaskProviderRegistry).toSelf().inSingletonScope(),e(c.TaskResolverRegistry).toSelf().inSingletonScope(),(0,r.bindContributionProvider)(e,c.TaskContribution),e(b.TaskSchemaUpdater).toSelf().inSingletonScope(),e(x.JsonSchemaContribution).toService(b.TaskSchemaUpdater),e(_.TaskNameResolver).toSelf().inSingletonScope(),e(S.TaskSourceResolver).toSelf().inSingletonScope(),e(E.TaskTemplateSelector).toSelf().inSingletonScope(),e(k.TaskTerminalWidgetManager).toSelf().inSingletonScope(),(0,m.bindProcessTaskModule)(e),(0,w.bindTaskPreferences)(e)}))},98105:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskNameResolver=void 0;const r=i(70801),s=i(22950),a=i(63450);let c=class{resolve(e){if(this.isDetectedTask(e)){const t=e._scope,i=this.taskConfigurations.getRawTaskConfigurations(t).find((i=>this.taskDefinitionRegistry.compareTasks({...i,_scope:t},e)));return i&&i.label?i.label:`${e.source||e._source}: ${e.label}`}return e.label||`${e.type}: ${e.task}`}isDetectedTask(e){return!!this.taskDefinitionRegistry.getDefinition(e)}};n([(0,r.inject)(s.TaskDefinitionRegistry),o("design:type",s.TaskDefinitionRegistry)],c.prototype,"taskDefinitionRegistry",void 0),n([(0,r.inject)(a.TaskConfigurations),o("design:type",a.TaskConfigurations)],c.prototype,"taskConfigurations",void 0),c=n([(0,r.injectable)()],c),t.TaskNameResolver=c},83924:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskNode=void 0,t.TaskNode=class{constructor(e,t,i){this.taskId=e,this.childTasks=t,this.parentsID=i}addChildDependency(e){this.childTasks.push(e)}addParentDependency(e){this.parentsID.push(e)}}},12522:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindTaskPreferences=t.taskPreferencesSchema=void 0;const n=i(41496),o=i(71952),r=i(1278);t.taskPreferencesSchema={type:"object",scope:"resource",properties:{tasks:{$ref:o.taskSchemaId,description:"Task definition file",defaultValue:{version:"2.0.0",tasks:[]}}}},t.bindTaskPreferences=function(e){e(n.PreferenceContribution).toConstantValue({schema:t.taskPreferencesSchema}),e(r.PreferenceConfiguration).toConstantValue({name:"tasks"})}},82842:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemMatcherRegistry=void 0;const r=i(70801),s=i(9825),a=i(51138),c=i(32161),l=i(30917),d=i(35106);let u=class{constructor(){this.matchers=new Map,this.onDidChangeProblemMatcherEmitter=new s.Emitter}get onDidChangeProblemMatcher(){return this.onDidChangeProblemMatcherEmitter.event}init(){this.problemPatternRegistry.onReady().then((()=>{this.fillDefaults(),this.readyPromise=new Promise(((e,t)=>e(void 0))),this.onDidChangeProblemMatcherEmitter.fire(void 0)}))}onReady(){return this.readyPromise}register(e){if(!e.name)return console.error("Only named Problem Matchers can be registered."),a.Disposable.NULL;const t=new a.DisposableCollection(a.Disposable.create((()=>{this.onDidChangeProblemMatcherEmitter.fire(void 0)})));return this.doRegister(e,t).then((()=>this.onDidChangeProblemMatcherEmitter.fire(void 0))),t}async doRegister(e,t){const i=await this.getProblemMatcherFromContribution(e);t.disposed||t.push(this.add(i))}get(e){return e.startsWith("$")?this.matchers.get(e.slice(1)):this.matchers.get(e)}getAll(){const e=[];for(const t of this.matchers.keys())e.push(this.get(t));return e.sort(((e,t)=>e.name.localeCompare(t.name))),e}async getProblemMatcherFromContribution(e){let t,i,n;if(e.base&&(t=this.get(e.base)),void 0===e.fileLocation)i=t?t.fileLocation:c.FileLocationKind.Relative,n=t?t.filePrefix:"${workspaceFolder}";else{const t=this.getFileLocationKindAndPrefix(e);i=t.fileLocation,n=t.filePrefix}const o=[];if(e.pattern)if("string"==typeof e.pattern){await this.problemPatternRegistry.onReady();const t=this.problemPatternRegistry.get(e.pattern);Array.isArray(t)?o.push(...t):t&&o.push(t)}else Array.isArray(e.pattern)?o.push(...e.pattern.map((e=>c.ProblemPattern.fromProblemPatternContribution(e)))):o.push(c.ProblemPattern.fromProblemPatternContribution(e.pattern));else t&&(Array.isArray(t.pattern)?o.push(...t.pattern):o.push(t.pattern));let r,s=e.deprecated;void 0===s&&t&&(s=t.deprecated),r=void 0===e.applyTo?t?t.applyTo:c.ApplyToKind.allDocuments:c.ApplyToKind.fromString(e.applyTo)||c.ApplyToKind.allDocuments;let a=d.Severity.fromValue(e.severity);void 0===e.severity&&t&&void 0!==t.severity&&(a=t.severity);let l=c.WatchingMatcher.fromWatchingMatcherContribution(e.background||e.watching);return void 0===l&&t&&(l=t.watching),{name:e.name||(t?t.name:void 0),label:e.label||(null==t?void 0:t.label)||"",deprecated:s,owner:e.owner||(t?t.owner:""),source:e.source||(t?t.source:void 0),applyTo:r,fileLocation:i,filePrefix:n,pattern:o,severity:a,watching:l}}add(e){return this.matchers.set(e.name,e),a.Disposable.create((()=>this.matchers.delete(e.name)))}getFileLocationKindAndPrefix(e){let t=c.FileLocationKind.Relative,i="${workspaceFolder}";if(void 0!==e.fileLocation)if(Array.isArray(e.fileLocation)){if(e.fileLocation.length>0){const n=c.FileLocationKind.fromString(e.fileLocation[0]);1===e.fileLocation.length&&n===c.FileLocationKind.Absolute?t=n:2===e.fileLocation.length&&n===c.FileLocationKind.Relative&&e.fileLocation[1]&&(t=n,i=e.fileLocation[1])}}else{const n=c.FileLocationKind.fromString(e.fileLocation);n&&(t=n,n===c.FileLocationKind.Relative&&(i="${workspaceFolder}"))}return{fileLocation:t,filePrefix:i}}fillDefaults(){this.add({name:"msCompile",label:"Microsoft compiler problems",owner:"msCompile",applyTo:c.ApplyToKind.allDocuments,fileLocation:c.FileLocationKind.Absolute,pattern:this.problemPatternRegistry.get("msCompile")}),this.add({name:"lessCompile",label:"Less problems",deprecated:!0,owner:"lessCompile",source:"less",applyTo:c.ApplyToKind.allDocuments,fileLocation:c.FileLocationKind.Absolute,pattern:this.problemPatternRegistry.get("lessCompile"),severity:d.Severity.Error}),this.add({name:"gulp-tsc",label:"Gulp TSC Problems",owner:"typescript",source:"ts",applyTo:c.ApplyToKind.closedDocuments,fileLocation:c.FileLocationKind.Relative,filePrefix:"${workspaceFolder}",pattern:this.problemPatternRegistry.get("gulp-tsc")}),this.add({name:"jshint",label:"JSHint problems",owner:"jshint",source:"jshint",applyTo:c.ApplyToKind.allDocuments,fileLocation:c.FileLocationKind.Absolute,pattern:this.problemPatternRegistry.get("jshint")}),this.add({name:"jshint-stylish",label:"JSHint stylish problems",owner:"jshint",source:"jshint",applyTo:c.ApplyToKind.allDocuments,fileLocation:c.FileLocationKind.Absolute,pattern:this.problemPatternRegistry.get("jshint-stylish")}),this.add({name:"eslint-compact",label:"ESLint compact problems",owner:"eslint",source:"eslint",applyTo:c.ApplyToKind.allDocuments,fileLocation:c.FileLocationKind.Absolute,filePrefix:"${workspaceFolder}",pattern:this.problemPatternRegistry.get("eslint-compact")}),this.add({name:"eslint-stylish",label:"ESLint stylish problems",owner:"eslint",source:"eslint",applyTo:c.ApplyToKind.allDocuments,fileLocation:c.FileLocationKind.Absolute,pattern:this.problemPatternRegistry.get("eslint-stylish")}),this.add({name:"go",label:"Go problems",owner:"go",source:"go",applyTo:c.ApplyToKind.allDocuments,fileLocation:c.FileLocationKind.Relative,filePrefix:"${workspaceFolder}",pattern:this.problemPatternRegistry.get("go")})}};n([(0,r.inject)(l.ProblemPatternRegistry),o("design:type",l.ProblemPatternRegistry)],u.prototype,"problemPatternRegistry",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.ProblemMatcherRegistry=u},30917:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemPatternRegistry=void 0;const r=i(70801),s=i(32161),a=i(51138);let c=class{constructor(){this.patterns=new Map}init(){this.fillDefaults(),this.readyPromise=new Promise(((e,t)=>e(void 0)))}onReady(){return this.readyPromise}register(e){if(Array.isArray(e)){const t=new a.DisposableCollection;return e.forEach((e=>t.push(this.register(e)))),t}if(!e.name)return console.error("Only named Problem Patterns can be registered."),a.Disposable.NULL;const t=s.ProblemPattern.fromProblemPatternContribution(e);return this.add(t.name,t)}get(e){return this.patterns.get(e)}add(e,t){let i;return i=Array.isArray(t)?t.map((t=>Object.assign(t,{name:e}))):Object.assign(t,{name:e}),this.patterns.set(e,i),a.Disposable.create((()=>this.patterns.delete(e)))}fillDefaults(){this.add("msCompile",{regexp:/^(?:\s+\d+\>)?([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\)\s*:\s+(error|warning|info)\s+(\w{1,2}\d+)\s*:\s*(.*)$/.source,kind:s.ProblemLocationKind.Location,file:1,location:2,severity:3,code:4,message:5}),this.add("gulp-tsc",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(\d+)\s+(.*)$/.source,kind:s.ProblemLocationKind.Location,file:1,location:2,code:3,message:4}),this.add("cpp",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(C\d+)\s*:\s*(.*)$/.source,kind:s.ProblemLocationKind.Location,file:1,location:2,severity:3,code:4,message:5}),this.add("csc",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(CS\d+)\s*:\s*(.*)$/.source,kind:s.ProblemLocationKind.Location,file:1,location:2,severity:3,code:4,message:5}),this.add("vb",{regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(BC\d+)\s*:\s*(.*)$/.source,kind:s.ProblemLocationKind.Location,file:1,location:2,severity:3,code:4,message:5}),this.add("lessCompile",{regexp:/^\s*(.*) in file (.*) line no. (\d+)$/.source,kind:s.ProblemLocationKind.Location,message:1,file:2,line:3}),this.add("jshint",{regexp:/^(.*):\s+line\s+(\d+),\s+col\s+(\d+),\s(.+?)(?:\s+\((\w)(\d+)\))?$/.source,kind:s.ProblemLocationKind.Location,file:1,line:2,character:3,message:4,severity:5,code:6}),this.add("jshint-stylish",[{regexp:/^(.+)$/.source,kind:s.ProblemLocationKind.Location,file:1},{regexp:/^\s+line\s+(\d+)\s+col\s+(\d+)\s+(.+?)(?:\s+\((\w)(\d+)\))?$/.source,line:1,character:2,message:3,severity:4,code:5,loop:!0}]),this.add("eslint-compact",{regexp:/^(.+):\sline\s(\d+),\scol\s(\d+),\s(Error|Warning|Info)\s-\s(.+)\s\((.+)\)$/.source,file:1,kind:s.ProblemLocationKind.Location,line:2,character:3,severity:4,message:5,code:6}),this.add("eslint-stylish",[{regexp:/^([^\s].*)$/.source,kind:s.ProblemLocationKind.Location,file:1},{regexp:/^\s+(\d+):(\d+)\s+(error|warning|info)\s+(.+?)(?:\s\s+(.*))?$/.source,line:1,character:2,severity:3,message:4,code:5,loop:!0}]),this.add("go",{regexp:/^([^:]*: )?((.:)?[^:]*):(\d+)(:(\d+))?: (.*)$/.source,kind:s.ProblemLocationKind.Location,file:2,line:4,character:6,message:7})}};n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"init",null),c=n([(0,r.injectable)()],c),t.ProblemPatternRegistry=c},71952:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskSchemaUpdater=t.taskSchemaId=void 0;const r=i(95918),s=i(6577),a=i(70801),c=i(9825),l=i(10461),d=i(30970),u=i(82842),h=i(22950),p=i(32161),g=i(60271),f=i(73246);t.taskSchemaId="vscode://schemas/tasks";let m=class{constructor(){this.onDidChangeTaskSchemaEmitter=new c.Emitter,this.onDidChangeTaskSchema=this.onDidChangeTaskSchemaEmitter.event,this.uri=new d.default(t.taskSchemaId),this.update=s((()=>this.doUpdate()),0)}init(){const e=this.inmemoryResources.add(this.uri,"");e.onDidChangeContents&&e.onDidChangeContents((()=>{this.onDidChangeTaskSchemaEmitter.fire(void 0)})),this.updateProblemMatcherNames(),this.updateSupportedTaskTypes(),this.problemMatcherRegistry.onDidChangeProblemMatcher((()=>this.updateProblemMatcherNames())),this.taskDefinitionRegistry.onDidRegisterTaskDefinition((()=>this.updateSupportedTaskTypes())),this.taskDefinitionRegistry.onDidUnregisterTaskDefinition((()=>this.updateSupportedTaskTypes()))}registerSchemas(e){e.registerSchema({fileMatch:["tasks.json",g.UserStorageUri.resolve("tasks.json").toString()],url:this.uri.toString()}),this.workspaceService.updateSchema("tasks",{$ref:this.uri.toString()})}doUpdate(){O.anyOf=[I,...L,...P];const e=this.getTaskSchema();this.doValidate=(new r).compile(e);const t=JSON.stringify(e);this.inmemoryResources.update(this.uri,t)}validate(e){return!!this.doValidate&&!!this.doValidate(e)}addSubschema(e){const t=e.$id;t&&this.doRemoveSubschema(t),P.push(e),this.update()}removeSubschema(e){this.doRemoveSubschema(e)&&this.update()}doRemoveSubschema(e){const t=P.findIndex((t=>!!t.$id&&t.$id===e));return t>-1&&(P.splice(t,1),!0)}async getRegisteredTaskTypes(){const e=await this.taskServer.getRegisteredTaskTypes(),t=this.taskDefinitionRegistry.getAll().map((e=>e.taskType)),i=new Set([...e,...t]);return Array.from(i.values()).sort()}updateSchemasForRegisteredTasks(){L.length=0,this.taskDefinitionRegistry.getAll().forEach((e=>{const t={type:"object",required:["type"],properties:{}},i={...w,enum:[e.taskType],default:e.taskType,description:"The task type to customize"};t.properties.type=i;const n=e.properties.required||[];e.properties.all.forEach((i=>{n.find((e=>e===i))&&t.required.push(i),t.properties[i]={...e.properties.schema.properties[i]}})),t.properties.label=C,t.properties.problemMatcher=D,t.properties.presentation=T,t.properties.options=b,t.properties.group=S,t.properties.detail=M,t.additionalProperties=!0,L.push(t)}))}getTaskSchema(){return{type:"object",default:{version:"2.0.0",tasks:[]},properties:{version:{type:"string",default:"2.0.0"},tasks:{type:"array",items:{...(0,c.deepClone)(O)}},inputs:l.inputsSchema.definitions.inputs},additionalProperties:!1,allowComments:!0,allowTrailingCommas:!0}}updateProblemMatcherNames(){const e=this.problemMatcherRegistry.getAll().map((e=>e.name.startsWith("$")?e.name:`$${e.name}`));v.length=0,v.push(...e),this.update()}async updateSupportedTaskTypes(){this.updateSchemasForRegisteredTasks(),this.update()}};n([(0,a.inject)(c.InMemoryResources),o("design:type",c.InMemoryResources)],m.prototype,"inmemoryResources",void 0),n([(0,a.inject)(u.ProblemMatcherRegistry),o("design:type",u.ProblemMatcherRegistry)],m.prototype,"problemMatcherRegistry",void 0),n([(0,a.inject)(h.TaskDefinitionRegistry),o("design:type",h.TaskDefinitionRegistry)],m.prototype,"taskDefinitionRegistry",void 0),n([(0,a.inject)(p.TaskServer),o("design:type",Object)],m.prototype,"taskServer",void 0),n([(0,a.inject)(f.WorkspaceService),o("design:type",f.WorkspaceService)],m.prototype,"workspaceService",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],m.prototype,"init",null),m=n([(0,a.injectable)()],m),t.TaskSchemaUpdater=m;const b={type:"object",description:"The command options used when the command is executed",properties:{cwd:{type:"string",description:"The directory in which the command will be executed",default:"${workspaceFolder}"},env:{type:"object",description:"The environment of the executed program or shell. If omitted the parent process' environment is used"},shell:{type:"object",description:"Configuration of the shell when task type is `shell`",properties:{executable:{type:"string",description:"The shell to use"},args:{type:"array",description:"The arguments to be passed to the shell executable to run in command mode\n                        (e.g ['-c'] for bash or ['/S', '/C'] for cmd.exe)",items:{type:"string"}}}}}},v=[],A=["shell","process"],y=[...A],C={type:"string",description:"A unique string that identifies the task that is also used as task's user interface label"},w={type:"string",enum:y,default:A[0],description:"Determines what type of process will be used to execute the task. Only shell types will have output shown on the user interface"},_={command:{type:"string",description:"The actual command or script to execute"},args:{type:"array",description:"A list of strings, each one being one argument to pass to the command",items:{type:"string"}},options:b},S={oneOf:[{type:"string"},{type:"object",properties:{kind:{type:"string",default:"none",description:"The task's execution group."},isDefault:{type:"boolean",default:!1,description:"Defines if this task is the default task in the group."}}}],enum:[{kind:"build",isDefault:!0},{kind:"test",isDefault:!0},"build","test","none"],enumDescriptions:["Marks the task as the default build task.","Marks the task as the default test task.","Marks the task as a build task accessible through the 'Run Build Task' command.","Marks the task as a test task accessible through the 'Run Test Task' command.","Assigns the task to no group"],description:'Defines to which execution group this task belongs to. It supports "build" to add it to the build group and "test" to add it to the test group.'},E={default:{regexp:"^([^\\\\s].*)\\\\((\\\\d+,\\\\d+)\\\\):\\\\s*(.*)$",file:1,location:2,message:3},type:"object",properties:{regexp:{type:"string",description:"The regular expression to find an error, warning or info in the output."},kind:{type:"string",description:"whether the pattern matches a location (file and line) or only a file."},file:{type:"integer",description:"The match group index of the filename. If omitted 1 is used."},location:{type:"integer",description:"The match group index of the problem's location. Valid location patterns are: (line), (line,column) and (startLine,startColumn,endLine,endColumn). If omitted (line,column) is assumed."},line:{type:"integer",description:"The match group index of the problem's line. Defaults to 2"},column:{type:"integer",description:"The match group index of the problem's line character. Defaults to 3"},endLine:{type:"integer",description:"The match group index of the problem's end line. Defaults to undefined"},endColumn:{type:"integer",description:"The match group index of the problem's end line character. Defaults to undefined"},severity:{type:"integer",description:"The match group index of the problem's severity. Defaults to undefined"},code:{type:"integer",description:"The match group index of the problem's code. Defaults to undefined"},message:{type:"integer",description:"The match group index of the message. If omitted it defaults to 4 if location is specified. Otherwise it defaults to 5."},loop:{type:"boolean",description:"In a multi line matcher loop indicated whether this pattern is executed in a loop as long as it matches. Can only specified on a last pattern in a multi line pattern."}}},k={type:"object",additionalProperties:!1,properties:{regexp:{type:"string",description:"The regular expression to detect the begin or end of a background task."},file:{type:"integer",description:"The match group index of the filename. Can be omitted."}}},x={type:"object",properties:{base:{type:"string",enum:v,description:"The name of a base problem matcher to use."},owner:{type:"string",description:"The owner of the problem inside Code. Can be omitted if base is specified. Defaults to 'external' if omitted and base is not specified."},source:{type:"string",description:"A human-readable string describing the source of this diagnostic, e.g. 'typescript' or 'super lint'."},severity:{type:"string",enum:["error","warning","info"],description:"The default severity for captures problems. Is used if the pattern doesn't define a match group for severity."},applyTo:{type:"string",enum:["allDocuments","openDocuments","closedDocuments"],description:"Controls if a problem reported on a text document is applied only to open, closed or all documents."},pattern:{anyOf:[{type:"string",description:"The name of a contributed or predefined pattern"},E,{type:"array",items:E}],description:"A problem pattern or the name of a contributed or predefined problem pattern. Can be omitted if base is specified."},fileLocation:{oneOf:[{type:"string",enum:["absolute","relative","autoDetect"]},{type:"array",items:{type:"string"}}],description:"Defines how file names reported in a problem pattern should be interpreted."},background:{type:"object",additionalProperties:!1,description:"Patterns to track the begin and end of a matcher active on a background task.",properties:{activeOnStart:{type:"boolean",description:"If set to true the background monitor is in active mode when the task starts. This is equals of issuing a line that matches the beginsPattern"},beginsPattern:{oneOf:[{type:"string"},k],description:"If matched in the output the start of a background task is signaled."},endsPattern:{oneOf:[{type:"string"},k],description:"If matched in the output the end of a background task is signaled."}}},watching:{type:"object",additionalProperties:!1,deprecationMessage:"The watching property is deprecated. Use background instead.",description:"Patterns to track the begin and end of a watching matcher.",properties:{activeOnStart:{type:"boolean",description:"If set to true the watcher is in active mode when the task starts. This is equals of issuing a line that matches the beginPattern"},beginsPattern:{oneOf:[{type:"string"},k],description:"If matched in the output the start of a watching task is signaled."},endsPattern:{oneOf:[{type:"string"},k],description:"If matched in the output the end of a watching task is signaled."}}}}},D={anyOf:[{type:"string",description:"Name of the problem matcher to parse the output of the task",enum:v},{type:"array",description:"Name(s) of the problem matcher(s) to parse the output of the task",items:{type:"string",enum:v}},x,{type:"array",description:"User defined problem matcher(s) to parse the output of the task",items:x}]},T={type:"object",default:{echo:!0,reveal:"always",focus:!1,panel:"shared",showReuseMessage:!0,clear:!1},description:"Configures the panel that is used to present the task's output and reads its input.",additionalProperties:!0,properties:{echo:{type:"boolean",default:!0,description:"Controls whether the executed command is echoed to the panel. Default is true."},focus:{type:"boolean",default:!1,description:"Controls whether the panel takes focus. Default is false. If set to true the panel is revealed as well."},reveal:{type:"string",enum:["always","silent","never"],enumDescriptions:["Always reveals the terminal when this task is executed.","Only reveals the terminal if the task exits with an error or the problem matcher finds an error.","Never reveals the terminal when this task is executed."],default:"always",description:'Controls whether the terminal running the task is revealed or not. May be overridden by option "revealProblems". Default is "always".'},panel:{type:"string",enum:["shared","dedicated","new"],enumDescriptions:["The terminal is shared and the output of other task runs are added to the same terminal.","The terminal is dedicated to a specific task. If that task is executed again, the terminal is reused. However, the output of a different task is presented in a different terminal.","Every execution of that task is using a new clean terminal."],default:"shared",description:"Controls if the panel is shared between tasks, dedicated to this task or a new one is created on every run."},showReuseMessage:{type:"boolean",default:!0,description:'Controls whether to show the "Terminal will be reused by tasks" message.'},clear:{type:"boolean",default:!1,description:"Controls whether the terminal is cleared before this task is run."}}},M={type:"string",description:"An optional description of a task that shows in the Run Task quick pick as a detail."},B={type:"object",additionalProperties:!0,properties:{type:{type:"string",description:"The task identifier."}}},I={type:"object",required:["type","label","command"],properties:{label:C,type:w,..._,isBackground:{type:"boolean",default:!1,description:"Whether the executed task is kept alive and is running in the background."},dependsOn:{anyOf:[{type:"string",description:"Another task this task depends on."},B,{type:"array",description:"The other tasks this task depends on.",items:{anyOf:[{type:"string"},B]}}],description:"Either a string representing another task or an array of other tasks that this task depends on."},dependsOrder:{type:"string",enum:["parallel","sequence"],enumDescriptions:["Run all dependsOn tasks in parallel.","Run all dependsOn tasks in sequence."],default:"parallel",description:"Determines the order of the dependsOn tasks for this task. Note that this property is not recursive."},windows:{type:"object",description:"Windows specific command configuration that overrides the command, args, and options",properties:_},osx:{type:"object",description:"MacOS specific command configuration that overrides the command, args, and options",properties:_},linux:{type:"object",description:"Linux specific command configuration that overrides the default command, args, and options",properties:_},group:S,problemMatcher:D,presentation:T,detail:M},additionalProperties:!0},L=[],P=[],O={$id:t.taskSchemaId,anyOf:[I,...L,...P]}},47028:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskService=t.TaskEndedTypes=void 0;const r=i(87361),s=i(50869),a=i(9825),c=i(13318),l=i(60516),d=i(36856),u=i(17264),h=i(30970),p=i(30566),g=i(5275),f=i(24227),m=i(3754),b=i(27030),v=i(70801),A=i(75437),y=i(32161),C=i(82758),w=i(24015),_=i(63450),S=i(46544),E=i(22950),k=i(98105),x=i(64843),D=i(82842),T=i(71952),M=i(64746),B=i(83440),I=i(83924),L=i(77582),P=i(81841),O=i(37663),R=i(61488);var N;!function(e){e[e.TaskExited=0]="TaskExited",e[e.BackgroundTaskEnded=1]="BackgroundTaskEnded"}(N=t.TaskEndedTypes||(t.TaskEndedTypes={}));let F=class{constructor(){this.lastTask={resolvedTask:void 0,option:void 0},this.cachedRecentTasks=[],this.runningTasks=new Map,this.taskStartingLock=new R.Mutex}init(){this.getRunningTasks().then((e=>e.forEach((e=>{this.runningTasks.has(e.taskId)||this.runningTasks.set(e.taskId,{exitCode:new l.Deferred,terminateSignal:new l.Deferred,isBackgroundTaskEnded:new l.Deferred})})))),this.taskWatcher.onTaskCreated((e=>{this.isEventForThisClient(e.ctx)&&this.runningTasks.set(e.taskId,{exitCode:new l.Deferred,terminateSignal:new l.Deferred,isBackgroundTaskEnded:new l.Deferred})})),this.taskWatcher.onOutputProcessed((async e=>{if(this.isEventForThisClient(e.ctx)&&e.problems){const t=(await this.getRunningTasks()).find((t=>{const i=t.config;return this.taskDefinitionRegistry.compareTasks(i,e.config)})),i=t&&t.config.presentation&&t.config.presentation.reveal===y.RevealKind.Silent;e.problems.forEach((e=>{const n=this.problemManager.findMarkers({owner:e.description.owner}),o=new Set;if(n.forEach((e=>o.add(e.uri))),y.ProblemMatchData.is(e)&&e.resource){if(i&&e.marker.severity===A.DiagnosticSeverity.Error){const e=t.terminalId;if(e){const i=this.terminalService.getByTerminalId(e);i&&(t.config.presentation.focus?this.terminalService.open(i,{mode:"activate"}):this.terminalService.open(i,{mode:"reveal"}))}}const r=new h.default(e.resource.path).withScheme(e.resource.scheme),s=this.monacoWorkspace.getTextDocument(r.toString());if(e.description.applyTo===y.ApplyToKind.openDocuments&&s||e.description.applyTo===y.ApplyToKind.closedDocuments&&!s||e.description.applyTo===y.ApplyToKind.allDocuments)if(o.has(r.toString())){const t=[...n.filter((e=>e.uri===r.toString())).map((e=>e.data)),e.marker];this.problemManager.setMarkers(r,e.description.owner,t)}else this.problemManager.setMarkers(r,e.description.owner,[e.marker])}else o.forEach((t=>this.problemManager.setMarkers(new h.default(t),e.description.owner,[])))}))}})),this.taskWatcher.onBackgroundTaskEnded((e=>{this.isEventForThisClient(e.ctx)&&(this.runningTasks.has(e.taskId)||this.runningTasks.set(e.taskId,{exitCode:new l.Deferred,terminateSignal:new l.Deferred,isBackgroundTaskEnded:new l.Deferred}),this.runningTasks.get(e.taskId).isBackgroundTaskEnded.resolve(!0))})),this.taskWatcher.onTaskExit((e=>{if(!this.isEventForThisClient(e.ctx))return;this.runningTasks.has(e.taskId)||this.runningTasks.set(e.taskId,{exitCode:new l.Deferred,terminateSignal:new l.Deferred,isBackgroundTaskEnded:new l.Deferred}),this.runningTasks.get(e.taskId).exitCode.resolve(e.code),this.runningTasks.get(e.taskId).terminateSignal.resolve(e.signal),setTimeout((()=>this.runningTasks.delete(e.taskId)),6e4);const t=e.config,i=t?this.getTaskIdentifier(t):e.taskId.toString();if(void 0!==e.code){if(0!==e.code){const t=e.config;if(t&&t.presentation&&t.presentation.reveal===y.RevealKind.Silent&&e.terminalId){const i=this.terminalService.getByTerminalId(e.terminalId),n=!!t.presentation.focus;i&&(n?this.terminalService.open(i,{mode:"activate"}):this.terminalService.open(i,{mode:"reveal"}))}this.messageService.error(`Task '${i}' has exited with code ${e.code}.`)}}else void 0!==e.signal?this.messageService.info(`Task '${i}' was terminated by signal ${e.signal}.`):console.error("Invalid TaskExitedEvent received, neither code nor signal is set.")}))}getTaskIdentifier(e){const t=this.taskNameResolver.resolve(e),i=this.taskSourceResolver.resolve(e);return`${t} (${this.labelProvider.getName(new h.default(i))})`}startUserAction(){return this.providedTaskConfigurations.startUserAction()}async getTasks(e){const t=await this.getConfiguredTasks(e),i=(await this.getProvidedTasks(e)).filter((e=>!t.some((t=>this.taskDefinitionRegistry.compareTasks(t,e)))));return[...t,...i]}async getConfiguredTasks(e){const t=this.taskConfigurations.getInvalidTaskConfigurations()[0];if(t){const e=await this.widgetManager.getOrCreateWidget(B.PROBLEMS_WIDGET_ID),i=e&&e.isVisible,n=this.editorManager.currentEditor&&this.editorManager.currentEditor.editor.getResourceUri();let o=!1;if(n){const e=this.workspaceService.getWorkspaceRootUri(n);e&&e.toString()===t._scope&&(o=!0)}const r="Invalid task configurations are found. Open tasks.json and find details in the Problems view.";i&&o?this.messageService.warn(r):this.messageService.warn(r,"Open").then((e=>{e&&(t&&t._scope&&this.taskConfigurationManager.openConfiguration(t._scope),i||this.commands.executeCommand("problemsView:toggle"))}))}return await this.taskConfigurations.getTasks(e)}getProvidedTasks(e,t){return this.providedTaskConfigurations.getTasks(e,t)}addRecentTasks(e){if(Array.isArray(e))e.forEach((e=>this.addRecentTasks(e)));else{const t=this.cachedRecentTasks.findIndex((t=>this.taskDefinitionRegistry.compareTasks(t,e)));t>=0&&this.cachedRecentTasks.splice(t,1),this.cachedRecentTasks.unshift(e)}}get recentTasks(){return this.cachedRecentTasks}set recentTasks(e){this.cachedRecentTasks=e}clearRecentTasks(){this.cachedRecentTasks=[]}openUserTasks(){return this.taskConfigurations.openUserTasks()}async getProvidedTask(e,t,i,n){return this.providedTaskConfigurations.getTask(e,t,i,n)}getRunningTasks(){return this.taskServer.getTasks(this.getContext())}async customExecutionComplete(e,t){return this.taskServer.customExecutionComplete(e,t)}getRegisteredTaskTypes(){return this.taskSchemaUpdater.getRegisteredTaskTypes()}getLastTask(){return this.lastTask}async runConfiguredTask(e,t,i){const n=this.taskConfigurations.getTask(t,i);n?this.run(e,n._source,i,t):this.logger.error(`Can't get task launch configuration for label: ${i}`)}async runLastTask(e){var t,i;if(!(null===(t=this.lastTask)||void 0===t?void 0:t.resolvedTask))return;if(!(null===(i=this.lastTask.resolvedTask.runOptions)||void 0===i?void 0:i.reevaluateOnRerun))return this.runResolvedTask(this.lastTask.resolvedTask,this.lastTask.option);const{_source:n,label:o,_scope:r}=this.lastTask.resolvedTask;return this.run(e,n,o,r)}async run(e,t,i,n){var o,r;let a;if(a=this.taskConfigurations.getTask(n,i),!a&&(a=await this.getProvidedTask(e,t,i,n),a||(a=await this.taskConfigurations.getCustomizedTask(e,n,i)),!a))return void this.logger.error(`Can't get task launch configuration for label: ${i}`);const c=await this.getTaskCustomization(a);if(!c.problemMatcher){const t=this.getCustomizeProblemMatcherItems(),i=await this.quickPickService.show(t,{placeholder:"Select for which kind of errors and warnings to scan the task output"});if(!i||!("value"in i))return;if(null===(o=i.value)||void 0===o?void 0:o.problemMatchers){let t=[];i.value.problemMatchers&&0===i.value.problemMatchers.length?t=[]:i.value.problemMatchers&&i.value.problemMatchers.length>0&&(t=i.value.problemMatchers.map((e=>e.name))),c.problemMatcher=t,this.updateTaskConfiguration(e,a,{problemMatcher:t})}else(null===(r=i.value)||void 0===r?void 0:r.learnMore)&&(0,s.open)(this.openerService,new h.default("https://code.visualstudio.com/docs/editor/tasks#_processing-task-output-with-problem-matchers"))}const l=await this.resolveProblemMatchers(a,c),d={customization:{...c,problemMatcher:l}};return a.dependsOn?this.runCompoundTask(e,a,d):this.runTask(a,d).catch((e=>{console.error("Error at launching task",e)}))}async runCompoundTask(e,t,i){const n=await this.getWorkspaceTasks(e,t._scope);try{const e=new I.TaskNode(t,[],[]);this.detectDirectedAcyclicGraph(t,e,n)}catch(e){return console.error(`Error at launching task '${t.label}'`,e),void this.messageService.error(e.message)}return this.runTasksGraph(t,n,i).catch((e=>{console.error(`Error at launching task '${t.label}'`,e)}))}async runTasksGraph(e,t,i){if(e&&e.dependsOn)if(Array.isArray(e.dependsOn)&&e.dependsOn.length>0){const i=[];for(let n=0;n<e.dependsOn.length;n++){const o=e.dependsOn[n],r=this.getDependentTask(o,t),s=await this.getTaskCustomization(r),a=await this.resolveProblemMatchers(r,s);i.push({task:r,taskCustomization:s,resolvedMatchers:a}),e.dependsOrder&&e.dependsOrder===y.DependsOrder.Sequence&&await this.runTasksGraph(r,t,{customization:{...s,problemMatcher:a}})}if(!e.dependsOrder||e.dependsOrder&&e.dependsOrder===y.DependsOrder.Parallel){const e=i.map((e=>this.runTasksGraph(e.task,t,{customization:{...e.taskCustomization,problemMatcher:e.resolvedMatchers}})));await Promise.all(e)}}else if(!Array.isArray(e.dependsOn)){const i=e.dependsOn,n=this.getDependentTask(i,t),o=await this.getTaskCustomization(n),r=await this.resolveProblemMatchers(n,o);await this.runTasksGraph(n,t,{customization:{...o,problemMatcher:r}})}const n=await this.runTask(e,i);if(n){const t=this.getExitCode(n.taskId).then((e=>({taskEndedType:N.TaskExited,value:e}))),i=this.isBackgroundTaskEnded(n.taskId).then((e=>({taskEndedType:N.BackgroundTaskEnded,value:e}))),o=await Promise.race([t,i]);if(o.taskEndedType===N.TaskExited&&0!==o.value||o.taskEndedType===N.BackgroundTaskEnded&&!o.value)throw new Error("The task: "+e.label+" terminated with exit code "+o.value+".")}return n}detectDirectedAcyclicGraph(e,t,i){if(e&&e.dependsOn)if(Array.isArray(e.dependsOn)&&e.dependsOn.length>0)for(let n=0;n<e.dependsOn.length;n++){const o=this.createChildTaskNode(e,t,e.dependsOn[n],i);this.detectDirectedAcyclicGraph(o.taskConfiguration,o.node,i)}else if(!Array.isArray(e.dependsOn)){const n=this.createChildTaskNode(e,t,e.dependsOn,i);this.detectDirectedAcyclicGraph(n.taskConfiguration,n.node,i)}}createChildTaskNode(e,t,i,n){const o=this.getDependentTask(i,n);if(this.taskDefinitionRegistry.compareTasks(e,o)||t.parentsID.filter((e=>this.taskDefinitionRegistry.compareTasks(o,e))).length>0){const t=e.label,i=o.label;throw new Error("Circular reference detected: "+t+" --\x3e  "+i)}const r=new I.TaskNode(o,[],Object.assign([],t.parentsID));return r.addParentDependency(t.taskId),t.addChildDependency(r),{taskConfiguration:o,node:r}}getDependentTask(e,t){const i='The information provided in the "dependsOn" is not enough for matching the correct task !';let n;if("string"!=typeof e){if(n=this.getTaskByTaskIdentifier(e,t),!n.type)throw this.messageService.error(i),new Error(i);return n}return n=t.filter((t=>e===this.taskNameResolver.resolve(t)))[0],n}getTaskByTaskIdentifier(e,t){const i=Object.keys(e),n=t.find((t=>i.every((i=>t.hasOwnProperty(i)&&t[i]===e[i]))));return null!=n?n:{label:"",_scope:"",type:""}}async runTask(e,t){console.debug("entering runTask");const i=await this.taskStartingLock.acquire();console.debug("got lock");try{if(!t&&e.problemMatcher){const i={type:e.taskType,problemMatcher:e.problemMatcher,runOptions:e.runOptions},n=await this.resolveProblemMatchers(e,i);t={customization:{...i,problemMatcher:n}}}const n=(await this.getRunningTasks()).find((t=>{const i=t.config;return this.taskDefinitionRegistry.compareTasks(i,e)}));if(console.debug(`running task ${JSON.stringify(e)}, already running = ${!!n}`),!n){console.debug("task about to start");const n=await this.doRunTask(e,t);return i(),console.debug("release lock 2"),n}{i(),console.debug("released lock");const o=this.taskNameResolver.resolve(e),r=n.terminalId;if(r){const t=this.terminalService.getByTerminalId(r);t&&(y.TaskOutputPresentation.shouldSetFocusToTerminal(e)?this.terminalService.open(t,{mode:"activate"}):y.TaskOutputPresentation.shouldAlwaysRevealTerminal(e)&&this.terminalService.open(t,{mode:"reveal"}))}const s=await this.messageService.info(`The task '${o}' is already active`,"Terminate Task","Restart Task");if("Terminate Task"===s)await this.terminateTask(n);else if("Restart Task"===s)return this.restartTask(n,t)}}catch(e){throw i(),e}}async terminateTask(e){const t=e.taskId;return this.kill(t)}async restartTask(e,t){return await this.terminateTask(e),this.doRunTask(e.config,t)}async doRunTask(e,t){let i=()=>{};if(t&&t.customization){const n=this.taskDefinitionRegistry.getDefinition(e);n&&(i=e=>{Object.keys(t.customization).forEach((i=>{"type"===i||n.properties.all.some((e=>e===i))||(e[i]=t.customization[i])}))})}i(e),this.addRecentTasks(e);try{const n=await this.taskResolverRegistry.getTaskResolver(e.type),o=n?await n.resolveTask(e):e,r=this.taskResolverRegistry.getExecutionResolver(o.taskType||o.type);i(o);const s=r?await r.resolveTask(o):o;return await this.removeProblemMarkers(t),this.runResolvedTask(s,t)}catch(t){const i=`Error resolving task '${e.label}': ${t}`;this.logger.error(i)}}async runTaskByLabel(e,t){const i=await this.getTasks(e);for(const e of i)if(e.label===t)return this.runTask(e)}async runWorkspaceTask(e,t,i){const n=await this.getWorkspaceTasks(e,t),o=this.getDependentTask(i,n);if(!o)return;const r=await this.getTaskCustomization(o),s=await this.resolveProblemMatchers(o,r);try{const e=new I.TaskNode(o,[],[]);this.detectDirectedAcyclicGraph(o,e,n)}catch(e){return this.logger.error(e.message),void this.messageService.error(e.message)}return this.runTasksGraph(o,n,{customization:{...r,problemMatcher:s}}).catch((e=>{console.log(e.message)}))}async updateTaskConfiguration(e,t,i){i.problemMatcher&&(Array.isArray(i.problemMatcher)?i.problemMatcher.forEach(((e,t)=>{e.startsWith("$")||(i.problemMatcher[t]=`$${i.problemMatcher[t]}`)})):i.problemMatcher.startsWith("$")||(i.problemMatcher=`$${i.problemMatcher}`)),this.taskConfigurations.updateTaskConfig(e,t,i)}async getWorkspaceTasks(e,t){return(await this.getTasks(e)).filter((e=>"string"!=typeof e._scope||e._scope===t))}async resolveProblemMatchers(e,t){const i=t.problemMatcher?Array.isArray(t.problemMatcher)?t.problemMatcher:[t.problemMatcher]:void 0;let n=[];if(i)for(const t of i){let i;if(await this.problemMatcherRegistry.onReady(),i="string"==typeof t?this.problemMatcherRegistry.get(t):await this.problemMatcherRegistry.getProblemMatcherFromContribution(t),i){const t=e._scope||e._source;if(i.filePrefix&&t){const e={context:new h.default(t).withScheme("file"),configurationSection:"tasks"},n=await this.variableResolverService.resolve(i.filePrefix,e);Object.assign(i,{filePrefix:n})}n.push(i)}}else n=void 0;return n}async getTaskCustomization(e){const t={type:"",_scope:e._scope,runOptions:e.runOptions},i=this.taskConfigurations.getCustomizationForTask(e);return i?Object.assign(t,i):Object.assign(t,{type:e.type,problemMatcher:e.problemMatcher}),t}async removeProblemMarkers(e){if(e&&e.customization){const t=e.customization.problemMatcher||[];for(const e of t)if(e&&e.owner){const t=this.problemManager.findMarkers({owner:e.owner}),i=new Set;t.forEach((e=>i.add(e.uri))),i.forEach((t=>this.problemManager.setMarkers(new h.default(t),e.owner,[])))}}}async runResolvedTask(e,t){const i=e.label;let n;try{return n=await this.taskServer.run(e,this.getContext(),t),this.lastTask={resolvedTask:e,option:t},this.logger.debug(`Task created. Task id: ${n.taskId}`),"number"==typeof n.terminalId&&await this.attach(n.terminalId,n),n}catch(e){const t=`Error launching task '${i}': ${e.message}`;this.logger.error(t),this.messageService.error(t),n&&"number"==typeof n.terminalId&&this.shellTerminalServer.onAttachAttempted(n.terminalId)}}getCustomizeProblemMatcherItems(){const e=[];e.push({label:"Continue without scanning the task output",value:{problemMatchers:void 0}}),e.push({label:"Never scan the task output",value:{problemMatchers:[]}}),e.push({label:"Learn more about scanning the task output",value:{problemMatchers:void 0,learnMore:!0}}),e.push({type:"separator",label:"registered parsers"});const t=this.problemMatcherRegistry.getAll();return e.push(...t.map((e=>({label:e.label,value:{problemMatchers:[e]},description:e.name.startsWith("$")?e.name:`$${e.name}`})))),e}async runSelectedText(){if(!this.editorManager.currentEditor)return;const e=this.editorManager.currentEditor.editor.selection.start.line,t=this.editorManager.currentEditor.editor.selection.start.character,i=this.editorManager.currentEditor.editor.selection.end.line,n=this.editorManager.currentEditor.editor.selection.end.character;let o=A.Range.create(e,t,i,n);e===i&&t===n&&(o=A.Range.create(e,0,i+1,0));const r=this.editorManager.currentEditor.editor.document.getText(o).trimRight()+"\n";let s=this.terminalService.lastUsedTerminal;s&&"user"===s.kind&&!await s.hasChildProcesses()||(s=await this.terminalService.newTerminal({created:(new Date).toString()}),await s.start(),this.terminalService.open(s)),s.sendText(r)}async attach(e,t){let i="open";if(t){const n=this.terminalService.getByTerminalId(e);if(n)return this.messageService.error("Task is already running in terminal"),this.terminalService.open(n,{mode:"activate"});y.TaskOutputPresentation.shouldAlwaysRevealTerminal(t.config)&&(i=y.TaskOutputPresentation.shouldSetFocusToTerminal(t.config)?"activate":"reveal")}const{taskId:n}=t;return(await this.taskTerminalWidgetManager.open({created:(new Date).toString(),id:this.getTerminalWidgetId(e),title:t?`Task: ${t.config.label}`:`Task: #${n}`,destroyTermOnClose:!0},{widgetOptions:{area:"bottom"},mode:i,taskInfo:t})).start(e)}getTerminalWidgetId(e){const t=this.terminalService.getByTerminalId(e);if(t)return t.id}async configure(e,t){Object.assign(t,{label:this.taskNameResolver.resolve(t)}),await this.taskConfigurations.configure(e,t)}isEventForThisClient(e){return e===this.getContext()}taskConfigurationChanged(e){}getContext(){var e;return null===(e=this.workspaceService.workspace)||void 0===e?void 0:e.resource.toString()}async kill(e){try{await this.taskServer.kill(e)}catch(t){return this.logger.error(`Error killing task '${e}': ${t}`),void this.messageService.error(`Error killing task '${e}': ${t}`)}this.logger.debug(`Task killed. Task id: ${e}`)}async isBackgroundTaskEnded(e){const t=this.runningTasks.get(e);return t&&t.isBackgroundTaskEnded.promise}async getExitCode(e){const t=this.runningTasks.get(e);return t&&t.exitCode.promise}async getTerminateSignal(e){const t=this.runningTasks.get(e);return t&&t.terminateSignal.promise}};n([(0,v.inject)(r.FrontendApplication),o("design:type",r.FrontendApplication)],F.prototype,"app",void 0),n([(0,v.inject)(r.ApplicationShell),o("design:type",r.ApplicationShell)],F.prototype,"shell",void 0),n([(0,v.inject)(y.TaskServer),o("design:type",Object)],F.prototype,"taskServer",void 0),n([(0,v.inject)(a.ILogger),(0,v.named)("task"),o("design:type",Object)],F.prototype,"logger",void 0),n([(0,v.inject)(r.WidgetManager),o("design:type",r.WidgetManager)],F.prototype,"widgetManager",void 0),n([(0,v.inject)(C.TaskWatcher),o("design:type",C.TaskWatcher)],F.prototype,"taskWatcher",void 0),n([(0,v.inject)(c.MessageService),o("design:type",c.MessageService)],F.prototype,"messageService",void 0),n([(0,v.inject)(b.WorkspaceService),o("design:type",b.WorkspaceService)],F.prototype,"workspaceService",void 0),n([(0,v.inject)(_.TaskConfigurations),o("design:type",_.TaskConfigurations)],F.prototype,"taskConfigurations",void 0),n([(0,v.inject)(w.ProvidedTaskConfigurations),o("design:type",w.ProvidedTaskConfigurations)],F.prototype,"providedTaskConfigurations",void 0),n([(0,v.inject)(m.VariableResolverService),o("design:type",m.VariableResolverService)],F.prototype,"variableResolverService",void 0),n([(0,v.inject)(S.TaskResolverRegistry),o("design:type",S.TaskResolverRegistry)],F.prototype,"taskResolverRegistry",void 0),n([(0,v.inject)(f.TerminalService),o("design:type",Object)],F.prototype,"terminalService",void 0),n([(0,v.inject)(p.EditorManager),o("design:type",p.EditorManager)],F.prototype,"editorManager",void 0),n([(0,v.inject)(g.ProblemManager),o("design:type",g.ProblemManager)],F.prototype,"problemManager",void 0),n([(0,v.inject)(E.TaskDefinitionRegistry),o("design:type",E.TaskDefinitionRegistry)],F.prototype,"taskDefinitionRegistry",void 0),n([(0,v.inject)(D.ProblemMatcherRegistry),o("design:type",D.ProblemMatcherRegistry)],F.prototype,"problemMatcherRegistry",void 0),n([(0,v.inject)(d.QuickPickService),o("design:type",Object)],F.prototype,"quickPickService",void 0),n([(0,v.inject)(s.OpenerService),o("design:type",Object)],F.prototype,"openerService",void 0),n([(0,v.inject)(O.ShellTerminalServerProxy),o("design:type",Object)],F.prototype,"shellTerminalServer",void 0),n([(0,v.inject)(k.TaskNameResolver),o("design:type",k.TaskNameResolver)],F.prototype,"taskNameResolver",void 0),n([(0,v.inject)(x.TaskSourceResolver),o("design:type",x.TaskSourceResolver)],F.prototype,"taskSourceResolver",void 0),n([(0,v.inject)(T.TaskSchemaUpdater),o("design:type",T.TaskSchemaUpdater)],F.prototype,"taskSchemaUpdater",void 0),n([(0,v.inject)(M.TaskConfigurationManager),o("design:type",M.TaskConfigurationManager)],F.prototype,"taskConfigurationManager",void 0),n([(0,v.inject)(a.CommandService),o("design:type",Object)],F.prototype,"commands",void 0),n([(0,v.inject)(u.LabelProvider),o("design:type",u.LabelProvider)],F.prototype,"labelProvider",void 0),n([(0,v.inject)(L.MonacoWorkspace),o("design:type",L.MonacoWorkspace)],F.prototype,"monacoWorkspace",void 0),n([(0,v.inject)(P.TaskTerminalWidgetManager),o("design:type",P.TaskTerminalWidgetManager)],F.prototype,"taskTerminalWidgetManager",void 0),n([(0,v.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],F.prototype,"init",null),F=n([(0,v.injectable)()],F),t.TaskService=F},64843:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskSourceResolver=void 0;const r=i(70801),s=i(32161),a=i(22950);let c=class{resolve(e){return"string"==typeof e._scope?e._scope:s.TaskScope[e._scope]}};n([(0,r.inject)(a.TaskDefinitionRegistry),o("design:type",a.TaskDefinitionRegistry)],c.prototype,"taskDefinitionRegistry",void 0),c=n([(0,r.injectable)()],c),t.TaskSourceResolver=c},50818:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskTemplateSelector=void 0;const o=i(70801),r={id:"dotnetCore",label:".NET Core",sort:"NET Core",autoDetect:!1,description:"Executes .NET Core build command",content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"label": "build",','\t\t\t"command": "dotnet",','\t\t\t"type": "shell",','\t\t\t"args": [','\t\t\t\t"build",',"\t\t\t\t// Ask dotnet build to generate full paths for file names.",'\t\t\t\t"/property:GenerateFullPaths=true",',"\t\t\t\t// Do not generate summary otherwise it leads to duplicate errors in Problems panel",'\t\t\t\t"/consoleloggerparameters:NoSummary"',"\t\t\t],",'\t\t\t"group": "build",','\t\t\t"presentation": {','\t\t\t\t"reveal": "silent"',"\t\t\t},",'\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},s={id:"msbuild",label:"MSBuild",autoDetect:!1,description:"Executes the build target",content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"label": "build",','\t\t\t"type": "shell",','\t\t\t"command": "msbuild",','\t\t\t"args": [',"\t\t\t\t// Ask msbuild to generate full paths for file names.",'\t\t\t\t"/property:GenerateFullPaths=true",','\t\t\t\t"/t:build",',"\t\t\t\t// Do not generate summary otherwise it leads to duplicate errors in Problems panel",'\t\t\t\t"/consoleloggerparameters:NoSummary"',"\t\t\t],",'\t\t\t"group": "build",','\t\t\t"presentation": {',"\t\t\t\t// Reveal the output only if unrecognized errors occur.",'\t\t\t\t"reveal": "silent"',"\t\t\t},","\t\t\t// Use the standard MS compiler pattern to detect errors, warnings and infos",'\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},a={id:"maven",label:"maven",sort:"MVN",autoDetect:!1,description:"Executes common maven commands",content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"label": "verify",','\t\t\t"type": "shell",','\t\t\t"command": "mvn -B verify",','\t\t\t"group": "build"',"\t\t},","\t\t{",'\t\t\t"label": "test",','\t\t\t"type": "shell",','\t\t\t"command": "mvn -B test",','\t\t\t"group": "test"',"\t\t}","\t]","}"].join("\n")},c={id:"externalCommand",label:"Others",autoDetect:!1,description:"Example to run an arbitrary external command",content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "2.0.0",','\t"tasks": [',"\t\t{",'\t\t\t"label": "echo",','\t\t\t"type": "shell",','\t\t\t"command": "echo Hello"',"\t\t}","\t]","}"].join("\n")};let l=class{selectTemplates(){const e=[r,s,a].sort(((e,t)=>(e.sort||e.label).localeCompare(t.sort||t.label)));return e.push(c),e.map((e=>({label:e.label,description:e.description,value:e})))}};l=n([(0,o.injectable)()],l),t.TaskTemplateSelector=l},81841:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskTerminalWidgetManager=t.TaskTerminalWidgetOpenerOptions=t.TaskTerminalWidget=void 0;const r=i(70801),s=i(87361),a=i(24227),c=i(32161),l=i(32132),d=i(22950),u=i(27030),h=i(30970);var p,g;!function(e){e.is=function(e){return"task"===e.kind}}(p=t.TaskTerminalWidget||(t.TaskTerminalWidget={})),function(e){e.isDedicatedTerminal=function(e){const t=e.taskInfo?e.taskInfo.config:e.taskConfig;return!!t&&!!t.presentation&&t.presentation.panel===c.PanelKind.Dedicated},e.isNewTerminal=function(e){const t=e.taskInfo?e.taskInfo.config:e.taskConfig;return!!t&&!!t.presentation&&t.presentation.panel===c.PanelKind.New},e.isSharedTerminal=function(e){const t=e.taskInfo?e.taskInfo.config:e.taskConfig;return!!t&&(void 0===t.presentation||void 0===t.presentation.panel||t.presentation.panel===c.PanelKind.Shared)},e.echoExecutedCommand=function(e){const t=e.taskInfo?e.taskInfo.config:e.taskConfig;return!!t&&(void 0===t.presentation||void 0===t.presentation.echo||t.presentation.echo)}}(g=t.TaskTerminalWidgetOpenerOptions||(t.TaskTerminalWidgetOpenerOptions={}));let f=class{init(){this.taskWatcher.onTaskExit((e=>{const t=e.taskId;for(const i of this.getTaskTerminalWidgets())if(i.taskId===t){const t=!!e.config&&c.TaskOutputPresentation.shouldShowReuseMessage(e.config);this.notifyTaskFinished(i,t);break}})),this.terminalService.onDidCreateTerminal((async e=>{const t=p.is(e)&&e;if(t){const i=t.onDidOpen((async()=>{var i,n;const o=null===(n=null===(i=this.workspaceService)||void 0===i?void 0:i.workspace)||void 0===n?void 0:n.resource.toString(),r=(await this.taskServer.getTasks(o)).find((t=>t.terminalId===e.terminalId));if(r){const e=r.config;t.dedicated=!!e.presentation&&!!e.presentation.panel&&e.presentation.panel===c.PanelKind.Dedicated,t.taskId=r.taskId,t.taskConfig=e,t.busy=!0}else this.notifyTaskFinished(t,!0)})),n=t.onDidOpenFailure((async()=>{this.notifyTaskFinished(t,!0)}));t.onDidDispose((()=>{i.dispose(),n.dispose()}))}}))}async newTaskTerminal(e){return this.terminalService.newTerminal({...e,kind:"task"})}async open(e,t){const i=t.taskInfo,n=i?i.config:t.taskConfig;if(g.isDedicatedTerminal(t)&&!n)throw new Error('"taskConfig" must be included as part of the "option.taskInfo" if "isDedicated" is true');const{isNew:o,widget:r}=await this.getWidgetToRunTask(e,t);return o?(this.shell.addWidget(r,{area:t.widgetOptions?t.widgetOptions.area:"bottom"}),r.resetTerminal()):(e.title&&r.setTitle(e.title),n&&c.TaskOutputPresentation.shouldClearTerminalBeforeRun(n)&&r.clearOutput()),this.terminalService.open(r,t),g.echoExecutedCommand(t)&&i&&l.ProcessTaskInfo.is(i)&&i.command&&i.command.length>0&&r.writeLine(`[1m> Executing task: ${i.command} <[0m\n`),r}async getWidgetToRunTask(e,t){var i;let n;const o=t.taskInfo?t.taskInfo.config:t.taskConfig;if(g.isDedicatedTerminal(t)){for(const e of this.getTaskTerminalWidgets())if(e.dedicated&&!e.busy&&e.taskConfig&&o&&this.taskDefinitionRegistry.compareTasks(o,e.taskConfig)){n=e;break}}else if(g.isSharedTerminal(t)){const e=[];for(const t of this.getTaskTerminalWidgets())t.dedicated||t.busy||e.push(t);n=e.find((e=>{const t=this.terminalService.lastUsedTerminal;return t&&t.id===e.id}))||e[0]}const r=(null===(i=null==o?void 0:o.options)||void 0===i?void 0:i.cwd)?new h.default(o.options.cwd):new h.default;if(!n){const t=await this.newTaskTerminal(e);return t.lastCwd=r,{isNew:!0,widget:t}}return n.lastCwd=r,{isNew:!1,widget:n}}getTaskTerminalWidgets(){return this.terminalService.all.filter(p.is)}notifyTaskFinished(e,t){e.busy=!1,e.scrollToBottom(),t&&e.writeLine("[1m\n\rTerminal will be reused by tasks. [0m\n")}};n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],f.prototype,"shell",void 0),n([(0,r.inject)(d.TaskDefinitionRegistry),o("design:type",d.TaskDefinitionRegistry)],f.prototype,"taskDefinitionRegistry",void 0),n([(0,r.inject)(a.TerminalService),o("design:type",Object)],f.prototype,"terminalService",void 0),n([(0,r.inject)(c.TaskWatcher),o("design:type",c.TaskWatcher)],f.prototype,"taskWatcher",void 0),n([(0,r.inject)(c.TaskServer),o("design:type",Object)],f.prototype,"taskServer",void 0),n([(0,r.inject)(u.WorkspaceService),o("design:type",u.WorkspaceService)],f.prototype,"workspaceService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],f.prototype,"init",null),f=n([(0,r.injectable)()],f),t.TaskTerminalWidgetManager=f},8734:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(39539).languages.register({id:"jsonc",aliases:["JSON with Comments"],filenames:["tasks.json"]})},32161:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(29274),t),o(i(82758),t),o(i(29251),t)},29251:(e,t)=>{"use strict";var i,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemMatchData=t.ProblemPattern=t.ProblemMatcher=t.ProblemLocationKind=t.WatchingMatcher=t.FileLocationKind=t.ApplyToKind=void 0,(o=t.ApplyToKind||(t.ApplyToKind={}))[o.allDocuments=0]="allDocuments",o[o.openDocuments=1]="openDocuments",o[o.closedDocuments=2]="closedDocuments",function(e){e.fromString=function(t){if(t){if("alldocuments"===(t=t.toLowerCase()))return e.allDocuments;if("opendocuments"===t)return e.openDocuments;if("closeddocuments"===t)return e.closedDocuments}}}(t.ApplyToKind||(t.ApplyToKind={})),(n=t.FileLocationKind||(t.FileLocationKind={}))[n.Auto=0]="Auto",n[n.Relative=1]="Relative",n[n.Absolute=2]="Absolute",function(e){e.fromString=function(t){return"absolute"===(t=t.toLowerCase())?e.Absolute:"relative"===t?e.Relative:void 0}}(t.FileLocationKind||(t.FileLocationKind={})),(t.WatchingMatcher||(t.WatchingMatcher={})).fromWatchingMatcherContribution=function(e){if(e)return{activeOnStart:!!e.activeOnStart,beginsPattern:"string"==typeof e.beginsPattern?{regexp:e.beginsPattern}:e.beginsPattern,endsPattern:"string"==typeof e.endsPattern?{regexp:e.endsPattern}:e.endsPattern}},function(e){e[e.File=0]="File",e[e.Location=1]="Location"}(i=t.ProblemLocationKind||(t.ProblemLocationKind={})),function(e){e.fromString=function(t){return"file"===(t=t.toLowerCase())?e.File:"location"===t?e.Location:void 0}}(i=t.ProblemLocationKind||(t.ProblemLocationKind={})),(t.ProblemMatcher||(t.ProblemMatcher={})).isWatchModeWatcher=function(e){return!!e.watching},(t.ProblemPattern||(t.ProblemPattern={})).fromProblemPatternContribution=function(e){return{name:e.name,regexp:e.regexp,kind:e.kind?i.fromString(e.kind):void 0,file:e.file,message:e.message,location:e.location,line:e.line,character:e.column||e.character,endLine:e.endLine,endCharacter:e.endColumn||e.endCharacter,code:e.code,severity:e.severity,loop:e.loop}},(t.ProblemMatchData||(t.ProblemMatchData={})).is=function(e){return"marker"in e}},32132:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessTaskError=t.ProcessTaskInfo=void 0;const n=i(581);(t.ProcessTaskInfo||(t.ProcessTaskInfo={})).is=function(e){return void 0!==e.processId},(t.ProcessTaskError||(t.ProcessTaskError={})).CouldNotRun=n.ApplicationError.declare(1,(e=>({message:`Error starting process (${e})`,data:{code:e}})))},83591:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCommonBindings=void 0;const n=i(9825),o=i(82758);t.createCommonBindings=function(e){e(n.ILogger).toDynamicValue((e=>e.container.get(n.ILogger).child("task"))).inSingletonScope().whenTargetNamed("task"),e(o.TaskWatcher).toSelf().inSingletonScope()}},29274:(e,t)=>{"use strict";var i,n,o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.TaskScope=t.TaskCustomization=t.TaskOutputPresentation=t.PanelKind=t.RevealKind=t.DependsOrder=t.TaskClient=t.TaskServer=t.taskPath=void 0,t.taskPath="/services/task",t.TaskServer=Symbol("TaskServer"),t.TaskClient=Symbol("TaskClient"),(r=t.DependsOrder||(t.DependsOrder={})).Sequence="sequence",r.Parallel="parallel",function(e){e.Always="always",e.Silent="silent",e.Never="never"}(i=t.RevealKind||(t.RevealKind={})),function(e){e.Shared="shared",e.Dedicated="dedicated",e.New="new"}(n=t.PanelKind||(t.PanelKind={})),function(e){function t(){return{echo:!0,reveal:i.Always,focus:!1,panel:n.Shared,showReuseMessage:!0,clear:!1}}function o(e){return!!e.presentation&&!!e.presentation.focus}function r(e){return!!e.presentation&&!!e.presentation.clear}function s(e){return!e.presentation||void 0===e.presentation.showReuseMessage||!!e.presentation.showReuseMessage}e.getDefault=t,e.fromJson=function(e){let a=t();if(e&&e.presentation){if(e.presentation.reveal){let t=i.Always;"silent"===e.presentation.reveal?t=i.Silent:"never"===e.presentation.reveal&&(t=i.Never),a={...a,reveal:t}}if(e.presentation.panel){let t=n.Shared;"dedicated"===e.presentation.panel?t=n.Dedicated:"new"===e.presentation.panel&&(t=n.New),a={...a,panel:t}}a={...a,echo:void 0===e.presentation.echo||e.presentation.echo,focus:o(e),showReuseMessage:s(e),clear:r(e)}}return a},e.shouldAlwaysRevealTerminal=function(e){return!e.presentation||void 0===e.presentation.reveal||e.presentation.reveal===i.Always},e.shouldSetFocusToTerminal=o,e.shouldClearTerminalBeforeRun=r,e.shouldShowReuseMessage=s}(t.TaskOutputPresentation||(t.TaskOutputPresentation={})),function(e){function t(e){return"build"===e.group||"object"==typeof e.group&&"build"===e.group.kind}function i(e){return"object"==typeof e.group&&e.group.isDefault}function n(e){return"test"===e.group||"object"==typeof e.group&&"test"===e.group.kind}e.isBuildTask=t,e.isDefaultBuildTask=function(e){return i(e)&&t(e)},e.isDefaultTask=i,e.isTestTask=n,e.isDefaultTestTask=function(e){return i(e)&&n(e)}}(t.TaskCustomization||(t.TaskCustomization={})),(o=t.TaskScope||(t.TaskScope={}))[o.Global=1]="Global",o[o.Workspace=2]="Workspace"},82758:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TaskWatcher=void 0;const o=i(70801),r=i(18894);let s=class{constructor(){this.onTaskCreatedEmitter=new r.Emitter,this.onTaskExitEmitter=new r.Emitter,this.onDidStartTaskProcessEmitter=new r.Emitter,this.onDidEndTaskProcessEmitter=new r.Emitter,this.onOutputProcessedEmitter=new r.Emitter,this.onBackgroundTaskEndedEmitter=new r.Emitter}getTaskClient(){const e=this.onTaskCreatedEmitter,t=this.onTaskExitEmitter,i=this.onDidStartTaskProcessEmitter,n=this.onDidEndTaskProcessEmitter,o=this.onOutputProcessedEmitter,r=this.onBackgroundTaskEndedEmitter;return{onTaskCreated(t){e.fire(t)},onTaskExit(e){t.fire(e)},onDidStartTaskProcess(e){i.fire(e)},onDidEndTaskProcess(e){n.fire(e)},onDidProcessTaskOutput(e){o.fire(e)},onBackgroundTaskEnded(e){r.fire(e)}}}get onTaskCreated(){return this.onTaskCreatedEmitter.event}get onTaskExit(){return this.onTaskExitEmitter.event}get onDidStartTaskProcess(){return this.onDidStartTaskProcessEmitter.event}get onDidEndTaskProcess(){return this.onDidEndTaskProcessEmitter.event}get onOutputProcessed(){return this.onOutputProcessedEmitter.event}get onBackgroundTaskEnded(){return this.onBackgroundTaskEndedEmitter.event}};s=n([(0,o.injectable)()],s),t.TaskWatcher=s},24227:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalService=void 0,t.TerminalService=Symbol("TerminalService")},21723:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalWidgetOptions=t.TerminalWidget=t.TerminalLocation=void 0;const n=i(87361);var o;(o=t.TerminalLocation||(t.TerminalLocation={}))[o.Panel=1]="Panel",o[o.Editor=2]="Editor";class r extends n.BaseWidget{}t.TerminalWidget=r,t.TerminalWidgetOptions=Symbol("TerminalWidgetOptions")},90623:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTerminalSearchFactory=void 0;const n=i(96958),o=i(8582);t.createTerminalSearchFactory=function(e){return e.bind(n.TerminalSearchWidget).toSelf().inSingletonScope(),t=>(e.bind(o.Terminal).toConstantValue(t),e.get(n.TerminalSearchWidget))}},96958:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalSearchWidget=t.TerminalSearchWidgetFactory=t.TERMINAL_SEARCH_WIDGET_FACTORY_ID=void 0;const r=i(70801),s=i(31134),a=i(92664);i(45789);const c=i(8582),l=i(56396),d=i(87361);t.TERMINAL_SEARCH_WIDGET_FACTORY_ID="terminal-search",t.TerminalSearchWidgetFactory=Symbol("TerminalSearchWidgetFactory");let u=class extends s.ReactWidget{constructor(){super(...arguments),this.searchOptions={},this.onSearchInputFocus=()=>{this.searchBox&&this.searchBox.classList.add("focused")},this.onSearchInputBlur=()=>{this.searchBox&&this.searchBox.classList.remove("focused")},this.handleHide=()=>{this.hide()},this.handleCaseSensitiveOptionClicked=e=>{this.searchOptions.caseSensitive=!this.searchOptions.caseSensitive,this.updateSearchInputBox(this.searchOptions.caseSensitive,e.currentTarget)},this.handleWholeWordOptionClicked=e=>{this.searchOptions.wholeWord=!this.searchOptions.wholeWord,this.updateSearchInputBox(this.searchOptions.wholeWord,e.currentTarget)},this.handleRegexOptionClicked=e=>{this.searchOptions.regex=!this.searchOptions.regex,this.updateSearchInputBox(this.searchOptions.regex,e.currentTarget)},this.onInputChanged=e=>{e&&e.shiftKey&&e.keyCode===d.Key.ENTER.keyCode?this.search(!1,"previous"):e&&e.keyCode===d.Key.ENTER.keyCode?this.search(!1,"next"):this.search(!0,"next")},this.handleNextButtonClicked=()=>{this.search(!1,"next")},this.handlePreviousButtonClicked=()=>{this.search(!1,"previous")}}init(){this.node.classList.add("theia-search-terminal-widget-parent"),this.searchAddon=new l.SearchAddon,this.terminal.loadAddon(this.searchAddon),this.hide(),this.update()}render(){return a.createElement("div",{className:"theia-search-terminal-widget"},a.createElement("div",{className:"theia-search-elem-box",ref:e=>this.searchBox=e},a.createElement("input",{title:"Find",type:"text",spellCheck:"false",placeholder:"Find",ref:e=>this.searchInput=e,onKeyUp:this.onInputChanged,onFocus:this.onSearchInputFocus,onBlur:this.onSearchInputBlur}),a.createElement("div",{title:"Match case",tabIndex:0,className:"search-elem "+(0,d.codicon)("case-sensitive"),onClick:this.handleCaseSensitiveOptionClicked}),a.createElement("div",{title:"Match whole word",tabIndex:0,className:"search-elem "+(0,d.codicon)("whole-word"),onClick:this.handleWholeWordOptionClicked}),a.createElement("div",{title:"Use regular expression",tabIndex:0,className:"search-elem "+(0,d.codicon)("regex"),onClick:this.handleRegexOptionClicked})),a.createElement("button",{title:"Previous match",className:"search-elem "+(0,d.codicon)("arrow-up"),onClick:this.handlePreviousButtonClicked}),a.createElement("button",{title:"Next match",className:"search-elem "+(0,d.codicon)("arrow-down"),onClick:this.handleNextButtonClicked}),a.createElement("button",{title:"Close",className:"search-elem "+(0,d.codicon)("close"),onClick:this.handleHide}))}updateSearchInputBox(e,t){e?t.classList.add("option-enabled"):t.classList.remove("option-enabled"),this.searchInput.focus()}search(e,t){if(this.searchInput){this.searchOptions.incremental=e;const i=this.searchInput.value;"next"===t&&this.searchAddon.findNext(i,this.searchOptions),"previous"===t&&this.searchAddon.findPrevious(i,this.searchOptions)}}onAfterHide(){this.terminal.focus()}onAfterShow(){this.searchInput&&this.searchInput.select()}};n([(0,r.inject)(c.Terminal),o("design:type",c.Terminal)],u.prototype,"terminal",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,r.injectable)()],u),t.TerminalSearchWidget=u},70301:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShellTerminalProfile=void 0;class i{constructor(e,t){this.terminalService=e,this.options=t}async start(){const e=await this.terminalService.newTerminal(this.options);return e.start(),e}modify(e){return new i(this.terminalService,{...this.options,...e})}}t.ShellTerminalProfile=i},78140:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalContribution=void 0;const n=i(91030);Object.defineProperty(t,"TerminalContribution",{enumerable:!0,get:function(){return n.TerminalContribution}})},5819:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalCopyOnSelectionHandler=void 0;const r=i(70801),s=i(87361);let a=class{constructor(){this.copyListener=e=>{this.interceptCopy&&e.clipboardData&&(e.clipboardData.setData("text/plain",this.textToCopy),e.preventDefault())}}init(){document.addEventListener("copy",this.copyListener)}async clipBoardCopyIsGranted(){if(s.isFirefox)return!0;try{const e=navigator.permissions,{state:t}=await e.query({name:"clipboard-write"});if("granted"===t)return!0}catch(e){}return!1}executeCommandCopy(){try{this.interceptCopy=!0,document.execCommand("copy"),this.interceptCopy=!1}catch(e){}}async writeToClipBoard(){const e=navigator.clipboard;if(e)try{await e.writeText(this.textToCopy)}catch(e){this.executeCommandCopy()}else this.executeCommandCopy()}async copy(e){this.textToCopy=e;const t=navigator.permissions;t&&t.query&&await this.clipBoardCopyIsGranted()?await this.writeToClipBoard():this.executeCommandCopy()}};n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],a.prototype,"init",null),a=n([(0,r.injectable)()],a),t.TerminalCopyOnSelectionHandler=a},13289:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FileDiffPostLinkProvider=t.FileDiffPreLinkProvider=t.FileLinkProvider=void 0;const r=i(9825),s=i(87361),a=i(70801),c=i(14304),l=i(91030);let d=class{async provideLinks(e,t){const i=[],n=await this.createRegExp();let o;for(;o=n.exec(e);){const e=o[0];await this.isValidFile(e,t)&&i.push({startIndex:n.lastIndex-e.length,length:e.length,handle:()=>this.open(e,t)})}return i}async createRegExp(){const e=r.OS.backend.isWindows?m:g;return new RegExp(`${e}(${b})`,"g")}async isValidFile(e,t){try{const i=await this.toURI(e,await this.getCwd(t));if(i)try{return!(await this.fileService.resolve(i)).isDirectory}catch{}}catch(t){console.trace("Error validating "+e,t)}return!1}async toURI(e,t){const i=await this.extractPath(e);if(i)return new r.Path(i).isAbsolute?t.withPath(i):t.resolve(i)}async getCwd(e){return e instanceof l.TerminalWidgetImpl?e.cwd:e.lastCwd}async extractPath(e){const t=(await this.createRegExp()).exec(e);if(t)return t[1]}async open(e,t){const i=await this.toURI(e,await this.getCwd(t));if(!i)return;const n=await this.extractPosition(e);let o={};n&&(o={selection:{start:n}});try{(await this.openerService.getOpener(i,o)).open(i,o)}catch(t){console.error("Cannot open link "+e,t)}}async extractPosition(e){const t=(await this.createRegExp()).exec(e),i={line:1,character:1};if(!t)return i;const n=r.OS.backend.isWindows?v:A;for(let e=0;e<b.length;e++){const o=n+y*e,r=t[o];if(r){i.line=parseInt(r,10)-1;const e=t[o+2];e&&(i.character=parseInt(e,10)-1);break}}return i}};n([(0,a.inject)(s.OpenerService),o("design:type",Object)],d.prototype,"openerService",void 0),n([(0,a.inject)(c.FileService),o("design:type",c.FileService)],d.prototype,"fileService",void 0),d=n([(0,a.injectable)()],d),t.FileLinkProvider=d;let u=class extends d{async createRegExp(){return/^--- a\/(\S*)/g}};u=n([(0,a.injectable)()],u),t.FileDiffPreLinkProvider=u;let h=class extends d{async createRegExp(){return/^\+\+\+ b\/(\S*)/g}};h=n([(0,a.injectable)()],h),t.FileDiffPostLinkProvider=h;const p="[^\\0\\s!`&*()\\[\\]'\":;\\\\]",g="(((\\.\\.?|\\~)|("+p+")+)?(\\/("+p+")+)+)",f="[^\\0<>\\?\\|\\/\\s!`&*()\\[\\]'\":;]",m="((((?:\\\\\\\\\\?\\\\)?[a-zA-Z]:|\\.\\.?|\\~)|("+f+")+)?((\\\\|\\/)("+f+")+)+)",b=["((\\S*)['\"], line ((\\d+)( column (\\d+))?))","((\\S*)['\"],((\\d+)(:(\\d+))?))","((\\S*) on line ((\\d+)(, column (\\d+))?))","((\\S*):line ((\\d+)(, column (\\d+))?))","(([^\\s\\(\\)]*)(\\s?[\\(\\[](\\d+)(,\\s?(\\d+))?)[\\)\\]])","(([^:\\s\\(\\)<>'\"\\[\\]]*)(:(\\d+))?(:(\\d+))?)"].join("|").replace(/ /g,"[  ]"),v=12,A=11,y=6},75906:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalFrontendContribution=t.TerminalCommands=t.TerminalMenus=void 0;const r=i(70801),s=i(9825),a=i(87361),c=i(91030),l=i(76492),d=i(21723),u=i(10202),h=i(8433),p=i(37663),g=i(30970),f=i(9825),m=i(73246),b=i(949),v=i(30063),A=i(14304),y=i(40933),C=i(45782),w=i(44989),_=i(70553),S=i(70301),E=i(3754);var k,x;!function(e){e.TERMINAL=[...f.MAIN_MENU_BAR,"7_terminal"],e.TERMINAL_NEW=[...e.TERMINAL,"1_terminal"],e.TERMINAL_TASKS=[...e.TERMINAL,"2_terminal"],e.TERMINAL_TASKS_INFO=[...e.TERMINAL_TASKS,"3_terminal"],e.TERMINAL_TASKS_CONFIG=[...e.TERMINAL_TASKS,"4_terminal"],e.TERMINAL_NAVIGATOR_CONTEXT_MENU=["navigator-context-menu","navigation"],e.TERMINAL_OPEN_EDITORS_CONTEXT_MENU=["open-editors-context-menu","navigation"],e.TERMINAL_CONTEXT_MENU=["terminal-context-menu"]}(k=t.TerminalMenus||(t.TerminalMenus={})),function(e){const t="Terminal";e.NEW=s.Command.toDefaultLocalizedCommand({id:"terminal:new",category:t,label:"Create New Terminal"}),e.PROFILE_NEW=s.Command.toLocalizedCommand({id:"terminal:new:profile",category:t,label:"Create New Integrated Terminal from a Profile"}),e.PROFILE_DEFAULT=s.Command.toLocalizedCommand({id:"terminal:profile:default",category:t,label:"Choose the default Terminal Profile"}),e.NEW_ACTIVE_WORKSPACE=s.Command.toDefaultLocalizedCommand({id:"terminal:new:active:workspace",category:t,label:"Create New Terminal (In Active Workspace)"}),e.TERMINAL_CLEAR=s.Command.toDefaultLocalizedCommand({id:"terminal:clear",category:t,label:"Clear"}),e.TERMINAL_CONTEXT=s.Command.toDefaultLocalizedCommand({id:"terminal:context",category:t,label:"Open in Terminal"}),e.SPLIT=s.Command.toDefaultLocalizedCommand({id:"terminal:split",category:t,label:"Split Terminal"}),e.TERMINAL_FIND_TEXT=s.Command.toDefaultLocalizedCommand({id:"terminal:find",category:t,label:"Find"}),e.TERMINAL_FIND_TEXT_CANCEL=s.Command.toDefaultLocalizedCommand({id:"terminal:find:cancel",category:t,label:"Hide Find"}),e.SCROLL_LINE_UP=s.Command.toDefaultLocalizedCommand({id:"terminal:scroll:line:up",category:t,label:"Scroll Up (Line)"}),e.SCROLL_LINE_DOWN=s.Command.toDefaultLocalizedCommand({id:"terminal:scroll:line:down",category:t,label:"Scroll Down (Line)"}),e.SCROLL_TO_TOP=s.Command.toDefaultLocalizedCommand({id:"terminal:scroll:top",category:t,label:"Scroll to Top"}),e.SCROLL_PAGE_UP=s.Command.toDefaultLocalizedCommand({id:"terminal:scroll:page:up",category:t,label:"Scroll Up (Page)"}),e.SCROLL_PAGE_DOWN=s.Command.toDefaultLocalizedCommand({id:"terminal:scroll:page:down",category:t,label:"Scroll Down (Page)"}),e.TOGGLE_TERMINAL=s.Command.toDefaultLocalizedCommand({id:"workbench.action.terminal.toggleTerminal",category:t,label:"Toggle Terminal"}),e.KILL_TERMINAL=s.Command.toDefaultLocalizedCommand({id:"terminal:kill",category:t,label:"Kill Terminal"}),e.SELECT_ALL={id:"terminal:select:all",label:a.CommonCommands.SELECT_ALL.label,category:t},e.SHOW_ALL_OPENED_TERMINALS=s.Command.toDefaultLocalizedCommand({id:"workbench.action.showAllTerminals",category:a.CommonCommands.VIEW_CATEGORY,label:"Show All Opened Terminals"})}(x=t.TerminalCommands||(t.TerminalCommands={}));let D=class{constructor(){this.mergePreferencesPromise=Promise.resolve(),this.onDidCreateTerminalEmitter=new s.Emitter,this.onDidCreateTerminal=this.onDidCreateTerminalEmitter.event,this.onDidChangeCurrentTerminalEmitter=new s.Emitter,this.onDidChangeCurrentTerminal=this.onDidChangeCurrentTerminalEmitter.event,this.mostRecentlyUsedTerminalEntries=[]}init(){this.shell.onDidChangeCurrentWidget((()=>this.updateCurrentTerminal())),this.widgetManager.onDidCreateWidget((({widget:e})=>{e instanceof d.TerminalWidget&&(this.updateCurrentTerminal(),this.onDidCreateTerminalEmitter.fire(e),this.setLastUsedTerminal(e))}));const e=this.contextKeyService.createKey("terminalFocus",!1),t=()=>e.set(this.shell.activeWidget instanceof d.TerminalWidget);t(),this.shell.onDidChangeActiveWidget(t),this.terminalWatcher.onStoreTerminalEnvVariablesRequested((e=>{this.storageService.setData(C.ENVIRONMENT_VARIABLE_COLLECTIONS_KEY,e)})),this.terminalWatcher.onUpdateTerminalEnvVariablesRequested((()=>{this.storageService.getData(C.ENVIRONMENT_VARIABLE_COLLECTIONS_KEY).then((e=>{e&&JSON.parse(e).forEach((e=>this.shellTerminalServer.setCollection(e.extensionIdentifier,!0,e.collection)))}))}))}async onStart(e){await this.contributeDefaultProfiles(),this.terminalPreferences.onPreferenceChanged((e=>{e.preferenceName.startsWith("terminal.integrated.")&&(this.mergePreferencesPromise=this.mergePreferencesPromise.finally((()=>this.mergePreferences())))})),this.mergePreferencesPromise=this.mergePreferencesPromise.finally((()=>this.mergePreferences())),this.profileService.onAdded((e=>{let t;switch(s.OS.backend.type()){case s.OS.Type.Windows:t=this.terminalPreferences["terminal.integrated.defaultProfile.windows"];break;case s.OS.Type.Linux:t=this.terminalPreferences["terminal.integrated.defaultProfile.linux"];break;case s.OS.Type.OSX:t=this.terminalPreferences["terminal.integrated.defaultProfile.osx"]}t&&this.profileService.setDefaultProfile(t)}))}async contributeDefaultProfiles(){s.OS.backend.isWindows?this.contributedProfileStore.registerTerminalProfile("cmd",new S.ShellTerminalProfile(this,{shellPath:await this.resolveShellPath(["${env:windir}\\Sysnative\\cmd.exe","${env:windir}\\System32\\cmd.exe"])})):this.contributedProfileStore.registerTerminalProfile("SHELL",new S.ShellTerminalProfile(this,{shellPath:await this.resolveShellPath("${SHELL}"),shellArgs:["-l"]}))}async mergePreferences(){var e,t,i;let n,o,r,a;const c=new Set(this.userProfileStore.all.map((([e,t])=>e)));switch(s.OS.backend.type()){case s.OS.Type.Windows:n=this.terminalPreferences["terminal.integrated.profiles.windows"],o=this.terminalPreferences["terminal.integrated.defaultProfile.windows"],r=null!==(e=this.terminalPreferences["terminal.integrated.shell.windows"])&&void 0!==e?e:void 0,a=this.terminalPreferences["terminal.integrated.shellArgs.windows"];break;case s.OS.Type.Linux:n=this.terminalPreferences["terminal.integrated.profiles.linux"],o=this.terminalPreferences["terminal.integrated.defaultProfile.linux"],r=null!==(t=this.terminalPreferences["terminal.integrated.shell.linux"])&&void 0!==t?t:void 0,a=this.terminalPreferences["terminal.integrated.shellArgs.linux"];break;case s.OS.Type.OSX:n=this.terminalPreferences["terminal.integrated.profiles.osx"],o=this.terminalPreferences["terminal.integrated.defaultProfile.osx"],r=null!==(i=this.terminalPreferences["terminal.integrated.shell.osx"])&&void 0!==i?i:void 0,a=this.terminalPreferences["terminal.integrated.shellArgs.osx"]}if(n)for(const e of Object.getOwnPropertyNames(n)){const t=n[e];if(c.delete(e),t){const i=await this.resolveShellPath(t.path);if(i){const n={shellPath:i,shellArgs:t.args?await this.variableResolver.resolve(t.args):void 0,useServerTitle:!t.overrideName&&void 0,env:t.env?await this.variableResolver.resolve(t.env):void 0,title:t.overrideName?e:void 0};this.userProfileStore.registerTerminalProfile(e,new S.ShellTerminalProfile(this,n))}}else this.userProfileStore.registerTerminalProfile(e,u.NULL_PROFILE)}r&&(this.userProfileStore.registerTerminalProfile("Legacy Shell Preferences",new S.ShellTerminalProfile(this,{shellPath:r,shellArgs:a})),this.profileService.setDefaultProfile("Legacy Shell Preferences")),o&&this.profileService.getProfile(o)&&this.profileService.setDefaultProfile(o);for(const e of c)this.userProfileStore.unregisterTerminalProfile(e)}async resolveShellPath(e){if(e){"string"==typeof e&&(e=[e]);for(const t of e){const e=await this.variableResolver.resolve(t);if(e){const t=g.default.fromFilePath(e);if(await this.fileService.exists(t))return e}}}}onWillStop(){const e=this.terminalPreferences["terminal.integrated.confirmOnExit"];if("never"!==e){const t=this.widgetManager.getWidgets(c.TERMINAL_WIDGET_FACTORY_ID);if(t.length)return{prepare:async()=>"always"===e?t.length:(await Promise.all(t.map((e=>e.hasChildProcesses()))).then((e=>e.filter((e=>e))))).length,action:async e=>0===e||this.confirmExitWithActiveTerminals(e),reason:"Active integrated terminal"}}}async confirmExitWithActiveTerminals(e){const t=1===e?w.nls.localizeByDefault("Do you want to terminate the active terminal session?"):w.nls.localizeByDefault("Do you want to terminate the {0} active terminal sessions?",e);return!0===await new a.ConfirmDialog({title:"",msg:t,ok:w.nls.localizeByDefault("Terminate"),cancel:a.Dialog.CANCEL}).open()}get currentTerminal(){return this._currentTerminal}setCurrentTerminal(e){this._currentTerminal!==e&&(this._currentTerminal=e,this.onDidChangeCurrentTerminalEmitter.fire(this._currentTerminal))}updateCurrentTerminal(){const e=this.shell.currentWidget;e instanceof d.TerminalWidget?this.setCurrentTerminal(e):this._currentTerminal&&this._currentTerminal.isVisible||this.setCurrentTerminal(void 0)}getLastUsedTerminalId(){const e=this.mostRecentlyUsedTerminalEntries[this.mostRecentlyUsedTerminalEntries.length-1];if(e)return e.id}get lastUsedTerminal(){const e=this.getLastUsedTerminalId();if(e)return this.getById(e)}setLastUsedTerminal(e){const t=e.id,i=this.mostRecentlyUsedTerminalEntries.findIndex((e=>e.id===t));let n;i>=0?(n=this.mostRecentlyUsedTerminalEntries[i].disposables,this.mostRecentlyUsedTerminalEntries.splice(i,1)):(n=new s.DisposableCollection,n.push(e.onDidChangeVisibility((t=>{t&&this.setLastUsedTerminal(e)}))),n.push(e.onDidDispose((()=>{const e=this.mostRecentlyUsedTerminalEntries.findIndex((e=>e.id===t));e>=0&&(this.mostRecentlyUsedTerminalEntries[e].disposables.dispose(),this.mostRecentlyUsedTerminalEntries.splice(e,1))}))));const o={id:t,disposables:n};e.isVisible?this.mostRecentlyUsedTerminalEntries.push(o):this.mostRecentlyUsedTerminalEntries=[o,...this.mostRecentlyUsedTerminalEntries]}get all(){return this.widgetManager.getWidgets(c.TERMINAL_WIDGET_FACTORY_ID)}getById(e){return this.all.find((t=>t.id===e))}getByTerminalId(e){return this.all.find((t=>t.terminalId===e))}getDefaultShell(){return this.shellTerminalServer.getDefaultShell()}registerCommands(e){e.registerCommand(x.NEW,{execute:()=>this.openTerminal()}),e.registerCommand(x.PROFILE_NEW,{execute:async()=>{const e=await this.selectTerminalProfile(w.nls.localize("theia/terminal/selectProfile","Select a profile for the new terminal"));e&&this.openTerminal(void 0,e[1])}}),e.registerCommand(x.PROFILE_DEFAULT,{execute:()=>this.chooseDefaultProfile()}),e.registerCommand(x.NEW_ACTIVE_WORKSPACE,{execute:()=>this.openActiveWorkspaceTerminal()}),e.registerCommand(x.SPLIT,{execute:()=>this.splitTerminal(),isEnabled:e=>this.withWidget(e,(()=>!0)),isVisible:e=>this.withWidget(e,(()=>!0))}),e.registerCommand(x.TERMINAL_CLEAR),e.registerHandler(x.TERMINAL_CLEAR.id,{execute:()=>{var e;return null===(e=this.currentTerminal)||void 0===e?void 0:e.clearOutput()}}),e.registerCommand(x.TERMINAL_CONTEXT,h.UriAwareCommandHandler.MonoSelect(this.selectionService,{execute:e=>this.openInTerminal(e)})),e.registerCommand(x.TERMINAL_FIND_TEXT),e.registerHandler(x.TERMINAL_FIND_TEXT.id,{isEnabled:()=>this.shell.activeWidget instanceof d.TerminalWidget&&!this.shell.activeWidget.getSearchBox().isVisible,execute:()=>{this.shell.activeWidget.getSearchBox().show()}}),e.registerCommand(x.TERMINAL_FIND_TEXT_CANCEL),e.registerHandler(x.TERMINAL_FIND_TEXT_CANCEL.id,{isEnabled:()=>this.shell.activeWidget instanceof d.TerminalWidget&&this.shell.activeWidget.getSearchBox().isVisible,execute:()=>{this.shell.activeWidget.getSearchBox().hide()}}),e.registerCommand(x.SCROLL_LINE_UP,{isEnabled:()=>this.shell.activeWidget instanceof d.TerminalWidget,isVisible:()=>!1,execute:()=>{this.shell.activeWidget.scrollLineUp()}}),e.registerCommand(x.SCROLL_LINE_DOWN,{isEnabled:()=>this.shell.activeWidget instanceof d.TerminalWidget,isVisible:()=>!1,execute:()=>{this.shell.activeWidget.scrollLineDown()}}),e.registerCommand(x.SCROLL_TO_TOP,{isEnabled:()=>this.shell.activeWidget instanceof d.TerminalWidget,isVisible:()=>!1,execute:()=>{this.shell.activeWidget.scrollToTop()}}),e.registerCommand(x.SCROLL_PAGE_UP,{isEnabled:()=>this.shell.activeWidget instanceof d.TerminalWidget,isVisible:()=>!1,execute:()=>{this.shell.activeWidget.scrollPageUp()}}),e.registerCommand(x.SCROLL_PAGE_DOWN,{isEnabled:()=>this.shell.activeWidget instanceof d.TerminalWidget,isVisible:()=>!1,execute:()=>{this.shell.activeWidget.scrollPageDown()}}),e.registerCommand(x.TOGGLE_TERMINAL,{execute:()=>this.toggleTerminal()}),e.registerCommand(x.KILL_TERMINAL,{isEnabled:()=>!!this.currentTerminal,execute:()=>{var e;return null===(e=this.currentTerminal)||void 0===e?void 0:e.close()}}),e.registerCommand(x.SELECT_ALL,{isEnabled:()=>!!this.currentTerminal,execute:()=>{var e;return null===(e=this.currentTerminal)||void 0===e?void 0:e.selectAll()}})}toggleTerminal(){const e=this.shell.getWidgets("bottom").filter((e=>e instanceof d.TerminalWidget));if(0!==e.length){if(this.shell.bottomPanel.isHidden)return this.shell.bottomPanel.setHidden(!1),void e[0].activate();if(this.shell.bottomPanel.isVisible){const t=e.find((e=>e.isVisible));t?this.shell.activeWidget!==t?this.shell.bottomPanel.activateWidget(t):this.shell.bottomPanel.setHidden(!0):this.shell.bottomPanel.activateWidget(e[0])}}else this.openTerminal()}async openInTerminal(e){let t;try{t=await this.fileService.resolve(e)}catch{return}const i=t.isDirectory?e.toString():e.parent.toString(),n=await this.newTerminal({cwd:i});n.start(),this.open(n)}registerMenus(e){e.registerSubmenu(k.TERMINAL,c.TerminalWidgetImpl.LABEL),e.registerMenuAction(k.TERMINAL_NEW,{commandId:x.NEW.id,label:w.nls.localizeByDefault("New Terminal"),order:"0"}),e.registerMenuAction(k.TERMINAL_NEW,{commandId:x.PROFILE_NEW.id,label:w.nls.localize("theia/terminal/profileNew","New Terminal (With Profile)..."),order:"1"}),e.registerMenuAction(k.TERMINAL_NEW,{commandId:x.PROFILE_DEFAULT.id,label:w.nls.localize("theia/terminal/profileDefault","Choose Default Profile..."),order:"3"}),e.registerMenuAction(k.TERMINAL_NEW,{commandId:x.SPLIT.id,order:"3"}),e.registerMenuAction(k.TERMINAL_NAVIGATOR_CONTEXT_MENU,{commandId:x.TERMINAL_CONTEXT.id,order:"z"}),e.registerMenuAction(k.TERMINAL_OPEN_EDITORS_CONTEXT_MENU,{commandId:x.TERMINAL_CONTEXT.id,order:"z"}),e.registerMenuAction([...k.TERMINAL_CONTEXT_MENU,"_1"],{commandId:x.NEW_ACTIVE_WORKSPACE.id,label:w.nls.localizeByDefault("New Terminal")}),e.registerMenuAction([...k.TERMINAL_CONTEXT_MENU,"_1"],{commandId:x.SPLIT.id}),e.registerMenuAction([...k.TERMINAL_CONTEXT_MENU,"_2"],{commandId:a.CommonCommands.COPY.id}),e.registerMenuAction([...k.TERMINAL_CONTEXT_MENU,"_2"],{commandId:a.CommonCommands.PASTE.id}),e.registerMenuAction([...k.TERMINAL_CONTEXT_MENU,"_2"],{commandId:x.SELECT_ALL.id}),e.registerMenuAction([...k.TERMINAL_CONTEXT_MENU,"_3"],{commandId:x.TERMINAL_CLEAR.id}),e.registerMenuAction([...k.TERMINAL_CONTEXT_MENU,"_4"],{commandId:x.KILL_TERMINAL.id})}registerToolbarItems(e){e.registerItem({id:x.SPLIT.id,command:x.SPLIT.id,icon:(0,a.codicon)("split-horizontal"),tooltip:x.SPLIT.label})}registerKeybindings(e){const t=t=>{e.registerKeybinding({command:a.KeybindingRegistry.PASSTHROUGH_PSEUDO_COMMAND,keybinding:a.KeyCode.createKeyCode({key:t,ctrl:!0}).toString(),when:"terminalFocus"})},i=t=>{e.registerKeybinding({command:a.KeybindingRegistry.PASSTHROUGH_PSEUDO_COMMAND,keybinding:a.KeyCode.createKeyCode({key:t,alt:!0}).toString(),when:"terminalFocus"})};t(a.Key.SPACE);for(let e=0;e<26;e++)t({keyCode:a.Key.KEY_A.keyCode+e,code:"Key"+String.fromCharCode("A".charCodeAt(0)+e)});t(a.Key.BRACKET_LEFT),t(a.Key.DIGIT3),t(a.Key.BACKSLASH),t(a.Key.DIGIT4),t(a.Key.BRACKET_RIGHT),t(a.Key.DIGIT5),t(a.Key.DIGIT6),t(a.Key.DIGIT7),t(a.Key.DIGIT8);for(let e=0;e<26;e++)i({keyCode:a.Key.KEY_A.keyCode+e,code:"Key"+String.fromCharCode("A".charCodeAt(0)+e)});i(a.Key.BACKQUOTE);for(let e=0;e<10;e++)i({keyCode:a.Key.DIGIT0.keyCode+e,code:"Digit"+String.fromCharCode("0".charCodeAt(0)+e)});s.isOSX&&e.registerKeybinding({command:a.KeybindingRegistry.PASSTHROUGH_PSEUDO_COMMAND,keybinding:"ctrlcmd+a",when:"terminalFocus"}),e.registerKeybinding({command:x.NEW.id,keybinding:"ctrl+shift+`"}),e.registerKeybinding({command:x.NEW_ACTIVE_WORKSPACE.id,keybinding:"ctrl+`"}),e.registerKeybinding({command:x.TERMINAL_CLEAR.id,keybinding:"ctrlcmd+k",when:"terminalFocus"}),e.registerKeybinding({command:x.TERMINAL_FIND_TEXT.id,keybinding:"ctrlcmd+f",when:"terminalFocus"}),e.registerKeybinding({command:x.TERMINAL_FIND_TEXT_CANCEL.id,keybinding:"esc",context:l.TerminalKeybindingContexts.terminalHideSearch}),e.registerKeybinding({command:x.SCROLL_LINE_UP.id,keybinding:"ctrl+shift+up",when:"terminalFocus"}),e.registerKeybinding({command:x.SCROLL_LINE_DOWN.id,keybinding:"ctrl+shift+down",when:"terminalFocus"}),e.registerKeybinding({command:x.SCROLL_TO_TOP.id,keybinding:"shift-home",when:"terminalFocus"}),e.registerKeybinding({command:x.SCROLL_PAGE_UP.id,keybinding:"shift-pageUp",when:"terminalFocus"}),e.registerKeybinding({command:x.SCROLL_PAGE_DOWN.id,keybinding:"shift-pageDown",when:"terminalFocus"}),e.registerKeybinding({command:x.TOGGLE_TERMINAL.id,keybinding:"ctrl+`"}),e.registerKeybinding({command:x.SELECT_ALL.id,keybinding:"ctrlcmd+a",when:"terminalFocus"})}async newTerminal(e){return await this.widgetManager.getOrCreateWidget(c.TERMINAL_WIDGET_FACTORY_ID,{created:(new Date).toISOString(),...e})}open(e,t){var i;const n={area:e.location===d.TerminalLocation.Editor?"main":"bottom",...null==t?void 0:t.widgetOptions};let o=!1;if("object"==typeof e.location)if("parentTerminal"in e.location)n.ref=this.getById(e.location.parentTerminal),n.mode="split-right";else if("viewColumn"in e.location)switch(o=null!==(i=e.location.preserveFocus)&&void 0!==i&&i,e.location.viewColumn){case s.ViewColumn.Active:n.ref=this.shell.currentWidget,n.mode="tab-after";break;case s.ViewColumn.Beside:n.ref=this.shell.currentWidget,n.mode="split-right";break;default:n.area="main";const t=this.shell.getWidgets("main").filter((e=>e instanceof d.TerminalWidget&&e.isVisible)),i=Math.min(e.location.viewColumn,t.length);n.mode=e.location.viewColumn<=t.length?"split-left":"split-right",n.ref=t[i-1]}const r={mode:"activate",...t,widgetOptions:n};e.isAttached||this.shell.addWidget(e,r.widgetOptions),"activate"!==r.mode||o?("reveal"===r.mode||o)&&this.shell.revealWidget(e.id):this.shell.activateWidget(e.id)}async selectTerminalCwd(){return new Promise((async e=>{var t,i;const n=this.workspaceService.tryGetRoots();if(0===n.length)e(void 0);else if(1===n.length)e(n[0].resource.toString());else{const o=n.map((({resource:e})=>({label:this.labelProvider.getName(e),description:this.labelProvider.getLongName(e),resource:e}))),r=await(null===(t=this.quickInputService)||void 0===t?void 0:t.showQuickPick(o,{placeholder:w.nls.localizeByDefault("Select current working directory for new terminal")}));e(null===(i=null==r?void 0:r.resource)||void 0===i?void 0:i.toString())}}))}async selectTerminalProfile(e){return new Promise((async t=>{var i;const n=this.profileService.all;if(0===n.length)t(void 0);else{const o=n.map((([e,t])=>({label:e,profile:t}))),r=await(null===(i=this.quickInputService)||void 0===i?void 0:i.showQuickPick(o,{placeholder:e}));t(r?[r.label,r.profile]:void 0)}}))}async splitTerminal(e){if(e||this.currentTerminal){const t=null!=e?e:this.currentTerminal;await this.openTerminal({ref:t,mode:"split-right"})}}async openTerminal(e,t){let i=t;if(!t&&(i=this.profileService.defaultProfile,!i))throw new Error("There are not profiles registered");if(i instanceof S.ShellTerminalProfile&&this.workspaceService.workspace){const e=await this.selectTerminalCwd();if(!e)return;i=i.modify({cwd:e})}const n=await(null==i?void 0:i.start());n&&this.open(n,{widgetOptions:e})}async chooseDefaultProfile(){const e=await this.selectTerminalProfile(w.nls.localizeByDefault("Select your default terminal profile"));e&&this.preferenceService.set(`terminal.integrated.defaultProfile.${s.OS.backend.type().toLowerCase()}`,e[0],a.PreferenceScope.User)}async openActiveWorkspaceTerminal(e){const t=await this.newTerminal({});t.start(),this.open(t,{widgetOptions:e})}withWidget(e,t){return e instanceof d.TerminalWidget&&t(e)}registerColors(e){e.register({id:"terminal.background",defaults:{dark:"panel.background",light:"panel.background",hcDark:"panel.background",hcLight:"panel.background"},description:"The background color of the terminal, this allows coloring the terminal differently to the panel."}),e.register({id:"terminal.foreground",defaults:{light:"#333333",dark:"#CCCCCC",hcDark:"#FFFFFF",hcLight:"#292929"},description:"The foreground color of the terminal."}),e.register({id:"terminalCursor.foreground",description:"The foreground color of the terminal cursor."}),e.register({id:"terminalCursor.background",description:"The background color of the terminal cursor. Allows customizing the color of a character overlapped by a block cursor."}),e.register({id:"terminal.selectionBackground",defaults:{light:"editor.selectionBackground",dark:"editor.selectionBackground",hcDark:"editor.selectionBackground",hcLight:"editor.selectionBackground"},description:"The selection background color of the terminal."}),e.register({id:"terminal.border",defaults:{light:"panel.border",dark:"panel.border",hcDark:"panel.border",hcLight:"panel.border"},description:"The color of the border that separates split panes within the terminal. This defaults to panel.border."});for(const t in v.terminalAnsiColorMap){const i=v.terminalAnsiColorMap[t],n=t.substring(13);e.register({id:t,defaults:i.defaults,description:`'${n}'  ANSI color in the terminal.`})}}};n([(0,r.inject)(a.ApplicationShell),o("design:type",a.ApplicationShell)],D.prototype,"shell",void 0),n([(0,r.inject)(p.ShellTerminalServerProxy),o("design:type",Object)],D.prototype,"shellTerminalServer",void 0),n([(0,r.inject)(a.WidgetManager),o("design:type",a.WidgetManager)],D.prototype,"widgetManager",void 0),n([(0,r.inject)(A.FileService),o("design:type",A.FileService)],D.prototype,"fileService",void 0),n([(0,r.inject)(s.SelectionService),o("design:type",s.SelectionService)],D.prototype,"selectionService",void 0),n([(0,r.inject)(a.LabelProvider),o("design:type",a.LabelProvider)],D.prototype,"labelProvider",void 0),n([(0,r.inject)(a.QuickInputService),(0,r.optional)(),o("design:type",Object)],D.prototype,"quickInputService",void 0),n([(0,r.inject)(m.WorkspaceService),o("design:type",m.WorkspaceService)],D.prototype,"workspaceService",void 0),n([(0,r.inject)(u.TerminalProfileService),o("design:type",Object)],D.prototype,"profileService",void 0),n([(0,r.inject)(u.UserTerminalProfileStore),o("design:type",Object)],D.prototype,"userProfileStore",void 0),n([(0,r.inject)(u.ContributedTerminalProfileStore),o("design:type",Object)],D.prototype,"contributedProfileStore",void 0),n([(0,r.inject)(y.TerminalWatcher),o("design:type",y.TerminalWatcher)],D.prototype,"terminalWatcher",void 0),n([(0,r.inject)(E.VariableResolverService),o("design:type",E.VariableResolverService)],D.prototype,"variableResolver",void 0),n([(0,r.inject)(a.StorageService),o("design:type",Object)],D.prototype,"storageService",void 0),n([(0,r.inject)(a.PreferenceService),o("design:type",Object)],D.prototype,"preferenceService",void 0),n([(0,r.inject)(_.TerminalPreferences),o("design:type",Object)],D.prototype,"terminalPreferences",void 0),n([(0,r.inject)(b.ContextKeyService),o("design:type",Object)],D.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],D.prototype,"init",null),D=n([(0,r.injectable)()],D),t.TerminalFrontendContribution=D},4581:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(85269),i(44811);const n=i(70801),o=i(9825),r=i(9825),s=i(87361),a=i(23119),c=i(75906),l=i(91030),d=i(21723),u=i(91942),h=i(40933),p=i(37663),g=i(76492),f=i(10679),m=i(24227),b=i(70553),v=i(78140),A=i(96958),y=i(42463),C=i(90623),w=i(5819),_=i(22227),S=i(30063),E=i(81670),k=i(71401),x=i(63358),D=i(13289),T=i(10202);t.default=new n.ContainerModule((e=>{(0,b.bindTerminalPreferences)(e),e(s.KeybindingContext).to(g.TerminalActiveContext).inSingletonScope(),e(s.KeybindingContext).to(g.TerminalSearchVisibleContext).inSingletonScope(),e(d.TerminalWidget).to(l.TerminalWidgetImpl).inTransientScope(),e(h.TerminalWatcher).toSelf().inSingletonScope();let t=0;e(s.WidgetFactory).toDynamicValue((e=>({id:l.TERMINAL_WIDGET_FACTORY_ID,createWidget:i=>{const r=new n.Container({defaultScope:"Singleton"});r.parent=e.container;const s=t++,a=i.id||"terminal-"+s,c={title:`${o.nls.localizeByDefault("Terminal")} ${s}`,useServerTitle:!0,destroyTermOnClose:!0,...i};return r.bind(d.TerminalWidgetOptions).toConstantValue(c),r.bind("terminal-dom-id").toConstantValue(a),r.bind(A.TerminalSearchWidgetFactory).toDynamicValue((e=>(0,C.createTerminalSearchFactory)(e.container))),r.get(d.TerminalWidget)}}))),e(y.TerminalQuickOpenService).toSelf().inSingletonScope(),e(w.TerminalCopyOnSelectionHandler).toSelf().inSingletonScope(),e(y.TerminalQuickOpenContribution).toSelf().inSingletonScope();for(const t of[o.CommandContribution,E.QuickAccessContribution])e(t).toService(y.TerminalQuickOpenContribution);e(S.TerminalThemeService).toSelf().inSingletonScope(),e(c.TerminalFrontendContribution).toSelf().inSingletonScope(),e(m.TerminalService).toService(c.TerminalFrontendContribution);for(const t of[o.CommandContribution,o.MenuContribution,s.KeybindingContribution,a.TabBarToolbarContribution,_.ColorContribution])e(t).toService(c.TerminalFrontendContribution);e(u.ITerminalServer).toDynamicValue((e=>{const t=e.container.get(s.WebSocketConnectionProvider),i=e.container.get(h.TerminalWatcher);return t.createProxy(u.terminalPath,i.getTerminalClient())})).inSingletonScope(),e(p.ShellTerminalServerProxy).toDynamicValue((e=>{const t=e.container.get(s.WebSocketConnectionProvider),i=e.container.get(h.TerminalWatcher);return t.createProxy(p.shellTerminalPath,i.getTerminalClient())})).inSingletonScope(),e(p.IShellTerminalServer).toService(p.ShellTerminalServerProxy),(0,f.createCommonBindings)(e),(0,r.bindContributionProvider)(e,v.TerminalContribution),(0,r.bindContributionProvider)(e,k.TerminalLinkProvider),e(k.TerminalLinkProviderContribution).toSelf().inSingletonScope(),e(v.TerminalContribution).toService(k.TerminalLinkProviderContribution),e(k.XtermLinkFactory).toFactory(k.createXtermLinkFactory),e(x.UrlLinkProvider).toSelf().inSingletonScope(),e(k.TerminalLinkProvider).toService(x.UrlLinkProvider),e(D.FileLinkProvider).toSelf().inSingletonScope(),e(k.TerminalLinkProvider).toService(D.FileLinkProvider),e(D.FileDiffPreLinkProvider).toSelf().inSingletonScope(),e(k.TerminalLinkProvider).toService(D.FileDiffPreLinkProvider),e(D.FileDiffPostLinkProvider).toSelf().inSingletonScope(),e(k.TerminalLinkProvider).toService(D.FileDiffPostLinkProvider),e(T.ContributedTerminalProfileStore).to(T.DefaultProfileStore).inSingletonScope(),e(T.UserTerminalProfileStore).to(T.DefaultProfileStore).inSingletonScope(),e(T.TerminalProfileService).toDynamicValue((e=>{const t=e.container.get(T.UserTerminalProfileStore),i=e.container.get(T.ContributedTerminalProfileStore);return new T.DefaultTerminalProfileService(t,i)})).inSingletonScope(),e(s.FrontendApplicationContribution).to(c.TerminalFrontendContribution)}))},76492:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalSearchVisibleContext=t.TerminalActiveContext=t.TerminalKeybindingContexts=void 0;const r=i(70801),s=i(87361),a=i(21723);var c;!function(e){e.terminalActive="terminalActive",e.terminalHideSearch="hideSearch"}(c=t.TerminalKeybindingContexts||(t.TerminalKeybindingContexts={}));let l=class{constructor(){this.id=c.terminalActive}isEnabled(){return this.shell.activeWidget instanceof a.TerminalWidget}};n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],l.prototype,"shell",void 0),l=n([(0,r.injectable)()],l),t.TerminalActiveContext=l;let d=class{constructor(){this.id=c.terminalHideSearch}isEnabled(){return this.shell.activeWidget instanceof a.TerminalWidget&&this.shell.activeWidget.getSearchBox().isVisible}};n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],d.prototype,"shell",void 0),d=n([(0,r.injectable)()],d),t.TerminalSearchVisibleContext=d},99405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertLinkRangeToBuffer=t.getLinkContext=t.LinkContext=void 0,t.LinkContext=Symbol("LinkContext"),t.getLinkContext=function(e,t,i=2e3){var n,o;let r=t-1,s=r;const a=[e.buffer.active.getLine(r)],c=Math.max(i/e.cols),l=Math.max(r-c,0),d=Math.min(s+c,e.buffer.active.length);for(;r>=l&&(null===(n=e.buffer.active.getLine(r))||void 0===n?void 0:n.isWrapped);)a.unshift(e.buffer.active.getLine(r-1)),r--;for(;s<d&&(null===(o=e.buffer.active.getLine(s+1))||void 0===o?void 0:o.isWrapped);)a.push(e.buffer.active.getLine(s+1)),s++;return{text:function(e,t,i,n){const o=Math.max(2048/n*2);i=Math.min(i,t+o);let r="";for(let o=t;o<=i;o++){const t=e.getLine(o);t&&(r+=t.translateToString(!0,0,n))}return r}(e.buffer.active,r,s,e.cols),startLine:r,lines:a}},t.convertLinkRangeToBuffer=function(e,t,i,n){const o={start:{x:i.startColumn,y:i.startLineNumber+n},end:{x:i.endColumn-1,y:i.endLineNumber+n}};let r=0;const s=Math.ceil(i.startColumn/t);for(let n=0;n<Math.min(s);n++){const o=Math.min(t,i.startColumn-n*t);let s=0;const a=e[n];if(!a)break;for(let e=0;e<Math.min(t,o+s);e++){const t=a.getCell(e);2===t.getWidth()&&s++;const i=t.getChars();i.length>1&&(s-=i.length-1)}r+=s}let a=0;const c=Math.ceil(i.endColumn/t);for(let n=Math.max(0,s-1);n<c;n++){const o=n===s-1?(i.startColumn+r)%t:0,c=Math.min(t,i.endColumn+r-n*t),l=n===s-1?r:0;let d=0;const u=e[n];if(!u)break;for(let e=o;e<Math.min(t,c+d+l);e++){const i=u.getCell(e);2===i.getWidth()&&d++,e===t-1&&""===i.getChars()&&d++}a+=d}for(o.start.x+=r,o.end.x+=r+a;o.start.x>t;)o.start.x-=t,o.start.y++;for(;o.end.x>t;)o.end.x-=t,o.end.y++;return o}},71401:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.XtermLinkAdapter=t.TerminalLinkProviderContribution=t.createXtermLinkFactory=t.XtermLinkFactory=t.XtermLink=t.TerminalLink=t.TerminalLinkProvider=void 0;const r=i(9825),s=i(87361),a=i(70801),c=i(99405),l=i(91030);t.TerminalLinkProvider=Symbol("TerminalLinkProvider"),t.TerminalLink=Symbol("TerminalLink"),t.XtermLink=Symbol("XtermLink"),t.XtermLinkFactory=Symbol("XtermLinkFactory"),t.createXtermLinkFactory=function(e){return(i,n,o)=>{const r=e.container.createChild();return r.bind(t.TerminalLink).toConstantValue(i),r.bind(l.TerminalWidgetImpl).toConstantValue(n),r.bind(c.LinkContext).toConstantValue(o),r.bind(u).toSelf().inSingletonScope(),r.bind(t.XtermLink).toService(u),r.get(t.XtermLink)}};let d=class{onCreate(e){e.getTerminal().registerLinkProvider({provideLinks:(t,i)=>this.provideTerminalLinks(e,t,i)})}async provideTerminalLinks(e,t,i){const n=(0,c.getLinkContext)(e.getTerminal(),t),o=[];for(const t of this.terminalLinkContributionProvider.getContributions())o.push(t.provideLinks(n.text,e));const r=[];for(const t of await Promise.allSettled(o))if("fulfilled"===t.status){const i=t.value;r.push(...i.map((t=>this.xtermLinkFactory(t,e,n))))}else console.warn("Terminal link provider failed to provide links",t.reason);i(r)}};n([(0,a.inject)(r.ContributionProvider),(0,a.named)(t.TerminalLinkProvider),o("design:type",Object)],d.prototype,"terminalLinkContributionProvider",void 0),n([(0,a.inject)(t.XtermLinkFactory),o("design:type",Function)],d.prototype,"xtermLinkFactory",void 0),d=n([(0,a.injectable)()],d),t.TerminalLinkProviderContribution=d;let u=class{constructor(){this.toDispose=new r.DisposableCollection,this.mouseEnteredHover=!1,this.mouseLeftHover=!1}initializeLinkFields(){const e={startColumn:this.link.startIndex+1,startLineNumber:1,endColumn:this.link.startIndex+this.link.length+1,endLineNumber:1},t=this.terminalWidget.getTerminal();this.range=(0,c.convertLinkRangeToBuffer)(this.context.lines,t.cols,e,this.context.startLine),this.text=this.context.text.substring(this.link.startIndex,this.link.startIndex+this.link.length)||""}hover(e,t){this.scheduleHover(e)}scheduleHover(e){var t;this.cancelHover();const i=null!==(t=this.preferences.get("workbench.hover.delay"))&&void 0!==t?t:500;this.toDispose.push((0,r.disposableTimeout)((()=>this.showHover(e)),i))}showHover(e){this.toDispose.push(this.terminalWidget.onMouseEnterLinkHover((()=>this.mouseEnteredHover=!0))),this.toDispose.push(this.terminalWidget.onMouseLeaveLinkHover((e=>{this.mouseLeftHover=!0,this.leave(e)}))),this.terminalWidget.showLinkHover((()=>this.executeLinkHandler()),e.clientX,e.clientY,this.link.tooltip)}leave(e){this.toDispose.push((0,r.disposableTimeout)((()=>{this.mouseEnteredHover&&!this.mouseLeftHover||this.cancelHover()}),50))}cancelHover(){this.mouseEnteredHover=!1,this.mouseLeftHover=!1,this.toDispose.dispose(),this.terminalWidget.hideLinkHover()}activate(e,t){e.preventDefault(),this.isModifierKeyDown(e)||this.wasTouchEvent(e,this.terminalWidget.lastTouchEndEvent)?this.executeLinkHandler():this.terminalWidget.getTerminal().focus()}executeLinkHandler(){this.link.handle(),this.cancelHover()}isModifierKeyDown(e){return r.isOSX?e.metaKey:e.ctrlKey}wasTouchEvent(e,t){return!(!t||e.timeStamp-t.timeStamp>400||Math.abs(e.pageX-t.pageX)>5||Math.abs(e.pageY-t.pageY)>5)}};n([(0,a.inject)(t.TerminalLink),o("design:type",Object)],u.prototype,"link",void 0),n([(0,a.inject)(l.TerminalWidgetImpl),o("design:type",l.TerminalWidgetImpl)],u.prototype,"terminalWidget",void 0),n([(0,a.inject)(c.LinkContext),o("design:type",Object)],u.prototype,"context",void 0),n([(0,a.inject)(s.PreferenceService),o("design:type",Object)],u.prototype,"preferences",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"initializeLinkFields",null),u=n([(0,a.injectable)()],u),t.XtermLinkAdapter=u},70553:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindTerminalPreferences=t.createTerminalPreferences=t.TerminalPreferences=t.TerminalPreferenceContribution=t.isTerminalRendererType=t.DEFAULT_TERMINAL_RENDERER_TYPE=t.TerminalConfigSchema=void 0;const n=i(87361),o=i(44989),r=i(53116),s=i(9825),a=i(30063),c={env:{type:"object",additionalProperties:{type:"string"},markdownDescription:o.nls.localizeByDefault("An object with environment variables that will be added to the terminal profile process. Set to `null` to delete environment variables from the base environment.")},overrideName:{type:"boolean",description:o.nls.localizeByDefault("Controls whether or not the profile name overrides the auto detected one.")},icon:{type:"string",markdownDescription:o.nls.localize("theia/terminal/profileIcon",'A codicon ID to associate with the terminal icon.\nterminal-tmux:"$(terminal-tmux)"')},color:{type:"string",enum:Object.getOwnPropertyNames(a.terminalAnsiColorMap),description:o.nls.localize("theia/terminal/profileColor","A terminal theme color ID to associate with the terminal.")}},l={oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},d={description:o.nls.localize("theia/terminal/profilePath","The path of the shell that this profile uses."),...l};function u(e){return o.nls.localize("theia/terminal/shell.deprecated","This is deprecated, the new recommended way to configure your default shell is by creating a terminal profile in 'terminal.integrated.profiles.{0}' and setting its profile name as the default in 'terminal.integrated.defaultProfile.{0}.'",e.toString().toLowerCase())}function h(e,i=t.TerminalConfigSchema){return(0,n.createPreferenceProxy)(e,i)}t.TerminalConfigSchema={type:"object",properties:{"terminal.enableCopy":{type:"boolean",description:o.nls.localize("theia/terminal/enableCopy","Enable ctrl-c (cmd-c on macOS) to copy selected text"),default:!0},"terminal.enablePaste":{type:"boolean",description:o.nls.localize("theia/terminal/enablePaste","Enable ctrl-v (cmd-v on macOS) to paste from clipboard"),default:!0},"terminal.integrated.fontFamily":{type:"string",markdownDescription:o.nls.localizeByDefault("Controls the font family of the terminal. Defaults to {0}'s value.","`#editor.fontFamily#`"),default:r.editorGeneratedPreferenceProperties["editor.fontFamily"].default},"terminal.integrated.fontSize":{type:"number",description:o.nls.localizeByDefault("Controls the font size in pixels of the terminal."),minimum:6,default:r.editorGeneratedPreferenceProperties["editor.fontSize"].default},"terminal.integrated.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],description:o.nls.localizeByDefault('The font weight to use within the terminal for non-bold text. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.'),default:"normal"},"terminal.integrated.fontWeightBold":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],description:o.nls.localizeByDefault('The font weight to use within the terminal for bold text. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.'),default:"bold"},"terminal.integrated.drawBoldTextInBrightColors":{description:o.nls.localizeByDefault('Controls whether bold text in the terminal will always use the "bright" ANSI color variant.'),type:"boolean",default:!0},"terminal.integrated.letterSpacing":{description:o.nls.localizeByDefault("Controls the letter spacing of the terminal. This is an integer value which represents the number of additional pixels to add between characters."),type:"number",default:1},"terminal.integrated.lineHeight":{description:o.nls.localizeByDefault("Controls the line height of the terminal. This number is multiplied by the terminal font size to get the actual line-height in pixels."),type:"number",minimum:1,default:1},"terminal.integrated.scrollback":{description:o.nls.localizeByDefault("Controls the maximum number of lines the terminal keeps in its buffer."),type:"number",default:1e3},"terminal.integrated.fastScrollSensitivity":{markdownDescription:o.nls.localizeByDefault("Scrolling speed multiplier when pressing `Alt`."),type:"number",default:5},"terminal.integrated.rendererType":{description:o.nls.localize("theia/terminal/rendererType","Controls how the terminal is rendered."),type:"string",enum:["canvas","dom"],default:"canvas"},"terminal.integrated.copyOnSelection":{description:o.nls.localizeByDefault("Controls whether text selected in the terminal will be copied to the clipboard."),type:"boolean",default:!1},"terminal.integrated.cursorBlinking":{description:o.nls.localizeByDefault("Controls whether the terminal cursor blinks."),type:"boolean",default:!1},"terminal.integrated.cursorStyle":{description:o.nls.localizeByDefault("Controls the style of terminal cursor."),enum:["block","underline","line"],default:"block"},"terminal.integrated.cursorWidth":{markdownDescription:o.nls.localizeByDefault("Controls the width of the cursor when {0} is set to {1}.","`#terminal.integrated.cursorStyle#`","`line`"),type:"number",default:1},"terminal.integrated.shell.windows":{type:["string","null"],typeDetails:{isFilepath:!0},markdownDescription:o.nls.localize("theia/terminal/shellWindows","The path of the shell that the terminal uses on Windows. (default: '{0}').","C:\\Windows\\System32\\cmd.exe"),default:void 0,deprecationMessage:u(s.OS.Type.Windows)},"terminal.integrated.shell.osx":{type:["string","null"],markdownDescription:o.nls.localize("theia/terminal/shellOsx","The path of the shell that the terminal uses on macOS (default: '{0}'}).","/bin/bash"),default:void 0,deprecationMessage:u(s.OS.Type.OSX)},"terminal.integrated.shell.linux":{type:["string","null"],markdownDescription:o.nls.localize("theia/terminal/shellLinux","The path of the shell that the terminal uses on Linux (default: '{0}'}).","/bin/bash"),default:void 0,deprecationMessage:u(s.OS.Type.Linux)},"terminal.integrated.shellArgs.windows":{type:"array",markdownDescription:o.nls.localize("theia/terminal/shellArgsWindows","The command line arguments to use when on the Windows terminal."),default:[],deprecationMessage:u(s.OS.Type.Windows)},"terminal.integrated.shellArgs.osx":{type:"array",markdownDescription:o.nls.localize("theia/terminal/shellArgsOsx","The command line arguments to use when on the macOS terminal."),default:["-l"],deprecationMessage:u(s.OS.Type.OSX)},"terminal.integrated.shellArgs.linux":{type:"array",markdownDescription:o.nls.localize("theia/terminal/shellArgsLinux","The command line arguments to use when on the Linux terminal."),default:[],deprecationMessage:u(s.OS.Type.Linux)},"terminal.integrated.confirmOnExit":{type:"string",description:o.nls.localizeByDefault("Controls whether to confirm when the window closes if there are active terminal sessions."),enum:["never","always","hasChildProcesses"],enumDescriptions:[o.nls.localizeByDefault("Never confirm."),o.nls.localizeByDefault("Always confirm if there are terminals."),o.nls.localizeByDefault("Confirm if there are any terminals that have child processes.")],default:"never"},"terminal.integrated.enablePersistentSessions":{type:"boolean",description:o.nls.localizeByDefault("Persist terminal sessions/history for the workspace across window reloads."),default:!0},"terminal.integrated.defaultProfile.windows":{type:"string",description:o.nls.localize("theia/terminal/defaultProfile","The default profile used on {0}",s.OS.Type.Windows.toString())},"terminal.integrated.defaultProfile.linux":{type:"string",description:o.nls.localize("theia/terminal/defaultProfile","The default profile used on {0}",s.OS.Type.Linux.toString())},"terminal.integrated.defaultProfile.osx":{type:"string",description:o.nls.localize("theia/terminal/defaultProfile","The default profile used on {0}",s.OS.Type.OSX.toString())},"terminal.integrated.profiles.windows":{markdownDescription:o.nls.localize("theia/terminal/profiles",'The profiles to present when creating a new terminal. Set the path property manually with optional args.\nSet an existing profile to `null` to hide the profile from the list, for example: `"{0}": null`.',"cmd"),anyOf:[{type:"object",properties:{},additionalProperties:{oneOf:[{type:"object",additionalProperties:!1,properties:{path:d,args:{...l,description:o.nls.localize("theia/terminal/profileArgs","The shell arguments that this profile uses.")},...c},required:["path"]},{type:"object",additionalProperties:!1,properties:{source:{type:"string",description:o.nls.localizeByDefault("A profile source that will auto detect the paths to the shell. Note that non-standard executable locations are not supported and must be created manually in a new profile.")},args:{...l,description:o.nls.localize("theia/terminal/profileArgs","The shell arguments that this profile uses.")},...c},required:["source"],default:{path:"C:\\Windows\\System32\\cmd.exe"}},{type:"null"}]},default:{cmd:{path:"C:\\Windows\\System32\\cmd.exe"}}},{type:"null"}]},"terminal.integrated.profiles.linux":{markdownDescription:o.nls.localize("theia/terminal/profiles",'The profiles to present when creating a new terminal. Set the path property manually with optional args.\nSet an existing profile to `null` to hide the profile from the list, for example: `"{0}": null`.',"bash"),anyOf:[{type:"object",properties:{},additionalProperties:{oneOf:[{type:"object",properties:{path:d,args:{type:"array",items:{type:"string"},description:o.nls.localize("theia/terminal/profileArgs","The shell arguments that this profile uses.")},...c},required:["path"],additionalProperties:!1},{type:"null"}]},default:{path:"${env:SHELL}",args:["-l"]}},{type:"null"}]},"terminal.integrated.profiles.osx":{markdownDescription:o.nls.localize("theia/terminal/profiles",'The profiles to present when creating a new terminal. Set the path property manually with optional args.\nSet an existing profile to `null` to hide the profile from the list, for example: `"{0}": null`.',"zsh"),anyOf:[{type:"object",properties:{},additionalProperties:{oneOf:[{type:"object",properties:{path:d,args:{type:"array",items:{type:"string"},description:o.nls.localize("theia/terminal/profileArgs","The shell arguments that this profile uses.")},...c},required:["path"],additionalProperties:!1},{type:"null"}]},default:{path:"${env:SHELL}",args:["-l"]}},{type:"null"}]}}},t.DEFAULT_TERMINAL_RENDERER_TYPE="canvas",t.isTerminalRendererType=function(e){return"string"==typeof e&&("canvas"===e||"dom"===e)},t.TerminalPreferenceContribution=Symbol("TerminalPreferenceContribution"),t.TerminalPreferences=Symbol("TerminalPreferences"),t.createTerminalPreferences=h,t.bindTerminalPreferences=function(e){e(t.TerminalPreferences).toDynamicValue((e=>h(e.container.get(n.PreferenceService),e.container.get(t.TerminalPreferenceContribution).schema))).inSingletonScope(),e(t.TerminalPreferenceContribution).toConstantValue({schema:t.TerminalConfigSchema}),e(n.PreferenceContribution).toService(t.TerminalPreferenceContribution)}},10202:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTerminalProfileService=t.DefaultProfileStore=t.NULL_PROFILE=t.UserTerminalProfileStore=t.ContributedTerminalProfileStore=t.TerminalProfileService=void 0;const r=i(9825),s=i(70801);t.TerminalProfileService=Symbol("TerminalProfileService"),t.ContributedTerminalProfileStore=Symbol("ContributedTerminalProfileStore"),t.UserTerminalProfileStore=Symbol("UserTerminalProfileStore"),t.NULL_PROFILE={start:async()=>{throw new Error("you cannot start a null profile")}};let a=class{constructor(){this.onAddedEmitter=new r.Emitter,this.onRemovedEmitter=new r.Emitter,this.profiles=new Map,this.onAdded=this.onAddedEmitter.event,this.onRemoved=this.onRemovedEmitter.event}registerTerminalProfile(e,t){this.profiles.set(e,t),this.onAddedEmitter.fire([e,t])}unregisterTerminalProfile(e){this.profiles.delete(e),this.onRemovedEmitter.fire(e)}hasProfile(e){return this.profiles.has(e)}getProfile(e){return this.profiles.get(e)}get all(){return[...this.profiles.entries()]}};a=n([(0,s.injectable)()],a),t.DefaultProfileStore=a;let c=class{constructor(...e){this.defaultProfileIndex=0,this.order=[],this.onAddedEmitter=new r.Emitter,this.onRemovedEmitter=new r.Emitter,this.onAdded=this.onAddedEmitter.event,this.onRemoved=this.onRemovedEmitter.event,this.stores=e;for(const e of this.stores)e.onAdded((e=>{e[1]===t.NULL_PROFILE?this.handleRemoved(e[0]):this.handleAdded(e[0])})),e.onRemoved((e=>{this.getProfile(e)?this.handleAdded(e):this.handleRemoved(e)}))}handleRemoved(e){const t=this.order.indexOf(e);t>=0&&!this.getProfile(e)&&(this.order.splice(t,1),this.defaultProfileIndex=Math.max(0,Math.min(this.order.length-1,t)),this.onRemovedEmitter.fire(e))}handleAdded(e){this.order.indexOf(e)<0&&(this.order.push(e),this.onAddedEmitter.fire(e))}get defaultProfile(){const e=this.order[this.defaultProfileIndex];if(e)return this.getProfile(e)}setDefaultProfile(e){if(!this.getProfile(e))throw new Error(`Cannot set default to unknown profile '${e}' `);this.defaultProfileIndex=this.order.indexOf(e)}getProfile(e){for(const i of this.stores)if(i.hasProfile(e)){const n=i.getProfile(e);return n===t.NULL_PROFILE?void 0:n}}getId(e){for(const[t,i]of this.all)if(i===e)return t}get all(){return this.order.filter((e=>!!this.getProfile(e))).map((e=>[e,this.getProfile(e)]))}};c=n([(0,s.injectable)(),o("design:paramtypes",[Object])],c),t.DefaultTerminalProfileService=c},42463:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalQuickOpenContribution=t.TerminalQuickOpenService=void 0;const s=i(70801),a=i(87361),c=i(9825),l=i(24227),d=i(75906),u=i(78733);let h=n=class{open(){var e;null===(e=this.quickInputService)||void 0===e||e.open(n.PREFIX)}async getPicks(e,t){const i=[],n=this.terminalService.all.filter((e=>!e.hiddenFromUser)).sort(((e,t)=>this.compareItems(e,t)));for(const e of n)i.push(this.toItem(e));return i.push({label:c.nls.localizeByDefault("Create New Terminal"),iconClasses:(0,a.codiconArray)("add"),execute:()=>this.doCreateNewTerminal()}),(0,u.filterItems)(i,e)}registerQuickAccessProvider(){this.quickAccessRegistry.registerQuickAccessProvider({getInstance:()=>this,prefix:n.PREFIX,placeholder:"",helpEntries:[{description:c.nls.localizeByDefault("Show All Opened Terminals"),needsEditor:!1}]})}compareItems(e,t){const i=e=>e.trim().toLowerCase();return i(e.title.label)!==i(t.title.label)?i(e.title.label).localeCompare(i(t.title.label)):i(e.id).localeCompare(i(t.id))}doCreateNewTerminal(){this.commandService.executeCommand(d.TerminalCommands.NEW.id)}toItem(e){return{label:e.title.label,description:e.id,ariaLabel:e.title.label,execute:()=>this.terminalService.open(e)}}};h.PREFIX="term ",o([(0,s.inject)(a.QuickInputService),(0,s.optional)(),r("design:type",Object)],h.prototype,"quickInputService",void 0),o([(0,s.inject)(a.QuickAccessRegistry),r("design:type",Object)],h.prototype,"quickAccessRegistry",void 0),o([(0,s.inject)(c.CommandService),r("design:type",Object)],h.prototype,"commandService",void 0),o([(0,s.inject)(l.TerminalService),r("design:type",Object)],h.prototype,"terminalService",void 0),h=n=o([(0,s.injectable)()],h),t.TerminalQuickOpenService=h;let p=class{registerQuickAccessProvider(){this.terminalQuickOpenService.registerQuickAccessProvider()}registerCommands(e){e.registerCommand(d.TerminalCommands.SHOW_ALL_OPENED_TERMINALS,{execute:()=>this.terminalQuickOpenService.open()})}};o([(0,s.inject)(h),r("design:type",h)],p.prototype,"terminalQuickOpenService",void 0),p=o([(0,s.injectable)()],p),t.TerminalQuickOpenContribution=p},30063:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalThemeService=t.terminalAnsiColorMap=void 0;const r=i(70801),s=i(53414),a=i(20311);t.terminalAnsiColorMap={"terminal.ansiBlack":{index:0,defaults:{light:"#000000",dark:"#000000",hcDark:"#000000",hcLight:"#292929"}},"terminal.ansiRed":{index:1,defaults:{light:"#cd3131",dark:"#cd3131",hcDark:"#cd0000",hcLight:"#cd3131"}},"terminal.ansiGreen":{index:2,defaults:{light:"#00BC00",dark:"#0DBC79",hcDark:"#00cd00",hcLight:"#00bc00"}},"terminal.ansiYellow":{index:3,defaults:{light:"#949800",dark:"#e5e510",hcDark:"#cdcd00",hcLight:"#949800"}},"terminal.ansiBlue":{index:4,defaults:{light:"#0451a5",dark:"#2472c8",hcDark:"#0000ee",hcLight:"#0451a5"}},"terminal.ansiMagenta":{index:5,defaults:{light:"#bc05bc",dark:"#bc3fbc",hcDark:"#cd00cd",hcLight:"#bc05bc"}},"terminal.ansiCyan":{index:6,defaults:{light:"#0598bc",dark:"#11a8cd",hcDark:"#00cdcd",hcLight:"#0598b"}},"terminal.ansiWhite":{index:7,defaults:{light:"#555555",dark:"#e5e5e5",hcDark:"#e5e5e5",hcLight:"#555555"}},"terminal.ansiBrightBlack":{index:8,defaults:{light:"#666666",dark:"#666666",hcDark:"#7f7f7f",hcLight:"#666666"}},"terminal.ansiBrightRed":{index:9,defaults:{light:"#cd3131",dark:"#f14c4c",hcDark:"#ff0000",hcLight:"#cd3131"}},"terminal.ansiBrightGreen":{index:10,defaults:{light:"#14CE14",dark:"#23d18b",hcDark:"#00ff00",hcLight:"#00bc00"}},"terminal.ansiBrightYellow":{index:11,defaults:{light:"#b5ba00",dark:"#f5f543",hcDark:"#ffff00",hcLight:"#b5ba00"}},"terminal.ansiBrightBlue":{index:12,defaults:{light:"#0451a5",dark:"#3b8eea",hcDark:"#5c5cff",hcLight:"#0451a5"}},"terminal.ansiBrightMagenta":{index:13,defaults:{light:"#bc05bc",dark:"#d670d6",hcDark:"#ff00ff",hcLight:"#bc05bc"}},"terminal.ansiBrightCyan":{index:14,defaults:{light:"#0598bc",dark:"#29b8db",hcDark:"#00ffff",hcLight:"#0598bc"}},"terminal.ansiBrightWhite":{index:15,defaults:{light:"#a5a5a5",dark:"#e5e5e5",hcDark:"#ffffff",hcLight:"#a5a5a5"}}};let c=class{get onDidChange(){return this.themeService.onDidColorThemeChange}get theme(){const e=this.colorRegistry.getCurrentColor("terminal.foreground"),i=this.colorRegistry.getCurrentColor("terminal.background")||this.colorRegistry.getCurrentColor("panel.background"),n={background:i,foreground:e,cursor:this.colorRegistry.getCurrentColor("terminalCursor.foreground")||e,cursorAccent:this.colorRegistry.getCurrentColor("terminalCursor.background")||i,selection:this.colorRegistry.getCurrentColor("terminal.selectionBackground")};for(const e in t.terminalAnsiColorMap){const t=e.substring(13);n[t.charAt(0).toLowerCase()+t.slice(1)]=this.colorRegistry.getCurrentColor(e)}return n}};n([(0,r.inject)(s.ColorRegistry),o("design:type",s.ColorRegistry)],c.prototype,"colorRegistry",void 0),n([(0,r.inject)(a.ThemeService),o("design:type",a.ThemeService)],c.prototype,"themeService",void 0),c=n([(0,r.injectable)()],c),t.TerminalThemeService=c},63358:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.UrlLinkProvider=void 0;const r=i(70801),s=i(87361),a=i(30970);let c=class{constructor(){this.urlRegExp=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g,this.localhostRegExp=/(https?:\/\/)?(localhost|127\.0\.0\.1|0\.0\.0\.0)(:[0-9]{1,5})?([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g}async provideLinks(e,t){return[...this.matchUrlLinks(e),...this.matchLocalhostLinks(e)]}matchUrlLinks(e){const t=[];let i;for(;i=this.urlRegExp.exec(e);){const e=i[0];t.push({startIndex:this.urlRegExp.lastIndex-e.length,length:e.length,handle:()=>(0,s.open)(this.openerService,new a.default(e)).then()})}return t}matchLocalhostLinks(e){const t=[];let i;for(;i=this.localhostRegExp.exec(e);){const e=i[0];t.push({startIndex:this.localhostRegExp.lastIndex-e.length,length:e.length,handle:async()=>{const t=e.startsWith("http")?e:`http://${e}`;(0,s.open)(this.openerService,new a.default(t))}})}return t}};n([(0,r.inject)(s.OpenerService),o("design:type",Object)],c.prototype,"openerService",void 0),c=n([(0,r.injectable)()],c),t.UrlLinkProvider=c},91030:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalWidgetImpl=t.TerminalContribution=t.TERMINAL_WIDGET_FACTORY_ID=void 0;const s=i(8582),a=i(78424),c=i(70801),l=i(9825),d=i(87361),u=i(9825),h=i(73246),p=i(37663),g=i(91942),f=i(45782),m=i(40933),b=i(21723),v=i(60516),A=i(70553),y=i(30970),C=i(24227),w=i(96958),_=i(5819),S=i(30063),E=i(69612),k=i(85524),x=i(44989),D=i(75906),T=i(6577);t.TERMINAL_WIDGET_FACTORY_ID="terminal",t.TerminalContribution=Symbol("TerminalContribution");let M=n=class extends b.TerminalWidget{constructor(){super(...arguments),this.isExtractable=!0,this.terminalKind="user",this._terminalId=-1,this.onTermDidClose=new l.Emitter,this.restored=!1,this.closeOnDispose=!0,this.isAttachedCloseListener=!1,this.shown=!1,this.lastCwd=new y.default,this.onDidOpenEmitter=new l.Emitter,this.onDidOpen=this.onDidOpenEmitter.event,this.onDidOpenFailureEmitter=new l.Emitter,this.onDidOpenFailure=this.onDidOpenFailureEmitter.event,this.onSizeChangedEmitter=new l.Emitter,this.onSizeChanged=this.onSizeChangedEmitter.event,this.onDataEmitter=new l.Emitter,this.onData=this.onDataEmitter.event,this.onKeyEmitter=new l.Emitter,this.onKey=this.onKeyEmitter.event,this.onMouseEnterLinkHoverEmitter=new l.Emitter,this.onMouseEnterLinkHover=this.onMouseEnterLinkHoverEmitter.event,this.onMouseLeaveLinkHoverEmitter=new l.Emitter,this.onMouseLeaveLinkHover=this.onMouseLeaveLinkHoverEmitter.event,this.toDisposeOnConnect=new l.DisposableCollection,this.needsResize=!0,this.deviceStatusCodes=new Set(["[>0;276;0c","[>85;95;0c","[>83;40003;0c","[?1;2c","[?6c"]),this.termOpened=!1,this.initialData="",this.resizeTerminal=T((()=>this.doResizeTerminal()),50)}init(){this.setTitle(this.options.title||n.LABEL),this.options.iconClass?this.title.iconClass=this.options.iconClass:this.title.iconClass=(0,d.codicon)("terminal"),this.options.kind&&(this.terminalKind=this.options.kind),!0===this.options.destroyTermOnClose&&this.toDispose.push(l.Disposable.create((()=>this.term.dispose()))),this.location=this.options.location||b.TerminalLocation.Panel,this.title.closable=!0,this.addClass("terminal-container"),this.term=new s.Terminal({cursorBlink:this.preferences["terminal.integrated.cursorBlinking"],cursorStyle:this.getCursorStyle(),cursorWidth:this.preferences["terminal.integrated.cursorWidth"],fontFamily:this.preferences["terminal.integrated.fontFamily"],fontSize:this.preferences["terminal.integrated.fontSize"],fontWeight:this.preferences["terminal.integrated.fontWeight"],fontWeightBold:this.preferences["terminal.integrated.fontWeightBold"],drawBoldTextInBrightColors:this.preferences["terminal.integrated.drawBoldTextInBrightColors"],letterSpacing:this.preferences["terminal.integrated.letterSpacing"],lineHeight:this.preferences["terminal.integrated.lineHeight"],scrollback:this.preferences["terminal.integrated.scrollback"],fastScrollSensitivity:this.preferences["terminal.integrated.fastScrollSensitivity"],rendererType:this.getTerminalRendererType(this.preferences["terminal.integrated.rendererType"]),theme:this.themeService.theme}),this.fitAddon=new a.FitAddon,this.term.loadAddon(this.fitAddon),this.initializeLinkHover(),this.toDispose.push(this.preferences.onPreferenceChanged((e=>{const t=e.preferenceName.lastIndexOf(".");if(t>0){let i=e.preferenceName.substring(t+1),n=e.newValue;if("rendererType"===i){const e=n;e!==this.getTerminalRendererType(e)&&(n=A.DEFAULT_TERMINAL_RENDERER_TYPE)}else"cursorBlinking"===i?i="cursorBlink":"cursorStyle"===i&&(n=this.getCursorStyle());try{this.term.setOption(i,n)}catch(e){console.debug(`xterm configuration: '${i}' with value '${n}' is not valid.`)}this.needsResize=!0,this.update()}}))),this.toDispose.push(this.themeService.onDidChange((()=>this.term.setOption("theme",this.themeService.theme)))),this.attachCustomKeyEventHandler();const e=this.term.onTitleChange((e=>{this.options.useServerTitle&&(this.title.label=e)}));this.toDispose.push(e),this.toDispose.push(this.terminalWatcher.onTerminalError((({terminalId:e,error:t})=>{e===this.terminalId&&(this.exitStatus={code:void 0,reason:f.TerminalExitReason.Process},this.dispose(),this.logger.error(`The terminal process terminated. Cause: ${t}`))}))),this.toDispose.push(this.terminalWatcher.onTerminalExit((({terminalId:e,code:t,reason:i})=>{e===this.terminalId&&(this.exitStatus=i?{code:t,reason:i}:{code:t,reason:f.TerminalExitReason.Process},this.dispose())}))),this.toDispose.push(this.toDisposeOnConnect),this.toDispose.push(this.shellTerminalServer.onDidCloseConnection((()=>{const e=this.shellTerminalServer.onDidOpenConnection((()=>{e.dispose(),this.reconnectTerminalProcess()}));this.toDispose.push(e)}))),this.toDispose.push(this.onTermDidClose),this.toDispose.push(this.onDidOpenEmitter),this.toDispose.push(this.onDidOpenFailureEmitter),this.toDispose.push(this.onSizeChangedEmitter),this.toDispose.push(this.onDataEmitter),this.toDispose.push(this.onKeyEmitter);const t=e=>{this.node.contains(e.target)&&(this.lastTouchEnd=e)};document.addEventListener("touchend",t,{passive:!0}),this.onDispose((()=>{document.removeEventListener("touchend",t)}));const i=e=>{this.lastMousePosition={x:e.x,y:e.y}};this.node.addEventListener("mousemove",i),this.onDispose((()=>{this.node.removeEventListener("mousemove",i)}));const o=e=>{e.preventDefault(),e.stopPropagation(),this.contextMenuRenderer.render({menuPath:D.TerminalMenus.TERMINAL_CONTEXT_MENU,anchor:e})};this.node.addEventListener("contextmenu",o),this.onDispose((()=>this.node.removeEventListener("contextmenu",o))),this.toDispose.push(this.term.onSelectionChange((()=>{this.copyOnSelection&&this.copyOnSelectionHandler.copy(this.term.getSelection())}))),this.toDispose.push(this.term.onResize((e=>{this.onSizeChangedEmitter.fire(e)}))),this.toDispose.push(this.term.onData((e=>{this.onDataEmitter.fire(e)}))),this.toDispose.push(this.term.onBinary((e=>{this.onDataEmitter.fire(e)}))),this.toDispose.push(this.term.onKey((e=>{this.onKeyEmitter.fire(e)})));for(const e of this.terminalContributionProvider.getContributions())e.onCreate(this);this.searchBox=this.terminalSearchBoxFactory(this.term),this.toDispose.push(this.searchBox)}get kind(){return this.terminalKind}getCursorStyle(){const e=this.preferences["terminal.integrated.cursorStyle"];return"line"===e?"bar":e}getTerminalRendererType(e){return e&&(0,A.isTerminalRendererType)(e)?e:A.DEFAULT_TERMINAL_RENDERER_TYPE}initializeLinkHover(){this.linkHover=document.createElement("div"),this.linkHover.style.position="fixed",this.linkHover.style.color="var(--theia-editorHoverWidget-foreground)",this.linkHover.style.backgroundColor="var(--theia-editorHoverWidget-background)",this.linkHover.style.borderColor="var(--theia-editorHoverWidget-border)",this.linkHover.style.borderWidth="0.5px",this.linkHover.style.borderStyle="solid",this.linkHover.style.padding="5px",this.linkHover.style.zIndex="10",this.linkHover.style.display="none",this.linkHoverButton=document.createElement("a"),this.linkHoverButton.textContent=this.linkHoverMessage(),this.linkHoverButton.style.cursor="pointer",this.linkHover.appendChild(this.linkHoverButton);const e=u.isOSX?"cmd":"ctrl",t=document.createTextNode(` (${x.nls.localizeByDefault(`${e} + click`)})`);this.linkHover.appendChild(t);const i=e=>this.onMouseEnterLinkHoverEmitter.fire(e);this.linkHover.addEventListener("mouseenter",i),this.toDispose.push(l.Disposable.create((()=>this.linkHover.removeEventListener("mouseenter",i))));const n=e=>this.onMouseLeaveLinkHoverEmitter.fire(e);this.linkHover.addEventListener("mouseleave",n),this.toDispose.push(l.Disposable.create((()=>this.linkHover.removeEventListener("mouseleave",n)))),this.node.appendChild(this.linkHover)}showLinkHover(e,t,i,n){var o,r,s,a;const c=null!==(r=null===(o=this.lastMousePosition)||void 0===o?void 0:o.y)&&void 0!==r?r:i,l=null!==(a=null===(s=this.lastMousePosition)||void 0===s?void 0:s.x)&&void 0!==a?a:t;this.linkHoverButton.textContent=this.linkHoverMessage(n),this.linkHoverButton.onclick=t=>e(t),this.linkHover.style.display="inline",this.linkHover.style.top=c-30+"px",this.linkHover.style.left=l-60+"px"}linkHoverMessage(e){return null!=e?e:x.nls.localizeByDefault("Follow link")}hideLinkHover(){this.linkHover.style.display="none",this.linkHoverButton.onclick=null}getTerminal(){return this.term}getSearchBox(){return this.searchBox}onCloseRequest(e){this.exitStatus={code:void 0,reason:f.TerminalExitReason.User},super.onCloseRequest(e)}get dimensions(){return{cols:this.term.cols,rows:this.term.rows}}get cwd(){return f.IBaseTerminalServer.validateId(this.terminalId)?this.terminalService.getById(this.id)?this.shellTerminalServer.getCwdURI(this.terminalId).then((e=>(this.lastCwd=new y.default(e),this.lastCwd))).catch((()=>this.lastCwd)):Promise.resolve(new y.default):Promise.reject(new Error("terminal is not started"))}get processId(){return f.IBaseTerminalServer.validateId(this.terminalId)?this.shellTerminalServer.getProcessId(this.terminalId):Promise.reject(new Error("terminal is not started"))}get processInfo(){return f.IBaseTerminalServer.validateId(this.terminalId)?this.shellTerminalServer.getProcessInfo(this.terminalId):Promise.reject(new Error("terminal is not started"))}get terminalId(){return this._terminalId}get lastTouchEndEvent(){return this.lastTouchEnd}get hiddenFromUser(){var e;return!this.shown&&null!==(e=this.options.hideFromUser)&&void 0!==e&&e}get transient(){return!this.preferences["terminal.integrated.enablePersistentSessions"]||!!this.options.isTransient}onDispose(e){this.toDispose.push(l.Disposable.create(e))}clearOutput(){this.term.clear()}selectAll(){this.term.selectAll()}async hasChildProcesses(){return this.shellTerminalServer.hasChildProcesses(await this.processId)}storeState(){return this.closeOnDispose=!1,this.transient||this.options.isPseudoTerminal?{}:{terminalId:this.terminalId,titleLabel:this.title.label}}restoreState(e){if(this.transient||this.options.isPseudoTerminal)this.dispose();else if(!1===this.restored){const t=e;this.restored=!0,this.title.label=t.titleLabel,this.start(t.terminalId)}}async start(e){if(this._terminalId="number"!=typeof e?await this.createTerminal():await this.attachTerminal(e),this.resizeTerminalProcess(),this.connectTerminalProcess(),f.IBaseTerminalServer.validateId(this.terminalId))return this.onDidOpenEmitter.fire(void 0),await this.shellTerminalServer.onAttachAttempted(this._terminalId),this.terminalId;throw this.onDidOpenFailureEmitter.fire(void 0),new Error("Failed to start terminal"+(e?` for id: ${e}.`:"."))}async attachTerminal(e){const t=await this.shellTerminalServer.attach(e);return f.IBaseTerminalServer.validateId(t)?t:(this.logger.warn(`Failed attaching to terminal id ${e}, the terminal is most likely gone. Starting up a new terminal instead.`),"user"===this.kind?this.createTerminal():-1)}async createTerminal(){var e,t;let i=null===(e=this.options.cwd)||void 0===e?void 0:e.toString();if(!i){const e=(await this.workspaceService.roots)[0];i=null===(t=null==e?void 0:e.resource)||void 0===t?void 0:t.toString()}const{cols:n,rows:o}=this.term,r=await this.shellTerminalServer.create({shell:this.options.shellPath||this.shellPreferences.shell[l.OS.backend.type()],args:this.options.shellArgs||this.shellPreferences.shellArgs[l.OS.backend.type()],env:this.options.env,strictEnv:this.options.strictEnv,isPseudo:this.options.isPseudoTerminal,rootURI:i,cols:n,rows:o});if(f.IBaseTerminalServer.validateId(r))return r;throw new Error("Error creating terminal widget, see the backend error log for more information.")}processMessage(e){super.processMessage(e),"fit-request"===e.type&&this.onFitRequest(e)}onFitRequest(e){super.onFitRequest(e),d.MessageLoop.sendMessage(this,d.Widget.ResizeMessage.UnknownSize)}onActivateRequest(e){super.onActivateRequest(e),this.term.focus()}onAfterShow(e){super.onAfterShow(e),this.update(),this.shown=!0}onAfterAttach(e){d.Widget.attach(this.searchBox,this.node),super.onAfterAttach(e),this.update()}onBeforeDetach(e){d.Widget.detach(this.searchBox),super.onBeforeDetach(e)}onResize(e){super.onResize(e),this.needsResize=!0,this.update()}onUpdateRequest(e){super.onUpdateRequest(e),this.isVisible&&this.isAttached&&(this.open(),this.needsResize&&(this.resizeTerminal(),this.needsResize=!1,this.resizeTerminalProcess()))}connectTerminalProcess(){if("number"!=typeof this.terminalId)return;if(this.options.isPseudoTerminal)return;this.toDisposeOnConnect.dispose(),this.toDispose.push(this.toDisposeOnConnect);const e=this.waitForConnection=new v.Deferred;this.webSocketConnectionProvider.listen({path:`${g.terminalsPath}/${this.terminalId}`,onConnection:t=>{t.onMessage((e=>{this.write(e().readString())}));const i=e=>{!e||this.deviceStatusCodes.has(e)||this.disableEnterWhenAttachCloseListener()||t.getWriteBuffer().writeString(e).commit()},n=new l.DisposableCollection;n.push(this.term.onData(i)),n.push(this.term.onBinary(i)),t.onClose((()=>n.dispose())),e&&e.resolve(t)}},{reconnecting:!1})}async reconnectTerminalProcess(){this.options.isPseudoTerminal||"number"==typeof this.terminalId&&await this.start(this.terminalId)}open(){if(!this.termOpened){if(this.term.open(this.node),d.isFirefox){const e=this.term._core._renderService,t=e._onIntersectionChange.bind(e),i=function(e){if(e.target.ownerDocument!==document){const i={...e,isIntersecting:!0};t(i)}else t(e)};e._onIntersectionChange=i}this.initialData&&this.term.write(this.initialData),this.termOpened=!0,this.initialData="",d.isFirefox&&this.term.element&&(this.term.element.children.item(0).style.overflow="hidden")}}write(e){this.termOpened?this.term.write(e):this.initialData+=e}resize(e,t){this.term.resize(e,t)}sendText(e){this.waitForConnection&&this.waitForConnection.promise.then((t=>t.getWriteBuffer().writeString(e).commit()))}async executeCommand(e){this.sendText(this.shellCommandBuilder.buildCommand(await this.processInfo,e)+l.OS.backend.EOL)}scrollLineUp(){this.term.scrollLines(-1)}scrollLineDown(){this.term.scrollLines(1)}scrollToTop(){this.term.scrollToTop()}scrollToBottom(){this.term.scrollToBottom()}scrollPageUp(){this.term.scrollPages(-1)}scrollPageDown(){this.term.scrollPages(1)}resetTerminal(){this.term.reset()}writeLine(e){this.term.writeln(e)}get onTerminalDidClose(){return this.onTermDidClose.event}dispose(){!0!==this.closeOnDispose||"number"!=typeof this.terminalId||this.exitStatus||(this.shellTerminalServer.close(this.terminalId),this.exitStatus={code:void 0,reason:f.TerminalExitReason.Extension}),this.exitStatus&&this.onTermDidClose.fire(this),super.dispose()}doResizeTerminal(){if(this.isDisposed)return;const e=this.fitAddon.proposeDimensions(),t=e.cols,i=e.rows-1;this.term.resize(t,i)}resizeTerminalProcess(){if(this.options.isPseudoTerminal)return;if(!f.IBaseTerminalServer.validateId(this.terminalId)||!this.terminalService.getById(this.id))return;const{cols:e,rows:t}=this.term;this.shellTerminalServer.resize(this.terminalId,e,t)}get enableCopy(){return this.preferences["terminal.enableCopy"]}get enablePaste(){return this.preferences["terminal.enablePaste"]}get shellPreferences(){var e,t,i;return{shell:{Windows:null!==(e=this.preferences["terminal.integrated.shell.windows"])&&void 0!==e?e:void 0,Linux:null!==(t=this.preferences["terminal.integrated.shell.linux"])&&void 0!==t?t:void 0,OSX:null!==(i=this.preferences["terminal.integrated.shell.osx"])&&void 0!==i?i:void 0},shellArgs:{Windows:this.preferences["terminal.integrated.shellArgs.windows"],Linux:this.preferences["terminal.integrated.shellArgs.linux"],OSX:this.preferences["terminal.integrated.shellArgs.osx"]}}}customKeyHandler(e){const t=d.KeyCode.createKeyCode(e).toString(),i=u.isOSX&&"meta+c"===t||!u.isOSX&&"ctrl+c"===t,n=u.isOSX&&"meta+v"===t||!u.isOSX&&"ctrl+v"===t;return!(i&&this.enableCopy&&this.term.hasSelection()||n&&this.enablePaste)}get copyOnSelection(){return this.preferences["terminal.integrated.copyOnSelection"]}attachCustomKeyEventHandler(){this.term.attachCustomKeyEventHandler((e=>this.customKeyHandler(e)))}setTitle(e){this.title.caption=e,this.title.label=e}waitOnExit(e){if(e){if("string"==typeof e){let t=e;t=`\r\n[1m${t}[0m`,this.write(t)}this.attachPressEnterKeyToCloseListener(this.term)}else this.dispose()}attachPressEnterKeyToCloseListener(e){e.textarea&&(this.isAttachedCloseListener=!0,this.addKeyListener(e.textarea,k.Key.ENTER,(e=>{this.dispose(),this.isAttachedCloseListener=!1})))}disableEnterWhenAttachCloseListener(){return this.isAttachedCloseListener}};M.LABEL=x.nls.localizeByDefault("Terminal"),o([(0,c.inject)(h.WorkspaceService),r("design:type",h.WorkspaceService)],M.prototype,"workspaceService",void 0),o([(0,c.inject)(d.WebSocketConnectionProvider),r("design:type",d.WebSocketConnectionProvider)],M.prototype,"webSocketConnectionProvider",void 0),o([(0,c.inject)(b.TerminalWidgetOptions),r("design:type",Object)],M.prototype,"options",void 0),o([(0,c.inject)(p.ShellTerminalServerProxy),r("design:type",Object)],M.prototype,"shellTerminalServer",void 0),o([(0,c.inject)(m.TerminalWatcher),r("design:type",m.TerminalWatcher)],M.prototype,"terminalWatcher",void 0),o([(0,c.inject)(l.ILogger),(0,c.named)("terminal"),r("design:type",Object)],M.prototype,"logger",void 0),o([(0,c.inject)("terminal-dom-id"),r("design:type",String)],M.prototype,"id",void 0),o([(0,c.inject)(A.TerminalPreferences),r("design:type",Object)],M.prototype,"preferences",void 0),o([(0,c.inject)(l.ContributionProvider),(0,c.named)(t.TerminalContribution),r("design:type",Object)],M.prototype,"terminalContributionProvider",void 0),o([(0,c.inject)(C.TerminalService),r("design:type",Object)],M.prototype,"terminalService",void 0),o([(0,c.inject)(w.TerminalSearchWidgetFactory),r("design:type",Function)],M.prototype,"terminalSearchBoxFactory",void 0),o([(0,c.inject)(_.TerminalCopyOnSelectionHandler),r("design:type",_.TerminalCopyOnSelectionHandler)],M.prototype,"copyOnSelectionHandler",void 0),o([(0,c.inject)(S.TerminalThemeService),r("design:type",S.TerminalThemeService)],M.prototype,"themeService",void 0),o([(0,c.inject)(E.ShellCommandBuilder),r("design:type",E.ShellCommandBuilder)],M.prototype,"shellCommandBuilder",void 0),o([(0,c.inject)(d.ContextMenuRenderer),r("design:type",d.ContextMenuRenderer)],M.prototype,"contextMenuRenderer",void 0),o([(0,c.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],M.prototype,"init",null),M=n=o([(0,c.injectable)()],M),t.TerminalWidgetImpl=M},45782:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentVariableMutatorType=t.ENVIRONMENT_VARIABLE_COLLECTIONS_KEY=t.DispatchingBaseTerminalClient=t.TerminalExitReason=t.IBaseTerminalServer=void 0;const n=i(9825);var o,r;(t.IBaseTerminalServer||(t.IBaseTerminalServer={})).validateId=function(e){return"number"==typeof e&&-1!==e},(o=t.TerminalExitReason||(t.TerminalExitReason={}))[o.Unknown=0]="Unknown",o[o.Shutdown=1]="Shutdown",o[o.Process=2]="Process",o[o.User=3]="User",o[o.Extension=4]="Extension",t.DispatchingBaseTerminalClient=class{constructor(){this.clients=new Set}push(e){return this.clients.add(e),n.Disposable.create((()=>this.clients.delete(e)))}onTerminalExitChanged(e){this.clients.forEach((t=>{try{t.onTerminalExitChanged(e)}catch(e){console.error(e)}}))}onTerminalError(e){this.clients.forEach((t=>{try{t.onTerminalError(e)}catch(e){console.error(e)}}))}updateTerminalEnvVariables(){this.clients.forEach((e=>{try{e.updateTerminalEnvVariables()}catch(e){console.error(e)}}))}storeTerminalEnvVariables(e){this.clients.forEach((t=>{try{t.storeTerminalEnvVariables(e)}catch(e){console.error(e)}}))}},t.ENVIRONMENT_VARIABLE_COLLECTIONS_KEY="terminal.integrated.environmentVariableCollections",(r=t.EnvironmentVariableMutatorType||(t.EnvironmentVariableMutatorType={}))[r.Replace=1]="Replace",r[r.Append=2]="Append",r[r.Prepend=3]="Prepend"},37663:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShellTerminalServerProxy=t.shellTerminalPath=t.IShellTerminalServer=void 0,t.IShellTerminalServer=Symbol("IShellTerminalServer"),t.shellTerminalPath="/services/shell-terminal",t.ShellTerminalServerProxy=Symbol("ShellTerminalServerProxy")},10679:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCommonBindings=void 0;const n=i(9825);t.createCommonBindings=function(e){e(n.ILogger).toDynamicValue((e=>e.container.get(n.ILogger).child("terminal"))).inSingletonScope().whenTargetNamed("terminal")}},91942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminalsPath=t.terminalPath=t.ITerminalServer=void 0,t.ITerminalServer=Symbol("ITerminalServer"),t.terminalPath="/services/terminal",t.terminalsPath="/services/terminals"},40933:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalWatcher=void 0;const o=i(70801),r=i(18894);let s=class{constructor(){this.onTerminalExitEmitter=new r.Emitter,this.onTerminalErrorEmitter=new r.Emitter,this.onStoreTerminalEnvVariablesRequestedEmitter=new r.Emitter,this.onUpdateTerminalEnvVariablesRequestedEmitter=new r.Emitter}getTerminalClient(){const e=this.onTerminalExitEmitter,t=this.onTerminalErrorEmitter,i=this.onStoreTerminalEnvVariablesRequestedEmitter,n=this.onUpdateTerminalEnvVariablesRequestedEmitter;return{storeTerminalEnvVariables(e){i.fire(e)},updateTerminalEnvVariables(){n.fire(void 0)},onTerminalExitChanged(t){e.fire(t)},onTerminalError(e){t.fire(e)}}}get onTerminalExit(){return this.onTerminalExitEmitter.event}get onTerminalError(){return this.onTerminalErrorEmitter.event}get onStoreTerminalEnvVariablesRequested(){return this.onStoreTerminalEnvVariablesRequestedEmitter.event}get onUpdateTerminalEnvVariablesRequested(){return this.onUpdateTerminalEnvVariablesRequestedEmitter.event}};s=n([(0,o.injectable)()],s),t.TerminalWatcher=s},63367:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineContextKeyService=void 0;const r=i(70801),s=i(949);let a=class{get timelineItem(){return this._timelineItem}init(){this._timelineItem=this.contextKeyService.createKey("timelineItem",void 0)}};n([(0,r.inject)(s.ContextKeyService),o("design:type",Object)],a.prototype,"contextKeyService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],a.prototype,"init",null),a=n([(0,r.injectable)()],a),t.TimelineContextKeyService=a},87890:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineContribution=void 0;const r=i(70801),s=i(87361),a=i(22448),c=i(7114),l=i(64514),d=i(9825),u=i(23119),h=i(97347),p=i(44597);let g=class{constructor(){this.toolbarItem={id:"timeline-refresh-toolbar-item",command:"timeline-refresh",tooltip:"Refresh",icon:(0,s.codicon)("refresh")}}registerToolbarItems(e){e.registerItem(this.toolbarItem)}registerCommands(e){const t=async e=>{const t=await this.widgetManager.getOrCreateWidget(c.TimelineWidget.ID);e instanceof s.ViewContainer&&-1===e.getTrackableWidgets().indexOf(t)&&e.addWidget(t,{initiallyCollapsed:!0})};this.widgetManager.onWillCreateWidget((async e=>{e.widget.id===a.EXPLORER_VIEW_CONTAINER_ID&&this.timelineService.getSources().length>0&&e.waitUntil(t(e.widget))})),this.timelineService.onDidChangeProviders((async e=>{const i=await this.widgetManager.getWidget(a.EXPLORER_VIEW_CONTAINER_ID);if(i&&e.added&&e.added.length>0)t(i);else if(e.removed&&0===this.timelineService.getSources().length){const e=await this.widgetManager.getWidget(c.TimelineWidget.ID);e&&e.close()}})),e.registerCommand(p.LOAD_MORE_COMMAND,{execute:async()=>{const e=(0,h.toArray)(this.shell.mainPanel.widgets()).find((e=>s.Navigatable.is(e)&&e.isVisible&&!e.isHidden));if(s.Navigatable.is(e)){const t=e.getResourceUri(),i=await this.widgetManager.getWidget(c.TimelineWidget.ID);t&&i&&i.loadTimeline(t,!1)}}}),e.registerCommand({id:this.toolbarItem.command},{execute:e=>this.checkWidget(e,(async()=>{const e=await this.widgetManager.getWidget(c.TimelineWidget.ID);e&&e.update()})),isEnabled:e=>this.checkWidget(e,(()=>!0)),isVisible:e=>this.checkWidget(e,(()=>!0))})}checkWidget(e,t){return e instanceof c.TimelineWidget&&e.id===c.TimelineWidget.ID&&t()}};g.LOAD_MORE_COMMAND=p.LOAD_MORE_COMMAND,n([(0,r.inject)(s.WidgetManager),o("design:type",s.WidgetManager)],g.prototype,"widgetManager",void 0),n([(0,r.inject)(l.TimelineService),o("design:type",l.TimelineService)],g.prototype,"timelineService",void 0),n([(0,r.inject)(d.CommandRegistry),o("design:type",d.CommandRegistry)],g.prototype,"commandRegistry",void 0),n([(0,r.inject)(u.TabBarToolbarRegistry),o("design:type",u.TabBarToolbarRegistry)],g.prototype,"tabBarToolbar",void 0),n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],g.prototype,"shell",void 0),g=n([(0,r.injectable)()],g),t.TimelineContribution=g},22638:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineEmptyWidget=void 0;const s=i(70801),a=i(87361),c=i(86508),l=i(92664);let d=n=class extends a.ReactWidget{constructor(){super(),this.addClass("theia-timeline-empty"),this.id=n.ID}render(){return l.createElement(c.AlertMessage,{type:"WARNING",header:"The active editor cannot provide timeline information."})}};d.ID="timeline-empty-widget",d=n=o([(0,s.injectable)(),r("design:paramtypes",[])],d),t.TimelineEmptyWidget=d},69224:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTimelineTreeContainer=void 0;const n=i(70801),o=i(9791),r=i(64514),s=i(7114),a=i(31431),c=i(87361),l=i(44597),d=i(22638),u=i(63367),h=i(87890);i(36874);const p=i(9825),g=i(23119);function f(e){return(0,c.createTreeContainer)(e,{props:{virtualized:!0,search:!0},widget:a.TimelineTreeWidget,model:l.TimelineTreeModel})}t.default=new n.ContainerModule((e=>{e(h.TimelineContribution).toSelf().inSingletonScope(),e(p.CommandContribution).toService(h.TimelineContribution),e(g.TabBarToolbarContribution).toService(h.TimelineContribution),e(u.TimelineContextKeyService).toSelf().inSingletonScope(),e(r.TimelineService).toSelf().inSingletonScope(),e(s.TimelineWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:s.TimelineWidget.ID,createWidget:()=>e.get(s.TimelineWidget)}))).inSingletonScope(),e(a.TimelineTreeWidget).toDynamicValue((e=>f(e.container).get(a.TimelineTreeWidget))),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:a.TimelineTreeWidget.ID,createWidget:()=>e.get(a.TimelineTreeWidget)}))).inSingletonScope(),e(d.TimelineEmptyWidget).toSelf(),e(o.WidgetFactory).toDynamicValue((({container:e})=>({id:d.TimelineEmptyWidget.ID,createWidget:()=>e.get(d.TimelineEmptyWidget)}))).inSingletonScope()})),t.createTimelineTreeContainer=f},64514:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineAggregate=t.TimelineService=void 0;const o=i(70801),r=i(9825);let s=class{constructor(){this.providers=new Map,this.onDidChangeProvidersEmitter=new r.Emitter,this.onDidChangeProviders=this.onDidChangeProvidersEmitter.event,this.onDidChangeTimelineEmitter=new r.Emitter,this.onDidChangeTimeline=this.onDidChangeTimelineEmitter.event}registerTimelineProvider(e){const t=e.id;return this.providers.set(t,e),e.onDidChange&&e.onDidChange((e=>this.onDidChangeTimelineEmitter.fire(e))),this.onDidChangeProvidersEmitter.fire({added:[t]}),r.Disposable.create((()=>this.unregisterTimelineProvider(t)))}unregisterTimelineProvider(e){const t=this.providers.get(e);t&&(t.dispose(),this.providers.delete(e),this.onDidChangeProvidersEmitter.fire({removed:[e]}))}getSources(){return[...this.providers.values()].map((e=>({id:e.id,label:e.label})))}getSchemas(){const e=[];return Array.from(this.providers.values()).forEach((t=>{const i=t.scheme;"string"==typeof i?e.push(i):i.forEach((t=>e.push(t)))})),e}getTimeline(e,t,i,n){const o=this.providers.get(e);return o?"string"==typeof o.scheme&&"*"!==o.scheme&&o.scheme!==t.scheme?Promise.resolve(void 0):o.provideTimeline(t,i,n).then((e=>{if(e)return e.items=e.items.map((e=>({...e,source:o.id}))),e})):Promise.resolve(void 0)}};s=n([(0,o.injectable)()],s),t.TimelineService=s,t.TimelineAggregate=class{constructor(e){var t;this.source=e.source,this.items=e.items,this._cursor=null===(t=e.paging)||void 0===t?void 0:t.cursor}get cursor(){return this._cursor}set cursor(e){this._cursor=e}add(e){this.items.push(...e),this.items.sort(((e,t)=>t.timestamp-e.timestamp))}}},44597:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineTreeModel=t.LOAD_MORE_COMMAND=void 0;const o=i(70801),r=i(21810);t.LOAD_MORE_COMMAND={id:"timeline-load-more"};let s=class extends r.TreeModelImpl{updateTree(e,i){const n={id:"timeline-tree-root",parent:void 0,visible:!1,children:[]},o=e.map((e=>({timelineItem:e,id:e.id?e.id:e.timestamp.toString(),parent:n,detail:e.detail,selected:!1,visible:!0})));let r;if(i){const e={label:"Load-more",timestamp:0,handle:"",uri:"",source:""};e.command=t.LOAD_MORE_COMMAND,r={timelineItem:e,id:"load-more",parent:n,selected:!0},o.push(r)}n.children=o,this.root=n,r&&this.selectionService.addSelection(r)}};s=n([(0,o.injectable)()],s),t.TimelineTreeModel=s},31431:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineItemNode=t.TimelineTreeWidget=t.TIMELINE_ITEM_CONTEXT_MENU=void 0;const a=i(70801),c=i(9825),l=i(21810),d=i(87361),u=i(44597),h=i(64514),p=i(63367),g=i(92664);t.TIMELINE_ITEM_CONTEXT_MENU=["timeline-item-context-menu"];let f=n=class extends l.TreeWidget{constructor(e,t,i){super(e,t,i),this.model=t,this.id=n.ID,this.addClass("timeline-outer-container")}renderNode(e,t){const i=this.createNodeAttributes(e,t),n=g.createElement(m,{timelineItem:e.timelineItem,commandRegistry:this.commandRegistry,contextKeys:this.contextKeys,contextMenuRenderer:this.contextMenuRenderer});return g.createElement("div",i,n)}handleEnter(e){var t;const i=this.model.getFocusedNode(),n=null===(t=null==i?void 0:i.timelineItem)||void 0===t?void 0:t.command;n&&this.commandRegistry.executeCommand(n.id,...n.arguments?n.arguments:[])}async handleLeft(e){this.model.selectPrevNode()}};f.ID="timeline-tree-widget",f.PAGE_SIZE=20,o([(0,a.inject)(c.MenuModelRegistry),r("design:type",c.MenuModelRegistry)],f.prototype,"menus",void 0),o([(0,a.inject)(p.TimelineContextKeyService),r("design:type",p.TimelineContextKeyService)],f.prototype,"contextKeys",void 0),o([(0,a.inject)(h.TimelineService),r("design:type",h.TimelineService)],f.prototype,"timelineService",void 0),o([(0,a.inject)(c.CommandRegistry),r("design:type",c.CommandRegistry)],f.prototype,"commandRegistry",void 0),f=n=o([(0,a.injectable)(),s(0,(0,a.inject)(l.TreeProps)),s(1,(0,a.inject)(u.TimelineTreeModel)),s(2,(0,a.inject)(d.ContextMenuRenderer)),r("design:paramtypes",[Object,u.TimelineTreeModel,d.ContextMenuRenderer])],f),t.TimelineTreeWidget=f;class m extends g.Component{constructor(){super(...arguments),this.open=()=>{const e=this.props.timelineItem.command;e&&this.props.commandRegistry.executeCommand(e.id,...e.arguments?e.arguments:[])},this.renderContextMenu=e=>{e.preventDefault(),e.stopPropagation();const{timelineItem:i,contextKeys:n,contextMenuRenderer:o}=this.props,r=n.timelineItem.get();n.timelineItem.set(i.contextValue);try{o.render({menuPath:t.TIMELINE_ITEM_CONTEXT_MENU,anchor:e.nativeEvent,args:[i]})}finally{n.timelineItem.set(r)}}}render(){const{label:e,description:t,detail:i}=this.props.timelineItem;return g.createElement("div",{className:"timeline-item",title:i,onContextMenu:this.renderContextMenu,onClick:this.open},g.createElement("div",{className:`noWrapInfo ${l.TREE_NODE_SEGMENT_GROW_CLASS}`},g.createElement("span",{className:"name"},e),g.createElement("span",{className:"label"},t)))}}t.TimelineItemNode=m},7114:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineWidget=void 0;const s=i(70801),a=i(87361),c=i(31431),l=i(64514),d=i(9825),u=i(22638),h=i(97347),p=i(10433),g=i(44989);let f=n=class extends a.BaseWidget{constructor(){super(),this.timelinesBySource=new Map,this.id=n.ID,this.title.label=g.nls.localizeByDefault("Timeline"),this.title.caption=this.title.label,this.addClass("theia-timeline")}init(){const e=new a.PanelLayout;this.layout=e,this.panel=new a.Panel({layout:new a.PanelLayout({})}),this.panel.node.tabIndex=-1,e.addWidget(this.panel),this.containerLayout.addWidget(this.resourceWidget),this.containerLayout.addWidget(this.timelineEmptyWidget),this.refresh(),this.toDispose.push(this.timelineService.onDidChangeTimeline((e=>{const t=this.getCurrentWidgetUri();t&&this.loadTimeline(t,e.reset)}))),this.toDispose.push(this.selectionService.onSelectionChanged((e=>{Array.isArray(e)&&e[0]&&"uri"in e[0]&&this.refresh(e[0].uri)}))),this.toDispose.push(this.applicationShell.onDidChangeCurrentWidget((async e=>{(e.newValue&&a.Navigatable.is(e.newValue)||!this.suitableWidgetsOpened())&&this.refresh()}))),this.toDispose.push(this.applicationShell.onDidRemoveWidget((e=>{a.NavigatableWidget.is(e)&&this.refresh()}))),this.toDispose.push(this.timelineService.onDidChangeProviders((()=>this.refresh())))}async loadTimelineForSource(e,t,i){var n;i&&this.timelinesBySource.delete(e);let o=this.timelinesBySource.get(e);const r=null==o?void 0:o.cursor,s={cursor:i?void 0:r,limit:c.TimelineTreeWidget.PAGE_SIZE},a=await this.timelineService.getTimeline(e,t,s,{cacheResults:!0,resetCache:i});if(a){const t=a.items;t&&(o?(o.add(t),o.cursor=null===(n=a.paging)||void 0===n?void 0:n.cursor):o=new l.TimelineAggregate(a),this.timelinesBySource.set(e,o),this.resourceWidget.model.updateTree(o.items,!!o.cursor))}}async loadTimeline(e,t){for(const i of this.timelineService.getSources().map((e=>e.id)))this.loadTimelineForSource(i,p.URI.parse(e.toString()),t)}refresh(e){e||(e=this.getCurrentWidgetUri()),e?(this.timelineEmptyWidget.hide(),this.resourceWidget.show(),this.loadTimeline(e,!0)):this.suitableWidgetsOpened()||(this.timelineEmptyWidget.show(),this.resourceWidget.hide())}suitableWidgetsOpened(){return!!(0,h.toArray)(this.applicationShell.mainPanel.widgets()).find((e=>{if(a.NavigatableWidget.is(e)){const t=e.getResourceUri();if((null==t?void 0:t.scheme)&&this.timelineService.getSchemas().indexOf(null==t?void 0:t.scheme)>-1)return!0}}))}getCurrentWidgetUri(){let e=this.applicationShell.currentWidget;return a.NavigatableWidget.is(e)||(e=(0,h.toArray)(this.applicationShell.mainPanel.widgets()).find((e=>{if(e.isVisible&&!e.isHidden)return e}))),a.NavigatableWidget.is(e)?e.getResourceUri():void 0}get containerLayout(){return this.panel.layout}onUpdateRequest(e){a.MessageLoop.sendMessage(this.resourceWidget,e),a.MessageLoop.sendMessage(this.timelineEmptyWidget,e),this.refresh(),super.onUpdateRequest(e)}onAfterAttach(e){this.node.appendChild(this.resourceWidget.node),this.node.appendChild(this.timelineEmptyWidget.node),super.onAfterAttach(e),this.update()}};f.ID="timeline-view",o([(0,s.inject)(c.TimelineTreeWidget),r("design:type",c.TimelineTreeWidget)],f.prototype,"resourceWidget",void 0),o([(0,s.inject)(l.TimelineService),r("design:type",l.TimelineService)],f.prototype,"timelineService",void 0),o([(0,s.inject)(d.CommandRegistry),r("design:type",d.CommandRegistry)],f.prototype,"commandRegistry",void 0),o([(0,s.inject)(a.ApplicationShell),r("design:type",a.ApplicationShell)],f.prototype,"applicationShell",void 0),o([(0,s.inject)(u.TimelineEmptyWidget),r("design:type",u.TimelineEmptyWidget)],f.prototype,"timelineEmptyWidget",void 0),o([(0,s.inject)(d.SelectionService),r("design:type",d.SelectionService)],f.prototype,"selectionService",void 0),o([(0,s.postConstruct)(),r("design:type",Function),r("design:paramtypes",[]),r("design:returntype",void 0)],f.prototype,"init",null),f=n=o([(0,s.injectable)(),r("design:paramtypes",[])],f),t.TimelineWidget=f},71182:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(95190),t),o(i(68940),t),o(i(16280),t),o(i(27172),t)},52396:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHierarchyTreeWidget=void 0;const n=i(21810),o=i(1178),r=i(77307),s=i(10713);t.createHierarchyTreeWidget=function(e){return function(e){return(0,n.createTreeContainer)(e,{tree:o.TypeHierarchyTree,model:r.TypeHierarchyTreeModel,widget:s.TypeHierarchyTreeWidget})}(e).get(s.TypeHierarchyTreeWidget)}},77307:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyTreeModel=void 0;const r=i(70801),s=i(47421),a=i(56391),c=i(1178);let l=class extends s.TreeModelImpl{doOpenNode(e){}async initialize(e){this.tree.root=void 0,this.tree.provider=void 0;const{location:t,languageId:i,direction:n}=e;if(i&&t){const e=await this.registry.get(i);if(e){const i={textDocument:{uri:t.uri},position:t.range.start,direction:n,resolve:1},o=await e.get(i);if(o){const t=c.TypeHierarchyTree.RootNode.create(o,n);t.expanded=!0,this.tree.root=t,this.tree.provider=e}}}}async flipDirection(){const{root:e}=this.tree,t=this.tree.provider;if(c.TypeHierarchyTree.RootNode.is(e)&&t){const{direction:i,item:n}=e,{uri:o,selectionRange:r}=n,s={uri:o,range:r};this.initialize({direction:0===i?1:0,location:s,languageId:t.languageId})}}};n([(0,r.inject)(a.TypeHierarchyRegistry),o("design:type",a.TypeHierarchyRegistry)],l.prototype,"registry",void 0),l=n([(0,r.injectable)()],l),t.TypeHierarchyTreeModel=l},10713:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyTreeWidget=void 0;const a=i(92664),c=i(70801),l=i(29486),d=i(30970),u=i(75437),h=i(20504),p=i(66895),g=i(43901),f=i(77307),m=i(1178),b=i(87361),v=i(44989);let A=n=class extends g.TreeWidget{constructor(e,t,i){super(e,t,i),this.model=t,this.icons=new Map(Array.from(Object.keys(u.SymbolKind)).map((e=>[u.SymbolKind[e],e.toLocaleLowerCase()]))),this.id=n.WIDGET_ID,this.title.label=n.WIDGET_LABEL,this.title.caption=n.WIDGET_LABEL,this.addClass(n.Styles.TYPE_HIERARCHY_TREE_CLASS),this.title.closable=!0,this.title.iconClass=(0,b.codicon)("type-hierarchy"),this.toDispose.push(this.model.onSelectionChanged((e=>{const t=e[0];t&&this.openEditor(t,!0)}))),this.toDispose.push(this.model.onOpenNode((e=>this.openEditor(e))))}async initialize(e){await this.model.initialize(e)}renderIcon(e){if(m.TypeHierarchyTree.Node.is(e))return a.createElement("div",{className:"symbol-icon-center codicon codicon-symbol-"+this.icons.get(e.item.kind)||0})}async openEditor(e,t=!1){if(m.TypeHierarchyTree.Node.is(e)){const{selectionRange:i,uri:n}=e.item,o=await this.editorManager.open(new d.default(n),{mode:t?"reveal":"activate",selection:u.Range.create(i.start,i.end)});o.parent instanceof l.DockPanel&&o.parent.selectWidget(o)}}};o([(0,c.inject)(h.EditorManager),r("design:type",h.EditorManager)],A.prototype,"editorManager",void 0),A=n=o([(0,c.injectable)(),s(0,(0,c.inject)(g.TreeProps)),s(1,(0,c.inject)(f.TypeHierarchyTreeModel)),s(2,(0,c.inject)(p.ContextMenuRenderer)),r("design:paramtypes",[Object,f.TypeHierarchyTreeModel,p.ContextMenuRenderer])],A),t.TypeHierarchyTreeWidget=A,function(e){let t;e.WIDGET_ID="theia-typehierarchy",e.WIDGET_LABEL=v.nls.localizeByDefault("Type Hierarchy"),function(e){e.TYPE_HIERARCHY_TREE_CLASS="theia-type-hierarchy-tree"}(t=e.Styles||(e.Styles={}))}(A=t.TypeHierarchyTreeWidget||(t.TypeHierarchyTreeWidget={})),t.TypeHierarchyTreeWidget=A},1178:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyTree=void 0;const r=i(70801),s=i(79877),a=i(30970),c=i(24368),l=i(21810);let d=n=class extends l.TreeImpl{async resolveChildren(e){return n.Node.is(e)?(await this.ensureResolved(e),0===e.children.length?(delete e.children,delete e.expanded,[]):e.children.slice()):[]}get direction(){if(n.RootNode.is(this.root))return this.root.direction}async ensureResolved(e){if(!e.resolved){const{provider:t,direction:i}=this;if(t&&void 0!==i){const{item:o}=e,r={item:o,direction:i,resolve:1},s=await t.resolve(r);if(s){e.resolved=!0;const t=0===i?s.children:s.parents;e.children=t?t.map((e=>n.Node.create(e,i,!1))):[]}}}}};d=n=o([(0,r.injectable)()],d),t.TypeHierarchyTree=d,function(e){let t,i;!function(e){e.is=function(e){if(i.is(e)&&"direction"in e){const{direction:t}=e;return 0===t||1===t}return!1},e.create=function(e,t){return{...i.create(e,t,!0),direction:t}}}(t=e.RootNode||(e.RootNode={})),function(e){function t(e,t){const i=[{data:new a.default(e.uri).displayName,fontData:{color:"var(--theia-descriptionForeground)"}}];return e.detail&&i.unshift({data:e.detail,fontData:{color:"var(--theia-list-highlightForeground)",style:"italic"}}),{captionSuffixes:i,captionPrefixes:[{data:0===t?"▼":"▲",fontData:{color:`var(${0===t?"--theia-errorForeground":"--theia-successBackground"})`,style:"bold"}}]}}e.is=function(e){if(e&&"resolved"in e&&"item"in e){const{resolved:t,item:i}=e;return"boolean"==typeof t&&!!i}return!1},e.create=function e(i,n,o=!0){const r=0===n?i.children:i.parents;r&&r.length>0&&(o=!0);const a={id:(0,s.v4)(),name:i.name,description:i.detail,parent:void 0,location:c.Location.create(i.uri,i.selectionRange),resolved:o,children:r?r.map((t=>e(t,n,!1))):[],expanded:!1,visible:!0,selected:!1,kind:i.kind,decorationData:t(i,n),item:i};return o&&0===a.children.length&&delete a.expanded,a}}(i=e.Node||(e.Node={}))}(d=t.TypeHierarchyTree||(t.TypeHierarchyTree={})),t.TypeHierarchyTree=d},68940:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyCommands=t.TypeHierarchyContribution=void 0;const r=i(70801),s=i(89073),a=i(12202),c=i(10565),l=i(20504),d=i(94930),u=i(1178),h=i(10713),p=i(27172),g=i(30970),f=i(949);let m=class extends d.AbstractViewContribution{constructor(){super({widgetId:h.TypeHierarchyTreeWidget.WIDGET_ID,widgetName:h.TypeHierarchyTreeWidget.WIDGET_LABEL,defaultWidgetOptions:{area:"bottom"},toggleCommandId:b.TOGGLE_VIEW.id,toggleKeybinding:"ctrlcmd+shift+h"})}init(){this.editorHasTypeHierarchyProvider=this.contextKeyService.createKey("editorHasTypeHierarchyProvider",!1),this.editorManager.onCurrentEditorChanged((()=>this.editorHasTypeHierarchyProvider.set(this.isTypeHierarchyAvailable()))),this.typeHierarchyServiceProvider.onDidChange((()=>this.editorHasTypeHierarchyProvider.set(this.isTypeHierarchyAvailable())))}isTypeHierarchyAvailable(){const{selection:e,languageId:t}=this.editorAccess;return!!e&&!!t&&!!this.typeHierarchyServiceProvider.get(t,new g.default(e.uri))}async openView(e){const t=await super.openView(e),{selection:i,languageId:n}=this.editorAccess,o=this.getDirection(e);return await t.initialize({location:i,languageId:n,direction:o}),t}registerCommands(e){super.registerCommands(e),e.registerCommand(b.OPEN_SUBTYPE,{execute:()=>this.openViewOrFlipHierarchyDirection(0),isEnabled:this.isEnabled.bind(this)}),e.registerCommand(b.OPEN_SUPERTYPE,{execute:()=>this.openViewOrFlipHierarchyDirection(1),isEnabled:this.isEnabled.bind(this)})}registerMenus(e){super.registerMenus(e);const t=[...c.EDITOR_CONTEXT_MENU,"type-hierarchy"];e.registerMenuAction(t,{commandId:b.OPEN_SUBTYPE.id}),e.registerMenuAction(t,{commandId:b.OPEN_SUPERTYPE.id})}registerKeybindings(e){super.registerKeybindings(e),e.registerKeybinding({command:b.OPEN_SUBTYPE.id,keybinding:"ctrlcmd+alt+h"})}async openViewOrFlipHierarchyDirection(e){if(this.isEnabled()){const{activeWidget:t}=this.shell;t instanceof h.TypeHierarchyTreeWidget&&u.TypeHierarchyTree.RootNode.is(t.model.root)?await t.model.flipDirection():await this.openView({toggle:!1,activate:!0,direction:e})}}isEnabled(e=this.editorAccess.languageId){return!!e||this.shell.activeWidget instanceof h.TypeHierarchyTreeWidget}getDirection(e){return e&&e.direction?e.direction:0}};var b;n([(0,r.inject)(s.ApplicationShell),o("design:type",s.ApplicationShell)],m.prototype,"shell",void 0),n([(0,r.inject)(l.EditorAccess),(0,r.named)(l.EditorAccess.CURRENT),o("design:type",l.EditorAccess)],m.prototype,"editorAccess",void 0),n([(0,r.inject)(l.EditorManager),o("design:type",l.EditorManager)],m.prototype,"editorManager",void 0),n([(0,r.inject)(f.ContextKeyService),o("design:type",Object)],m.prototype,"contextKeyService",void 0),n([(0,r.inject)(p.TypeHierarchyServiceProvider),o("design:type",p.TypeHierarchyServiceProvider)],m.prototype,"typeHierarchyServiceProvider",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],m.prototype,"init",null),m=n([(0,r.injectable)(),o("design:paramtypes",[])],m),t.TypeHierarchyContribution=m,function(e){e.TOGGLE_VIEW={id:"typehierarchy:toggle"},e.OPEN_SUBTYPE=a.Command.toLocalizedCommand({id:"typehierarchy:open-subtype",label:"Subtype Hierarchy"},"theia/typehierarchy/subtypeHierarchy"),e.OPEN_SUPERTYPE=a.Command.toLocalizedCommand({id:"typehierarchy:open-supertype",label:"Supertype Hierarchy"},"theia/typehierarchy/supertypeHierarchy")}(b=t.TypeHierarchyCommands||(t.TypeHierarchyCommands={}))},16280:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(9825),o=i(70801),r=i(9791),s=i(94930),a=i(56391),c=i(68940),l=i(10713),d=i(27172),u=i(52396);i(78266),t.default=new o.ContainerModule((e=>{(0,n.bindContributionProvider)(e,d.TypeHierarchyService),e(d.TypeHierarchyServiceProvider).to(d.TypeHierarchyServiceProvider).inSingletonScope(),e(a.TypeHierarchyRegistry).toSelf().inSingletonScope(),(0,s.bindViewContribution)(e,c.TypeHierarchyContribution),e(r.WidgetFactory).toDynamicValue((e=>({id:l.TypeHierarchyTreeWidget.WIDGET_ID,createWidget:()=>(0,u.createHierarchyTreeWidget)(e.container)})))}))},56391:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyRegistry=void 0;const o=i(70801),r=i(51138);let s=class{constructor(){this.providers=new Map}async get(e){return e?this.providers.get(e):void 0}register(e){const{languageId:t}=e;if(this.providers.has(t))throw new Error(`type hierarchy provider for '${t}' language is already registered`);return this.providers.set(t,e),r.Disposable.create((()=>this.providers.delete(t)))}};s=n([(0,o.injectable)()],s),t.TypeHierarchyRegistry=s},27172:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyServiceProvider=t.TypeHierarchyService=void 0;const r=i(9825),s=i(70801),a=i(97810);t.TypeHierarchyService=Symbol("TypeHierarchyService");let c=class{constructor(){this.onDidChangeEmitter=new r.Emitter,this.services=[]}get onDidChange(){return this.onDidChangeEmitter.event}init(){this.services=this.services.concat(this.contributions.getContributions())}get(e,t){return this.services.filter((i=>this.score(i,e,t)>0)).sort(((i,n)=>this.score(n,e,t)-this.score(i,e,t)))[0]}score(e,t,i){return(0,a.score)(e.selector,i.scheme,i.path.toString(),t,!0)}add(e){this.services.push(e);const t=this;return this.onDidChangeEmitter.fire(),{dispose:()=>{t.remove(e)}}}remove(e){const t=this.services.length;this.services=this.services.filter((t=>t!==e));const i=t!==this.services.length;return i&&this.onDidChangeEmitter.fire(),i}};n([(0,s.inject)(r.ContributionProvider),(0,s.named)(t.TypeHierarchyService),o("design:type",Object)],c.prototype,"contributions",void 0),n([(0,s.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"init",null),c=n([(0,s.injectable)()],c),t.TypeHierarchyServiceProvider=c},95190:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},60271:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(46522),t),o(i(69e3),t)},44804:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.UserStorageContribution=void 0;const r=i(70801),s=i(30970),a=i(51138),c=i(18234),l=i(85201),d=i(46522);let u=class{registerFileSystemProviders(e){e.onWillActivateFileSystemProvider((t=>{t.scheme===d.UserStorageUri.scheme&&t.waitUntil((async()=>{const t=await this.createProvider(e);e.registerProvider(d.UserStorageUri.scheme,t)})())}))}async createProvider(e){const t=await e.activateProvider("file"),i=new s.default(await this.environments.getConfigDirUri());return new l.DelegatingFileSystemProvider(t,{uriConverter:{to:e=>{const t=d.UserStorageUri.relative(e);if(t)return i.resolve(t).normalizePath()},from:e=>{const t=i.relative(e);if(t)return d.UserStorageUri.resolve(t)}}},new a.DisposableCollection(t.watch(i,{excludes:[],recursive:!0})))}};n([(0,r.inject)(c.EnvVariablesServer),o("design:type",Object)],u.prototype,"environments",void 0),u=n([(0,r.injectable)()],u),t.UserStorageContribution=u},69e3:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(14304),r=i(44804);t.default=new n.ContainerModule((e=>{e(r.UserStorageContribution).toSelf().inSingletonScope(),e(o.FileServiceContribution).toService(r.UserStorageContribution)}))},46522:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserStorageUri=void 0;const n=i(30970);t.UserStorageUri=new n.default("user-storage:/user")},20714:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CommonVariableContribution=void 0;const r=i(70801),s=i(17602),a=i(18234),c=i(12202),l=i(4836),d=i(91085),u=i(49878),h=i(87361),p=i(67841),g=i(30970);let f=class{async registerVariables(e){const t=await this.env.getExecPath();e.registerVariable({name:"execPath",resolve:()=>t}),e.registerVariable({name:"pathSeparator",resolve:()=>l.OS.backend.isWindows?"\\":"/"}),e.registerVariable({name:"env",resolve:async(e,t)=>{const i=t&&await this.env.getValue(t);return i&&i.value||""}}),e.registerVariable({name:"config",resolve:(e=new g.default(this.resourceContextKey.get()),t)=>{if(t)return this.preferences.get(t,void 0,e&&e.toString())}}),e.registerVariable({name:"command",resolve:async(e,t,i,n,o)=>{if(t){(null==n?void 0:n[t])&&(t=n[t]);const e=await this.commands.executeCommand(t,o);if(null===e)throw(0,p.cancelled)();return e}}}),e.registerVariable({name:"input",resolve:async(e=new g.default(this.resourceContextKey.get()),t,i)=>{var n,o;if(!t||!i)return;const r=this.preferences.get(i,void 0,e&&e.toString()),s=r&&"inputs"in r?r.inputs:void 0,a=Array.isArray(s)&&s.find((e=>!!e&&e.id===t));if(a){if("promptString"===a.type){if("string"!=typeof a.description)return;return null===(n=this.quickInputService)||void 0===n?void 0:n.input({prompt:a.description,value:a.default})}if("pickString"===a.type){if("string"!=typeof a.description||!Array.isArray(a.options))return;const e=[];for(const t of a.options){if("string"!=typeof t)return;t===a.default?e.unshift({description:"Default",label:t,value:t}):e.push({label:t,value:t})}const t=await(null===(o=this.quickInputService)||void 0===o?void 0:o.showQuickPick(e,{placeholder:a.description}));return null==t?void 0:t.value}if("command"===a.type){if("string"!=typeof a.command)return;return this.commands.executeCommand(a.command,a.args)}}}})}};n([(0,r.inject)(a.EnvVariablesServer),o("design:type",Object)],f.prototype,"env",void 0),n([(0,r.inject)(c.CommandService),o("design:type",Object)],f.prototype,"commands",void 0),n([(0,r.inject)(d.PreferenceService),o("design:type",Object)],f.prototype,"preferences",void 0),n([(0,r.inject)(u.ResourceContextKey),o("design:type",u.ResourceContextKey)],f.prototype,"resourceContextKey",void 0),n([(0,r.inject)(h.QuickInputService),(0,r.optional)(),o("design:type",Object)],f.prototype,"quickInputService",void 0),n([(0,r.inject)(s.ApplicationServer),o("design:type",Object)],f.prototype,"appServer",void 0),f=n([(0,r.injectable)()],f),t.CommonVariableContribution=f},3754:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(65538),t),o(i(84666),t),o(i(11168),t)},10461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inputsSchema=void 0;const i="The input's id is used to associate an input with a variable of the form ${input:id}.",n="The type of user input prompt to use.",o="The description is shown when the user is prompted for input.",r="The default value for the input.";t.inputsSchema={definitions:{inputs:{type:"array",description:"User inputs. Used for defining user input prompts, such as free string input or a choice from several options.",items:{oneOf:[{type:"object",required:["id","type","description"],additionalProperties:!1,properties:{id:{type:"string",description:i},type:{type:"string",description:n,enum:["promptString"],enumDescriptions:["The 'promptString' type opens an input box to ask the user for input."]},description:{type:"string",description:o},default:{type:"string",description:r}}},{type:"object",required:["id","type","description","options"],additionalProperties:!1,properties:{id:{type:"string",description:i},type:{type:"string",description:n,enum:["pickString"],enumDescriptions:["The 'pickString' type shows a selection list."]},description:{type:"string",description:o},default:{type:"string",description:r},options:{type:"array",description:"An array of strings that defines the options for a quick pick.",items:{type:"string"}}}},{type:"object",required:["id","type","command"],additionalProperties:!1,properties:{id:{type:"string",description:i},type:{type:"string",description:n,enum:["command"],enumDescriptions:["The 'command' type executes a command."]},command:{type:"string",description:"The command to execute for this input variable."},args:{type:"object",description:"Optional arguments passed to the command."}}}]}}}}},84666:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableQuickOpenService=void 0;const s=i(70801),a=i(13318),c=i(65538),l=i(11168),d=i(87361);let u=class{constructor(e){this.variableRegistry=e}open(){var e;this.items=this.variableRegistry.getVariables().map((e=>({label:"${"+e.name+"}",detail:e.description,execute:()=>{setTimeout((()=>this.showValue(e)))}}))),null===(e=this.quickInputService)||void 0===e||e.showQuickPick(this.items,{placeholder:"Registered variables"})}async showValue(e){var t;const i=await(null===(t=this.quickInputService)||void 0===t?void 0:t.input({placeHolder:"Type a variable argument"})),n=await this.variableResolver.resolve("${"+e.name+":"+i+"}");"string"==typeof n&&this.messages.info(n)}};n([(0,s.inject)(a.MessageService),o("design:type",a.MessageService)],u.prototype,"messages",void 0),n([(0,s.inject)(d.QuickInputService),(0,s.optional)(),o("design:type",Object)],u.prototype,"quickInputService",void 0),n([(0,s.inject)(l.VariableResolverService),o("design:type",l.VariableResolverService)],u.prototype,"variableResolver",void 0),u=n([(0,s.injectable)(),r(0,(0,s.inject)(c.VariableRegistry)),o("design:paramtypes",[c.VariableRegistry])],u),t.VariableQuickOpenService=u},31504:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableResolverFrontendContribution=t.LIST_VARIABLES=void 0;const s=i(70801),a=i(9825),c=i(65538),l=i(84666);t.LIST_VARIABLES={id:"variable.list",label:"Variable: List All"};let d=class{constructor(e,t,i){this.contributionProvider=e,this.variableRegistry=t,this.variableQuickOpenService=i}onStart(){this.contributionProvider.getContributions().forEach((e=>e.registerVariables(this.variableRegistry)))}registerCommands(e){e.registerCommand(t.LIST_VARIABLES,{isEnabled:()=>!0,execute:()=>this.variableQuickOpenService.open()})}};d=n([(0,s.injectable)(),r(0,(0,s.inject)(a.ContributionProvider)),r(0,(0,s.named)(c.VariableContribution)),r(1,(0,s.inject)(c.VariableRegistry)),r(2,(0,s.inject)(l.VariableQuickOpenService)),o("design:paramtypes",[Object,c.VariableRegistry,l.VariableQuickOpenService])],d),t.VariableResolverFrontendContribution=d},34395:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(9825),r=i(87361),s=i(65538),a=i(84666),c=i(31504),l=i(11168),d=i(20714);t.default=new n.ContainerModule((e=>{e(s.VariableRegistry).toSelf().inSingletonScope(),e(l.VariableResolverService).toSelf().inSingletonScope(),(0,o.bindContributionProvider)(e,s.VariableContribution),e(c.VariableResolverFrontendContribution).toSelf().inSingletonScope();for(const t of[r.FrontendApplicationContribution,o.CommandContribution])e(t).toService(c.VariableResolverFrontendContribution);e(a.VariableQuickOpenService).toSelf().inSingletonScope(),e(d.CommonVariableContribution).toSelf().inSingletonScope(),e(s.VariableContribution).toService(d.CommonVariableContribution)}))},11168:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableResolverService=void 0;const s=i(70801),a=i(65538),c=i(9825);let l=n=class{resolveArray(e,t={}){return this.resolve(e,t)}async resolve(e,t={}){const i=new n.Context(this.variableRegistry,t);try{return await this.doResolve(e,i)}catch(e){if((0,c.isCancelled)(e))return;throw e}}async doResolve(e,t){return null==e?e:"string"==typeof e?this.doResolveString(e,t):Array.isArray(e)?this.doResolveArray(e,t):"object"==typeof e?this.doResolveObject(e,t):e}async doResolveObject(e,t){const i={};for(const n of Object.keys(e)){const o=e[n],r=await this.doResolve(o,t);i[n]=r}return i}async doResolveArray(e,t){const i=[];for(const n of e){const e=await this.doResolve(n,t);i.push(e)}return i}async doResolveString(e,t){return await this.resolveVariables(e,t),e.replace(n.VAR_REGEXP,((e,i)=>{const n=t.get(i);return void 0!==n?n:e}))}async resolveVariables(e,t){const i=new RegExp(n.VAR_REGEXP);let o;for(;null!==(o=i.exec(e));){const e=o[1];await t.resolve(e)}}};l.VAR_REGEXP=/\$\{(.*?)\}/g,o([(0,s.inject)(a.VariableRegistry),r("design:type",a.VariableRegistry)],l.prototype,"variableRegistry",void 0),l=n=o([(0,s.injectable)()],l),t.VariableResolverService=l,function(e){e.Context=class{constructor(e,t){this.variableRegistry=e,this.options=t,this.resolved=new Map}get(e){return this.resolved.get(e)}async resolve(e){if(!this.resolved.has(e))try{let t,i=e;const n=e.split(":",2);n.length>1&&(i=n[0],t=n[1]);const o=this.variableRegistry.getVariable(i),r=await(null==o?void 0:o.resolve(this.options.context,t,this.options.configurationSection,this.options.commandIdVariables,this.options.configuration));"bigint"==typeof r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r?this.resolved.set(e,`${r}`):this.resolved.set(e,void 0)}catch(t){if((0,c.isCancelled)(t))throw t;this.resolved.set(e,void 0),console.error(`Failed to resolve '${e}' variable:`,t)}}}}(l=t.VariableResolverService||(t.VariableResolverService={})),t.VariableResolverService=l},65538:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.VariableRegistry=t.VariableContribution=void 0;const o=i(70801),r=i(9825);t.VariableContribution=Symbol("VariableContribution");let s=class{constructor(){this.variables=new Map,this.toDispose=new r.DisposableCollection}dispose(){this.toDispose.dispose()}registerVariable(e){if(this.variables.has(e.name))return console.warn(`A variables with name ${e.name} is already registered.`),r.Disposable.NULL;this.variables.set(e.name,e);const t={dispose:()=>this.variables.delete(e.name)};return this.toDispose.push(t),t}getVariables(){return[...this.variables.values()]}getVariable(e){return this.variables.get(e)}registerVariables(e){return e.map((e=>this.registerVariable(e)))}};s=n([(0,o.injectable)()],s),t.VariableRegistry=s},71056:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiffService=void 0;const r=i(70801),s=i(40598),a=i(87361),c=i(13318),l=i(14304);let d=class{async openDiffEditor(e,t,i,n){if("file"===e.scheme&&"file"===t.scheme){const[o,r]=await this.fileService.resolveAll([{resource:e},{resource:t}]);if(o.success&&r.success){const c=o.stat,l=r.stat;if(c&&l)if(c.isDirectory||l.isDirectory){const i=()=>c.isDirectory&&l.isDirectory?"Both resource were a directory.":c.isDirectory?`'${e.path.base}' was a directory.`:`'${t.path.base}' was a directory.`;this.messageService.warn(`Directories cannot be compared. ${i()}`)}else{const o=s.DiffUris.encode(e,t,i);await(0,a.open)(this.openerService,o,n)}}}else{const o=s.DiffUris.encode(e,t,i);await(0,a.open)(this.openerService,o,n)}}};n([(0,r.inject)(l.FileService),o("design:type",l.FileService)],d.prototype,"fileService",void 0),n([(0,r.inject)(a.OpenerService),o("design:type",Object)],d.prototype,"openerService",void 0),n([(0,r.inject)(c.MessageService),o("design:type",c.MessageService)],d.prototype,"messageService",void 0),d=n([(0,r.injectable)()],d),t.DiffService=d},73246:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(37900),t),o(i(27030),t),o(i(18631),t),o(i(464),t),o(i(25231),t),o(i(25235),t)},21648:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickOpenWorkspace=void 0;const r=i(70801),s=i(87361),a=i(18234),c=i(27030),l=i(25231),d=i(30970),u=i(14304),h=i(9825),p=i(6695);let g=class{constructor(){this.removeRecentWorkspaceButton={iconClass:"codicon-remove-close",tooltip:h.nls.localizeByDefault("Remove from Recently Opened")}}async open(e){var t;this.items=[];const[i]=await Promise.all([this.envServer.getHomeDirUri(),this.workspaceService.getUntitledWorkspace()]),n=new d.default(i).path.toString();await this.preferences.ready,this.items.push({type:"separator",label:h.nls.localizeByDefault("folders & workspaces")});for(const t of e){const e=new d.default(t);let i;try{i=await this.fileService.resolve(e)}catch{}if(this.workspaceUtils.isUntitledWorkspace(e)||!i)continue;const o=this.labelProvider.getIcon(i),r=""===o?void 0:[o+" file-icon"];this.items.push({label:e.path.base,description:h.Path.tildify(e.path.toString(),n),iconClasses:r,buttons:[this.removeRecentWorkspaceButton],resource:e,execute:()=>{const e=this.workspaceService.workspace,i=new d.default(t);(e&&e.resource.toString()!==t||!e)&&this.workspaceService.open(i)}})}null===(t=this.quickInputService)||void 0===t||t.showQuickPick(this.items,{placeholder:h.nls.localize("theia/workspace/openRecentPlaceholder","Type the name of the workspace you want to open"),onDidTriggerItemButton:async e=>{const t=e.item.resource;t&&(await this.workspaceService.removeRecentWorkspace(t.toString()),e.removeItem())}})}select(){this.items=[],this.opened=this.workspaceService.opened,this.workspaceService.recentWorkspaces().then((e=>{e&&this.open(e)}))}};n([(0,r.inject)(s.QuickInputService),(0,r.optional)(),o("design:type",Object)],g.prototype,"quickInputService",void 0),n([(0,r.inject)(c.WorkspaceService),o("design:type",c.WorkspaceService)],g.prototype,"workspaceService",void 0),n([(0,r.inject)(u.FileService),o("design:type",u.FileService)],g.prototype,"fileService",void 0),n([(0,r.inject)(s.LabelProvider),o("design:type",s.LabelProvider)],g.prototype,"labelProvider",void 0),n([(0,r.inject)(l.WorkspacePreferences),o("design:type",Object)],g.prototype,"preferences",void 0),n([(0,r.inject)(a.EnvVariablesServer),o("design:type",Object)],g.prototype,"envServer",void 0),n([(0,r.inject)(p.CommonWorkspaceUtils),o("design:type",p.CommonWorkspaceUtils)],g.prototype,"workspaceUtils",void 0),g=n([(0,r.injectable)()],g),t.QuickOpenWorkspace=g},42671:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UntitledWorkspaceExitDialog=void 0;const s=i(9825),a=i(70801),c=i(87361);let l=class extends c.AbstractDialog{constructor(e){super(e),this._value="Cancel";const t=document.createElement("div");t.textContent=s.nls.localizeByDefault("Save your workspace if you plan to open it again."),this.contentNode.appendChild(t),this.dontSaveButton=this.createButton(s.nls.localizeByDefault("Don't Save")),this.dontSaveButton.classList.add("secondary"),this.controlPanel.appendChild(this.dontSaveButton),this.appendCloseButton(c.Dialog.CANCEL),this.appendAcceptButton(s.nls.localizeByDefault("Save"))}get value(){return this._value}onAfterAttach(e){super.onAfterAttach(e),this.addAction(this.dontSaveButton,(()=>this.dontSave()),"click")}addAcceptAction(e,...t){this.addAction(e,(()=>this.doSave()),"click")}dontSave(){this._value="Don't Save",this.accept()}doSave(){this._value="Save",this.accept()}};l=n([r(0,(0,a.inject)(c.DialogProps)),o("design:paramtypes",[c.DialogProps])],l),t.UntitledWorkspaceExitDialog=l,l=t.UntitledWorkspaceExitDialog||(t.UntitledWorkspaceExitDialog={}),t.UntitledWorkspaceExitDialog=l},68867:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceBreadcrumbsContribution=void 0;const r=i(1287),s=i(70801),a=i(27030);let c=class extends r.FilepathBreadcrumbsContribution{getContainerClassCreator(e){const t=this.workspaceService.getWorkspaceRootUri(e);return(i,n)=>i.isEqual(e)?"file":(null==t?void 0:t.isEqual(i))?"root_folder":"folder"}getIconClassCreator(e){const t=this.workspaceService.getWorkspaceRootUri(e);return(i,n)=>i.isEqual(e)||(null==t?void 0:t.isEqual(i))?this.labelProvider.getIcon(i)+" file-icon":""}filterBreadcrumbs(e,t){const i=this.workspaceService.getWorkspaceRootUri(e),n=this.workspaceService.isMultiRootWorkspaceOpened?null==i?void 0:i.parent:i;return super.filterBreadcrumbs(e,t)&&(!n||!t.uri.isEqualOrParent(n))}};n([(0,s.inject)(a.WorkspaceService),o("design:type",a.WorkspaceService)],c.prototype,"workspaceService",void 0),c=n([(0,s.injectable)()],c),t.WorkspaceBreadcrumbsContribution=c},37900:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceRootUriAwareCommandHandler=t.WorkspaceCommandContribution=t.EditMenuContribution=t.FileMenuContribution=t.WorkspaceCommands=void 0;const r=i(70801),s=i(93425),a=i(12202),c=i(39312),l=i(21549),d=i(53274),u=i(87361),h=i(8433),p=i(27030),g=i(13318),f=i(25231),m=i(75346),b=i(58385),v=i(84053),A=i(90830),y=i(16442),C=i(58653),w=i(8501),_=i(9825),S=i(14304),E=i(44989),k=i(8594),x=i(13906);var D;!function(e){const t="Workspaces",i=u.CommonCommands.FILE_CATEGORY;e.OPEN={...a.Command.toDefaultLocalizedCommand({id:"workspace:open",category:u.CommonCommands.FILE_CATEGORY,label:"Open..."}),dialogLabel:E.nls.localizeByDefault("Open")},e.OPEN_FILE={id:"workspace:openFile",originalCategory:i,category:E.nls.localizeByDefault(u.CommonCommands.FILE_CATEGORY),dialogLabel:E.nls.localizeByDefault("Open File")},e.OPEN_FOLDER={id:"workspace:openFolder",dialogLabel:E.nls.localizeByDefault("Open Folder")},e.OPEN_WORKSPACE={...a.Command.toDefaultLocalizedCommand({id:"workspace:openWorkspace",category:u.CommonCommands.FILE_CATEGORY,label:"Open Workspace from File..."}),dialogLabel:E.nls.localizeByDefault("Open Workspace from File")},e.OPEN_RECENT_WORKSPACE=a.Command.toLocalizedCommand({id:"workspace:openRecent",category:i,label:"Open Recent Workspace..."},"theia/workspace/openRecentWorkspace",u.CommonCommands.FILE_CATEGORY_KEY),e.CLOSE=a.Command.toDefaultLocalizedCommand({id:"workspace:close",category:t,label:"Close Workspace"}),e.NEW_FILE=a.Command.toDefaultLocalizedCommand({id:"file.newFile",category:i,label:"New File..."}),e.NEW_FOLDER=a.Command.toDefaultLocalizedCommand({id:"file.newFolder",category:i,label:"New Folder..."}),e.FILE_OPEN_WITH=e=>({id:`file.openWith.${e.id}`}),e.FILE_RENAME=a.Command.toDefaultLocalizedCommand({id:"file.rename",category:i,label:"Rename"}),e.FILE_DELETE=a.Command.toDefaultLocalizedCommand({id:"file.delete",category:i,label:"Delete"}),e.FILE_DUPLICATE=a.Command.toLocalizedCommand({id:"file.duplicate",category:i,label:"Duplicate"},"theia/workspace/duplicate",u.CommonCommands.FILE_CATEGORY_KEY),e.FILE_COMPARE=a.Command.toLocalizedCommand({id:"file.compare",category:i,label:"Compare with Each Other"},"theia/workspace/compareWithEachOther",u.CommonCommands.FILE_CATEGORY_KEY),e.ADD_FOLDER=a.Command.toDefaultLocalizedCommand({id:"workspace:addFolder",category:t,label:"Add Folder to Workspace..."}),e.REMOVE_FOLDER=a.Command.toDefaultLocalizedCommand({id:"workspace:removeFolder",category:t,label:"Remove Folder from Workspace"}),e.SAVE_WORKSPACE_AS=a.Command.toDefaultLocalizedCommand({id:"workspace:saveAs",category:t,label:"Save Workspace As..."}),e.OPEN_WORKSPACE_FILE=a.Command.toDefaultLocalizedCommand({id:"workspace:openConfigFile",category:t,label:"Open Workspace Configuration File"}),e.SAVE_AS=u.CommonCommands.SAVE_AS,e.COPY_RELATIVE_FILE_PATH=a.Command.toDefaultLocalizedCommand({id:"navigator.copyRelativeFilePath",label:"Copy Relative Path"})}(D=t.WorkspaceCommands||(t.WorkspaceCommands={}));let T=class{registerMenus(e){e.registerMenuAction(c.CommonMenus.FILE_NEW,{commandId:D.NEW_FOLDER.id,order:"b"});const t=[...c.CommonMenus.FILE,"4_downloadupload"];e.registerMenuAction(t,{commandId:C.FileSystemCommands.UPLOAD.id,order:"a"}),e.registerMenuAction(t,{commandId:y.FileDownloadCommands.DOWNLOAD.id,order:"b"})}};T=n([(0,r.injectable)()],T),t.FileMenuContribution=T;let M=class{registerMenus(e){e.registerMenuAction(c.CommonMenus.EDIT_CLIPBOARD,{commandId:y.FileDownloadCommands.COPY_DOWNLOAD_LINK.id,order:"9999"})}};M=n([(0,r.injectable)()],M),t.EditMenuContribution=M;let B=class{constructor(){this.onDidCreateNewFileEmitter=new _.Emitter,this.onDidCreateNewFolderEmitter=new _.Emitter}get onDidCreateNewFile(){return this.onDidCreateNewFileEmitter.event}get onDidCreateNewFolder(){return this.onDidCreateNewFolderEmitter.event}fireCreateNewFile(e){this.onDidCreateNewFileEmitter.fire(e)}fireCreateNewFolder(e){this.onDidCreateNewFolderEmitter.fire(e)}registerCommands(e){this.registerOpenWith(e),e.registerCommand(D.NEW_FILE,this.newWorkspaceRootUriAwareCommandHandler({execute:e=>this.getDirectory(e).then((e=>{if(e){const t=e.resource,{fileName:i,fileExtension:n}=this.getDefaultFileConfig(),o=t.resolve(i+n),r=v.FileSystemUtils.generateUniqueResourceURI(e,o,!1);new w.WorkspaceInputDialog({title:E.nls.localizeByDefault("New File..."),parentUri:t,initialValue:r.path.base,placeholder:E.nls.localize("theia/workspace/newFilePlaceholder","File Name"),validate:t=>this.validateFileName(t,e,!0)},this.labelProvider).open().then((async e=>{if(e){const i=t.resolve(e);await this.fileService.create(i),this.fireCreateNewFile({parent:t,uri:i}),(0,u.open)(this.openerService,i)}}))}}))})),e.registerCommand(D.NEW_FOLDER,this.newWorkspaceRootUriAwareCommandHandler({execute:e=>this.getDirectory(e).then((e=>{if(e){const t=e.resource,i=t.resolve("Untitled"),n=v.FileSystemUtils.generateUniqueResourceURI(e,i,!0);new w.WorkspaceInputDialog({title:E.nls.localizeByDefault("New Folder..."),parentUri:t,initialValue:n.path.base,placeholder:E.nls.localize("theia/workspace/newFolderPlaceholder","Folder Name"),validate:t=>this.validateFileName(t,e,!0)},this.labelProvider).open().then((async e=>{if(e){const i=t.resolve(e);await this.fileService.createFolder(i),this.fireCreateNewFile({parent:t,uri:i})}}))}}))})),e.registerCommand(D.FILE_RENAME,this.newMultiUriAwareCommandHandler({isEnabled:e=>e.some((e=>!this.isWorkspaceRoot(e)))&&1===e.length,isVisible:e=>e.some((e=>!this.isWorkspaceRoot(e)))&&1===e.length,execute:async e=>{const t=e[0],i=await this.getParent(t);if(i){const e=t.path.base,n=new d.SingleTextInputDialog({title:E.nls.localizeByDefault("Rename"),initialValue:e,initialSelectionRange:{start:0,end:t.path.name.length},validate:async(t,n)=>(e!==t||"preview"!==n)&&this.validateFileRename(e,t,i)}),o=await n.open();if(o){const e=t,i=t.parent.resolve(o);return this.fileService.move(e,i)}}}})),e.registerCommand(D.FILE_DUPLICATE,this.newMultiUriAwareCommandHandler(this.duplicateHandler)),e.registerCommand(D.FILE_DELETE,this.newMultiUriAwareCommandHandler(this.deleteHandler)),e.registerCommand(D.FILE_COMPARE,this.newMultiUriAwareCommandHandler(this.compareHandler)),e.registerCommand(D.COPY_RELATIVE_FILE_PATH,h.UriAwareCommandHandler.MultiSelect(this.selectionService,{isEnabled:e=>!!e.length,isVisible:e=>!!e.length,execute:async e=>{const t=_.EOL,i=e.map((e=>{var t;const i=this.workspaceService.getWorkspaceRootUri(e);return i?null===(t=i.relative(e))||void 0===t?void 0:t.fsPath():e.path.fsPath()})).join(t);await this.clipboardService.writeText(i)}})),e.registerCommand(D.ADD_FOLDER,{isEnabled:()=>this.workspaceService.opened,isVisible:()=>this.workspaceService.opened,execute:async()=>{const t=await this.fileDialogService.showOpenDialog({title:D.ADD_FOLDER.label,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!0});if(!t)return;const i=Array.isArray(t)?t:[t],n=this.workspaceService.saved;await this.addFolderToWorkspace(...i),n||this.saveWorkspaceWithPrompt(e)}}),e.registerCommand(D.REMOVE_FOLDER,this.newMultiUriAwareCommandHandler({execute:e=>this.removeFolderFromWorkspace(e),isEnabled:()=>this.workspaceService.isMultiRootWorkspaceOpened,isVisible:e=>this.areWorkspaceRoots(e)&&this.workspaceService.saved}))}async registerOpenWith(e){this.openerService.onDidChangeOpeners&&this.openerService.onDidChangeOpeners((async e=>{this.openers=await this.openerService.getOpeners()})),this.openers=await this.openerService.getOpeners();for(const t of this.openers){const i=D.FILE_OPEN_WITH(t);e.registerCommand(i,this.newUriAwareCommandHandler({execute:e=>t.open(e),isEnabled:e=>t.canHandle(e)>0,isVisible:e=>t.canHandle(e)>0&&this.areMultipleOpenHandlersPresent(this.openers,e)}))}}newUriAwareCommandHandler(e){return h.UriAwareCommandHandler.MonoSelect(this.selectionService,e)}newMultiUriAwareCommandHandler(e){return h.UriAwareCommandHandler.MultiSelect(this.selectionService,e)}newWorkspaceRootUriAwareCommandHandler(e){return new I(this.workspaceService,this.selectionService,e)}async validateFileRename(e,t,i){return _.OS.backend.isWindows&&i.resource.resolve(t).isEqual(i.resource.resolve(e),!1)?"":this.validateFileName(t,i,!1)}async validateFileName(e,t,i=!1){if(!e)return"";if(!i&&!x(e))return E.nls.localizeByDefault("The name **{0}** is not valid as a file or folder name. Please choose a different name.");if(e.startsWith("/"))return E.nls.localizeByDefault("A file or folder name cannot start with a slash.");if(e.startsWith(" ")||e.endsWith(" "))return E.nls.localizeByDefault("Leading or trailing whitespace detected in file or folder name.");if(e.split(/[\\/]/).some((e=>!e||!x(e)||/^\s+$/.test(e))))return E.nls.localizeByDefault("'{0}' is not a valid file name",this.trimFileName(e));const n=t.resource.resolve(e);return await this.fileService.exists(n)?E.nls.localizeByDefault("A file or folder **{0}** already exists at this location. Please choose a different name.",this.trimFileName(e)):""}trimFileName(e){return e&&e.length>30?`${e.substring(0,30)}...`:e}async getDirectory(e){let t;try{t=await this.fileService.resolve(e)}catch{}return t&&t.isDirectory?t:this.getParent(e)}async getParent(e){try{return await this.fileService.resolve(e.parent)}catch{return}}async addFolderToWorkspace(...e){if(e.length){const t=[];try{for(const i of e)(await this.fileService.resolve(i)).isDirectory&&t.push(i);await this.workspaceService.addRoot(t)}catch{}}}areWorkspaceRoots(e){return this.workspaceService.areWorkspaceRoots(e)}isWorkspaceRoot(e){return new Set(this.workspaceService.tryGetRoots().map((e=>e.resource.toString()))).has(e.toString())}getDefaultFileConfig(){return{fileName:"Untitled",fileExtension:".txt"}}async removeFolderFromWorkspace(e){const t=new Set(this.workspaceService.tryGetRoots().map((e=>e.resource.toString()))),i=e.filter((e=>t.has(e.toString())));if(i.length>0){const e=document.createElement("div");i.length>1?e.textContent=E.nls.localize("theia/workspace/removeFolders","Are you sure you want to remove the following folders from the workspace?"):e.textContent=E.nls.localize("theia/workspace/removeFolder","Are you sure you want to remove the following folder from the workspace?"),e.title=E.nls.localize("theia/workspace/noErasure","Note: Nothing will be erased from disk");const t=document.createElement("div");t.classList.add("theia-dialog-node"),i.forEach((e=>{const i=document.createElement("div");i.classList.add("theia-dialog-node-content");const n=document.createElement("span");n.classList.add("codicon","codicon-root-folder","theia-dialog-icon"),i.appendChild(n),i.title=this.labelProvider.getLongName(e);const o=document.createElement("span");o.classList.add("theia-dialog-node-segment"),o.appendChild(document.createTextNode(this.labelProvider.getName(e))),i.appendChild(o),t.appendChild(i)})),e.appendChild(t);const n=new d.ConfirmDialog({title:E.nls.localizeByDefault("Remove Folder from Workspace"),msg:e});await n.open()&&await this.workspaceService.removeRoots(i)}}async saveWorkspaceWithPrompt(e){const t=e.getCommand(D.SAVE_WORKSPACE_AS.id);if(t&&await new d.ConfirmDialog({title:E.nls.localize("theia/workspace/workspaceFolderAddedTitle","Folder added to Workspace"),msg:E.nls.localize("theia/workspace/workspaceFolderAdded","A workspace with multiple roots was created. Do you want to save your workspace configuration as a file?"),ok:d.Dialog.YES,cancel:d.Dialog.NO}).open())return e.executeCommand(t.id)}areMultipleOpenHandlersPresent(e,t){let i=0;for(const n of e)if(n.canHandle(t)>0&&i++,i>1)return!0;return!1}};n([(0,r.inject)(u.LabelProvider),o("design:type",u.LabelProvider)],B.prototype,"labelProvider",void 0),n([(0,r.inject)(S.FileService),o("design:type",S.FileService)],B.prototype,"fileService",void 0),n([(0,r.inject)(p.WorkspaceService),o("design:type",p.WorkspaceService)],B.prototype,"workspaceService",void 0),n([(0,r.inject)(s.SelectionService),o("design:type",s.SelectionService)],B.prototype,"selectionService",void 0),n([(0,r.inject)(u.OpenerService),o("design:type",Object)],B.prototype,"openerService",void 0),n([(0,r.inject)(u.FrontendApplication),o("design:type",u.FrontendApplication)],B.prototype,"app",void 0),n([(0,r.inject)(g.MessageService),o("design:type",g.MessageService)],B.prototype,"messageService",void 0),n([(0,r.inject)(f.WorkspacePreferences),o("design:type",Object)],B.prototype,"preferences",void 0),n([(0,r.inject)(l.FileDialogService),o("design:type",Object)],B.prototype,"fileDialogService",void 0),n([(0,r.inject)(m.WorkspaceDeleteHandler),o("design:type",m.WorkspaceDeleteHandler)],B.prototype,"deleteHandler",void 0),n([(0,r.inject)(b.WorkspaceDuplicateHandler),o("design:type",b.WorkspaceDuplicateHandler)],B.prototype,"duplicateHandler",void 0),n([(0,r.inject)(A.WorkspaceCompareHandler),o("design:type",A.WorkspaceCompareHandler)],B.prototype,"compareHandler",void 0),n([(0,r.inject)(k.ClipboardService),o("design:type",Object)],B.prototype,"clipboardService",void 0),B=n([(0,r.injectable)()],B),t.WorkspaceCommandContribution=B;class I extends h.UriAwareCommandHandler{constructor(e,t,i){super(t,i),this.workspaceService=e}isEnabled(...e){return super.isEnabled(...e)&&!!this.workspaceService.tryGetRoots().length}isVisible(...e){return super.isVisible(...e)&&!!this.workspaceService.tryGetRoots().length}getUri(...e){const t=super.getUri(...e);return t&&"file"===t.scheme&&this.workspaceService.getWorkspaceRootUri(t)?t:this.workspaceService.tryGetRoots().length?this.workspaceService.tryGetRoots()[0].resource:void 0}}t.WorkspaceRootUriAwareCommandHandler=I},90830:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceCompareHandler=void 0;const r=i(70801),s=i(71056);let a=class{isVisible(e){return 2===e.length}isEnabled(e){return 2===e.length}async execute(e){const[t,i]=e;await this.diffService.openDiffEditor(t,i)}};n([(0,r.inject)(s.DiffService),o("design:type",s.DiffService)],a.prototype,"diffService",void 0),a=n([(0,r.injectable)()],a),t.WorkspaceCompareHandler=a},75346:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceDeleteHandler=void 0;const r=i(70801),s=i(30970),a=i(87361),c=i(27030),l=i(38659),d=i(14304),u=i(69069),h=i(44989);let p=class{isVisible(e){return!!e.length&&!this.workspaceUtils.containsRootDirectory(e)}isEnabled(e){return!!e.length&&!this.workspaceUtils.containsRootDirectory(e)}async execute(e){const t=s.default.getDistinctParents(e),i={recursive:!0,useTrash:this.fsPreferences["files.enableTrash"]&&t[0]&&this.fileService.hasCapability(t[0],4096)};await this.confirm(t,i)&&await Promise.all(t.map((e=>this.delete(e,i))))}confirm(e,t){let i=1===e.length?h.nls.localizeByDefault("File"):h.nls.localizeByDefault("Files");return i=t.useTrash?h.nls.localize("theia/workspace/trashTitle","Move {0} to Trash",i):h.nls.localizeByDefault("Delete {0}",i),new a.ConfirmDialog({title:i,msg:this.getConfirmMessage(e)}).open()}getConfirmMessage(e){const t=this.getDirty(e);if(t.length)return 1===t.length?h.nls.localize("theia/workspace/confirmMessage.dirtySingle","Do you really want to delete {0} with unsaved changes?",t[0].path.base):h.nls.localize("theia/workspace/confirmMessage.dirtyMultiple","Do you really want to delete {0} files with unsaved changes?",t.length);if(1===e.length)return h.nls.localize("theia/workspace/confirmMessage.uriSingle","Do you really want to delete {0}?",e[0].path.base);if(e.length>10)return h.nls.localize("theia/workspace/confirmMessage.uriMultiple","Do you really want to delete all the {0} selected files?",e.length);const i=document.createElement("div");i.textContent=h.nls.localize("theia/workspace/confirmMessage.delete","Do you really want to delete the following files?");const n=document.createElement("ul");n.style.listStyleType="none";for(const t of e){const e=document.createElement("li");e.textContent=t.path.base,n.appendChild(e)}return i.appendChild(n),i}getDirty(e){const t=new Map,i=a.NavigatableWidget.getAffected(a.SaveableWidget.getDirty(this.shell.widgets),e);for(const[e]of i)t.set(e.toString(),e);return[...t.values()]}async delete(e,t){try{await Promise.all([this.closeWithoutSaving(e),t.useTrash?this.moveFileToTrash(e,t):this.deleteFilePermanently(e,t)])}catch(e){console.error(e)}}async deleteFilePermanently(e,t){this.fileService.delete(e,{...t,useTrash:!1})}async moveFileToTrash(e,t){try{await this.fileService.delete(e,{...t,useTrash:!0})}catch(i){if(console.error("Error deleting with trash:",i),await this.confirmDeletePermanently(e))return this.deleteFilePermanently(e,t)}}async confirmDeletePermanently(e){const t=h.nls.localize("theia/workspace/confirmDeletePermanently.title","Error deleting file"),i=document.createElement("div"),n=document.createElement("p");n.textContent=h.nls.localize("theia/workspace/confirmDeletePermanently.description",'Failed to delete "{0}" using the Trash. Do you want to permanently delete instead?',e.path.base),i.append(n);const o=document.createElement("p");return o.textContent=h.nls.localize("theia/workspace/confirmDeletePermanently.solution","You can disable the use of Trash in the preferences."),i.append(o),await new a.ConfirmDialog({title:t,msg:i}).open()||!1}async closeWithoutSaving(e){const t=[...a.NavigatableWidget.getAffected(this.shell.widgets,e)].map((([,e])=>e));await this.shell.closeMany(t,{save:!1})}};n([(0,r.inject)(d.FileService),o("design:type",d.FileService)],p.prototype,"fileService",void 0),n([(0,r.inject)(a.ApplicationShell),o("design:type",a.ApplicationShell)],p.prototype,"shell",void 0),n([(0,r.inject)(l.WorkspaceUtils),o("design:type",l.WorkspaceUtils)],p.prototype,"workspaceUtils",void 0),n([(0,r.inject)(c.WorkspaceService),o("design:type",c.WorkspaceService)],p.prototype,"workspaceService",void 0),n([(0,r.inject)(u.FileSystemPreferences),o("design:type",Object)],p.prototype,"fsPreferences",void 0),p=n([(0,r.injectable)()],p),t.WorkspaceDeleteHandler=p},58385:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceDuplicateHandler=void 0;const r=i(70801),s=i(38659),a=i(27030),c=i(98047),l=i(14304);let d=class{isVisible(e){return!!e.length&&!this.workspaceUtils.containsRootDirectory(e)}isEnabled(e){return!!e.length&&!this.workspaceUtils.containsRootDirectory(e)}async execute(e){await Promise.all(e.map((async e=>{try{const t=await this.fileService.resolve(e.parent),i=await this.fileService.resolve(e),n=c.FileSystemUtils.generateUniqueResourceURI(t,e,i.isDirectory,"copy");await this.fileService.copy(e,n)}catch(e){console.error(e)}})))}};n([(0,r.inject)(l.FileService),o("design:type",l.FileService)],d.prototype,"fileService",void 0),n([(0,r.inject)(s.WorkspaceUtils),o("design:type",s.WorkspaceUtils)],d.prototype,"workspaceUtils",void 0),n([(0,r.inject)(a.WorkspaceService),o("design:type",a.WorkspaceService)],d.prototype,"workspaceService",void 0),d=n([(0,r.injectable)()],d),t.WorkspaceDuplicateHandler=d},18631:function(e,t,i){"use strict";var n,o=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFrontendContribution=t.FILE_WORKSPACE=t.WorkspaceStates=void 0;const s=i(70801),a=i(9825),c=i(9825),l=i(87361),d=i(21549),u=i(949),h=i(27030),p=i(34934),g=i(37900),f=i(21648),m=i(14304),b=i(41946),v=i(38022),A=i(51138),y=i(1278),C=i(44989),w=i(58710),_=i(42671),S=i(18543),E=i(14559);var k;(k=t.WorkspaceStates||(t.WorkspaceStates={})).empty="empty",k.workspace="workspace",k.folder="folder",t.FILE_WORKSPACE=[...l.CommonMenus.FILE,"2_workspace"];let x=n=class{constructor(){this.toDisposeOnUpdateEncodingOverrides=new A.DisposableCollection}configure(){this.encodingRegistry.registerOverride({encoding:v.UTF8,extension:p.THEIA_EXT}),this.encodingRegistry.registerOverride({encoding:v.UTF8,extension:p.VSCODE_EXT}),this.updateEncodingOverrides();const e=this.contextKeyService.createKey("workspaceFolderCount",0),t=()=>e.set(this.workspaceService.tryGetRoots().length);t();const i=this.contextKeyService.createKey("workspaceState","empty"),n=()=>i.set(this.updateWorkspaceStateKey());n();const o=this.contextKeyService.createKey("workbenchState","empty"),r=()=>o.set(this.updateWorkbenchStateKey());r(),this.updateStyles(),this.workspaceService.onWorkspaceChanged((()=>{this.updateEncodingOverrides(),t(),n(),r(),this.updateStyles()}))}updateEncodingOverrides(){this.toDisposeOnUpdateEncodingOverrides.dispose();for(const e of this.workspaceService.tryGetRoots())for(const t of this.preferenceConfigurations.getPaths()){const i=e.resource.resolve(t);this.toDisposeOnUpdateEncodingOverrides.push(this.encodingRegistry.registerOverride({encoding:v.UTF8,parent:i}))}}updateStyles(){document.body.classList.remove("theia-no-open-workspace"),this.workspaceService.isMultiRootWorkspaceOpened||this.workspaceService.tryGetRoots().length||document.body.classList.add("theia-no-open-workspace")}registerCommands(e){e.registerCommand(g.WorkspaceCommands.OPEN,{isEnabled:()=>c.isOSX||!this.isElectron(),isVisible:()=>c.isOSX||!this.isElectron(),execute:()=>this.doOpen()}),e.registerCommand(g.WorkspaceCommands.OPEN_FILE,{isEnabled:()=>!0,execute:()=>this.doOpenFile()}),e.registerCommand(g.WorkspaceCommands.OPEN_FOLDER,{isEnabled:()=>!0,execute:()=>this.doOpenFolder()}),e.registerCommand(g.WorkspaceCommands.OPEN_WORKSPACE,{isEnabled:()=>!0,execute:()=>this.doOpenWorkspace()}),e.registerCommand(g.WorkspaceCommands.CLOSE,{isEnabled:()=>this.workspaceService.opened,execute:()=>this.closeWorkspace()}),e.registerCommand(g.WorkspaceCommands.OPEN_RECENT_WORKSPACE,{execute:()=>this.quickOpenWorkspace.select()}),e.registerCommand(g.WorkspaceCommands.SAVE_WORKSPACE_AS,{isVisible:()=>this.workspaceService.opened,isEnabled:()=>this.workspaceService.opened,execute:()=>this.saveWorkspaceAs()}),e.registerCommand(g.WorkspaceCommands.OPEN_WORKSPACE_FILE,{isEnabled:()=>this.workspaceService.saved,execute:()=>{this.workspaceService.saved&&this.workspaceService.workspace&&(0,l.open)(this.openerService,this.workspaceService.workspace.resource)}})}registerMenus(e){!c.isOSX&&this.isElectron()||e.registerMenuAction(l.CommonMenus.FILE_OPEN,{commandId:g.WorkspaceCommands.OPEN.id,order:"a00"}),!c.isOSX&&this.isElectron()&&(e.registerMenuAction(l.CommonMenus.FILE_OPEN,{commandId:g.WorkspaceCommands.OPEN_FILE.id,label:`${g.WorkspaceCommands.OPEN_FILE.dialogLabel}...`,order:"a01"}),e.registerMenuAction(l.CommonMenus.FILE_OPEN,{commandId:g.WorkspaceCommands.OPEN_FOLDER.id,label:`${g.WorkspaceCommands.OPEN_FOLDER.dialogLabel}...`,order:"a02"})),e.registerMenuAction(l.CommonMenus.FILE_OPEN,{commandId:g.WorkspaceCommands.OPEN_WORKSPACE.id,order:"a10"}),e.registerMenuAction(l.CommonMenus.FILE_OPEN,{commandId:g.WorkspaceCommands.OPEN_RECENT_WORKSPACE.id,order:"a20"}),e.registerMenuAction(t.FILE_WORKSPACE,{commandId:g.WorkspaceCommands.ADD_FOLDER.id,order:"a10"}),e.registerMenuAction(t.FILE_WORKSPACE,{commandId:g.WorkspaceCommands.SAVE_WORKSPACE_AS.id,order:"a20"}),e.registerMenuAction(l.CommonMenus.FILE_CLOSE,{commandId:g.WorkspaceCommands.CLOSE.id}),e.registerMenuAction(l.CommonMenus.FILE_SAVE,{commandId:g.WorkspaceCommands.SAVE_AS.id}),e.registerMenuAction(l.SHELL_TABBAR_CONTEXT_COPY,{commandId:g.WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,label:g.WorkspaceCommands.COPY_RELATIVE_FILE_PATH.label})}registerKeybindings(e){e.registerKeybinding({command:c.isOSX||!this.isElectron()?g.WorkspaceCommands.OPEN.id:g.WorkspaceCommands.OPEN_FILE.id,keybinding:this.isElectron()?"ctrlcmd+o":"ctrlcmd+alt+o"}),!c.isOSX&&this.isElectron()&&e.registerKeybinding({command:g.WorkspaceCommands.OPEN_FOLDER.id,keybinding:"ctrl+k ctrl+o"}),e.registerKeybinding({command:g.WorkspaceCommands.OPEN_WORKSPACE.id,keybinding:"ctrlcmd+alt+w"}),e.registerKeybinding({command:g.WorkspaceCommands.OPEN_RECENT_WORKSPACE.id,keybinding:"ctrlcmd+alt+r"}),e.registerKeybinding({command:g.WorkspaceCommands.SAVE_AS.id,keybinding:"ctrlcmd+shift+s"}),e.registerKeybinding({command:g.WorkspaceCommands.COPY_RELATIVE_FILE_PATH.id,keybinding:a.isWindows?"ctrl+k ctrl+shift+c":"ctrlcmd+shift+alt+c",when:"!editorFocus"})}async doOpen(){var e;if(!c.isOSX&&this.isElectron())return this.doOpenFile();const[t]=await this.workspaceService.roots,i=await this.fileDialogService.showOpenDialog({title:g.WorkspaceCommands.OPEN.dialogLabel,canSelectFolders:!0,canSelectFiles:!0},t);return i&&(null===(e=this.getCurrentWorkspaceUri())||void 0===e?void 0:e.toString())!==i.toString()?((await this.fileService.resolve(i)).isDirectory?this.workspaceService.open(i):await(0,l.open)(this.openerService,i),i):void 0}async doOpenFile(){const e={title:g.WorkspaceCommands.OPEN_FILE.dialogLabel,canSelectFolders:!1,canSelectFiles:!0},[t]=await this.workspaceService.roots,i=await this.fileDialogService.showOpenDialog(e,t);if(i&&!(await this.fileService.resolve(i)).isDirectory)return await(0,l.open)(this.openerService,i),i}async doOpenFolder(){const e={title:g.WorkspaceCommands.OPEN_FOLDER.dialogLabel,canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!0},[t]=await this.workspaceService.roots,i=await this.fileDialogService.showOpenDialog(e,t);if(i){const e=await this.getOpenableWorkspaceUri(i);if(e&&(!this.workspaceService.workspace||!e.isEqual(this.workspaceService.workspace.resource)))return this.workspaceService.open(e),e}}async getOpenableWorkspaceUri(e){if(Array.isArray(e)){if(e.length<2)return e[0];{const t=(await Promise.all(e.map((e=>this.fileService.resolve(e))))).filter((e=>!!(null==e?void 0:e.isDirectory)));return 1===t.length?t[0].resource:this.createMultiRootWorkspace(t)}}return e}async createMultiRootWorkspace(e){const t=await this.workspaceService.getUntitledWorkspace(),i=Array.from(new Set(e.map((e=>e.resource.path.toString()))),(e=>({path:e})));return(await this.fileService.createFile(t,w.BinaryBuffer.fromString(JSON.stringify({folders:i},null,4)),{overwrite:!0})).resource}async doOpenWorkspace(){var e;const t={title:g.WorkspaceCommands.OPEN_WORKSPACE.dialogLabel,canSelectFiles:!0,canSelectFolders:!1,filters:n.DEFAULT_FILE_FILTER},[i]=await this.workspaceService.roots,o=await this.fileDialogService.showOpenDialog(t,i);if(o&&(null===(e=this.getCurrentWorkspaceUri())||void 0===e?void 0:e.toString())!==o.toString()&&await this.fileService.exists(o))return this.workspaceService.open(o),o}async closeWorkspace(){await this.workspaceService.close()}async saveWorkspaceAs(){let e,t=!1,i=!1;do{if(e=await this.fileDialogService.showSaveDialog({title:g.WorkspaceCommands.SAVE_WORKSPACE_AS.label,filters:n.DEFAULT_FILE_FILTER}),e){const n=e.displayName;n.endsWith(`.${p.THEIA_EXT}`)||n.endsWith(`.${p.VSCODE_EXT}`)||(e=e.parent.resolve(`${n}.${p.THEIA_EXT}`)),t=await this.fileService.exists(e),t&&(i=await this.saveService.confirmOverwrite(e))}}while(e&&t&&!i);if(e)try{return await this.workspaceService.save(e),!0}catch{this.messageService.error(C.nls.localizeByDefault("Unable to save workspace '{0}'",e.path.fsPath()))}return!1}canBeSavedAs(e){return this.saveService.canSaveAs(e)}async saveAs(e){return this.saveService.saveAs(e)}updateWorkspaceStateKey(){return this.doUpdateState()}updateWorkbenchStateKey(){return this.doUpdateState()}doUpdateState(){return this.workspaceService.opened?this.workspaceService.isMultiRootWorkspaceOpened?"workspace":"folder":"empty"}isElectron(){return c.environment.electron.is()}getCurrentWorkspaceUri(){var e;return null===(e=this.workspaceService.workspace)||void 0===e?void 0:e.resource}onWillStop(){const{workspace:e}=this.workspaceService;if(e&&this.workspaceService.isUntitledWorkspace(e.resource))return{prepare:async t=>t===E.StopReason.Reload&&this.workspaceService.isSafeToReload(e.resource),action:async e=>{if(e)return!0;const t=await new _.UntitledWorkspaceExitDialog({title:C.nls.localizeByDefault("Do you want to save your workspace configuration as a file?")}).open();return"Don't Save"===t||"Save"===t&&this.saveWorkspaceAs()},reason:"Untitled workspace.",priority:100}}};o([(0,s.inject)(a.MessageService),r("design:type",a.MessageService)],x.prototype,"messageService",void 0),o([(0,s.inject)(m.FileService),r("design:type",m.FileService)],x.prototype,"fileService",void 0),o([(0,s.inject)(l.OpenerService),r("design:type",Object)],x.prototype,"openerService",void 0),o([(0,s.inject)(h.WorkspaceService),r("design:type",h.WorkspaceService)],x.prototype,"workspaceService",void 0),o([(0,s.inject)(f.QuickOpenWorkspace),r("design:type",f.QuickOpenWorkspace)],x.prototype,"quickOpenWorkspace",void 0),o([(0,s.inject)(d.FileDialogService),r("design:type",Object)],x.prototype,"fileDialogService",void 0),o([(0,s.inject)(u.ContextKeyService),r("design:type",Object)],x.prototype,"contextKeyService",void 0),o([(0,s.inject)(b.EncodingRegistry),r("design:type",b.EncodingRegistry)],x.prototype,"encodingRegistry",void 0),o([(0,s.inject)(y.PreferenceConfigurations),r("design:type",y.PreferenceConfigurations)],x.prototype,"preferenceConfigurations",void 0),o([(0,s.inject)(S.FilesystemSaveResourceService),r("design:type",S.FilesystemSaveResourceService)],x.prototype,"saveService",void 0),x=n=o([(0,s.injectable)()],x),t.WorkspaceFrontendContribution=x,function(e){e.DEFAULT_FILE_FILTER={"Theia Workspace (*.theia-workspace)":[p.THEIA_EXT],"VS Code Workspace (*.code-workspace)":[p.VSCODE_EXT]}}(x=t.WorkspaceFrontendContribution||(t.WorkspaceFrontendContribution={})),t.WorkspaceFrontendContribution=x},464:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(70801),o=i(9825),r=i(87361),s=i(21549),a=i(54752),c=i(17264),l=i(3754),d=i(34934),u=i(18631),h=i(27030),p=i(37900),g=i(69928),f=i(41836),m=i(76853),b=i(25231),v=i(21648),A=i(75346),y=i(58385),C=i(38659),w=i(90830),_=i(71056),S=i(11234),E=i(49873),k=i(68867),x=i(1287),D=i(25235),T=i(7534),M=i(89168),B=i(81124),I=i(87976),L=i(3942);t.default=new n.ContainerModule(((e,t,i,n)=>{(0,b.bindWorkspacePreferences)(e),(0,T.bindWorkspaceTrustPreferences)(e),e(h.WorkspaceService).toSelf().inSingletonScope(),e(r.FrontendApplicationContribution).toService(h.WorkspaceService),e(d.WorkspaceServer).toDynamicValue((e=>e.container.get(r.WebSocketConnectionProvider).createProxy(d.workspacePath))).inSingletonScope(),e(u.WorkspaceFrontendContribution).toSelf().inSingletonScope();for(const t of[r.FrontendApplicationContribution,o.CommandContribution,r.KeybindingContribution,o.MenuContribution])e(t).toService(u.WorkspaceFrontendContribution);e(s.OpenFileDialogFactory).toFactory((e=>t=>(0,s.createOpenFileDialogContainer)(e.container,t).get(s.OpenFileDialog))),e(s.SaveFileDialogFactory).toFactory((e=>t=>(0,s.createSaveFileDialogContainer)(e.container,t).get(s.SaveFileDialog))),e(p.WorkspaceCommandContribution).toSelf().inSingletonScope(),e(o.CommandContribution).toService(p.WorkspaceCommandContribution),e(p.FileMenuContribution).toSelf().inSingletonScope(),e(o.MenuContribution).toService(p.FileMenuContribution),e(p.EditMenuContribution).toSelf().inSingletonScope(),e(o.MenuContribution).toService(p.EditMenuContribution),e(A.WorkspaceDeleteHandler).toSelf().inSingletonScope(),e(y.WorkspaceDuplicateHandler).toSelf().inSingletonScope(),e(w.WorkspaceCompareHandler).toSelf().inSingletonScope(),e(_.DiffService).toSelf().inSingletonScope(),e(f.WorkspaceStorageService).toSelf().inSingletonScope(),n(a.StorageService).toService(f.WorkspaceStorageService),e(c.LabelProviderContribution).to(m.WorkspaceUriLabelProviderContribution).inSingletonScope(),e(g.WorkspaceVariableContribution).toSelf().inSingletonScope(),e(l.VariableContribution).toService(g.WorkspaceVariableContribution),e(v.QuickOpenWorkspace).toSelf().inSingletonScope(),e(C.WorkspaceUtils).toSelf().inSingletonScope(),e(d.CommonWorkspaceUtils).toSelf().inSingletonScope(),e(E.WorkspaceSchemaUpdater).toSelf().inSingletonScope(),e(S.JsonSchemaContribution).toService(E.WorkspaceSchemaUpdater),n(x.FilepathBreadcrumbsContribution).to(k.WorkspaceBreadcrumbsContribution).inSingletonScope(),e(D.WorkspaceTrustService).toSelf().inSingletonScope(),n(M.UserWorkingDirectoryProvider).to(B.WorkspaceUserWorkingDirectoryProvider).inSingletonScope(),n(I.WindowTitleUpdater).to(L.WorkspaceWindowTitleUpdater).inSingletonScope()}))},8501:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceInputDialog=t.WorkspaceInputDialogProps=void 0;const s=i(70801),a=i(87361);let c=class extends a.SingleTextInputDialogProps{};c=n([(0,s.injectable)()],c),t.WorkspaceInputDialogProps=c;let l=class extends a.SingleTextInputDialog{constructor(e,t){super(e),this.props=e,this.labelProvider=t,this.appendParentPath()}appendParentPath(){const e=this.labelProvider.getLongName(this.props.parentUri),t=document.createElement("div"),i=document.createElement("i");i.classList.add(...(0,a.codiconArray)("folder")),i.style.marginRight="0.5em",i.style.verticalAlign="middle",t.style.verticalAlign="middle",t.style.paddingBottom="1em",t.title=this.props.parentUri.path.fsPath(),t.appendChild(i),t.appendChild(document.createTextNode(e)),this.contentNode.insertBefore(t,this.inputField)}};l=n([r(0,(0,s.inject)(c)),r(1,(0,s.inject)(a.LabelProvider)),o("design:paramtypes",[c,a.LabelProvider])],l),t.WorkspaceInputDialog=l},25231:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindWorkspacePreferences=t.createWorkspacePreferences=t.WorkspacePreferences=t.WorkspacePreferenceContribution=t.workspacePreferenceSchema=void 0;const n=i(98516),o=i(44989);function r(e,i=t.workspacePreferenceSchema){return(0,n.createPreferenceProxy)(e,i)}t.workspacePreferenceSchema={type:"object",properties:{"workspace.preserveWindow":{description:o.nls.localize("theia/workspace/preserveWindow","Enable opening workspaces in current window."),type:"boolean",default:!1}}},t.WorkspacePreferenceContribution=Symbol("WorkspacePreferenceContribution"),t.WorkspacePreferences=Symbol("WorkspacePreferences"),t.createWorkspacePreferences=r,t.bindWorkspacePreferences=function(e){e(t.WorkspacePreferences).toDynamicValue((e=>r(e.container.get(n.PreferenceService),e.container.get(t.WorkspacePreferenceContribution).schema))).inSingletonScope(),e(t.WorkspacePreferenceContribution).toConstantValue({schema:t.workspacePreferenceSchema}),e(n.PreferenceContribution).toService(t.WorkspacePreferenceContribution)}},49873:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.workspaceSchema=t.workspaceSchemaId=t.WorkspaceSchema=t.WorkspaceSchemaUpdater=t.AddKeyMessage=void 0;const r=i(70801),s=i(9825),a=i(30970),c=i(60516);var l;!function(e){e.is=e=>!!e&&void 0!==e.schema}(l=t.AddKeyMessage||(t.AddKeyMessage={}));let d=class{constructor(){this.uri=new a.default(t.workspaceSchemaId),this.editQueue=[],this.safeToHandleQueue=new c.Deferred}init(){this.inmemoryResources.add(this.uri,JSON.stringify(t.workspaceSchema)),this.safeToHandleQueue.resolve()}registerSchemas(e){e.registerSchema({fileMatch:["*.theia-workspace","*.code-workspace"],url:this.uri.toString()})}async retrieveCurrent(){const e=await this.inmemoryResources.resolve(this.uri).readContents(),t=JSON.parse(e);if(!u.is(t))throw new Error("Failed to retrieve current workspace schema.");return t}async updateSchema(e){const t=0===this.editQueue.length,i=new c.Deferred;return this.editQueue.push({...e,deferred:i}),t&&this.handleQueue(),i.promise}async handleQueue(){await this.safeToHandleQueue.promise,this.safeToHandleQueue=new c.Deferred;const e=await this.retrieveCurrent();for(;this.editQueue.length;){const t=this.editQueue.shift();l.is(t)?this.addKey(t,e):t&&this.removeKey(t,e)}this.inmemoryResources.update(this.uri,JSON.stringify(e)),this.safeToHandleQueue.resolve()}addKey({key:e,schema:t,deferred:i},n){if(e in n.properties)return i.resolve(!1);n.properties[e]=t,i.resolve(!0)}removeKey({key:e,deferred:t},i){if(i.required.includes(e))return t.resolve(!1);const n=delete i.properties[e];t.resolve(n)}};var u;n([(0,r.inject)(s.InMemoryResources),o("design:type",s.InMemoryResources)],d.prototype,"inmemoryResources",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.WorkspaceSchemaUpdater=d,function(e){e.is=function(e){return(0,s.isObject)(e)&&"object"==typeof e.properties&&(0,s.isArray)(e.required)}}(u=t.WorkspaceSchema||(t.WorkspaceSchema={})),t.workspaceSchemaId="vscode://schemas/workspace",t.workspaceSchema={$id:t.workspaceSchemaId,type:"object",title:"Workspace File",required:["folders"],default:{folders:[{path:""}],settings:{}},properties:{folders:{description:"Root folders in the workspace",type:"array",items:{type:"object",properties:{path:{type:"string"}},required:["path"]}}},allowComments:!0,allowTrailingCommas:!0}},27030:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceData=t.WorkspaceService=void 0;const r=i(70801),s=i(30970),a=i(34934),c=i(51208),l=i(55912),d=i(87361),u=i(60516),h=i(18234),p=i(9825),g=i(25231),f=i(69592),m=i(95918),b=i(36090),v=i(14304),A=i(79900),y=i(21549),C=i(49873),w=i(14559);let _=class{constructor(){this._roots=[],this.deferredRoots=new u.Deferred,this._ready=new u.Deferred,this.onWorkspaceChangeEmitter=new p.Emitter,this.onWorkspaceLocationChangedEmitter=new p.Emitter,this.toDisposeOnWorkspace=new p.DisposableCollection,this.rootWatchers=new Map}get ready(){return this._ready.promise}init(){this.doInit()}async doInit(){const e=await this.getDefaultWorkspaceUri(),t=await this.toFileStat(e);await this.setWorkspace(t),this.fileService.onDidFilesChange((e=>{this._workspace&&this._workspace.isFile&&e.contains(this._workspace.resource)&&this.updateWorkspace()})),this.fsPreferences.onPreferenceChanged((e=>{"files.watcherExclude"===e.preferenceName&&this.refreshRootWatchers()})),this._ready.resolve()}getDefaultWorkspaceUri(){return this.doGetDefaultWorkspaceUri()}async doGetDefaultWorkspaceUri(){if(window.location.hash!==`#${l.DEFAULT_WINDOW_HASH}`){if(window.location.hash.length>1){const e=decodeURI(window.location.hash.substring(1)),t=(new s.default).withPath(e).withScheme("file");let i;try{i=await this.fileService.resolve(t)}catch{}return!i||i.isDirectory||this.isWorkspaceFile(i)?t.toString():void this.messageService.error(`Not a valid workspace file: ${t}`)}return this.server.getMostRecentlyUsedWorkspace()}window.location.hash=""}setURLFragment(e){window.location.hash=encodeURI(e)}get roots(){return this.deferredRoots.promise}tryGetRoots(){return this._roots}get workspace(){return this._workspace}get onWorkspaceChanged(){return this.onWorkspaceChangeEmitter.event}get onWorkspaceLocationChanged(){return this.onWorkspaceLocationChangedEmitter.event}async setWorkspace(e){if(!this._workspace||!e||this._workspace.resource!==e.resource||this._workspace.mtime!==e.mtime||this._workspace.etag!==e.etag||this._workspace.size!==e.size){if(this.toDisposeOnWorkspace.dispose(),this._workspace=e,this._workspace){const e=this._workspace.resource;this._workspace.isFile&&(this.toDisposeOnWorkspace.push(this.fileService.watch(e)),this.onWorkspaceLocationChangedEmitter.fire(this._workspace)),this.setURLFragment(e.path.toString())}else this.setURLFragment("");this.updateTitle(),await this.server.setMostRecentlyUsedWorkspace(this._workspace?this._workspace.resource.toString():""),await this.updateWorkspace()}}async updateWorkspace(){await this.updateRoots(),this.watchRoots()}async updateRoots(){const e=await this.computeRoots();let t=!1;if(e.length!==this._roots.length||0===e.length)t=!0;else for(const i of e)if(!this._roots.some((e=>e.resource.toString()===i.resource.toString()))){t=!0;break}t&&(this._roots=e,this.deferredRoots.resolve(this._roots),this.deferredRoots=new u.Deferred,this.deferredRoots.resolve(this._roots),this.onWorkspaceChangeEmitter.fire(this._roots))}async computeRoots(){const e=[];if(this._workspace){if(this._workspace.isDirectory)return[this._workspace];const t=await this.getWorkspaceDataFromFile();if(t)for(const{path:i}of t.folders){const t=await this.toValidRoot(i);t?e.push(t):e.push(b.FileStat.dir(i))}}return e}async getWorkspaceDataFromFile(){if(this._workspace&&await this.fileService.exists(this._workspace.resource)){if(this._workspace.isDirectory)return{folders:[{path:this._workspace.resource.toString()}]};if(this.isWorkspaceFile(this._workspace)){const e=await this.fileService.read(this._workspace.resource),t=f.stripComments(e.value),i=f.parse(t);if(i&&S.is(i))return S.transformToAbsolute(i,e);this.logger.error(`Unable to retrieve workspace data from the file: '${this.labelProvider.getLongName(this._workspace)}'. Please check if the file is corrupted.`)}else this.logger.warn(`Not a valid workspace file: ${this.labelProvider.getLongName(this._workspace)}`)}}updateTitle(){let e,t;if(this._workspace){const i=this._workspace.name,n=this._workspace.resource.path.toString();if(this.isWorkspaceFile(this._workspace))if(this.isUntitledWorkspace(this._workspace.resource)){const i=p.nls.localizeByDefault("Untitled (Workspace)");e=i,t=i}else e=i.slice(0,i.lastIndexOf(".")),t=n.slice(0,n.lastIndexOf("."));else e=i,t=n}this.windowTitleService.update({rootName:e,rootPath:t})}onStop(){this.server.setMostRecentlyUsedWorkspace(this._workspace?this._workspace.resource.toString():"")}async recentWorkspaces(){return this.server.getRecentWorkspaces()}async removeRecentWorkspace(e){return this.server.removeRecentWorkspace(e)}get opened(){return!!this._workspace}get isMultiRootWorkspaceOpened(){return!!this.workspace&&!this.workspace.isDirectory}open(e,t){this.doOpen(e,t)}async doOpen(e,t){const i=await this.toFileStat(e);if(i){if(!i.isDirectory&&!this.isWorkspaceFile(i)){const t=`Not a valid workspace: ${e.path.toString()}`;throw this.messageService.error(t),new Error(t)}await this.roots;const{preserveWindow:n}={preserveWindow:this.preferences["workspace.preserveWindow"]||!this.opened,...t};return await this.server.setMostRecentlyUsedWorkspace(e.toString()),n&&(this._workspace=i),void this.openWindow(i,Object.assign(null!=t?t:{},{preserveWindow:n}))}throw new Error("Invalid workspace root URI. Expected an existing directory or workspace file.")}async addRoot(e){const t=Array.isArray(e)?e:[e];await this.spliceRoots(this._roots.length,0,...t)}async removeRoots(e){if(!this.opened)throw new Error("Folder cannot be removed as there is no active folder in the current workspace.");if(this._workspace){const t=await this.getWorkspaceDataFromFile();this._workspace=await this.writeWorkspaceFile(this._workspace,S.buildWorkspaceData(this._roots.filter((t=>e.findIndex((e=>e.toString()===t.resource.toString()))<0)),t)),await this.updateWorkspace()}}async spliceRoots(e,t,...i){if(!this._workspace)throw new Error("There is no active workspace");const n=new Set,o=this._roots.map((e=>(n.add(e.resource.toString()),e.resource.toString()))),r=[];for(const e of i){const t=e.toString();n.has(t)||(n.add(t),r.push(t))}const a=o.splice(e,t||0,...r);if(!a.length&&!r.length)return[];if(this._workspace.isDirectory){const e=await this.getUntitledWorkspace();await this.save(e)}const c=await this.getWorkspaceDataFromFile(),l=S.buildWorkspaceData(o,c);return await this.writeWorkspaceFile(this._workspace,l),await this.updateWorkspace(),a.map((e=>new s.default(e)))}async getUntitledWorkspace(){const e=new s.default(await this.envVariableServer.getConfigDirUri());return this.utils.getUntitledWorkspaceUri(e,(e=>this.fileService.exists(e).then((e=>!e))),(()=>this.messageService.warn(p.nls.localize("theia/workspace/untitled-cleanup","There appear to be many untitled workspace files. Please check {0} and remove any unused files.",e.resolve("workspaces").path.fsPath()))))}async writeWorkspaceFile(e,t){if(e){const i=JSON.stringify(S.transformToRelative(t,e)),n=f.format(i,void 0,{tabSize:2,insertSpaces:!0,eol:""}),o=f.applyEdits(i,n);return await this.fileService.write(e.resource,o),this.fileService.resolve(e.resource)}}async close(){await this.windowService.isSafeToShutDown(w.StopReason.Reload)&&(this.windowService.setSafeToShutDown(),this._workspace=void 0,this._roots.length=0,await this.server.setMostRecentlyUsedWorkspace(""),this.reloadWindow())}async toValidRoot(e){const t=await this.toFileStat(e);if(t&&t.isDirectory)return t}async toFileStat(e){if(!e)return;let t=e.toString();try{t.endsWith("/")&&(t=t.slice(0,-1));const e=new s.default(t).normalizePath();return await this.fileService.resolve(e)}catch(e){return}}openWindow(e,t){const i=e.resource.path.toString();if(this.shouldPreserveWindow(t))this.reloadWindow(t);else try{this.openNewWindow(i,t)}catch(t){this._workspace=e,this.logger.error(t.toString()).then((()=>this.reloadWindow()))}}reloadWindow(e){void 0!==this._workspace?this.setURLFragment(this._workspace.resource.path.toString()):this.setURLFragment(""),this.windowService.reload()}openNewWindow(e,t){const i=new URL(window.location.href);i.hash=encodeURI(e),this.windowService.openNewWindow(i.toString())}shouldPreserveWindow(e){return void 0!==e&&!!e.preserveWindow}async containsSome(e){if(await this.roots,this.opened)for(const t of this._roots){const i=t.resource;for(const t of e){const e=i.resolve(t),n=await this.fileService.exists(e);if(n)return n}}return!1}get saved(){return!!this._workspace&&!this._workspace.isDirectory}async save(e){var t;const i=e instanceof s.default?e:e.resource;await this.fileService.exists(i)||await this.fileService.create(i);const n={folders:[],settings:{}};if(!this.saved)for(const e of Object.keys(this.schemaProvider.getCombinedSchema().properties)){if(this.schemaProvider.isValidInScope(e,d.PreferenceScope.Folder))continue;const t=this.preferenceImpl.inspect(e);t&&t.workspaceValue&&(n.settings[e]=t.workspaceValue)}let o=await this.toFileStat(i);Object.assign(n,await this.getWorkspaceDataFromFile()),o=await this.writeWorkspaceFile(o,S.buildWorkspaceData(this._roots,n)),await this.server.setMostRecentlyUsedWorkspace(i.toString());const r=this.isUntitledWorkspace(null===(t=this.workspace)||void 0===t?void 0:t.resource)&&this.workspace.resource;await this.setWorkspace(o),r&&o&&!r.isEqual(o.resource)&&await this.fileService.delete(r).catch((()=>{})),this.onWorkspaceLocationChangedEmitter.fire(o)}async watchRoots(){const e=new Set(this._roots.map((e=>e.resource.toString())));for(const[t,i]of this.rootWatchers.entries())e.has(t)||i.dispose();for(const e of this._roots)this.watchRoot(e)}async refreshRootWatchers(){for(const e of this.rootWatchers.values())e.dispose();await this.watchRoots()}async watchRoot(e){const t=e.resource.toString();if(this.rootWatchers.has(t))return;const i=this.getExcludes(t),n=this.fileService.watch(new s.default(t),{recursive:!0,excludes:i});this.rootWatchers.set(t,new p.DisposableCollection(n,p.Disposable.create((()=>this.rootWatchers.delete(t)))))}getExcludes(e){const t=this.fsPreferences.get("files.watcherExclude",void 0,e);return Object.keys(t).filter((e=>t[e]))}getWorkspaceRootUri(e){if(!e){const e=this.tryGetRoots()[0];return e?e.resource:void 0}const t=[];for(const i of this.tryGetRoots()){const n=i.resource;n&&n.isEqualOrParent(e)&&t.push(n)}return t.sort(((e,t)=>t.toString().length-e.toString().length))[0]}areWorkspaceRoots(e){if(!e.length)return!1;const t=new Set(this.tryGetRoots().map((e=>e.resource.toString())));return e.every((e=>t.has(e.toString())))}isWorkspaceFile(e){return this.utils.isWorkspaceFile(e)}isUntitledWorkspace(e){return this.utils.isUntitledWorkspace(e)}async isSafeToReload(e){return!e||!this.utils.isUntitledWorkspace(e)||new s.default(await this.getDefaultWorkspaceUri()).isEqual(e)}async updateSchema(e,t){return this.schemaUpdater.updateSchema({key:e,schema:t})}};var S;n([(0,r.inject)(v.FileService),o("design:type",v.FileService)],_.prototype,"fileService",void 0),n([(0,r.inject)(a.WorkspaceServer),o("design:type",Object)],_.prototype,"server",void 0),n([(0,r.inject)(c.WindowService),o("design:type",Object)],_.prototype,"windowService",void 0),n([(0,r.inject)(p.ILogger),o("design:type",Object)],_.prototype,"logger",void 0),n([(0,r.inject)(g.WorkspacePreferences),o("design:type",Object)],_.prototype,"preferences",void 0),n([(0,r.inject)(d.PreferenceServiceImpl),o("design:type",d.PreferenceServiceImpl)],_.prototype,"preferenceImpl",void 0),n([(0,r.inject)(d.PreferenceSchemaProvider),o("design:type",d.PreferenceSchemaProvider)],_.prototype,"schemaProvider",void 0),n([(0,r.inject)(h.EnvVariablesServer),o("design:type",Object)],_.prototype,"envVariableServer",void 0),n([(0,r.inject)(p.MessageService),o("design:type",p.MessageService)],_.prototype,"messageService",void 0),n([(0,r.inject)(d.LabelProvider),o("design:type",d.LabelProvider)],_.prototype,"labelProvider",void 0),n([(0,r.inject)(y.FileSystemPreferences),o("design:type",Object)],_.prototype,"fsPreferences",void 0),n([(0,r.inject)(C.WorkspaceSchemaUpdater),o("design:type",C.WorkspaceSchemaUpdater)],_.prototype,"schemaUpdater",void 0),n([(0,r.inject)(a.CommonWorkspaceUtils),o("design:type",a.CommonWorkspaceUtils)],_.prototype,"utils",void 0),n([(0,r.inject)(A.WindowTitleService),o("design:type",A.WindowTitleService)],_.prototype,"windowTitleService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],_.prototype,"init",null),_=n([(0,r.injectable)()],_),t.WorkspaceService=_,function(e){const t=(new m).compile(C.workspaceSchema);function i(e,t){const i=new Set;e.length>0&&("string"!=typeof e[0]?e.forEach((e=>i.add(e.resource.toString()))):e.forEach((e=>i.add(e))));const n={folders:Array.from(i,(e=>({path:e})))};return t&&(delete t.folders,Object.assign(n,t)),n}e.is=function(e){return!!t(e)},e.buildWorkspaceData=i,e.transformToRelative=function(e,t){const n=[],o=new s.default(t?t.resource.toString():"").withScheme("file");for(const{path:t}of e.folders){const e=new s.default(t).withScheme("file"),i=o.parent.relative(e);i?n.push(i.toString()):n.push(e.toString())}return i(n,e)},e.transformToAbsolute=function(e,t){var n;if(t){const o=[];for(const i of e.folders){const e=i.path;if(e.startsWith("file:///"))o.push(e);else{const i=null===(n=t.resource.withScheme("file").parent.resolveToAbsolute(e))||void 0===n?void 0:n.toString();i&&o.push(i.toString())}}return Object.assign(e,i(o,e))}return e}}(S=t.WorkspaceData||(t.WorkspaceData={}))},41836:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceStorageService=void 0;const r=i(70801),s=i(54752),a=i(27030);let c=class{init(){this.initialized=this.workspaceService.roots.then((()=>{this.updatePrefix(),this.workspaceService.onWorkspaceLocationChanged((()=>this.updatePrefix()))}))}async setData(e,t){this.prefix||await this.initialized;const i=this.prefixWorkspaceURI(e);return this.storageService.setData(i,t)}async getData(e,t){await this.initialized;const i=this.prefixWorkspaceURI(e);return this.storageService.getData(i,t)}prefixWorkspaceURI(e){return`${this.prefix}:${e}`}getPrefix(e){return e?e.resource.toString():"_global_"}updatePrefix(){this.prefix=this.getPrefix(this.workspaceService.workspace)}};n([(0,r.inject)(s.LocalStorageService),o("design:type",Object)],c.prototype,"storageService",void 0),n([(0,r.inject)(a.WorkspaceService),o("design:type",a.WorkspaceService)],c.prototype,"workspaceService",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],c.prototype,"init",null),c=n([(0,r.injectable)()],c),t.WorkspaceStorageService=c},7534:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindWorkspaceTrustPreferences=t.createWorkspaceTrustPreferences=t.WorkspaceTrustPreferences=t.WorkspaceTrustPreferenceContribution=t.workspaceTrustPreferenceSchema=t.WorkspaceTrustPrompt=t.WORKSPACE_TRUST_EMPTY_WINDOW=t.WORKSPACE_TRUST_STARTUP_PROMPT=t.WORKSPACE_TRUST_ENABLED=void 0;const n=i(98516),o=i(44989);var r;function s(e,i=t.workspaceTrustPreferenceSchema){return(0,n.createPreferenceProxy)(e,i)}t.WORKSPACE_TRUST_ENABLED="security.workspace.trust.enabled",t.WORKSPACE_TRUST_STARTUP_PROMPT="security.workspace.trust.startupPrompt",t.WORKSPACE_TRUST_EMPTY_WINDOW="security.workspace.trust.emptyWindow",function(e){e.ALWAYS="always",e.ONCE="once",e.NEVER="never"}(r=t.WorkspaceTrustPrompt||(t.WorkspaceTrustPrompt={})),t.workspaceTrustPreferenceSchema={type:"object",properties:{[t.WORKSPACE_TRUST_ENABLED]:{description:o.nls.localize("theia/workspace/trustEnabled","Controls whether or not workspace trust is enabled. If disabled, all workspaces are trusted."),type:"boolean",defaultValue:!0},[t.WORKSPACE_TRUST_STARTUP_PROMPT]:{description:o.nls.localizeByDefault("Controls when the startup prompt to trust a workspace is shown."),enum:Object.values(r),defaultValue:r.ALWAYS},[t.WORKSPACE_TRUST_EMPTY_WINDOW]:{description:o.nls.localize("theia/workspace/trustEmptyWindow","Controls whether or not the empty workspace is trusted by default."),type:"boolean",defaultValue:!0}}},t.WorkspaceTrustPreferenceContribution=Symbol("WorkspaceTrustPreferenceContribution"),t.WorkspaceTrustPreferences=Symbol("WorkspaceTrustPreferences"),t.createWorkspaceTrustPreferences=s,t.bindWorkspaceTrustPreferences=function(e){e(t.WorkspaceTrustPreferences).toDynamicValue((e=>s(e.container.get(n.PreferenceService),e.container.get(t.WorkspaceTrustPreferenceContribution).schema))).inSingletonScope(),e(t.WorkspaceTrustPreferenceContribution).toConstantValue({schema:t.workspaceTrustPreferenceSchema}),e(n.PreferenceContribution).toService(t.WorkspaceTrustPreferenceContribution)}},25235:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceTrustService=void 0;const r=i(87361),s=i(91085),a=i(13318),c=i(44989),l=i(60516),d=i(70801),u=i(51208),h=i(7534),p=i(50058),g=i(27030),f="trusted";let m=class{constructor(){this.workspaceTrust=new l.Deferred}init(){this.doInit()}async doInit(){await this.workspaceService.ready,await this.resolveWorkspaceTrust(),this.preferences.onPreferenceChanged((e=>this.handlePreferenceChange(e)))}getWorkspaceTrust(){return this.workspaceTrust.promise}async resolveWorkspaceTrust(e){if(!this.isWorkspaceTrustResolved()){const t=null!=e?e:await this.calculateWorkspaceTrust();void 0!==t&&(await this.storeWorkspaceTrust(t),this.workspaceTrust.resolve(t))}}isWorkspaceTrustResolved(){return"unresolved"!==this.workspaceTrust.state}async calculateWorkspaceTrust(){return!this.workspaceTrustPref[h.WORKSPACE_TRUST_ENABLED]||!(!this.workspaceTrustPref[h.WORKSPACE_TRUST_EMPTY_WINDOW]||this.workspaceService.workspace)||this.workspaceTrustPref[h.WORKSPACE_TRUST_STARTUP_PROMPT]!==h.WorkspaceTrustPrompt.NEVER&&this.loadWorkspaceTrust()}async loadWorkspaceTrust(){if(this.workspaceTrustPref[h.WORKSPACE_TRUST_STARTUP_PROMPT]===h.WorkspaceTrustPrompt.ONCE)return this.storage.getData(f)}async storeWorkspaceTrust(e){if(this.workspaceTrustPref[h.WORKSPACE_TRUST_STARTUP_PROMPT]===h.WorkspaceTrustPrompt.ONCE)return this.storage.setData(f,e)}async handlePreferenceChange(e){e.preferenceName===h.WORKSPACE_TRUST_STARTUP_PROMPT&&e.newValue!==h.WorkspaceTrustPrompt.ONCE&&this.storage.setData(f,void 0),e.preferenceName===h.WORKSPACE_TRUST_ENABLED&&this.isWorkspaceTrustResolved()&&await this.confirmRestart()&&(this.windowService.setSafeToShutDown(),this.windowService.reload()),e.preferenceName!==h.WORKSPACE_TRUST_ENABLED&&e.preferenceName!==h.WORKSPACE_TRUST_EMPTY_WINDOW||this.resolveWorkspaceTrust()}async confirmRestart(){return!0===await new r.ConfirmDialog({title:c.nls.localizeByDefault("A setting has changed that requires a restart to take effect."),msg:c.nls.localizeByDefault("Press the restart button to restart {0} and enable the setting.",p.FrontendApplicationConfigProvider.get().applicationName),ok:c.nls.localizeByDefault("Restart"),cancel:r.Dialog.CANCEL}).open()}async requestWorkspaceTrust(){if(!this.isWorkspaceTrustResolved()){const e=await this.messageService.info(c.nls.localize("theia/workspace/trustRequest","An extension requests workspace trust but the corresponding API is not yet fully supported. Do you want to trust this workspace?"),r.Dialog.YES,r.Dialog.NO)===r.Dialog.YES;this.resolveWorkspaceTrust(e)}return this.workspaceTrust.promise}};n([(0,d.inject)(g.WorkspaceService),o("design:type",g.WorkspaceService)],m.prototype,"workspaceService",void 0),n([(0,d.inject)(s.PreferenceService),o("design:type",Object)],m.prototype,"preferences",void 0),n([(0,d.inject)(r.StorageService),o("design:type",Object)],m.prototype,"storage",void 0),n([(0,d.inject)(a.MessageService),o("design:type",a.MessageService)],m.prototype,"messageService",void 0),n([(0,d.inject)(h.WorkspaceTrustPreferences),o("design:type",Object)],m.prototype,"workspaceTrustPref",void 0),n([(0,d.inject)(u.WindowService),o("design:type",Object)],m.prototype,"windowService",void 0),n([(0,d.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],m.prototype,"init",null),m=n([(0,d.injectable)()],m),t.WorkspaceTrustService=m},76853:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceUriLabelProviderContribution=void 0;const r=i(17264),s=i(30970),a=i(70801),c=i(36090),l=i(27030),d=i(69928);let u=class extends r.DefaultUriLabelProviderContribution{init(){}canHandle(e){return e instanceof s.default&&"file"===e.scheme||r.URIIconReference.is(e)||c.FileStat.is(e)?10:0}getIcon(e){return super.getIcon(this.asURIIconReference(e))}getName(e){return super.getName(this.asURIIconReference(e))}getLongName(e){const t=this.getUri(e);if(t){const e=this.findFormatting(t);if(e)return this.formatUri(t,e)}return t&&this.workspaceVariable.getWorkspaceRelativePath(t)||super.getLongName(this.asURIIconReference(e))}getDetails(e){const t=this.getUri(e);if(!t)return this.getLongName(e);const i=t&&this.workspaceVariable.getWorkspaceRelativePath(t.parent);if(void 0!==i){const e=this.workspaceService.tryGetRoots().length>1?this.getName(this.workspaceVariable.getWorkspaceRootUri(t)):"";return e+(e&&i?" • ":"")+i}return this.getLongName(t.parent)}asURIIconReference(e){var t;if(c.FileStat.is(e))return r.URIIconReference.create(e.isDirectory?"folder":"file",e.resource);const i=this.getUri(e);return i&&(null===(t=this.workspaceVariable.getWorkspaceRootUri(i))||void 0===t?void 0:t.isEqual(i))?r.URIIconReference.create("folder",i):e}getUri(e){return c.FileStat.is(e)?e.resource:super.getUri(e)}};n([(0,a.inject)(d.WorkspaceVariableContribution),o("design:type",d.WorkspaceVariableContribution)],u.prototype,"workspaceVariable",void 0),n([(0,a.inject)(l.WorkspaceService),o("design:type",l.WorkspaceService)],u.prototype,"workspaceService",void 0),n([(0,a.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],u.prototype,"init",null),u=n([(0,a.injectable)()],u),t.WorkspaceUriLabelProviderContribution=u},81124:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceUserWorkingDirectoryProvider=void 0;const r=i(70801),s=i(89168),a=i(27030),c=i(14304);let l=class extends s.UserWorkingDirectoryProvider{async getUserWorkingDir(){var e,t;return null!==(t=null!==(e=await this.getFromSelection())&&void 0!==e?e:await this.getFromWorkspace())&&void 0!==t?t:this.getFromUserHome()}getFromWorkspace(){var e;return null===(e=this.workspaceService.tryGetRoots()[0])||void 0===e?void 0:e.resource}async ensureIsDirectory(e){if(e){const t=e.withScheme("file"),i=await this.fileService.resolve(t).catch((()=>this.fileService.resolve(t.parent))).catch((()=>{}));return(null==i?void 0:i.isDirectory)?i.resource:null==i?void 0:i.resource.parent}}};n([(0,r.inject)(a.WorkspaceService),o("design:type",a.WorkspaceService)],l.prototype,"workspaceService",void 0),n([(0,r.inject)(c.FileService),o("design:type",c.FileService)],l.prototype,"fileService",void 0),l=n([(0,r.injectable)()],l),t.WorkspaceUserWorkingDirectoryProvider=l},38659:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceUtils=void 0;const r=i(70801),s=i(27030);let a=class{containsRootDirectory(e){return this.workspaceService.tryGetRoots().map((e=>e.resource)).some((t=>e.some((e=>e.isEqualOrParent(t)))))}};n([(0,r.inject)(s.WorkspaceService),o("design:type",s.WorkspaceService)],a.prototype,"workspaceService",void 0),a=n([(0,r.injectable)()],a),t.WorkspaceUtils=a},69928:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceVariableContribution=void 0;const r=i(70801),s=i(91445),a=i(87361),c=i(27030),l=i(14304);let d=class{constructor(){this.recentlyVisibleIds=[]}init(){this.shell.onDidChangeCurrentWidget((()=>this.updateCurrentWidget())),this.widgetManager.onDidCreateWidget((({widget:e})=>{a.NavigatableWidget.is(e)&&(e.onDidChangeVisibility((()=>{e.isVisible?this.addRecentlyVisible(e):this.removeRecentlyVisible(e),this.updateCurrentWidget()})),e.onDidDispose((()=>{this.removeRecentlyVisible(e),this.updateCurrentWidget()})))}));for(const e of this.shell.widgets)a.NavigatableWidget.is(e)&&e.isVisible&&this.addRecentlyVisible(e);this.updateCurrentWidget()}get recentlyVisible(){const e=this.recentlyVisibleIds[0],t=e&&this.shell.getWidgetById(e)||void 0;if(a.NavigatableWidget.is(t))return t}addRecentlyVisible(e){this.removeRecentlyVisible(e),this.recentlyVisibleIds.unshift(e.id)}removeRecentlyVisible(e){const t=this.recentlyVisibleIds.indexOf(e.id);-1!==t&&this.recentlyVisibleIds.splice(t,1)}updateCurrentWidget(){const{currentWidget:e}=this.shell;a.NavigatableWidget.is(e)?this.currentWidget=e:this.currentWidget&&this.currentWidget.isVisible||(this.currentWidget=this.recentlyVisible)}registerVariables(e){this.registerWorkspaceRootVariables(e),e.registerVariable({name:"file",description:"The path of the currently opened file",resolve:()=>{const e=this.getResourceUri();return e&&this.fileService.fsPath(e)}}),e.registerVariable({name:"fileBasename",description:"The basename of the currently opened file",resolve:()=>{const e=this.getResourceUri();return e&&e.path.base}}),e.registerVariable({name:"fileBasenameNoExtension",description:"The currently opened file's name without extension",resolve:()=>{const e=this.getResourceUri();return e&&e.path.name}}),e.registerVariable({name:"fileDirname",description:"The name of the currently opened file's directory",resolve:()=>{const e=this.getResourceUri();return e&&e.path.dir.toString()}}),e.registerVariable({name:"fileExtname",description:"The extension of the currently opened file",resolve:()=>{const e=this.getResourceUri();return e&&e.path.ext}})}registerWorkspaceRootVariables(e){const t=e=>({name:e.name,description:e.description,resolve:(t,i)=>{const n=i&&this.workspaceService.tryGetRoots().find((e=>e.resource.path.name===i));return e.resolve(n?n.resource:t)}});e.registerVariable(t({name:"workspaceRoot",description:"The path of the workspace root folder",resolve:e=>{const t=this.getWorkspaceRootUri(e);return t&&this.fileService.fsPath(t)}})),e.registerVariable(t({name:"workspaceFolder",description:"The path of the workspace root folder",resolve:e=>{const t=this.getWorkspaceRootUri(e);return t&&this.fileService.fsPath(t)}})),e.registerVariable(t({name:"workspaceRootFolderName",description:"The name of the workspace root folder",resolve:e=>{const t=this.getWorkspaceRootUri(e);return t&&t.displayName}})),e.registerVariable(t({name:"workspaceFolderBasename",description:"The name of the workspace root folder",resolve:e=>{const t=this.getWorkspaceRootUri(e);return t&&t.displayName}})),e.registerVariable(t({name:"cwd",description:"The task runner's current working directory on startup",resolve:e=>{const t=this.getWorkspaceRootUri(e);return t&&this.fileService.fsPath(t)||""}})),e.registerVariable(t({name:"relativeFile",description:"The currently opened file's path relative to the workspace root",resolve:e=>{const t=this.getResourceUri();return t&&this.getWorkspaceRelativePath(t,e)}})),e.registerVariable(t({name:"relativeFileDirname",description:"The current opened file's dirname relative to ${workspaceFolder}",resolve:e=>{const t=this.getResourceUri(),i=t&&this.getWorkspaceRelativePath(t,e);return i&&new s.Path(i).dir.toString()}}))}getWorkspaceRootUri(e=this.getResourceUri()){return this.workspaceService.getWorkspaceRootUri(e)}getResourceUri(){return this.currentWidget&&this.currentWidget.getResourceUri()}getWorkspaceRelativePath(e,t){const i=this.getWorkspaceRootUri(t||e),n=i&&i.path.relative(e.path);return n&&n.toString()}};n([(0,r.inject)(c.WorkspaceService),o("design:type",c.WorkspaceService)],d.prototype,"workspaceService",void 0),n([(0,r.inject)(a.ApplicationShell),o("design:type",a.ApplicationShell)],d.prototype,"shell",void 0),n([(0,r.inject)(l.FileService),o("design:type",l.FileService)],d.prototype,"fileService",void 0),n([(0,r.inject)(a.WidgetManager),o("design:type",a.WidgetManager)],d.prototype,"widgetManager",void 0),n([(0,r.postConstruct)(),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],d.prototype,"init",null),d=n([(0,r.injectable)()],d),t.WorkspaceVariableContribution=d},3942:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceWindowTitleUpdater=void 0;const r=i(87976),s=i(70801),a=i(27030),c=i(89002);let l=class extends r.WindowTitleUpdater{updateTitleWidget(e){let t,i;if(super.updateTitleWidget(e),c.Navigatable.is(e)){const n=this.workspaceService.getWorkspaceRootUri(e.getResourceUri());n&&(t=this.labelProvider.getName(n),i=n.path.toString())}this.windowTitleService.update({folderName:t,folderPath:i})}};n([(0,s.inject)(a.WorkspaceService),o("design:type",a.WorkspaceService)],l.prototype,"workspaceService",void 0),l=n([(0,s.injectable)()],l),t.WorkspaceWindowTitleUpdater=l},34934:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),o(i(54020),t),o(i(6695),t)},6695:function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommonWorkspaceUtils=t.getTemporaryWorkspaceFileUri=t.VSCODE_EXT=t.THEIA_EXT=void 0;const o=i(30970),r=i(70801),s=i(36090);t.THEIA_EXT="theia-workspace",t.VSCODE_EXT="code-workspace",t.getTemporaryWorkspaceFileUri=async function(e){const i=await e.getConfigDirUri();return new o.default(i).resolve(`Untitled.${t.THEIA_EXT}`)};let a=class{isWorkspaceFile(e){const i=s.FileStat.is(e)?e.resource:e;return i.path.ext===`.${t.THEIA_EXT}`||i.path.ext===`.${t.VSCODE_EXT}`}isUntitledWorkspace(e){return!!e&&this.isWorkspaceFile(e)&&e.path.base.startsWith("Untitled")}async getUntitledWorkspaceUri(e,i,n){const o=e.resolve("workspaces");let r,s=0;do{if(s++,r=o.resolve(`Untitled-${Math.round(1e3*Math.random())}.${t.THEIA_EXT}`),10===s&&(null==n||n()),50===s)throw new Error("Workspace Service: too many attempts to find unused filename.")}while(!await i(r));return r}};a=n([(0,r.injectable)()],a),t.CommonWorkspaceUtils=a},54020:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceServer=t.workspacePath=void 0,t.workspacePath="/services/workspace",t.WorkspaceServer=Symbol("WorkspaceServer")},12615:(e,t,i)=>{"use strict";function n(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function o(e){return e instanceof n(e).Element||e instanceof Element}function r(e){return e instanceof n(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof n(e).ShadowRoot||e instanceof ShadowRoot)}i.r(t),i.d(t,{default:()=>At,tippy:()=>tt,useSingleton:()=>vt});var a=Math.max,c=Math.min,l=Math.round;function d(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function u(){return!/^((?!chrome|android).)*safari/i.test(d())}function h(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var s=e.getBoundingClientRect(),a=1,c=1;t&&r(e)&&(a=e.offsetWidth>0&&l(s.width)/e.offsetWidth||1,c=e.offsetHeight>0&&l(s.height)/e.offsetHeight||1);var d=(o(e)?n(e):window).visualViewport,h=!u()&&i,p=(s.left+(h&&d?d.offsetLeft:0))/a,g=(s.top+(h&&d?d.offsetTop:0))/c,f=s.width/a,m=s.height/c;return{width:f,height:m,top:g,right:p+f,bottom:g+m,left:p,x:p,y:g}}function p(e){var t=n(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function g(e){return e?(e.nodeName||"").toLowerCase():null}function f(e){return((o(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return h(f(e)).left+p(e).scrollLeft}function b(e){return n(e).getComputedStyle(e)}function v(e){var t=b(e),i=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+o+n)}function A(e,t,i){void 0===i&&(i=!1);var o,s,a=r(t),c=r(t)&&function(e){var t=e.getBoundingClientRect(),i=l(t.width)/e.offsetWidth||1,n=l(t.height)/e.offsetHeight||1;return 1!==i||1!==n}(t),d=f(t),u=h(e,c,i),b={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(a||!a&&!i)&&(("body"!==g(t)||v(d))&&(b=(o=t)!==n(o)&&r(o)?{scrollLeft:(s=o).scrollLeft,scrollTop:s.scrollTop}:p(o)),r(t)?((A=h(t,!0)).x+=t.clientLeft,A.y+=t.clientTop):d&&(A.x=m(d))),{x:u.left+b.scrollLeft-A.x,y:u.top+b.scrollTop-A.y,width:u.width,height:u.height}}function y(e){var t=h(e),i=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:n}}function C(e){return"html"===g(e)?e:e.assignedSlot||e.parentNode||(s(e)?e.host:null)||f(e)}function w(e){return["html","body","#document"].indexOf(g(e))>=0?e.ownerDocument.body:r(e)&&v(e)?e:w(C(e))}function _(e,t){var i;void 0===t&&(t=[]);var o=w(e),r=o===(null==(i=e.ownerDocument)?void 0:i.body),s=n(o),a=r?[s].concat(s.visualViewport||[],v(o)?o:[]):o,c=t.concat(a);return r?c:c.concat(_(C(a)))}function S(e){return["table","td","th"].indexOf(g(e))>=0}function E(e){return r(e)&&"fixed"!==b(e).position?e.offsetParent:null}function k(e){for(var t=n(e),i=E(e);i&&S(i)&&"static"===b(i).position;)i=E(i);return i&&("html"===g(i)||"body"===g(i)&&"static"===b(i).position)?t:i||function(e){var t=/firefox/i.test(d());if(/Trident/i.test(d())&&r(e)&&"fixed"===b(e).position)return null;var i=C(e);for(s(i)&&(i=i.host);r(i)&&["html","body"].indexOf(g(i))<0;){var n=b(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||t}var x="top",D="bottom",T="right",M="left",B="auto",I=[x,D,T,M],L="start",P="end",O="viewport",R="popper",N=I.reduce((function(e,t){return e.concat([t+"-"+L,t+"-"+P])}),[]),F=[].concat(I,[B]).reduce((function(e,t){return e.concat([t,t+"-"+L,t+"-"+P])}),[]),j=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function W(e){var t=new Map,i=new Set,n=[];function o(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||o(e)})),n}var z={placement:"bottom",modifiers:[],strategy:"absolute"};function U(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function H(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,n=void 0===i?[]:i,r=t.defaultOptions,s=void 0===r?z:r;return function(e,t,i){void 0===i&&(i=s);var r,a,c={placement:"bottom",orderedModifiers:[],options:Object.assign({},z,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],d=!1,u={state:c,setOptions:function(i){var r="function"==typeof i?i(c.options):i;h(),c.options=Object.assign({},s,c.options,r),c.scrollParents={reference:o(e)?_(e):e.contextElement?_(e.contextElement):[],popper:_(t)};var a,d,p=function(e){var t=W(e);return j.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((a=[].concat(n,c.options.modifiers),d=a.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return c.orderedModifiers=p.filter((function(e){return e.enabled})),c.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,n=void 0===i?{}:i,o=e.effect;if("function"==typeof o){var r=o({state:c,name:t,instance:u,options:n});l.push(r||function(){})}})),u.update()},forceUpdate:function(){if(!d){var e=c.elements,t=e.reference,i=e.popper;if(U(t,i)){c.rects={reference:A(t,k(i),"fixed"===c.options.strategy),popper:y(i)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach((function(e){return c.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<c.orderedModifiers.length;n++)if(!0!==c.reset){var o=c.orderedModifiers[n],r=o.fn,s=o.options,a=void 0===s?{}:s,l=o.name;"function"==typeof r&&(c=r({state:c,options:a,name:l,instance:u})||c)}else c.reset=!1,n=-1}}},update:(r=function(){return new Promise((function(e){u.forceUpdate(),e(c)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(r())}))}))),a}),destroy:function(){h(),d=!0}};if(!U(e,t))return u;function h(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(i).then((function(e){!d&&i.onFirstUpdate&&i.onFirstUpdate(e)})),u}}var V={passive:!0};function K(e){return e.split("-")[0]}function G(e){return e.split("-")[1]}function $(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function q(e){var t,i=e.reference,n=e.element,o=e.placement,r=o?K(o):null,s=o?G(o):null,a=i.x+i.width/2-n.width/2,c=i.y+i.height/2-n.height/2;switch(r){case x:t={x:a,y:i.y-n.height};break;case D:t={x:a,y:i.y+i.height};break;case T:t={x:i.x+i.width,y:c};break;case M:t={x:i.x-n.width,y:c};break;default:t={x:i.x,y:i.y}}var l=r?$(r):null;if(null!=l){var d="y"===l?"height":"width";switch(s){case L:t[l]=t[l]-(i[d]/2-n[d]/2);break;case P:t[l]=t[l]+(i[d]/2-n[d]/2)}}return t}var Y={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q(e){var t,i=e.popper,o=e.popperRect,r=e.placement,s=e.variation,a=e.offsets,c=e.position,d=e.gpuAcceleration,u=e.adaptive,h=e.roundOffsets,p=e.isFixed,g=a.x,m=void 0===g?0:g,v=a.y,A=void 0===v?0:v,y="function"==typeof h?h({x:m,y:A}):{x:m,y:A};m=y.x,A=y.y;var C=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),_=M,S=x,E=window;if(u){var B=k(i),I="clientHeight",L="clientWidth";B===n(i)&&"static"!==b(B=f(i)).position&&"absolute"===c&&(I="scrollHeight",L="scrollWidth"),(r===x||(r===M||r===T)&&s===P)&&(S=D,A-=(p&&B===E&&E.visualViewport?E.visualViewport.height:B[I])-o.height,A*=d?1:-1),r!==M&&(r!==x&&r!==D||s!==P)||(_=T,m-=(p&&B===E&&E.visualViewport?E.visualViewport.width:B[L])-o.width,m*=d?1:-1)}var O,R=Object.assign({position:c},u&&Y),N=!0===h?function(e,t){var i=e.x,n=e.y,o=t.devicePixelRatio||1;return{x:l(i*o)/o||0,y:l(n*o)/o||0}}({x:m,y:A},n(i)):{x:m,y:A};return m=N.x,A=N.y,d?Object.assign({},R,((O={})[S]=w?"0":"",O[_]=C?"0":"",O.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+A+"px)":"translate3d("+m+"px, "+A+"px, 0)",O)):Object.assign({},R,((t={})[S]=w?A+"px":"",t[_]=C?m+"px":"",t.transform="",t))}const X={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];r(o)&&g(o)&&(Object.assign(o.style,i),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});r(n)&&g(n)&&(Object.assign(n.style,s),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Z={left:"right",right:"left",bottom:"top",top:"bottom"};function J(e){return e.replace(/left|right|bottom|top/g,(function(e){return Z[e]}))}var ee={start:"end",end:"start"};function te(e){return e.replace(/start|end/g,(function(e){return ee[e]}))}function ie(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&s(i)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ne(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function oe(e,t,i){return t===O?ne(function(e,t){var i=n(e),o=f(e),r=i.visualViewport,s=o.clientWidth,a=o.clientHeight,c=0,l=0;if(r){s=r.width,a=r.height;var d=u();(d||!d&&"fixed"===t)&&(c=r.offsetLeft,l=r.offsetTop)}return{width:s,height:a,x:c+m(e),y:l}}(e,i)):o(t)?function(e,t){var i=h(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):ne(function(e){var t,i=f(e),n=p(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=a(i.scrollWidth,i.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=a(i.scrollHeight,i.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),c=-n.scrollLeft+m(e),l=-n.scrollTop;return"rtl"===b(o||i).direction&&(c+=a(i.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:c,y:l}}(f(e)))}function re(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function se(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}function ae(e,t){void 0===t&&(t={});var i=t,n=i.placement,s=void 0===n?e.placement:n,l=i.strategy,d=void 0===l?e.strategy:l,u=i.boundary,p=void 0===u?"clippingParents":u,m=i.rootBoundary,v=void 0===m?O:m,A=i.elementContext,y=void 0===A?R:A,w=i.altBoundary,S=void 0!==w&&w,E=i.padding,M=void 0===E?0:E,B=re("number"!=typeof M?M:se(M,I)),L=y===R?"reference":R,P=e.rects.popper,N=e.elements[S?L:y],F=function(e,t,i,n){var s="clippingParents"===t?function(e){var t=_(C(e)),i=["absolute","fixed"].indexOf(b(e).position)>=0&&r(e)?k(e):e;return o(i)?t.filter((function(e){return o(e)&&ie(e,i)&&"body"!==g(e)})):[]}(e):[].concat(t),l=[].concat(s,[i]),d=l[0],u=l.reduce((function(t,i){var o=oe(e,i,n);return t.top=a(o.top,t.top),t.right=c(o.right,t.right),t.bottom=c(o.bottom,t.bottom),t.left=a(o.left,t.left),t}),oe(e,d,n));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}(o(N)?N:N.contextElement||f(e.elements.popper),p,v,d),j=h(e.elements.reference),W=q({reference:j,element:P,strategy:"absolute",placement:s}),z=ne(Object.assign({},P,W)),U=y===R?z:j,H={top:F.top-U.top+B.top,bottom:U.bottom-F.bottom+B.bottom,left:F.left-U.left+B.left,right:U.right-F.right+B.right},V=e.modifiersData.offset;if(y===R&&V){var K=V[s];Object.keys(H).forEach((function(e){var t=[T,D].indexOf(e)>=0?1:-1,i=[x,D].indexOf(e)>=0?"y":"x";H[e]+=K[i]*t}))}return H}function ce(e,t,i){return a(e,c(t,i))}function le(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function de(e){return[x,T,D,M].some((function(t){return e[t]>=0}))}var ue=H({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,o=e.options,r=o.scroll,s=void 0===r||r,a=o.resize,c=void 0===a||a,l=n(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach((function(e){e.addEventListener("scroll",i.update,V)})),c&&l.addEventListener("resize",i.update,V),function(){s&&d.forEach((function(e){e.removeEventListener("scroll",i.update,V)})),c&&l.removeEventListener("resize",i.update,V)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=q({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,n=i.gpuAcceleration,o=void 0===n||n,r=i.adaptive,s=void 0===r||r,a=i.roundOffsets,c=void 0===a||a,l={placement:K(t.placement),variation:G(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Q(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Q(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},X,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.offset,r=void 0===o?[0,0]:o,s=F.reduce((function(e,i){return e[i]=function(e,t,i){var n=K(e),o=[M,x].indexOf(n)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[M,T].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,r),e}),{}),a=s[t.placement],c=a.x,l=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=i.mainAxis,r=void 0===o||o,s=i.altAxis,a=void 0===s||s,c=i.fallbackPlacements,l=i.padding,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.flipVariations,g=void 0===p||p,f=i.allowedAutoPlacements,m=t.options.placement,b=K(m),v=c||(b!==m&&g?function(e){if(K(e)===B)return[];var t=J(e);return[te(e),t,te(t)]}(m):[J(m)]),A=[m].concat(v).reduce((function(e,i){return e.concat(K(i)===B?function(e,t){void 0===t&&(t={});var i=t,n=i.placement,o=i.boundary,r=i.rootBoundary,s=i.padding,a=i.flipVariations,c=i.allowedAutoPlacements,l=void 0===c?F:c,d=G(n),u=d?a?N:N.filter((function(e){return G(e)===d})):I,h=u.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=u);var p=h.reduce((function(t,i){return t[i]=ae(e,{placement:i,boundary:o,rootBoundary:r,padding:s})[K(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:i,boundary:d,rootBoundary:u,padding:l,flipVariations:g,allowedAutoPlacements:f}):i)}),[]),y=t.rects.reference,C=t.rects.popper,w=new Map,_=!0,S=A[0],E=0;E<A.length;E++){var k=A[E],P=K(k),O=G(k)===L,R=[x,D].indexOf(P)>=0,j=R?"width":"height",W=ae(t,{placement:k,boundary:d,rootBoundary:u,altBoundary:h,padding:l}),z=R?O?T:M:O?D:x;y[j]>C[j]&&(z=J(z));var U=J(z),H=[];if(r&&H.push(W[P]<=0),a&&H.push(W[z]<=0,W[U]<=0),H.every((function(e){return e}))){S=k,_=!1;break}w.set(k,H)}if(_)for(var V=function(e){var t=A.find((function(t){var i=w.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},$=g?3:1;$>0&&"break"!==V($);$--);t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,n=e.name,o=i.mainAxis,r=void 0===o||o,s=i.altAxis,l=void 0!==s&&s,d=i.boundary,u=i.rootBoundary,h=i.altBoundary,p=i.padding,g=i.tether,f=void 0===g||g,m=i.tetherOffset,b=void 0===m?0:m,v=ae(t,{boundary:d,rootBoundary:u,padding:p,altBoundary:h}),A=K(t.placement),C=G(t.placement),w=!C,_=$(A),S="x"===_?"y":"x",E=t.modifiersData.popperOffsets,B=t.rects.reference,I=t.rects.popper,P="function"==typeof b?b(Object.assign({},t.rects,{placement:t.placement})):b,O="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(E){if(r){var F,j="y"===_?x:M,W="y"===_?D:T,z="y"===_?"height":"width",U=E[_],H=U+v[j],V=U-v[W],q=f?-I[z]/2:0,Y=C===L?B[z]:I[z],Q=C===L?-I[z]:-B[z],X=t.elements.arrow,Z=f&&X?y(X):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ee=J[j],te=J[W],ie=ce(0,B[z],Z[z]),ne=w?B[z]/2-q-ie-ee-O.mainAxis:Y-ie-ee-O.mainAxis,oe=w?-B[z]/2+q+ie+te+O.mainAxis:Q+ie+te+O.mainAxis,re=t.elements.arrow&&k(t.elements.arrow),se=re?"y"===_?re.clientTop||0:re.clientLeft||0:0,le=null!=(F=null==R?void 0:R[_])?F:0,de=U+oe-le,ue=ce(f?c(H,U+ne-le-se):H,U,f?a(V,de):V);E[_]=ue,N[_]=ue-U}if(l){var he,pe="x"===_?x:M,ge="x"===_?D:T,fe=E[S],me="y"===S?"height":"width",be=fe+v[pe],ve=fe-v[ge],Ae=-1!==[x,M].indexOf(A),ye=null!=(he=null==R?void 0:R[S])?he:0,Ce=Ae?be:fe-B[me]-I[me]-ye+O.altAxis,we=Ae?fe+B[me]+I[me]-ye-O.altAxis:ve,_e=f&&Ae?function(e,t,i){var n=ce(e,t,i);return n>i?i:n}(Ce,fe,we):ce(f?Ce:be,fe,f?we:ve);E[S]=_e,N[S]=_e-fe}t.modifiersData[n]=N}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,n=e.name,o=e.options,r=i.elements.arrow,s=i.modifiersData.popperOffsets,a=K(i.placement),c=$(a),l=[M,T].indexOf(a)>=0?"height":"width";if(r&&s){var d=function(e,t){return re("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:se(e,I))}(o.padding,i),u=y(r),h="y"===c?x:M,p="y"===c?D:T,g=i.rects.reference[l]+i.rects.reference[c]-s[c]-i.rects.popper[l],f=s[c]-i.rects.reference[c],m=k(r),b=m?"y"===c?m.clientHeight||0:m.clientWidth||0:0,v=g/2-f/2,A=d[h],C=b-u[l]-d[p],w=b/2-u[l]/2+v,_=ce(A,w,C),S=c;i.modifiersData[n]=((t={})[S]=_,t.centerOffset=_-w,t)}},effect:function(e){var t=e.state,i=e.options.element,n=void 0===i?"[data-popper-arrow]":i;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&ie(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,n=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=ae(t,{elementContext:"reference"}),a=ae(t,{altBoundary:!0}),c=le(s,n),l=le(a,o,r),d=de(c),u=de(l);t.modifiersData[i]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),he="tippy-content",pe="tippy-backdrop",ge="tippy-arrow",fe="tippy-svg-arrow",me={passive:!0,capture:!0},be=function(){return document.body};function ve(e,t,i){if(Array.isArray(e)){var n=e[t];return null==n?Array.isArray(i)?i[t]:i:n}return e}function Ae(e,t){var i={}.toString.call(e);return 0===i.indexOf("[object")&&i.indexOf(t+"]")>-1}function ye(e,t){return"function"==typeof e?e.apply(void 0,t):e}function Ce(e,t){return 0===t?e:function(n){clearTimeout(i),i=setTimeout((function(){e(n)}),t)};var i}function we(e){return[].concat(e)}function _e(e,t){-1===e.indexOf(t)&&e.push(t)}function Se(e){return[].slice.call(e)}function Ee(e){return Object.keys(e).reduce((function(t,i){return void 0!==e[i]&&(t[i]=e[i]),t}),{})}function ke(){return document.createElement("div")}function xe(e){return["Element","Fragment"].some((function(t){return Ae(e,t)}))}function De(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Te(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function Me(e,t,i){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[n](t,i)}))}function Be(e,t){for(var i=t;i;){var n;if(e.contains(i))return!0;i=null==i.getRootNode||null==(n=i.getRootNode())?void 0:n.host}return!1}var Ie={isTouch:!1},Le=0;function Pe(){Ie.isTouch||(Ie.isTouch=!0,window.performance&&document.addEventListener("mousemove",Oe))}function Oe(){var e=performance.now();e-Le<20&&(Ie.isTouch=!1,document.removeEventListener("mousemove",Oe)),Le=e}function Re(){var e,t=document.activeElement;if((e=t)&&e._tippy&&e._tippy.reference===e){var i=t._tippy;t.blur&&!i.state.isVisible&&t.blur()}}var Ne=!("undefined"==typeof window||"undefined"==typeof document||!window.msCrypto),Fe=Object.assign({appendTo:be,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),je=Object.keys(Fe);function We(e){var t=(e.plugins||[]).reduce((function(t,i){var n,o=i.name,r=i.defaultValue;return o&&(t[o]=void 0!==e[o]?e[o]:null!=(n=Fe[o])?n:r),t}),{});return Object.assign({},e,t)}function ze(e,t){var i=Object.assign({},t,{content:ye(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(We(Object.assign({},Fe,{plugins:t}))):je).reduce((function(t,i){var n=(e.getAttribute("data-tippy-"+i)||"").trim();if(!n)return t;if("content"===i)t[i]=n;else try{t[i]=JSON.parse(n)}catch(e){t[i]=n}return t}),{})}(e,t.plugins));return i.aria=Object.assign({},Fe.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}var Ue=function(){return"innerHTML"};function He(e,t){e[Ue()]=t}function Ve(e){var t=ke();return!0===e?t.className=ge:(t.className=fe,xe(e)?t.appendChild(e):He(t,e)),t}function Ke(e,t){xe(t.content)?(He(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?He(e,t.content):e.textContent=t.content)}function Ge(e){var t=e.firstElementChild,i=Se(t.children);return{box:t,content:i.find((function(e){return e.classList.contains(he)})),arrow:i.find((function(e){return e.classList.contains(ge)||e.classList.contains(fe)})),backdrop:i.find((function(e){return e.classList.contains(pe)}))}}function $e(e){var t=ke(),i=ke();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var n=ke();function o(i,n){var o=Ge(t),r=o.box,s=o.content,a=o.arrow;n.theme?r.setAttribute("data-theme",n.theme):r.removeAttribute("data-theme"),"string"==typeof n.animation?r.setAttribute("data-animation",n.animation):r.removeAttribute("data-animation"),n.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof n.maxWidth?n.maxWidth+"px":n.maxWidth,n.role?r.setAttribute("role",n.role):r.removeAttribute("role"),i.content===n.content&&i.allowHTML===n.allowHTML||Ke(s,e.props),n.arrow?a?i.arrow!==n.arrow&&(r.removeChild(a),r.appendChild(Ve(n.arrow))):r.appendChild(Ve(n.arrow)):a&&r.removeChild(a)}return n.className=he,n.setAttribute("data-state","hidden"),Ke(n,e.props),t.appendChild(i),i.appendChild(n),o(e.props,e.props),{popper:t,onUpdate:o}}$e.$$tippy=!0;var qe=1,Ye=[],Qe=[];function Xe(e,t){var i,n,o,r,s,a,c,l,d=ze(e,Object.assign({},Fe,We(Ee(t)))),u=!1,h=!1,p=!1,g=!1,f=[],m=Ce($,d.interactiveDebounce),b=qe++,v=(l=d.plugins).filter((function(e,t){return l.indexOf(e)===t})),A={id:b,reference:e,popper:ke(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:v,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(o)},setProps:function(t){if(!A.state.isDestroyed){L("onBeforeUpdate",[A,t]),K();var i=A.props,n=ze(e,Object.assign({},i,Ee(t),{ignoreAttributes:!0}));A.props=n,V(),i.interactiveDebounce!==n.interactiveDebounce&&(R(),m=Ce($,n.interactiveDebounce)),i.triggerTarget&&!n.triggerTarget?we(i.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):n.triggerTarget&&e.removeAttribute("aria-expanded"),O(),I(),w&&w(i,n),A.popperInstance&&(X(),J().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)}))),L("onAfterUpdate",[A,t])}},setContent:function(e){A.setProps({content:e})},show:function(){var e=A.state.isVisible,t=A.state.isDestroyed,i=!A.state.isEnabled,n=Ie.isTouch&&!A.props.touch,o=ve(A.props.duration,0,Fe.duration);if(!(e||t||i||n||D().hasAttribute("disabled")||(L("onShow",[A],!1),!1===A.props.onShow(A)))){if(A.state.isVisible=!0,x()&&(C.style.visibility="visible"),I(),W(),A.state.isMounted||(C.style.transition="none"),x()){var r=M();De([r.box,r.content],0)}var s,c,l;a=function(){var e;if(A.state.isVisible&&!g){if(g=!0,C.offsetHeight,C.style.transition=A.props.moveTransition,x()&&A.props.animation){var t=M(),i=t.box,n=t.content;De([i,n],o),Te([i,n],"visible")}P(),O(),_e(Qe,A),null==(e=A.popperInstance)||e.forceUpdate(),L("onMount",[A]),A.props.animation&&x()&&function(e,t){U(e,(function(){A.state.isShown=!0,L("onShown",[A])}))}(o)}},c=A.props.appendTo,l=D(),(s=A.props.interactive&&c===be||"parent"===c?l.parentNode:ye(c,[l])).contains(C)||s.appendChild(C),A.state.isMounted=!0,X()}},hide:function(){var e=!A.state.isVisible,t=A.state.isDestroyed,i=!A.state.isEnabled,n=ve(A.props.duration,1,Fe.duration);if(!(e||t||i)&&(L("onHide",[A],!1),!1!==A.props.onHide(A))){if(A.state.isVisible=!1,A.state.isShown=!1,g=!1,u=!1,x()&&(C.style.visibility="hidden"),R(),z(),I(!0),x()){var o=M(),r=o.box,s=o.content;A.props.animation&&(De([r,s],n),Te([r,s],"hidden"))}P(),O(),A.props.animation?x()&&function(e,t){U(e,(function(){!A.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&t()}))}(n,A.unmount):A.unmount()}},hideWithInteractivity:function(e){T().addEventListener("mousemove",m),_e(Ye,m),m(e)},enable:function(){A.state.isEnabled=!0},disable:function(){A.hide(),A.state.isEnabled=!1},unmount:function(){A.state.isVisible&&A.hide(),A.state.isMounted&&(Z(),J().forEach((function(e){e._tippy.unmount()})),C.parentNode&&C.parentNode.removeChild(C),Qe=Qe.filter((function(e){return e!==A})),A.state.isMounted=!1,L("onHidden",[A]))},destroy:function(){A.state.isDestroyed||(A.clearDelayTimeouts(),A.unmount(),K(),delete e._tippy,A.state.isDestroyed=!0,L("onDestroy",[A]))}};if(!d.render)return A;var y=d.render(A),C=y.popper,w=y.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+A.id,A.popper=C,e._tippy=A,C._tippy=A;var _=v.map((function(e){return e.fn(A)})),S=e.hasAttribute("aria-expanded");return V(),O(),I(),L("onCreate",[A]),d.showOnCreate&&ee(),C.addEventListener("mouseenter",(function(){A.props.interactive&&A.state.isVisible&&A.clearDelayTimeouts()})),C.addEventListener("mouseleave",(function(){A.props.interactive&&A.props.trigger.indexOf("mouseenter")>=0&&T().addEventListener("mousemove",m)})),A;function E(){var e=A.props.touch;return Array.isArray(e)?e:[e,0]}function k(){return"hold"===E()[0]}function x(){var e;return!(null==(e=A.props.render)||!e.$$tippy)}function D(){return c||e}function T(){var e,t,i=D().parentNode;return i?null!=(t=we(i)[0])&&null!=(e=t.ownerDocument)&&e.body?t.ownerDocument:document:document}function M(){return Ge(C)}function B(e){return A.state.isMounted&&!A.state.isVisible||Ie.isTouch||r&&"focus"===r.type?0:ve(A.props.delay,e?0:1,Fe.delay)}function I(e){void 0===e&&(e=!1),C.style.pointerEvents=A.props.interactive&&!e?"":"none",C.style.zIndex=""+A.props.zIndex}function L(e,t,i){var n;void 0===i&&(i=!0),_.forEach((function(i){i[e]&&i[e].apply(i,t)})),i&&(n=A.props)[e].apply(n,t)}function P(){var t=A.props.aria;if(t.content){var i="aria-"+t.content,n=C.id;we(A.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(i);if(A.state.isVisible)e.setAttribute(i,t?t+" "+n:n);else{var o=t&&t.replace(n,"").trim();o?e.setAttribute(i,o):e.removeAttribute(i)}}))}}function O(){!S&&A.props.aria.expanded&&we(A.props.triggerTarget||e).forEach((function(e){A.props.interactive?e.setAttribute("aria-expanded",A.state.isVisible&&e===D()?"true":"false"):e.removeAttribute("aria-expanded")}))}function R(){T().removeEventListener("mousemove",m),Ye=Ye.filter((function(e){return e!==m}))}function N(t){if(!Ie.isTouch||!p&&"mousedown"!==t.type){var i=t.composedPath&&t.composedPath()[0]||t.target;if(!A.props.interactive||!Be(C,i)){if(we(A.props.triggerTarget||e).some((function(e){return Be(e,i)}))){if(Ie.isTouch)return;if(A.state.isVisible&&A.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[A,t]);!0===A.props.hideOnClick&&(A.clearDelayTimeouts(),A.hide(),h=!0,setTimeout((function(){h=!1})),A.state.isMounted||z())}}}function F(){p=!0}function j(){p=!1}function W(){var e=T();e.addEventListener("mousedown",N,!0),e.addEventListener("touchend",N,me),e.addEventListener("touchstart",j,me),e.addEventListener("touchmove",F,me)}function z(){var e=T();e.removeEventListener("mousedown",N,!0),e.removeEventListener("touchend",N,me),e.removeEventListener("touchstart",j,me),e.removeEventListener("touchmove",F,me)}function U(e,t){var i=M().box;function n(e){e.target===i&&(Me(i,"remove",n),t())}if(0===e)return t();Me(i,"remove",s),Me(i,"add",n),s=n}function H(t,i,n){void 0===n&&(n=!1),we(A.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,i,n),f.push({node:e,eventType:t,handler:i,options:n})}))}function V(){var e;k()&&(H("touchstart",G,{passive:!0}),H("touchend",q,{passive:!0})),(e=A.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(H(e,G),e){case"mouseenter":H("mouseleave",q);break;case"focus":H(Ne?"focusout":"blur",Y);break;case"focusin":H("focusout",Y)}}))}function K(){f.forEach((function(e){var t=e.node,i=e.eventType,n=e.handler,o=e.options;t.removeEventListener(i,n,o)})),f=[]}function G(e){var t,i=!1;if(A.state.isEnabled&&!Q(e)&&!h){var n="focus"===(null==(t=r)?void 0:t.type);r=e,c=e.currentTarget,O(),!A.state.isVisible&&Ae(e,"MouseEvent")&&Ye.forEach((function(t){return t(e)})),"click"===e.type&&(A.props.trigger.indexOf("mouseenter")<0||u)&&!1!==A.props.hideOnClick&&A.state.isVisible?i=!0:ee(e),"click"===e.type&&(u=!i),i&&!n&&te(e)}}function $(e){var t=e.target,i=D().contains(t)||C.contains(t);if("mousemove"!==e.type||!i){var n=J().concat(C).map((function(e){var t,i=null==(t=e._tippy.popperInstance)?void 0:t.state;return i?{popperRect:e.getBoundingClientRect(),popperState:i,props:d}:null})).filter(Boolean);(function(e,t){var i=t.clientX,n=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,r=e.props.interactiveBorder,s=o.placement.split("-")[0],a=o.modifiersData.offset;if(!a)return!0;var c="bottom"===s?a.top.y:0,l="top"===s?a.bottom.y:0,d="right"===s?a.left.x:0,u="left"===s?a.right.x:0,h=t.top-n+c>r,p=n-t.bottom-l>r,g=t.left-i+d>r,f=i-t.right-u>r;return h||p||g||f}))})(n,e)&&(R(),te(e))}}function q(e){Q(e)||A.props.trigger.indexOf("click")>=0&&u||(A.props.interactive?A.hideWithInteractivity(e):te(e))}function Y(e){A.props.trigger.indexOf("focusin")<0&&e.target!==D()||A.props.interactive&&e.relatedTarget&&C.contains(e.relatedTarget)||te(e)}function Q(e){return!!Ie.isTouch&&k()!==e.type.indexOf("touch")>=0}function X(){Z();var t=A.props,i=t.popperOptions,n=t.placement,o=t.offset,r=t.getReferenceClientRect,s=t.moveTransition,c=x()?Ge(C).arrow:null,l=r?{getBoundingClientRect:r,contextElement:r.contextElement||D()}:e,d=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(x()){var i=M().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?i.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];x()&&c&&d.push({name:"arrow",options:{element:c,padding:3}}),d.push.apply(d,(null==i?void 0:i.modifiers)||[]),A.popperInstance=ue(l,C,Object.assign({},i,{placement:n,onFirstUpdate:a,modifiers:d}))}function Z(){A.popperInstance&&(A.popperInstance.destroy(),A.popperInstance=null)}function J(){return Se(C.querySelectorAll("[data-tippy-root]"))}function ee(e){A.clearDelayTimeouts(),e&&L("onTrigger",[A,e]),W();var t=B(!0),n=E(),o=n[0],r=n[1];Ie.isTouch&&"hold"===o&&r&&(t=r),t?i=setTimeout((function(){A.show()}),t):A.show()}function te(e){if(A.clearDelayTimeouts(),L("onUntrigger",[A,e]),A.state.isVisible){if(!(A.props.trigger.indexOf("mouseenter")>=0&&A.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&u)){var t=B(!1);t?n=setTimeout((function(){A.state.isVisible&&A.hide()}),t):o=requestAnimationFrame((function(){A.hide()}))}}else z()}}function Ze(e,t){void 0===t&&(t={});var i=Fe.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",Pe,me),window.addEventListener("blur",Re);var n,o=Object.assign({},t,{plugins:i}),r=(n=e,xe(n)?[n]:function(e){return Ae(e,"NodeList")}(n)?Se(n):Array.isArray(n)?n:Se(document.querySelectorAll(n))).reduce((function(e,t){var i=t&&Xe(t,o);return i&&e.push(i),e}),[]);return xe(e)?r[0]:r}Ze.defaultProps=Fe,Ze.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Fe[t]=e[t]}))},Ze.currentInput=Ie;var Je=Object.assign({},X,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}}),et=function(e,t){var i;void 0===t&&(t={});var n,o=e,r=[],s=[],a=t.overrides,c=[],l=!1;function d(){s=o.map((function(e){return we(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function u(){r=o.map((function(e){return e.reference}))}function h(e){o.forEach((function(t){e?t.enable():t.disable()}))}function p(e){return o.map((function(t){var i=t.setProps;return t.setProps=function(o){i(o),t.reference===n&&e.setProps(o)},function(){t.setProps=i}}))}function g(e,t){var i=s.indexOf(t);if(t!==n){n=t;var c=(a||[]).concat("content").reduce((function(e,t){return e[t]=o[i].props[t],e}),{});e.setProps(Object.assign({},c,{getReferenceClientRect:"function"==typeof c.getReferenceClientRect?c.getReferenceClientRect:function(){var e;return null==(e=r[i])?void 0:e.getBoundingClientRect()}}))}}h(!1),u(),d();var f,m,b,v={fn:function(){return{onDestroy:function(){h(!0)},onHidden:function(){n=null},onClickOutside:function(e){e.props.showOnCreate&&!l&&(l=!0,n=null)},onShow:function(e){e.props.showOnCreate&&!l&&(l=!0,g(e,r[0]))},onTrigger:function(e,t){g(e,t.currentTarget)}}}},A=Ze(ke(),Object.assign({},(f=t,m=["overrides"],b=Object.assign({},f),m.forEach((function(e){delete b[e]})),b),{plugins:[v].concat(t.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(i=t.popperOptions)?void 0:i.modifiers)||[],[Je])})})),y=A.show;A.show=function(e){if(y(),!n&&null==e)return g(A,r[0]);if(!n||null!=e){if("number"==typeof e)return r[e]&&g(A,r[e]);if(o.indexOf(e)>=0){var t=e.reference;return g(A,t)}return r.indexOf(e)>=0?g(A,e):void 0}},A.showNext=function(){var e=r[0];if(!n)return A.show(0);var t=r.indexOf(n);A.show(r[t+1]||e)},A.showPrevious=function(){var e=r[r.length-1];if(!n)return A.show(e);var t=r.indexOf(n),i=r[t-1]||e;A.show(i)};var C=A.setProps;return A.setProps=function(e){a=e.overrides||a,C(e)},A.setInstances=function(e){h(!0),c.forEach((function(e){return e()})),o=e,h(!1),u(),d(),c=p(A),A.setProps({triggerTarget:s})},c=p(A),A};Ze.setDefaultProps({render:$e});const tt=Ze;var it=i(47427),nt=i(42287);function ot(e,t){if(null==e)return{};var i,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)i=r[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}var rt="undefined"!=typeof window&&"undefined"!=typeof document;function st(e,t){e&&("function"==typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function at(){return rt&&document.createElement("div")}function ct(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){if(!t.hasOwnProperty(i))return!1;if(!ct(e[i],t[i]))return!1}return!0}return!1}function lt(e){var t=[];return e.forEach((function(e){t.find((function(t){return ct(e,t)}))||t.push(e)})),t}function dt(e,t){var i,n;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:lt([].concat((null==(i=e.popperOptions)?void 0:i.modifiers)||[],(null==(n=t.popperOptions)?void 0:n.modifiers)||[]))})})}var ut=rt?it.useLayoutEffect:it.useEffect;function ht(e){var t=(0,it.useRef)();return t.current||(t.current="function"==typeof e?e():e),t.current}function pt(e,t,i){i.split(/\s+/).forEach((function(i){i&&e.classList[t](i)}))}var gt={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,i=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function n(){e.props.className&&!i()||pt(t,"add",e.props.className)}return{onCreate:n,onBeforeUpdate:function(){i()&&pt(t,"remove",e.props.className)},onAfterUpdate:n}}};function ft(e){return function(t){var i=t.children,n=t.content,o=t.visible,r=t.singleton,s=t.render,a=t.reference,c=t.disabled,l=void 0!==c&&c,d=t.ignoreAttributes,u=void 0===d||d,h=(t.__source,t.__self,ot(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),p=void 0!==o,g=void 0!==r,f=(0,it.useState)(!1),m=f[0],b=f[1],v=(0,it.useState)({}),A=v[0],y=v[1],C=(0,it.useState)(),w=C[0],_=C[1],S=ht((function(){return{container:at(),renders:1}})),E=Object.assign({ignoreAttributes:u},h,{content:S.container});p&&(E.trigger="manual",E.hideOnClick=!1),g&&(l=!0);var k=E,x=E.plugins||[];s&&(k=Object.assign({},E,{plugins:g&&null!=r.data?[].concat(x,[{fn:function(){return{onTrigger:function(e,t){var i=r.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=i.instance,_(i.content)}}}}]):x,render:function(){return{popper:S.container}}}));var D=[a].concat(i?[i.type]:[]);return ut((function(){var t=a;a&&a.hasOwnProperty("current")&&(t=a.current);var i=e(t||S.ref||at(),Object.assign({},k,{plugins:[gt].concat(E.plugins||[])}));return S.instance=i,l&&i.disable(),o&&i.show(),g&&r.hook({instance:i,content:n,props:k,setSingletonContent:_}),b(!0),function(){i.destroy(),null==r||r.cleanup(i)}}),D),ut((function(){var e;if(1!==S.renders){var t=S.instance;t.setProps(dt(t.props,k)),null==(e=t.popperInstance)||e.forceUpdate(),l?t.disable():t.enable(),p&&(o?t.show():t.hide()),g&&r.hook({instance:t,content:n,props:k,setSingletonContent:_})}else S.renders++})),ut((function(){var e;if(s){var t=S.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,i=e.state,n=null==(t=i.modifiersData)?void 0:t.hide;A.placement===i.placement&&A.referenceHidden===(null==n?void 0:n.isReferenceHidden)&&A.escaped===(null==n?void 0:n.hasPopperEscaped)||y({placement:i.placement,referenceHidden:null==n?void 0:n.isReferenceHidden,escaped:null==n?void 0:n.hasPopperEscaped}),i.attributes.popper={}}}])})})}}),[A.placement,A.referenceHidden,A.escaped].concat(D)),it.createElement(it.Fragment,null,i?(0,it.cloneElement)(i,{ref:function(e){S.ref=e,st(i.ref,e)}}):null,m&&(0,nt.createPortal)(s?s(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(A),w,S.instance):n,S.container))}}function mt(e){return function(t){var i=void 0===t?{}:t,n=i.disabled,o=void 0!==n&&n,r=i.overrides,s=void 0===r?[]:r,a=(0,it.useState)(!1),c=a[0],l=a[1],d=ht({children:[],renders:1});return ut((function(){if(c){var t=d.children,i=d.sourceData;if(i){var n=e(t.map((function(e){return e.instance})),Object.assign({},i.props,{popperOptions:i.instance.props.popperOptions,overrides:s,plugins:[gt].concat(i.props.plugins||[])}));return d.instance=n,o&&n.disable(),function(){n.destroy(),d.children=t.filter((function(e){return!e.instance.state.isDestroyed}))}}}else l(!0)}),[c]),ut((function(){if(c)if(1!==d.renders){var e=d.children,t=d.instance,i=d.sourceData;if(t&&i){var n=i.props,r=(n.content,ot(n,["content"]));t.setProps(dt(t.props,Object.assign({},r,{overrides:s}))),t.setInstances(e.map((function(e){return e.instance}))),o?t.disable():t.enable()}}else d.renders++})),(0,it.useMemo)((function(){return[{data:d,hook:function(e){d.sourceData=e,d.setSingletonContent=e.setSingletonContent},cleanup:function(){d.sourceData=null}},{hook:function(e){var t,i;d.children=d.children.filter((function(t){var i=t.instance;return e.instance!==i})),d.children.push(e),(null==(t=d.instance)?void 0:t.state.isMounted)&&(null==(i=d.instance)?void 0:i.state.$$activeSingletonInstance)===e.instance&&(null==d.setSingletonContent||d.setSingletonContent(e.content)),d.instance&&!d.instance.state.isDestroyed&&d.instance.setInstances(d.children.map((function(e){return e.instance})))},cleanup:function(e){d.children=d.children.filter((function(t){return t.instance!==e})),d.instance&&!d.instance.state.isDestroyed&&d.instance.setInstances(d.children.map((function(e){return e.instance})))}}]}),[])}}var bt=function(e,t){return(0,it.forwardRef)((function(i,n){var o=i.children,r=ot(i,["children"]);return it.createElement(e,Object.assign({},t,r),o?(0,it.cloneElement)(o,{ref:function(e){st(n,e),st(o.ref,e)}}):null)}))},vt=mt(et);const At=bt(ft(tt))},84658:(e,t,i)=>{"use strict";var n=i(97776),o=i(32464),r=i(1837),s=i(30859),a=i(38377),c=i(17398),l=i(95157),d=i(55026),u=i(16626);e.exports=b,b.prototype.validate=function(e,t){var i;if("string"==typeof e){if(!(i=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var n=this._addSchema(e);i=n.validate||this._compile(n)}var o=i(t);return!0!==i.$async&&(this.errors=i.errors),o},b.prototype.compile=function(e,t){var i=this._addSchema(e,void 0,t);return i.validate||this._compile(i)},b.prototype.addSchema=function(e,t,i,n){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.addSchema(e[r],void 0,i,n);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return _(this,t=o.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,i,n,!0),this},b.prototype.addMetaSchema=function(e,t,i){return this.addSchema(e,t,i,!0),this},b.prototype.validateSchema=function(e,t){var i=e.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(g)?g:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(i,e);if(!n&&t){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o)}return n},b.prototype.getSchema=function(e){var t=v(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var i=o.schema.call(e,{schema:{}},t);if(i){var r=i.schema,a=i.root,c=i.baseId,l=n.call(e,r,a,void 0,c);return e._fragments[t]=new s({ref:t,fragment:!0,schema:r,root:a,baseId:c,validate:l}),l}}(this,e)}},b.prototype.removeSchema=function(e){if(e instanceof RegExp)return A(this,this._schemas,e),A(this,this._refs,e),this;switch(typeof e){case"undefined":return A(this,this._schemas),A(this,this._refs),this._cache.clear(),this;case"string":var t=v(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var i=this._opts.serialize,n=i?i(e):e;this._cache.del(n);var r=this._getId(e);r&&(r=o.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this},b.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},b.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var i=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,o="",r=0;r<e.length;r++){var s=e[r];s&&(o+=n+s.dataPath+" "+s.message+i)}return o.slice(0,-i.length)},b.prototype._addSchema=function(e,t,i,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var r=this._opts.serialize,a=r?r(e):e,c=this._cache.get(a);if(c)return c;n=n||!1!==this._opts.addUsedSchema;var l=o.normalizeId(this._getId(e));l&&n&&_(this,l);var d,u=!1!==this._opts.validateSchema&&!t;u&&!(d=l&&l==o.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=o.ids.call(this,e),p=new s({id:l,schema:e,localRefs:h,cacheKey:a,meta:i});return"#"!=l[0]&&n&&(this._refs[l]=p),this._cache.put(a,p),u&&d&&this.validateSchema(e,!0),p},b.prototype._compile=function(e,t){if(e.compiling)return e.validate=r,r.schema=e.schema,r.errors=null,r.root=t||r,!0===e.schema.$async&&(r.$async=!0),r;var i,o;e.compiling=!0,e.meta&&(i=this._opts,this._opts=this._metaOpts);try{o=n.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=i)}return e.validate=o,e.refs=o.refs,e.refVal=o.refVal,e.root=o.root,o;function r(){var t=e.validate,i=t.apply(this,arguments);return r.errors=t.errors,i}},b.prototype.compileAsync=i(2680);var h=i(42602);b.prototype.addKeyword=h.add,b.prototype.getKeyword=h.get,b.prototype.removeKeyword=h.remove,b.prototype.validateKeyword=h.validate;var p=i(88270);b.ValidationError=p.Validation,b.MissingRefError=p.MissingRef,b.$dataMetaSchema=d;var g="http://json-schema.org/draft-07/schema",f=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function b(e){if(!(this instanceof b))return new b(e);e=this._opts=u.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:S,warn:S,error:S};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=c(e.format),this._cache=e.cache||new r,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=function(e){switch(e.schemaId){case"auto":return w;case"id":return y;default:return C}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=u.copy(e._opts),i=0;i<f.length;i++)delete t[f[i]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var i=e._opts.formats[t];e.addFormat(t,i)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var i=e._opts.keywords[t];e.addKeyword(t,i)}}(this),function(e){var t;if(e._opts.$data&&(t=i(3633),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var n=i(44222);e._opts.$data&&(n=d(n,m)),e.addMetaSchema(n,g,!0),e._refs["http://json-schema.org/schema"]=g}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var i in t)e.addSchema(t[i],i)}(this)}function v(e,t){return t=o.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function A(e,t,i){for(var n in t){var o=t[n];o.meta||i&&!i.test(n)||(e._cache.del(o.cacheKey),delete t[n])}}function y(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function C(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function w(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function _(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function S(){}},1837:e=>{"use strict";var t=e.exports=function(){this._cache={}};t.prototype.put=function(e,t){this._cache[e]=t},t.prototype.get=function(e){return this._cache[e]},t.prototype.del=function(e){delete this._cache[e]},t.prototype.clear=function(){this._cache={}}},2680:(e,t,i)=>{"use strict";var n=i(88270).MissingRef;e.exports=function e(t,i,o){var r=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof i&&(o=i,i=void 0);var s=a(t).then((function(){var e=r._addSchema(t,void 0,i);return e.validate||c(e)}));return o&&s.then((function(e){o(null,e)}),o),s;function a(t){var i=t.$schema;return i&&!r.getSchema(i)?e.call(r,{$ref:i},!0):Promise.resolve()}function c(e){try{return r._compile(e)}catch(t){if(t instanceof n)return function(t){var n=t.missingSchema;if(l(n))throw new Error("Schema "+n+" is loaded but "+t.missingRef+" cannot be resolved");var o=r._loadingSchemas[n];return o||(o=r._loadingSchemas[n]=r._opts.loadSchema(n)).then(s,s),o.then((function(e){if(!l(n))return a(e).then((function(){l(n)||r.addSchema(e,n,void 0,i)}))})).then((function(){return c(e)}));function s(){delete r._loadingSchemas[n]}function l(e){return r._refs[e]||r._schemas[e]}}(t);throw t}}}},88270:(e,t,i)=>{"use strict";var n=i(32464);function o(e,t,i){this.message=i||o.message(e,t),this.missingRef=n.url(e,t),this.missingSchema=n.normalizeId(n.fullPath(this.missingRef))}function r(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:r((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:r(o)},o.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},17398:(e,t,i)=>{"use strict";var n=i(16626),o=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,d=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,u=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,g=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function f(e){return e="full"==e?"full":"fast",n.copy(f[e])}function m(e){var t=e.match(o);if(!t)return!1;var i=+t[1],n=+t[2],s=+t[3];return n>=1&&n<=12&&s>=1&&s<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(i)?29:r[n])}function b(e,t){var i=e.match(s);if(!i)return!1;var n=i[1],o=i[2],r=i[3],a=i[5];return(n<=23&&o<=59&&r<=59||23==n&&59==o&&60==r)&&(!t||a)}e.exports=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":l,url:d,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:C,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":g},f.full={date:m,time:b,"date-time":function(e){var t=e.split(v);return 2==t.length&&m(t[0])&&b(t[1],!0)},uri:function(e){return A.test(e)&&c.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":l,url:d,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:C,uuid:u,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":g};var v=/t|\s/i,A=/\/|:/,y=/[^\\]\\Z/;function C(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},97776:(e,t,i)=>{"use strict";var n=i(32464),o=i(16626),r=i(88270),s=i(38377),a=i(87176),c=o.ucs2length,l=i(64351),d=r.Validation;function u(e,t,i){var n=p.call(this,e,t,i);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:i},{index:n,compiling:!1})}function h(e,t,i){var n=p.call(this,e,t,i);n>=0&&this._compilations.splice(n,1)}function p(e,t,i){for(var n=0;n<this._compilations.length;n++){var o=this._compilations[n];if(o.schema==e&&o.root==t&&o.baseId==i)return n}return-1}function g(e,t){return"var pattern"+e+" = new RegExp("+o.toQuotedString(t[e])+");"}function f(e){return"var default"+e+" = defaults["+e+"];"}function m(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function b(e){return"var customRule"+e+" = customRules["+e+"];"}function v(e,t){if(!e.length)return"";for(var i="",n=0;n<e.length;n++)i+=t(n,e);return i}e.exports=function e(t,i,p,A){var y=this,C=this._opts,w=[void 0],_={},S=[],E={},k=[],x={},D=[];i=i||{schema:t,refVal:w,refs:_};var T=u.call(this,t,i,A),M=this._compilations[T.index];if(T.compiling)return M.callValidate=function e(){var t=M.validate,i=t.apply(this,arguments);return e.errors=t.errors,i};var B=this._formats,I=this.RULES;try{var L=O(t,i,p,A);M.validate=L;var P=M.callValidate;return P&&(P.schema=L.schema,P.errors=null,P.refs=L.refs,P.refVal=L.refVal,P.root=L.root,P.$async=L.$async,C.sourceCode&&(P.source=L.source)),L}finally{h.call(this,t,i,A)}function O(t,s,u,h){var p=!s||s&&s.schema==t;if(s.schema!=i.schema)return e.call(y,t,s,u,h);var A,E=!0===t.$async,x=a({isTop:!0,schema:t,isRoot:p,baseId:h,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:r.MissingRef,RULES:I,validate:a,util:o,resolve:n,resolveRef:R,usePattern:j,useDefault:W,useCustomRule:z,opts:C,formats:B,logger:y.logger,self:y});x=v(w,m)+v(S,g)+v(k,f)+v(D,b)+x,C.processCode&&(x=C.processCode(x,t));try{A=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",x)(y,I,B,i,w,k,D,l,c,d),w[0]=A}catch(e){throw y.logger.error("Error compiling schema, function code:",x),e}return A.schema=t,A.errors=null,A.refs=_,A.refVal=w,A.root=p?A:s,E&&(A.$async=!0),!0===C.sourceCode&&(A.source={code:x,patterns:S,defaults:k}),A}function R(t,o,r){o=n.url(t,o);var s,a,c=_[o];if(void 0!==c)return F(s=w[c],a="refVal["+c+"]");if(!r&&i.refs){var l=i.refs[o];if(void 0!==l)return F(s=i.refVal[l],a=N(o,s))}a=N(o);var d=n.call(y,O,i,o);if(void 0===d){var u=p&&p[o];u&&(d=n.inlineRef(u,C.inlineRefs)?u:e.call(y,u,i,p,t))}if(void 0!==d)return function(e,t){var i=_[e];w[i]=t}(o,d),F(d,a);!function(e){delete _[e]}(o)}function N(e,t){var i=w.length;return w[i]=t,_[e]=i,"refVal"+i}function F(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function j(e){var t=E[e];return void 0===t&&(t=E[e]=S.length,S[t]=e),"pattern"+t}function W(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return o.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),i=x[t];return void 0===i&&(i=x[t]=k.length,k[i]=e),"default"+i}}function z(e,t,i,n){if(!1!==y._opts.validateSchema){var o=e.definition.dependencies;if(o&&!o.every((function(e){return Object.prototype.hasOwnProperty.call(i,e)})))throw new Error("parent schema must have all required keywords: "+o.join(","));var r=e.definition.validateSchema;if(r&&!r(t)){var s="keyword schema is invalid: "+y.errorsText(r.errors);if("log"!=y._opts.validateSchema)throw new Error(s);y.logger.error(s)}}var a,c=e.definition.compile,l=e.definition.inline,d=e.definition.macro;if(c)a=c.call(y,t,i,n);else if(d)a=d.call(y,t,i,n),!1!==C.validateSchema&&y.validateSchema(a,!0);else if(l)a=l.call(y,n,e.keyword,t,i);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var u=D.length;return D[u]=a,{code:"customRule"+u,validate:a}}}},32464:(e,t,i)=>{"use strict";var n=i(80782),o=i(64351),r=i(16626),s=i(30859),a=i(9125);function c(e,t,i){var n=this._refs[i];if("string"==typeof n){if(!this._refs[n])return c.call(this,e,t,n);n=this._refs[n]}if((n=n||this._schemas[i])instanceof s)return g(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var o,r,a,d=l.call(this,t,i);return d&&(o=d.schema,t=d.root,a=d.baseId),o instanceof s?r=o.validate||e.call(this,o.schema,t,void 0,a):void 0!==o&&(r=g(o,this._opts.inlineRefs)?o:e.call(this,o,t,void 0,a)),r}function l(e,t){var i=n.parse(t),o=v(i),r=b(this._getId(e.schema));if(0===Object.keys(e.schema).length||o!==r){var a=y(o),c=this._refs[a];if("string"==typeof c)return d.call(this,e,c,i);if(c instanceof s)c.validate||this._compile(c),e=c;else{if(!((c=this._schemas[a])instanceof s))return;if(c.validate||this._compile(c),a==y(t))return{schema:c,root:e,baseId:r};e=c}if(!e.schema)return;r=b(this._getId(e.schema))}return h.call(this,i,r,e.schema,e)}function d(e,t,i){var n=l.call(this,e,t);if(n){var o=n.schema,r=n.baseId;e=n.root;var s=this._getId(o);return s&&(r=C(r,s)),h.call(this,i,r,o,e)}}e.exports=c,c.normalizeId=y,c.fullPath=b,c.url=C,c.ids=function(e){var t=y(this._getId(e)),i={"":t},s={"":b(t,!1)},c={},l=this;return a(e,{allKeys:!0},(function(e,t,a,d,u,h,p){if(""!==t){var g=l._getId(e),f=i[d],m=s[d]+"/"+u;if(void 0!==p&&(m+="/"+("number"==typeof p?p:r.escapeFragment(p))),"string"==typeof g){g=f=y(f?n.resolve(f,g):g);var b=l._refs[g];if("string"==typeof b&&(b=l._refs[b]),b&&b.schema){if(!o(e,b.schema))throw new Error('id "'+g+'" resolves to more than one schema')}else if(g!=y(m))if("#"==g[0]){if(c[g]&&!o(e,c[g]))throw new Error('id "'+g+'" resolves to more than one schema');c[g]=e}else l._refs[g]=m}i[t]=f,s[t]=m}})),c},c.inlineRef=g,c.schema=l;var u=r.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function h(e,t,i,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var o=e.fragment.split("/"),s=1;s<o.length;s++){var a=o[s];if(a){if(void 0===(i=i[a=r.unescapeFragment(a)]))break;var c;if(!u[a]&&((c=this._getId(i))&&(t=C(t,c)),i.$ref)){var d=C(t,i.$ref),h=l.call(this,n,d);h&&(i=h.schema,n=h.root,t=h.baseId)}}}return void 0!==i&&i!==n.schema?{schema:i,root:n,baseId:t}:void 0}}var p=r.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function g(e,t){return!1!==t&&(void 0===t||!0===t?f(e):t?m(e)<=t:void 0)}function f(e){var t;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(t=e[i])&&!f(t))return!1}else for(var n in e){if("$ref"==n)return!1;if("object"==typeof(t=e[n])&&!f(t))return!1}return!0}function m(e){var t,i=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&(i+=m(t)),i==1/0)return 1/0}else for(var o in e){if("$ref"==o)return 1/0;if(p[o])i++;else if("object"==typeof(t=e[o])&&(i+=m(t)+1),i==1/0)return 1/0}return i}function b(e,t){return!1!==t&&(e=y(e)),v(n.parse(e))}function v(e){return n.serialize(e).split("#")[0]+"#"}var A=/#\/?$/;function y(e){return e?e.replace(A,""):""}function C(e,t){return t=y(t),n.resolve(e,t)}},95157:(e,t,i)=>{"use strict";var n=i(18122),o=i(16626).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=o(t),e.types=o(["number","integer","string","array","object","boolean","null"]),e.forEach((function(i){i.rules=i.rules.map((function(i){var o;if("object"==typeof i){var r=Object.keys(i)[0];o=i[r],i=r,o.forEach((function(i){t.push(i),e.all[i]=!0}))}return t.push(i),e.all[i]={keyword:i,code:n[i],implements:o}})),e.all.$comment={keyword:"$comment",code:n.$comment},i.type&&(e.types[i.type]=i)})),e.keywords=o(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},30859:(e,t,i)=>{"use strict";var n=i(16626);e.exports=function(e){n.copy(e,this)}},77968:e=>{"use strict";e.exports=function(e){for(var t,i=0,n=e.length,o=0;o<n;)i++,(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<n&&56320==(64512&(t=e.charCodeAt(o)))&&o++;return i}},16626:(e,t,i)=>{"use strict";function n(e,t,i,n){var o=n?" !== ":" === ",r=n?" || ":" && ",s=n?"!":"",a=n?"":"!";switch(e){case"null":return t+o+"null";case"array":return s+"Array.isArray("+t+")";case"object":return"("+s+t+r+"typeof "+t+o+'"object"'+r+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+o+'"number"'+r+a+"("+t+" % 1)"+r+t+o+t+(i?r+s+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+o+'"'+e+'"'+(i?r+s+"isFinite("+t+")":"")+")";default:return"typeof "+t+o+'"'+e+'"'}}e.exports={copy:function(e,t){for(var i in t=t||{},e)t[i]=e[i];return t},checkDataType:n,checkDataTypes:function(e,t,i){if(1===e.length)return n(e[0],t,i,!0);var o="",s=r(e);for(var a in s.array&&s.object&&(o=s.null?"(":"(!"+t+" || ",o+="typeof "+t+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer,s)o+=(o?" && ":"")+n(a,t,i,!0);return o},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var i=[],n=0;n<t.length;n++){var r=t[n];(o[r]||"array"===e&&"array"===r)&&(i[i.length]=r)}if(i.length)return i}else{if(o[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:r,getProperty:c,escapeQuotes:l,equal:i(64351),ucs2length:i(77968),varOccurences:function(e,t){t+="[^0-9]";var i=e.match(new RegExp(t,"g"));return i?i.length:0},varReplace:function(e,t,i){return t+="([^0-9])",i=i.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),i+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var i in e)if(t[i])return!0},schemaHasRulesExcept:function(e,t,i){if("boolean"==typeof e)return!e&&"not"!=i;for(var n in e)if(n!=i&&t[n])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var i in e)if(!t[i])return i},toQuotedString:d,getPathExpr:function(e,t,i,n){return p(e,i?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,i){return p(e,d(i?"/"+g(t):c(t)))},getData:function(e,t,i){var n,o,r,s;if(""===e)return"rootData";if("/"==e[0]){if(!u.test(e))throw new Error("Invalid JSON-pointer: "+e);o=e,r="rootData"}else{if(!(s=e.match(h)))throw new Error("Invalid JSON-pointer: "+e);if(n=+s[1],"#"==(o=s[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return i[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(r="data"+(t-n||""),!o)return r}for(var a=r,l=o.split("/"),d=0;d<l.length;d++){var p=l[d];p&&(a+=" && "+(r+=c(f(p))))}return a},unescapeFragment:function(e){return f(decodeURIComponent(e))},unescapeJsonPointer:f,escapeFragment:function(e){return encodeURIComponent(g(e))},escapeJsonPointer:g};var o=r(["string","number","integer","boolean","null"]);function r(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=!0;return t}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function c(e){return"number"==typeof e?"["+e+"]":s.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function d(e){return"'"+l(e)+"'"}var u=/^\/(?:[^~]|~0|~1)*$/,h=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function g(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},55026:e=>{"use strict";var t=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,i){for(var n=0;n<i.length;n++){e=JSON.parse(JSON.stringify(e));var o,r=i[n].split("/"),s=e;for(o=1;o<r.length;o++)s=s[r[o]];for(o=0;o<t.length;o++){var a=t[o],c=s[a];c&&(s[a]={anyOf:[c,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},61245:(e,t,i)=>{"use strict";var n=i(44222);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:n.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:n.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},41428:e=>{"use strict";e.exports=function(e,t,i){var n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(o+=" var schema"+r+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+r):n=a;var p="maximum"==t,g=p?"exclusiveMaximum":"exclusiveMinimum",f=e.schema[g],m=e.opts.$data&&f&&f.$data,b=p?"<":">",v=p?">":"<",A=void 0;if(!h&&"number"!=typeof a&&void 0!==a)throw new Error(t+" must be number");if(!m&&void 0!==f&&"number"!=typeof f&&"boolean"!=typeof f)throw new Error(g+" must be number or boolean");if(m){var y,C=e.util.getData(f.$data,s,e.dataPathArr),w="exclusive"+r,_="exclType"+r,S="exclIsNumber"+r,E="' + "+(x="op"+r)+" + '";o+=" var schemaExcl"+r+" = "+C+"; ",o+=" var "+w+"; var "+_+" = typeof "+(C="schemaExcl"+r)+"; if ("+_+" != 'boolean' && "+_+" != 'undefined' && "+_+" != 'number') { ",A=g,(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(A||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: '"+g+" should be boolean' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var k=o;o=y.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+k+"]); ":o+=" validate.errors = ["+k+"]; return false; ":o+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else if ( ",h&&(o+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),o+=" "+_+" == 'number' ? ( ("+w+" = "+n+" === undefined || "+C+" "+b+"= "+n+") ? "+u+" "+v+"= "+C+" : "+u+" "+v+" "+n+" ) : ( ("+w+" = "+C+" === true) ? "+u+" "+v+"= "+n+" : "+u+" "+v+" "+n+" ) || "+u+" !== "+u+") { var op"+r+" = "+w+" ? '"+b+"' : '"+b+"='; ",void 0===a&&(A=g,l=e.errSchemaPath+"/"+g,n=C,h=m)}else if(E=b,(S="number"==typeof f)&&h){var x="'"+E+"'";o+=" if ( ",h&&(o+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),o+=" ( "+n+" === undefined || "+f+" "+b+"= "+n+" ? "+u+" "+v+"= "+f+" : "+u+" "+v+" "+n+" ) || "+u+" !== "+u+") { "}else S&&void 0===a?(w=!0,A=g,l=e.errSchemaPath+"/"+g,n=f,v+="="):(S&&(n=Math[p?"min":"max"](f,a)),f===(!S||n)?(w=!0,A=g,l=e.errSchemaPath+"/"+g,v+="="):(w=!1,E+="=")),x="'"+E+"'",o+=" if ( ",h&&(o+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),o+=" "+u+" "+v+" "+n+" || "+u+" !== "+u+") { ";return A=A||t,(y=y||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(A||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+x+", limit: "+n+", exclusive: "+w+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be "+E+" ",o+=h?"' + "+n:n+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+c:""+a,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ",k=o,o=y.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+k+"]); ":o+=" validate.errors = ["+k+"]; return false; ":o+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",d&&(o+=" else { "),o}},93747:e=>{"use strict";e.exports=function(e,t,i){var n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(o+=" var schema"+r+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+r):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");o+="if ( ",h&&(o+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),o+=" "+u+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var p=t,g=g||[];g.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxItems"==t?"more":"fewer",o+=" than ",o+=h?"' + "+n+" + '":""+a,o+=" items' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+c:""+a,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var f=o;return o=g.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+f+"]); ":o+=" validate.errors = ["+f+"]; return false; ":o+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},12530:e=>{"use strict";e.exports=function(e,t,i){var n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(o+=" var schema"+r+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+r):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";o+="if ( ",h&&(o+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?o+=" "+u+".length ":o+=" ucs2length("+u+") ",o+=" "+p+" "+n+") { ";var g=t,f=f||[];f.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT be ",o+="maxLength"==t?"longer":"shorter",o+=" than ",o+=h?"' + "+n+" + '":""+a,o+=" characters' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+c:""+a,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var m=o;return o=f.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},64803:e=>{"use strict";e.exports=function(e,t,i){var n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(o+=" var schema"+r+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+r):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");o+="if ( ",h&&(o+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),o+=" Object.keys("+u+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var p=t,g=g||[];g.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxProperties"==t?"more":"fewer",o+=" than ",o+=h?"' + "+n+" + '":""+a,o+=" properties' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+c:""+a,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var f=o;return o=g.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+f+"]); ":o+=" validate.errors = ["+f+"]; return false; ":o+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},4238:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.schema[t],r=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,c=e.util.copy(e),l="";c.level++;var d="valid"+c.level,u=c.baseId,h=!0,p=o;if(p)for(var g,f=-1,m=p.length-1;f<m;)g=p[f+=1],(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))&&(h=!1,c.schema=g,c.schemaPath=r+"["+f+"]",c.errSchemaPath=s+"/"+f,n+="  "+e.validate(c)+" ",c.baseId=u,a&&(n+=" if ("+d+") { ",l+="}"));return a&&(n+=h?" if (true) { ":" "+l.slice(0,-1)+" "),n}},87893:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h="errs__"+o,p=e.util.copy(e),g="";p.level++;var f="valid"+p.level,m=s.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(m){var b=p.baseId;n+=" var "+h+" = errors; var "+u+" = false;  ";var v=e.compositeRule;e.compositeRule=p.compositeRule=!0;var A=s;if(A)for(var y,C=-1,w=A.length-1;C<w;)y=A[C+=1],p.schema=y,p.schemaPath=a+"["+C+"]",p.errSchemaPath=c+"/"+C,n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+u+" = "+u+" || "+f+"; if (!"+u+") { ",g+="}";e.compositeRule=p.compositeRule=v,n+=" "+g+" if (!"+u+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else l&&(n+=" if (true) { ");return n}},74603:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.schema[t],r=e.errSchemaPath+"/"+t,s=(e.opts.allErrors,e.util.toQuotedString(o));return!0===e.opts.$comment?n+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+s+", "+e.util.toQuotedString(r)+", validate.root.schema);"),n}},74956:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+o+" = "+e.util.getData(s.$data,r,e.dataPathArr)+"; "),h||(n+=" var schema"+o+" = validate.schema"+a+";"),n+="var "+u+" = equal("+d+", schema"+o+"); if (!"+u+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+o+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;return n=p.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",l&&(n+=" else { "),n}},23375:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h="errs__"+o,p=e.util.copy(e);p.level++;var g="valid"+p.level,f="i"+o,m=p.dataLevel=e.dataLevel+1,b="data"+m,v=e.baseId,A=e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all);if(n+="var "+h+" = errors;var "+u+";",A){var y=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=s,p.schemaPath=a,p.errSchemaPath=c,n+=" var "+g+" = false; for (var "+f+" = 0; "+f+" < "+d+".length; "+f+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var C=d+"["+f+"]";p.dataPathArr[m]=f;var w=e.validate(p);p.baseId=v,e.util.varOccurences(w,b)<2?n+=" "+e.util.varReplace(w,b,C)+" ":n+=" var "+b+" = "+C+"; "+w+" ",n+=" if ("+g+") break; }  ",e.compositeRule=p.compositeRule=y,n+="  if (!"+g+") {"}else n+=" if ("+d+".length == 0) {";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var S=n;return n=_.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",A&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},58378:e=>{"use strict";e.exports=function(e,t,i){var n,o,r=" ",s=e.level,a=e.dataLevel,c=e.schema[t],l=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,h="data"+(a||""),p="valid"+s,g="errs__"+s,f=e.opts.$data&&c&&c.$data;f?(r+=" var schema"+s+" = "+e.util.getData(c.$data,a,e.dataPathArr)+"; ",o="schema"+s):o=c;var m,b,v,A,y,C=this,w="definition"+s,_=C.definition,S="";if(f&&_.$data){y="keywordValidate"+s;var E=_.validateSchema;r+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+y+" = "+w+".validate;"}else{if(!(A=e.useCustomRule(C,c,e.schema,e)))return;o="validate.schema"+l,y=A.code,m=_.compile,b=_.inline,v=_.macro}var k=y+".errors",x="i"+s,D="ruleErr"+s,T=_.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(b||v||(r+=k+" = null;"),r+="var "+g+" = errors;var "+p+";",f&&_.$data&&(S+="}",r+=" if ("+o+" === undefined) { "+p+" = true; } else { ",E&&(S+="}",r+=" "+p+" = "+w+".validateSchema("+o+"); if ("+p+") { ")),b)_.statements?r+=" "+A.validate+" ":r+=" "+p+" = "+A.validate+"; ";else if(v){var M=e.util.copy(e);S="",M.level++;var B="valid"+M.level;M.schema=A.validate,M.schemaPath="";var I=e.compositeRule;e.compositeRule=M.compositeRule=!0;var L=e.validate(M).replace(/validate\.schema/g,y);e.compositeRule=M.compositeRule=I,r+=" "+L}else{(N=N||[]).push(r),r="",r+="  "+y+".call( ",e.opts.passContext?r+="this":r+="self",m||!1===_.schema?r+=" , "+h+" ":r+=" , "+o+" , "+h+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",'""'!=e.errorPath&&(r+=" + "+e.errorPath);var P=a?"data"+(a-1||""):"parentData",O=a?e.dataPathArr[a]:"parentDataProperty",R=r+=" , "+P+" , "+O+" , rootData )  ";r=N.pop(),!1===_.errors?(r+=" "+p+" = ",T&&(r+="await "),r+=R+"; "):r+=T?" var "+(k="customErrors"+s)+" = null; try { "+p+" = await "+R+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+p+" = "+R+"; "}if(_.modifying&&(r+=" if ("+P+") "+h+" = "+P+"["+O+"];"),r+=""+S,_.valid)u&&(r+=" if (true) { ");else{var N;r+=" if ( ",void 0===_.valid?(r+=" !",r+=v?""+B:""+p):r+=" "+!_.valid+" ",r+=") { ",n=C.keyword,(N=N||[]).push(r),r="",(N=N||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+C.keyword+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \""+C.keyword+"\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var F=r;r=N.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var j=r;r=N.pop(),b?_.errors?"full"!=_.errors&&(r+="  for (var "+x+"="+g+"; "+x+"<errors; "+x+"++) { var "+D+" = vErrors["+x+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(r+=" "+D+".schema = "+o+"; "+D+".data = "+h+"; "),r+=" } "):!1===_.errors?r+=" "+j+" ":(r+=" if ("+g+" == errors) { "+j+" } else {  for (var "+x+"="+g+"; "+x+"<errors; "+x+"++) { var "+D+" = vErrors["+x+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(r+=" "+D+".schema = "+o+"; "+D+".data = "+h+"; "),r+=" } } "):v?(r+="   var err =   ",!1!==e.createErrors?(r+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+C.keyword+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should pass \""+C.keyword+"\" keyword validation' "),e.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):!1===_.errors?r+=" "+j+" ":(r+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+x+"="+g+"; "+x+"<errors; "+x+"++) { var "+D+" = vErrors["+x+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+";  "+D+'.schemaPath = "'+d+'";  ',e.opts.verbose&&(r+=" "+D+".schema = "+o+"; "+D+".data = "+h+"; "),r+=" } } else { "+j+" } "),r+=" } ",u&&(r+=" else { ")}return r}},14018:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="errs__"+o,h=e.util.copy(e),p="";h.level++;var g="valid"+h.level,f={},m={},b=e.opts.ownProperties;for(C in s)if("__proto__"!=C){var v=s[C],A=Array.isArray(v)?m:f;A[C]=v}n+="var "+u+" = errors;";var y=e.errorPath;for(var C in n+="var missing"+o+";",m)if((A=m[C]).length){if(n+=" if ( "+d+e.util.getProperty(C)+" !== undefined ",b&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(C)+"') "),l){n+=" && ( ";var w=A;if(w)for(var _=-1,S=w.length-1;_<S;)M=w[_+=1],_&&(n+=" || "),n+=" ( ( "+(P=d+(L=e.util.getProperty(M)))+" === undefined ",b&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(M)+"') "),n+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?M:L)+") ) ";n+=")) {  ";var E="missing"+o,k="' + "+E+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,E,!0):y+" + "+E);var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+k+"', depsCount: "+A.length+", deps: '"+e.util.escapeQuotes(1==A.length?A[0]:A.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==A.length?n+="property "+e.util.escapeQuotes(A[0]):n+="properties "+e.util.escapeQuotes(A.join(", ")),n+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var D=n;n=x.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+D+"]); ":n+=" validate.errors = ["+D+"]; return false; ":n+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var T=A;if(T)for(var M,B=-1,I=T.length-1;B<I;){M=T[B+=1];var L=e.util.getProperty(M),P=(k=e.util.escapeQuotes(M),d+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,M,e.opts.jsonPointers)),n+=" if ( "+P+" === undefined ",b&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(M)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+k+"', depsCount: "+A.length+", deps: '"+e.util.escapeQuotes(1==A.length?A[0]:A.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==A.length?n+="property "+e.util.escapeQuotes(A[0]):n+="properties "+e.util.escapeQuotes(A.join(", ")),n+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",l&&(p+="}",n+=" else { ")}e.errorPath=y;var O=h.baseId;for(var C in f)v=f[C],(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))&&(n+=" "+g+" = true; if ( "+d+e.util.getProperty(C)+" !== undefined ",b&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(C)+"') "),n+=") { ",h.schema=v,h.schemaPath=a+e.util.getProperty(C),h.errSchemaPath=c+"/"+e.util.escapeFragment(C),n+="  "+e.validate(h)+" ",h.baseId=O,n+=" }  ",l&&(n+=" if ("+g+") { ",p+="}"));return l&&(n+="   "+p+" if ("+u+" == errors) {"),n}},13442:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+o+" = "+e.util.getData(s.$data,r,e.dataPathArr)+"; ");var p="i"+o,g="schema"+o;h||(n+=" var "+g+" = validate.schema"+a+";"),n+="var "+u+";",h&&(n+=" if (schema"+o+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+o+")) "+u+" = false; else {"),n+=u+" = false;for (var "+p+"=0; "+p+"<"+g+".length; "+p+"++) if (equal("+d+", "+g+"["+p+"])) { "+u+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+u+") {   ";var f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+o+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;return n=f.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",l&&(n+=" else { "),n}},50068:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||"");if(!1===e.opts.format)return l&&(n+=" if (true) { "),n;var u,h=e.opts.$data&&s&&s.$data;h?(n+=" var schema"+o+" = "+e.util.getData(s.$data,r,e.dataPathArr)+"; ",u="schema"+o):u=s;var p=e.opts.unknownFormats,g=Array.isArray(p);if(h)n+=" var "+(f="format"+o)+" = formats["+u+"]; var "+(m="isObject"+o)+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; var "+(b="formatType"+o)+" = "+m+" && "+f+".type || 'string'; if ("+m+") { ",e.async&&(n+=" var async"+o+" = "+f+".async; "),n+=" "+f+" = "+f+".validate; } if (  ",h&&(n+=" ("+u+" !== undefined && typeof "+u+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+u+" && !"+f+" ",g&&(n+=" && self._opts.unknownFormats.indexOf("+u+") == -1 "),n+=") || "),n+=" ("+f+" && "+b+" == '"+i+"' && !(typeof "+f+" == 'function' ? ",e.async?n+=" (async"+o+" ? await "+f+"("+d+") : "+f+"("+d+")) ":n+=" "+f+"("+d+") ",n+=" : "+f+".test("+d+"))))) {";else{var f;if(!(f=e.formats[s])){if("ignore"==p)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(n+=" if (true) { "),n;if(g&&p.indexOf(s)>=0)return l&&(n+=" if (true) { "),n;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var m,b=(m="object"==typeof f&&!(f instanceof RegExp)&&f.validate)&&f.type||"string";if(m){var v=!0===f.async;f=f.validate}if(b!=i)return l&&(n+=" if (true) { "),n;if(v){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(A="formats"+e.util.getProperty(s)+".validate")+"("+d+"))) { "}else{n+=" if (! ";var A="formats"+e.util.getProperty(s);m&&(A+=".validate"),n+="function"==typeof f?" "+A+"("+d+") ":" "+A+".test("+d+") ",n+=") { "}}var y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",n+=h?""+u:""+e.util.toQuotedString(s),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+u+" + '":""+e.util.escapeQuotes(s),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+a:""+e.util.toQuotedString(s),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var C=n;return n=y.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l&&(n+=" else { "),n}},79195:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h="errs__"+o,p=e.util.copy(e);p.level++;var g="valid"+p.level,f=e.schema.then,m=e.schema.else,b=void 0!==f&&(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all)),v=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),A=p.baseId;if(b||v){var y;p.createErrors=!1,p.schema=s,p.schemaPath=a,p.errSchemaPath=c,n+=" var "+h+" = errors; var "+u+" = true;  ";var C=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=A,p.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=C,b?(n+=" if ("+g+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=A,n+=" "+u+" = "+g+"; ",b&&v?n+=" var "+(y="ifClause"+o)+" = 'then'; ":y="'then'",n+=" } ",v&&(n+=" else { ")):n+=" if (!"+g+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=A,n+=" "+u+" = "+g+"; ",b&&v?n+=" var "+(y="ifClause"+o)+" = 'else'; ":y="'else'",n+=" } "),n+=" if (!"+u+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+y+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+y+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",l&&(n+=" else { ")}else l&&(n+=" if (true) { ");return n}},18122:(e,t,i)=>{"use strict";e.exports={$ref:i(43942),allOf:i(4238),anyOf:i(87893),$comment:i(74603),const:i(74956),contains:i(23375),dependencies:i(14018),enum:i(13442),format:i(50068),if:i(79195),items:i(61706),maximum:i(41428),minimum:i(41428),maxItems:i(93747),minItems:i(93747),maxLength:i(12530),minLength:i(12530),maxProperties:i(64803),minProperties:i(64803),multipleOf:i(73907),not:i(8496),oneOf:i(6538),pattern:i(660),properties:i(80142),propertyNames:i(335),required:i(18344),uniqueItems:i(75891),validate:i(87176)}},61706:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h="errs__"+o,p=e.util.copy(e),g="";p.level++;var f="valid"+p.level,m="i"+o,b=p.dataLevel=e.dataLevel+1,v="data"+b,A=e.baseId;if(n+="var "+h+" = errors;var "+u+";",Array.isArray(s)){var y=e.schema.additionalItems;if(!1===y){n+=" "+u+" = "+d+".length <= "+s.length+"; ";var C=c;c=e.errSchemaPath+"/additionalItems",n+="  if (!"+u+") {   ";var w=w||[];w.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var _=n;n=w.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c=C,l&&(g+="}",n+=" else { ")}var S=s;if(S)for(var E,k=-1,x=S.length-1;k<x;)if(E=S[k+=1],e.opts.strictKeywords?"object"==typeof E&&Object.keys(E).length>0||!1===E:e.util.schemaHasRules(E,e.RULES.all)){n+=" "+f+" = true; if ("+d+".length > "+k+") { ";var D=d+"["+k+"]";p.schema=E,p.schemaPath=a+"["+k+"]",p.errSchemaPath=c+"/"+k,p.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),p.dataPathArr[b]=k;var T=e.validate(p);p.baseId=A,e.util.varOccurences(T,v)<2?n+=" "+e.util.varReplace(T,v,D)+" ":n+=" var "+v+" = "+D+"; "+T+" ",n+=" }  ",l&&(n+=" if ("+f+") { ",g+="}")}"object"==typeof y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(p.schema=y,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+f+" = true; if ("+d+".length > "+s.length+") {  for (var "+m+" = "+s.length+"; "+m+" < "+d+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0),D=d+"["+m+"]",p.dataPathArr[b]=m,T=e.validate(p),p.baseId=A,e.util.varOccurences(T,v)<2?n+=" "+e.util.varReplace(T,v,D)+" ":n+=" var "+v+" = "+D+"; "+T+" ",l&&(n+=" if (!"+f+") break; "),n+=" } }  ",l&&(n+=" if ("+f+") { ",g+="}"))}else(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all))&&(p.schema=s,p.schemaPath=a,p.errSchemaPath=c,n+="  for (var "+m+" = 0; "+m+" < "+d+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0),D=d+"["+m+"]",p.dataPathArr[b]=m,T=e.validate(p),p.baseId=A,e.util.varOccurences(T,v)<2?n+=" "+e.util.varReplace(T,v,D)+" ":n+=" var "+v+" = "+D+"; "+T+" ",l&&(n+=" if (!"+f+") break; "),n+=" }");return l&&(n+=" "+g+" if ("+h+" == errors) {"),n}},73907:e=>{"use strict";e.exports=function(e,t,i){var n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h=e.opts.$data&&a&&a.$data;if(h?(o+=" var schema"+r+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+r):n=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");o+="var division"+r+";if (",h&&(o+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),o+=" (division"+r+" = "+u+" / "+n+", ",e.opts.multipleOfPrecision?o+=" Math.abs(Math.round(division"+r+") - division"+r+") > 1e-"+e.opts.multipleOfPrecision+" ":o+=" division"+r+" !== parseInt(division"+r+") ",o+=" ) ",h&&(o+="  )  "),o+=" ) {   ";var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be multiple of ",o+=h?"' + "+n:n+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+c:""+a,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var g=o;return o=p.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},8496:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="errs__"+o,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c,n+=" var "+u+" = errors;  ";var g,f=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(g=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,g&&(h.opts.allErrors=g),e.compositeRule=h.compositeRule=f,n+=" if ("+p+") {   ";var m=m||[];m.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var b=n;n=m.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(n+=" if (false) { ");return n}},6538:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h="errs__"+o,p=e.util.copy(e),g="";p.level++;var f="valid"+p.level,m=p.baseId,b="prevValid"+o,v="passingSchemas"+o;n+="var "+h+" = errors , "+b+" = false , "+u+" = false , "+v+" = null; ";var A=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=s;if(y)for(var C,w=-1,_=y.length-1;w<_;)C=y[w+=1],(e.opts.strictKeywords?"object"==typeof C&&Object.keys(C).length>0||!1===C:e.util.schemaHasRules(C,e.RULES.all))?(p.schema=C,p.schemaPath=a+"["+w+"]",p.errSchemaPath=c+"/"+w,n+="  "+e.validate(p)+" ",p.baseId=m):n+=" var "+f+" = true; ",w&&(n+=" if ("+f+" && "+b+") { "+u+" = false; "+v+" = ["+v+", "+w+"]; } else { ",g+="}"),n+=" if ("+f+") { "+u+" = "+b+" = true; "+v+" = "+w+"; }";return e.compositeRule=p.compositeRule=A,n+=g+"if (!"+u+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},660:e=>{"use strict";e.exports=function(e,t,i){var n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(o+=" var schema"+r+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+r):n=a,o+="if ( ",h&&(o+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),o+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(a))+".test("+u+") ) {   ";var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",o+=h?""+n:""+e.util.toQuotedString(a),o+="  } ",!1!==e.opts.messages&&(o+=" , message: 'should match pattern \"",o+=h?"' + "+n+" + '":""+e.util.escapeQuotes(a),o+="\"' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+c:""+e.util.toQuotedString(a),o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var g=o;return o=p.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+g+"]); ":o+=" validate.errors = ["+g+"]; return false; ":o+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",d&&(o+=" else { "),o}},80142:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="errs__"+o,h=e.util.copy(e),p="";h.level++;var g="valid"+h.level,f="key"+o,m="idx"+o,b=h.dataLevel=e.dataLevel+1,v="data"+b,A="dataProperties"+o,y=Object.keys(s||{}).filter(L),C=e.schema.patternProperties||{},w=Object.keys(C).filter(L),_=e.schema.additionalProperties,S=y.length||w.length,E=!1===_,k="object"==typeof _&&Object.keys(_).length,x=e.opts.removeAdditional,D=E||k||x,T=e.opts.ownProperties,M=e.baseId,B=e.schema.required;if(B&&(!e.opts.$data||!B.$data)&&B.length<e.opts.loopRequired)var I=e.util.toHash(B);function L(e){return"__proto__"!==e}if(n+="var "+u+" = errors;var "+g+" = true;",T&&(n+=" var "+A+" = undefined;"),D){if(n+=T?" "+A+" = "+A+" || Object.keys("+d+"); for (var "+m+"=0; "+m+"<"+A+".length; "+m+"++) { var "+f+" = "+A+"["+m+"]; ":" for (var "+f+" in "+d+") { ",S){if(n+=" var isAdditional"+o+" = !(false ",y.length)if(y.length>8)n+=" || validate.schema"+a+".hasOwnProperty("+f+") ";else{var P=y;if(P)for(var O=-1,R=P.length-1;O<R;)Y=P[O+=1],n+=" || "+f+" == "+e.util.toQuotedString(Y)+" "}if(w.length){var N=w;if(N)for(var F=-1,j=N.length-1;F<j;)re=N[F+=1],n+=" || "+e.usePattern(re)+".test("+f+") "}n+=" ); if (isAdditional"+o+") { "}if("all"==x)n+=" delete "+d+"["+f+"]; ";else{var W=e.errorPath,z="' + "+f+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers)),E)if(x)n+=" delete "+d+"["+f+"]; ";else{n+=" "+g+" = false; ";var U=c;c=e.errSchemaPath+"/additionalProperties",(ie=ie||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+z+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var H=n;n=ie.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+H+"]); ":n+=" validate.errors = ["+H+"]; return false; ":n+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=U,l&&(n+=" break; ")}else if(k)if("failing"==x){n+=" var "+u+" = errors;  ";var V=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=_,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var K=d+"["+f+"]";h.dataPathArr[b]=f;var G=e.validate(h);h.baseId=M,e.util.varOccurences(G,v)<2?n+=" "+e.util.varReplace(G,v,K)+" ":n+=" var "+v+" = "+K+"; "+G+" ",n+=" if (!"+g+") { errors = "+u+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+f+"]; }  ",e.compositeRule=h.compositeRule=V}else h.schema=_,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers),K=d+"["+f+"]",h.dataPathArr[b]=f,G=e.validate(h),h.baseId=M,e.util.varOccurences(G,v)<2?n+=" "+e.util.varReplace(G,v,K)+" ":n+=" var "+v+" = "+K+"; "+G+" ",l&&(n+=" if (!"+g+") break; ");e.errorPath=W}S&&(n+=" } "),n+=" }  ",l&&(n+=" if ("+g+") { ",p+="}")}var $=e.opts.useDefaults&&!e.compositeRule;if(y.length){var q=y;if(q)for(var Y,Q=-1,X=q.length-1;Q<X;){var Z=s[Y=q[Q+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){var J=e.util.getProperty(Y),ee=(K=d+J,$&&void 0!==Z.default);if(h.schema=Z,h.schemaPath=a+J,h.errSchemaPath=c+"/"+e.util.escapeFragment(Y),h.errorPath=e.util.getPath(e.errorPath,Y,e.opts.jsonPointers),h.dataPathArr[b]=e.util.toQuotedString(Y),G=e.validate(h),h.baseId=M,e.util.varOccurences(G,v)<2){G=e.util.varReplace(G,v,K);var te=K}else te=v,n+=" var "+v+" = "+K+"; ";if(ee)n+=" "+G+" ";else{if(I&&I[Y]){n+=" if ( "+te+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(Y)+"') "),n+=") { "+g+" = false; ",W=e.errorPath,U=c;var ie,ne=e.util.escapeQuotes(Y);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(W,Y,e.opts.jsonPointers)),c=e.errSchemaPath+"/required",(ie=ie||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",H=n,n=ie.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+H+"]); ":n+=" validate.errors = ["+H+"]; return false; ":n+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=U,e.errorPath=W,n+=" } else { "}else l?(n+=" if ( "+te+" === undefined ",T&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(Y)+"') "),n+=") { "+g+" = true; } else { "):(n+=" if ("+te+" !== undefined ",T&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(Y)+"') "),n+=" ) { ");n+=" "+G+" } "}}l&&(n+=" if ("+g+") { ",p+="}")}}if(w.length){var oe=w;if(oe)for(var re,se=-1,ae=oe.length-1;se<ae;)Z=C[re=oe[se+=1]],(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all))&&(h.schema=Z,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(re),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(re),n+=T?" "+A+" = "+A+" || Object.keys("+d+"); for (var "+m+"=0; "+m+"<"+A+".length; "+m+"++) { var "+f+" = "+A+"["+m+"]; ":" for (var "+f+" in "+d+") { ",n+=" if ("+e.usePattern(re)+".test("+f+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers),K=d+"["+f+"]",h.dataPathArr[b]=f,G=e.validate(h),h.baseId=M,e.util.varOccurences(G,v)<2?n+=" "+e.util.varReplace(G,v,K)+" ":n+=" var "+v+" = "+K+"; "+G+" ",l&&(n+=" if (!"+g+") break; "),n+=" } ",l&&(n+=" else "+g+" = true; "),n+=" }  ",l&&(n+=" if ("+g+") { ",p+="}"))}return l&&(n+=" "+p+" if ("+u+" == errors) {"),n}},335:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="errs__"+o,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(n+="var "+u+" = errors;",e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=c;var g="key"+o,f="idx"+o,m="i"+o,b="' + "+g+" + '",v="data"+(h.dataLevel=e.dataLevel+1),A="dataProperties"+o,y=e.opts.ownProperties,C=e.baseId;y&&(n+=" var "+A+" = undefined; "),n+=y?" "+A+" = "+A+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+A+".length; "+f+"++) { var "+g+" = "+A+"["+f+"]; ":" for (var "+g+" in "+d+") { ",n+=" var startErrs"+o+" = errors; ";var w=g,_=e.compositeRule;e.compositeRule=h.compositeRule=!0;var S=e.validate(h);h.baseId=C,e.util.varOccurences(S,v)<2?n+=" "+e.util.varReplace(S,v,w)+" ":n+=" var "+v+" = "+w+"; "+S+" ",e.compositeRule=h.compositeRule=_,n+=" if (!"+p+") { for (var "+m+"=startErrs"+o+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+g+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+b+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+b+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),l&&(n+=" break; "),n+=" } }"}return l&&(n+="  if ("+u+" == errors) {"),n}},43942:e=>{"use strict";e.exports=function(e,t,i){var n,o,r=" ",s=e.level,a=e.dataLevel,c=e.schema[t],l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(a||""),h="valid"+s;if("#"==c||"#/"==c)e.isRoot?(n=e.async,o="validate"):(n=!0===e.root.schema.$async,o="root.refVal[0]");else{var p=e.resolveRef(e.baseId,c,e.isRoot);if(void 0===p){var g=e.MissingRefError.message(e.baseId,c);if("fail"==e.opts.missingRefs){e.logger.error(g),(v=v||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(c)+"' } ",!1!==e.opts.messages&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(c)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(c)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var f=r;r=v.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(r+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,c,g);e.logger.warn(g),d&&(r+=" if (true) { ")}}else if(p.inline){var m=e.util.copy(e);m.level++;var b="valid"+m.level;m.schema=p.schema,m.schemaPath="",m.errSchemaPath=c,r+=" "+e.validate(m).replace(/validate\.schema/g,p.code)+" ",d&&(r+=" if ("+b+") { ")}else n=!0===p.$async||e.async&&!1!==p.$async,o=p.code}if(o){var v;(v=v||[]).push(r),r="",e.opts.passContext?r+=" "+o+".call(this, ":r+=" "+o+"( ",r+=" "+u+", (dataPath || '')",'""'!=e.errorPath&&(r+=" + "+e.errorPath);var A=r+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(r=v.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");d&&(r+=" var "+h+"; "),r+=" try { await "+A+"; ",d&&(r+=" "+h+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(r+=" "+h+" = false; "),r+=" } ",d&&(r+=" if ("+h+") { ")}else r+=" if (!"+A+") { if (vErrors === null) vErrors = "+o+".errors; else vErrors = vErrors.concat("+o+".errors); errors = vErrors.length; } ",d&&(r+=" else { ")}return r}},18344:e=>{"use strict";e.exports=function(e,t,i){var n=" ",o=e.level,r=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(r||""),u="valid"+o,h=e.opts.$data&&s&&s.$data;h&&(n+=" var schema"+o+" = "+e.util.getData(s.$data,r,e.dataPathArr)+"; ");var p="schema"+o;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var g=[],f=s;if(f)for(var m,b=-1,v=f.length-1;b<v;){m=f[b+=1];var A=e.schema.properties[m];A&&(e.opts.strictKeywords?"object"==typeof A&&Object.keys(A).length>0||!1===A:e.util.schemaHasRules(A,e.RULES.all))||(g[g.length]=m)}}else g=s;if(h||g.length){var y=e.errorPath,C=h||g.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(l)if(n+=" var missing"+o+"; ",C){h||(n+=" var "+p+" = validate.schema"+a+"; ");var _="' + "+(T="schema"+o+"["+(x="i"+o)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,T,e.opts.jsonPointers)),n+=" var "+u+" = true; ",h&&(n+=" if (schema"+o+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+o+")) "+u+" = false; else {"),n+=" for (var "+x+" = 0; "+x+" < "+p+".length; "+x+"++) { "+u+" = "+d+"["+p+"["+x+"]] !== undefined ",w&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+p+"["+x+"]) "),n+="; if (!"+u+") break; } ",h&&(n+="  }  "),n+="  if (!"+u+") {   ",(E=E||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var S=n;n=E.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var E,k=g;if(k)for(var x=-1,D=k.length-1;x<D;)B=k[x+=1],x&&(n+=" || "),n+=" ( ( "+(O=d+(P=e.util.getProperty(B)))+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(B)+"') "),n+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?B:P)+") ) ";n+=") {  ",_="' + "+(T="missing"+o)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,T,!0):y+" + "+T),(E=E||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",S=n,n=E.pop(),!e.compositeRule&&l?e.async?n+=" throw new ValidationError(["+S+"]); ":n+=" validate.errors = ["+S+"]; return false; ":n+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(C){var T;h||(n+=" var "+p+" = validate.schema"+a+"; "),_="' + "+(T="schema"+o+"["+(x="i"+o)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(y,T,e.opts.jsonPointers)),h&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+x+" = 0; "+x+" < "+p+".length; "+x+"++) { if ("+d+"["+p+"["+x+"]] === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+p+"["+x+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ")}else{var M=g;if(M)for(var B,I=-1,L=M.length-1;I<L;){B=M[I+=1];var P=e.util.getProperty(B),O=(_=e.util.escapeQuotes(B),d+P);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,B,e.opts.jsonPointers)),n+=" if ( "+O+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(B)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=y}else l&&(n+=" if (true) {");return n}},75891:e=>{"use strict";e.exports=function(e,t,i){var n,o=" ",r=e.level,s=e.dataLevel,a=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,u="data"+(s||""),h="valid"+r,p=e.opts.$data&&a&&a.$data;if(p?(o+=" var schema"+r+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",n="schema"+r):n=a,(a||p)&&!1!==e.opts.uniqueItems){p&&(o+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),o+=" var i = "+u+".length , "+h+" = true , j; if (i > 1) { ";var g=e.schema.items&&e.schema.items.type,f=Array.isArray(g);if(!g||"object"==g||"array"==g||f&&(g.indexOf("object")>=0||g.indexOf("array")>=0))o+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+h+" = false; break outer; } } } ";else{o+=" var itemIndices = {}, item; for (;i--;) { var item = "+u+"[i]; ";var m="checkDataType"+(f?"s":"");o+=" if ("+e.util[m](g,"item",e.opts.strictNumbers,!0)+") continue; ",f&&(o+=" if (typeof item == 'string') item = '\"' + item; "),o+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}o+=" } ",p&&(o+="  }  "),o+=" if (!"+h+") {   ";var b=b||[];b.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(o+=" , schema:  ",o+=p?"validate.schema"+c:""+a,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),o+=" } "):o+=" {} ";var v=o;o=b.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+v+"]); ":o+=" validate.errors = ["+v+"]; return false; ":o+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",d&&(o+=" else { ")}else d&&(o+=" if (true) { ");return o}},87176:e=>{"use strict";e.exports=function(e,t,i){var n="",o=!0===e.schema.$async,r=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var a=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(a){var c="unknown keyword: "+a;if("log"!==e.opts.strictKeywords)throw new Error(c);e.logger.warn(c)}}if(e.isTop&&(n+=" var validate = ",o&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!r&&!e.schema.$ref){t="false schema";var l=e.level,d=e.dataLevel,u=e.schema[t],h=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,f="data"+(d||""),m="valid"+l;if(!1===e.schema){e.isTop?g=!0:n+=" var "+m+" = false; ",(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var b=n;n=K.pop(),!e.compositeRule&&g?e.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n+=o?" return data; ":" validate.errors = null; return true; ":n+=" var "+m+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var v=e.isTop;if(l=e.level=0,d=e.dataLevel=0,f="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var A="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(A);e.logger.warn(A)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{if(l=e.level,f="data"+((d=e.dataLevel)||""),s&&(e.baseId=e.resolve.url(e.baseId,s)),o&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+l+" = errors;"}m="valid"+l,g=!e.opts.allErrors;var y="",C="",w=e.schema.type,_=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(_?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],_=!0)),_&&1==w.length&&(w=w[0],_=!1),e.schema.$ref&&r){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(r=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),w){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,w);var E=e.RULES.types[w];if(S||_||!0===E||E&&!X(E)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var k=_?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[k](w,f,e.opts.strictNumbers,!0)+") { ",S){var x="dataType"+l,D="coerced"+l;n+=" var "+x+" = typeof "+f+"; var "+D+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+x+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+x+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+D+" = "+f+"; } "),n+=" if ("+D+" !== undefined) ; ";var T=S;if(T)for(var M,B=-1,I=T.length-1;B<I;)"string"==(M=T[B+=1])?n+=" else if ("+x+" == 'number' || "+x+" == 'boolean') "+D+" = '' + "+f+"; else if ("+f+" === null) "+D+" = ''; ":"number"==M||"integer"==M?(n+=" else if ("+x+" == 'boolean' || "+f+" === null || ("+x+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==M&&(n+=" && !("+f+" % 1)"),n+=")) "+D+" = +"+f+"; "):"boolean"==M?n+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+D+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+D+" = true; ":"null"==M?n+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+D+" = null; ":"array"==e.opts.coerceTypes&&"array"==M&&(n+=" else if ("+x+" == 'string' || "+x+" == 'number' || "+x+" == 'boolean' || "+f+" == null) "+D+" = ["+f+"]; ");n+=" else {   ",(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=_?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",b=n,n=K.pop(),!e.compositeRule&&g?e.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+D+" !== undefined) {  ";var L=d?"data"+(d-1||""):"parentData";n+=" "+f+" = "+D+"; ",d||(n+="if ("+L+" !== undefined)"),n+=" "+L+"["+(d?e.dataPathArr[d]:"parentDataProperty")+"] = "+D+"; } "}else(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=_?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",b=n,n=K.pop(),!e.compositeRule&&g?e.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";n+=" } "}}if(e.schema.$ref&&!r)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",g&&(n+=" } if (errors === ",n+=v?"0":"errs_"+l,n+=") { ",C+="}");else{var P=e.RULES;if(P)for(var O=-1,R=P.length-1;O<R;)if(X(E=P[O+=1])){if(E.type&&(n+=" if ("+e.util.checkDataType(E.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==E.type&&e.schema.properties){u=e.schema.properties;var N=Object.keys(u);if(N)for(var F,j=-1,W=N.length-1;j<W;)if(void 0!==(H=u[F=N[j+=1]]).default){var z=f+e.util.getProperty(F);if(e.compositeRule){if(e.opts.strictDefaults){if(A="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(A);e.logger.warn(A)}}else n+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+z+" === null || "+z+" === '' "),n+=" ) "+z+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(H.default)+" ":n+=" "+JSON.stringify(H.default)+" ",n+="; "}}else if("array"==E.type&&Array.isArray(e.schema.items)){var U=e.schema.items;if(U){B=-1;for(var H,V=U.length-1;B<V;)if(void 0!==(H=U[B+=1]).default)if(z=f+"["+B+"]",e.compositeRule){if(e.opts.strictDefaults){if(A="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(A);e.logger.warn(A)}}else n+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+z+" === null || "+z+" === '' "),n+=" ) "+z+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(H.default)+" ":n+=" "+JSON.stringify(H.default)+" ",n+="; "}}var K,G=E.rules;if(G)for(var $,q=-1,Y=G.length-1;q<Y;)if(Z($=G[q+=1])){var Q=$.code(e,$.keyword,E.type);Q&&(n+=" "+Q+" ",g&&(y+="}"))}if(g&&(n+=" "+y+" ",y=""),E.type&&(n+=" } ",w&&w===E.type&&!S))n+=" else { ",h=e.schemaPath+".type",p=e.errSchemaPath+"/type",(K=K||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=_?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",b=n,n=K.pop(),!e.compositeRule&&g?e.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ";g&&(n+=" if (errors === ",n+=v?"0":"errs_"+l,n+=") { ",C+="}")}}function X(e){for(var t=e.rules,i=0;i<t.length;i++)if(Z(t[i]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var i=t.implements,n=0;n<i.length;n++)if(void 0!==e.schema[i[n]])return!0}(t)}return g&&(n+=" "+C+" "),v?(o?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+m+" = errors === errs_"+l+";",n}},42602:(e,t,i)=>{"use strict";var n=/^[a-z_$][a-z0-9_$-]*$/i,o=i(58378),r=i(61245);e.exports={add:function(e,t){var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!n.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var r=t.type;if(Array.isArray(r))for(var s=0;s<r.length;s++)c(e,r[s],t);else c(e,r,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function c(e,t,n){for(var r,s=0;s<i.length;s++){var a=i[s];if(a.type==t){r=a;break}}r||(r={type:t,rules:[]},i.push(r));var c={keyword:e,definition:n,custom:!0,code:o,implements:n.implements};r.rules.push(c),i.custom[e]=c}return i.keywords[e]=i.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var i=0;i<t.length;i++)for(var n=t[i].rules,o=0;o<n.length;o++)if(n[o].keyword==e){n.splice(o,1);break}return this},validate:function e(t,i){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(r,!0);if(n(t))return!0;if(e.errors=n.errors,i)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}}},11264:e=>{"use strict";var t=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]],n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0,this.decorations=[]}return t(e,null,[{key:"escapeForHtml",value:function(t){return(new e).escapeForHtml(t)}},{key:"linkify",value:function(t){return(new e).linkify(t)}},{key:"ansiToHtml",value:function(t,i){return(new e).ansiToHtml(t,i)}},{key:"ansiToJson",value:function(t,i){return(new e).ansiToJson(t,i)}},{key:"ansiToText",value:function(t){return(new e).ansiToText(t)}}]),t(e,[{key:"setupPalette",value:function(){this.PALETTE_COLORS=[];for(var e=0;e<2;++e)for(var t=0;t<8;++t)this.PALETTE_COLORS.push(i[e][t].color);for(var n=[0,95,135,175,215,255],o=function(e,t,i){return n[e]+", "+n[t]+", "+n[i]},r=0;r<6;++r)for(var s=0;s<6;++s)for(var a=0;a<6;++a)this.PALETTE_COLORS.push(o(r,s,a));for(var c=8,l=0;l<24;++l,c+=10)this.PALETTE_COLORS.push(o(c,c,c))}},{key:"escapeForHtml",value:function(e){return e.replace(/[&<>\"]/gm,(function(e){return"&"==e?"&amp;":'"'==e?"&quot;":"<"==e?"&lt;":">"==e?"&gt;":""}))}},{key:"linkify",value:function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,(function(e){return'<a href="'+e+'">'+e+"</a>"}))}},{key:"ansiToHtml",value:function(e,t){return this.process(e,t,!0)}},{key:"ansiToJson",value:function(e,t){return(t=t||{}).json=!0,t.clearLine=!1,this.process(e,t,!0)}},{key:"ansiToText",value:function(e){return this.process(e,{},!1)}},{key:"process",value:function(e,t,i){var n=this,o=e.split(/\033\[/),r=o.shift();null==t&&(t={}),t.clearLine=/\r/.test(e);var s=o.map((function(e){return n.processChunk(e,t,i)}));if(t&&t.json){var a=this.processChunkJson("");return a.content=r,a.clearLine=t.clearLine,s.unshift(a),t.remove_empty&&(s=s.filter((function(e){return!e.isEmpty()}))),s}return s.unshift(r),s.join("")}},{key:"processChunkJson",value:function(e,t,n){var o=(t=void 0===t?{}:t).use_classes=void 0!==t.use_classes&&t.use_classes,r=t.key=o?"class":"color",s={content:e,fg:null,bg:null,fg_truecolor:null,bg_truecolor:null,isInverted:!1,clearLine:t.clearLine,decoration:null,decorations:[],was_processed:!1,isEmpty:function(){return!s.content}},a=e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!a)return s;s.content=a[4];var c=a[2].split(";");if(""!==a[1]||"m"!==a[3])return s;if(!n)return s;for(var l=this;c.length>0;){var d=c.shift(),u=parseInt(d);if(isNaN(u)||0===u)l.fg=l.bg=null,l.decorations=[];else if(1===u)l.decorations.push("bold");else if(2===u)l.decorations.push("dim");else if(3===u)l.decorations.push("italic");else if(4===u)l.decorations.push("underline");else if(5===u)l.decorations.push("blink");else if(7===u)l.decorations.push("reverse");else if(8===u)l.decorations.push("hidden");else if(9===u)l.decorations.push("strikethrough");else if(21===u)l.removeDecoration("bold");else if(22===u)l.removeDecoration("bold"),l.removeDecoration("dim");else if(23===u)l.removeDecoration("italic");else if(24===u)l.removeDecoration("underline");else if(25===u)l.removeDecoration("blink");else if(27===u)l.removeDecoration("reverse");else if(28===u)l.removeDecoration("hidden");else if(29===u)l.removeDecoration("strikethrough");else if(39===u)l.fg=null;else if(49===u)l.bg=null;else if(u>=30&&u<38)l.fg=i[0][u%10][r];else if(u>=90&&u<98)l.fg=i[1][u%10][r];else if(u>=40&&u<48)l.bg=i[0][u%10][r];else if(u>=100&&u<108)l.bg=i[1][u%10][r];else if(38===u||48===u){var h=38===u;if(c.length>=1){var p=c.shift();if("5"===p&&c.length>=1){var g=parseInt(c.shift());if(g>=0&&g<=255)if(o){var f=g>=16?"ansi-palette-"+g:i[g>7?1:0][g%8].class;h?l.fg=f:l.bg=f}else this.PALETTE_COLORS||l.setupPalette(),h?l.fg=this.PALETTE_COLORS[g]:l.bg=this.PALETTE_COLORS[g]}else if("2"===p&&c.length>=3){var m=parseInt(c.shift()),b=parseInt(c.shift()),v=parseInt(c.shift());if(m>=0&&m<=255&&b>=0&&b<=255&&v>=0&&v<=255){var A=m+", "+b+", "+v;o?h?(l.fg="ansi-truecolor",l.fg_truecolor=A):(l.bg="ansi-truecolor",l.bg_truecolor=A):h?l.fg=A:l.bg=A}}}}}return null===l.fg&&null===l.bg&&0===l.decorations.length||(s.fg=l.fg,s.bg=l.bg,s.fg_truecolor=l.fg_truecolor,s.bg_truecolor=l.bg_truecolor,s.decorations=l.decorations,s.decoration=l.decorations.slice(-1).pop()||null,s.was_processed=!0),s}},{key:"processChunk",value:function(e,t,n){var o=this;t=t||{};var r=this.processChunkJson(e,t,n),s=t.use_classes;if(r.decorations=r.decorations.filter((function(e){if("reverse"===e){r.fg||(r.fg=i[0][7][s?"class":"color"]),r.bg||(r.bg=i[0][0][s?"class":"color"]);var t=r.fg;r.fg=r.bg,r.bg=t;var n=r.fg_truecolor;return r.fg_truecolor=r.bg_truecolor,r.bg_truecolor=n,r.isInverted=!0,!1}return!0})),t.json)return r;if(r.isEmpty())return"";if(!r.was_processed)return r.content;var a=[],c=[],l=[],d={},u=function(e){var t=[],i=void 0;for(i in e)e.hasOwnProperty(i)&&t.push("data-"+i+'="'+o.escapeForHtml(e[i])+'"');return t.length>0?" "+t.join(" "):""};return r.isInverted&&(d["ansi-is-inverted"]="true"),r.fg&&(s?(a.push(r.fg+"-fg"),null!==r.fg_truecolor&&(d["ansi-truecolor-fg"]=r.fg_truecolor,r.fg_truecolor=null)):a.push("color:rgb("+r.fg+")")),r.bg&&(s?(a.push(r.bg+"-bg"),null!==r.bg_truecolor&&(d["ansi-truecolor-bg"]=r.bg_truecolor,r.bg_truecolor=null)):a.push("background-color:rgb("+r.bg+")")),r.decorations.forEach((function(e){s?c.push("ansi-"+e):"bold"===e?c.push("font-weight:bold"):"dim"===e?c.push("opacity:0.5"):"italic"===e?c.push("font-style:italic"):"hidden"===e?c.push("visibility:hidden"):"strikethrough"===e?l.push("line-through"):l.push(e)})),l.length&&c.push("text-decoration:"+l.join(" ")),s?'<span class="'+a.concat(c).join(" ")+'"'+u(d)+">"+r.content+"</span>":'<span style="'+a.concat(c).join(";")+'"'+u(d)+">"+r.content+"</span>"}},{key:"removeDecoration",value:function(e){var t=this.decorations.indexOf(e);t>=0&&this.decorations.splice(t,1)}}]),e}();e.exports=n},4122:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(85556),o=i(33339),r=function(){function e(e){this._semaphore=new o.default(1,e)}return e.prototype.acquire=function(){return(0,n.__awaiter)(this,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.waitForUnlock=function(){return this._semaphore.waitForUnlock()},e.prototype.release=function(){this._semaphore.release()},e.prototype.cancel=function(){return this._semaphore.cancel()},e}();t.default=r},33339:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(85556),o=i(83853),r=function(){function e(e,t){if(void 0===t&&(t=o.E_CANCELED),this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),i=new Promise((function(t,i){return e._queue.push({resolve:t,reject:i})}));return t||this._dispatch(),i},e.prototype.runExclusive=function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.acquire()];case 1:t=n.sent(),i=t[0],o=t[1],n.label=2;case 2:return n.trys.push([2,,4,5]),[4,e(i)];case 3:return[2,n.sent()];case 4:return o(),[7];case 5:return[2]}}))}))},e.prototype.waitForUnlock=function(){return(0,n.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,n.__generator)(this,(function(t){return this.isLocked()?[2,new Promise((function(t){return e._waiters.push({resolve:t})}))]:[2,Promise.resolve()]}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype.cancel=function(){var e=this;this._queue.forEach((function(t){return t.reject(e._cancelError)})),this._queue=[]},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var i=!1;this._currentReleaser=function(){i||(i=!0,e._value++,e._resolveWaiters(),e._dispatch())},t.resolve([this._value--,this._currentReleaser])}},e.prototype._resolveWaiters=function(){this._waiters.forEach((function(e){return e.resolve()})),this._waiters=[]},e}();t.default=r},83853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.E_CANCELED=t.E_ALREADY_LOCKED=t.E_TIMEOUT=void 0,t.E_TIMEOUT=new Error("timeout while waiting for mutex to become available"),t.E_ALREADY_LOCKED=new Error("mutex already locked"),t.E_CANCELED=new Error("request for lock canceled")},61488:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=t.withTimeout=t.Semaphore=t.Mutex=void 0;var n=i(85556),o=i(4122);Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return o.default}});var r=i(33339);Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var s=i(14288);Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return s.withTimeout}});var a=i(84067);Object.defineProperty(t,"tryAcquire",{enumerable:!0,get:function(){return a.tryAcquire}}),(0,n.__exportStar)(i(83853),t)},84067:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=void 0;var n=i(83853),o=i(14288);t.tryAcquire=function(e,t){return void 0===t&&(t=n.E_ALREADY_LOCKED),(0,o.withTimeout)(e,0,t)}},14288:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=void 0;var n=i(85556),o=i(83853);t.withTimeout=function(e,t,i){var r=this;return void 0===i&&(i=o.E_TIMEOUT),{acquire:function(){return new Promise((function(o,s){return(0,n.__awaiter)(r,void 0,void 0,(function(){var r,a,c,l;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:r=!1,a=setTimeout((function(){r=!0,s(i)}),t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.acquire()];case 2:return c=n.sent(),r?(Array.isArray(c)?c[1]:c)():(clearTimeout(a),o(c)),[3,4];case 3:return l=n.sent(),r||(clearTimeout(a),s(l)),[3,4];case 4:return[2]}}))}))}))},runExclusive:function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,i;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return i=n.sent(),Array.isArray(i)?(t=i[1],[4,e(i[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=i,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},cancel:function(){return e.cancel()},waitForUnlock:function(){return e.waitForUnlock()},isLocked:function(){return e.isLocked()}}}},50502:function(e,t){var i,n;i=function(e,t){"use strict";var i,n,o="function"==typeof Map?new Map:(i=[],n=[],{has:function(e){return i.indexOf(e)>-1},get:function(e){return n[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),n.push(t))},delete:function(e){var t=i.indexOf(e);t>-1&&(i.splice(t,1),n.splice(t,1))}}),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function s(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,i=null,n=null,s=function(){e.clientWidth!==i&&u()},a=function(t){window.removeEventListener("resize",s,!1),e.removeEventListener("input",u,!1),e.removeEventListener("keyup",u,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach((function(i){e.style[i]=t[i]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",u,!1),window.addEventListener("resize",s,!1),e.addEventListener("input",u,!1),e.addEventListener("autosize:update",u,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:a,update:u}),"vertical"===(c=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===c.resize&&(e.style.resize="horizontal"),t="content-box"===c.boxSizing?-(parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)):parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth),isNaN(t)&&(t=0),u()}var c;function l(t){var i=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=i,e.style.overflowY=t}function d(){if(0!==e.scrollHeight){var n=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",i=e.clientWidth,n.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function u(){d();var t=Math.round(parseFloat(e.style.height)),i=window.getComputedStyle(e,null),o="content-box"===i.boxSizing?Math.round(parseFloat(i.height)):e.offsetHeight;if(o<t?"hidden"===i.overflowY&&(l("scroll"),d(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==i.overflowY&&(l("hidden"),d(),o="content-box"===i.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),n!==o){n=o;var s=r("autosize:resized");try{e.dispatchEvent(s)}catch(e){}}}}function a(e){var t=o.get(e);t&&t.destroy()}function c(e){var t=o.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return s(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=l,e.exports=t.default},void 0===(n=i.apply(t,[e,t]))||(e.exports=n)},18423:e=>{"use strict";function t(e,t,o){e instanceof RegExp&&(e=i(e,o)),t instanceof RegExp&&(t=i(t,o));var r=n(e,t,o);return r&&{start:r[0],end:r[1],pre:o.slice(0,r[0]),body:o.slice(r[0]+e.length,r[1]),post:o.slice(r[1]+t.length)}}function i(e,t){var i=t.match(e);return i?i[0]:null}function n(e,t,i){var n,o,r,s,a,c=i.indexOf(e),l=i.indexOf(t,c+1),d=c;if(c>=0&&l>0){if(e===t)return[c,l];for(n=[],r=i.length;d>=0&&!a;)d==c?(n.push(d),c=i.indexOf(e,d+1)):1==n.length?a=[n.pop(),l]:((o=n.pop())<r&&(r=o,s=l),l=i.indexOf(t,d+1)),d=c<l&&c>=0?c:l;n.length&&(a=[r,s])}return a}e.exports=t,t.range=n},50060:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,r=a(e),s=r[0],c=r[1],l=new o(function(e,t,i){return 3*(t+i)/4-i}(0,s,c)),d=0,u=c>0?s-4:s;for(i=0;i<u;i+=4)t=n[e.charCodeAt(i)]<<18|n[e.charCodeAt(i+1)]<<12|n[e.charCodeAt(i+2)]<<6|n[e.charCodeAt(i+3)],l[d++]=t>>16&255,l[d++]=t>>8&255,l[d++]=255&t;return 2===c&&(t=n[e.charCodeAt(i)]<<2|n[e.charCodeAt(i+1)]>>4,l[d++]=255&t),1===c&&(t=n[e.charCodeAt(i)]<<10|n[e.charCodeAt(i+1)]<<4|n[e.charCodeAt(i+2)]>>2,l[d++]=t>>8&255,l[d++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,r=[],s=16383,a=0,l=n-o;a<l;a+=s)r.push(c(e,a,a+s>l?l:a+s));return 1===o?(t=e[n-1],r.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],r.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),r.join("")};for(var i=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)i[s]=r[s],n[r.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function c(e,t,n){for(var o,r,s=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},67828:(e,t,i)=>{var n=i(18423);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),m(function(e){return e.split("\\\\").join(o).split("\\{").join(r).split("\\}").join(s).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(d)):[]};var o="\0SLASH"+Math.random()+"\0",r="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(r).join("{").split(s).join("}").split(a).join(",").split(c).join(".")}function u(e){if(!e)return[""];var t=[],i=n("{","}",e);if(!i)return e.split(",");var o=i.pre,r=i.body,s=i.post,a=o.split(",");a[a.length-1]+="{"+r+"}";var c=u(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function f(e,t){return e>=t}function m(e,t){var i=[],o=n("{","}",e);if(!o)return[e];var r=o.pre,a=o.post.length?m(o.post,!1):[""];if(/\$$/.test(o.pre))for(var c=0;c<a.length;c++){var d=r+"{"+o.body+"}"+a[c];i.push(d)}else{var b,v,A=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),y=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),C=A||y,w=o.body.indexOf(",")>=0;if(!C&&!w)return o.post.match(/,.*\}/)?m(e=o.pre+"{"+o.body+s+o.post):[e];if(C)b=o.body.split(/\.\./);else if(1===(b=u(o.body)).length&&1===(b=m(b[0],!1).map(h)).length)return a.map((function(e){return o.pre+b[0]+e}));if(C){var _=l(b[0]),S=l(b[1]),E=Math.max(b[0].length,b[1].length),k=3==b.length?Math.abs(l(b[2])):1,x=g;S<_&&(k*=-1,x=f);var D=b.some(p);v=[];for(var T=_;x(T,S);T+=k){var M;if(y)"\\"===(M=String.fromCharCode(T))&&(M="");else if(M=String(T),D){var B=E-M.length;if(B>0){var I=new Array(B+1).join("0");M=T<0?"-"+I+M.slice(1):I+M}}v.push(M)}}else{v=[];for(var L=0;L<b.length;L++)v.push.apply(v,m(b[L],!1))}for(L=0;L<v.length;L++)for(c=0;c<a.length;c++)d=r+v[L]+a[c],(!t||C||d)&&i.push(d)}return i}},13485:(e,t,i)=>{"use strict";var n=i(50060),o=i(4215),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,i)}function l(e,t,i){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|f(e,t),n=a(i),o=n.write(e,t);return o!==i&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(z(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return p(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return p(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,i);var o=function(e){if(c.isBuffer(e)){var t=0|g(e.length),i=a(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?a(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return d(e),a(e<0?0:0|g(e))}function h(e){for(var t=e.length<0?0:0|g(e.length),i=a(t),n=0;n<t;n+=1)i[n]=255&e[n];return i}function p(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,c.prototype),n}function g(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return j(e).length;default:if(o)return n?-1:F(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,i);case"utf8":case"utf-8":return k(this,t,i);case"ascii":return D(this,t,i);case"latin1":case"binary":return T(this,t,i);case"base64":return E(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function v(e,t,i,n,o){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),U(i=+i)&&(i=o?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(o)return-1;i=e.length-1}else if(i<0){if(!o)return-1;i=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:A(e,t,i,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):A(e,[t],i,n,o);throw new TypeError("val must be string, number or Buffer")}function A(e,t,i,n,o){var r,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,i/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var d=-1;for(r=i;r<a;r++)if(l(e,r)===l(t,-1===d?0:r-d)){if(-1===d&&(d=r),r-d+1===c)return d*s}else-1!==d&&(r-=r-d),d=-1}else for(i+c>a&&(i=a-c),r=i;r>=0;r--){for(var u=!0,h=0;h<c;h++)if(l(e,r+h)!==l(t,h)){u=!1;break}if(u)return r}return-1}function y(e,t,i,n){i=Number(i)||0;var o=e.length-i;n?(n=Number(n))>o&&(n=o):n=o;var r=t.length;n>r/2&&(n=r/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(U(a))return s;e[i+s]=a}return s}function C(e,t,i,n){return W(F(t,e.length-i),e,i,n)}function w(e,t,i,n){return W(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function _(e,t,i,n){return W(j(t),e,i,n)}function S(e,t,i,n){return W(function(e,t){for(var i,n,o,r=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(i=e.charCodeAt(s))>>8,o=i%256,r.push(o),r.push(n);return r}(t,e.length-i),e,i,n)}function E(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function k(e,t,i){i=Math.min(e.length,i);for(var n=[],o=t;o<i;){var r,s,a,c,l=e[o],d=null,u=l>239?4:l>223?3:l>191?2:1;if(o+u<=i)switch(u){case 1:l<128&&(d=l);break;case 2:128==(192&(r=e[o+1]))&&(c=(31&l)<<6|63&r)>127&&(d=c);break;case 3:r=e[o+1],s=e[o+2],128==(192&r)&&128==(192&s)&&(c=(15&l)<<12|(63&r)<<6|63&s)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:r=e[o+1],s=e[o+2],a=e[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&(c=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(d=c)}null===d?(d=65533,u=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),o+=u}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);for(var i="",n=0;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=x));return i}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,i){return l(e,t,i)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,i){return function(e,t,i){return d(e),e<=0?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)}(e,t,i)},c.allocUnsafe=function(e){return u(e)},c.allocUnsafeSlow=function(e){return u(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,o=0,r=Math.min(i,n);o<r;++o)if(e[o]!==t[o]){i=e[o],n=t[o];break}return i<n?-1:n<i?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=c.allocUnsafe(t),o=0;for(i=0;i<e.length;++i){var r=e[i];if(z(r,Uint8Array))o+r.length>n.length?c.from(r).copy(n,o):Uint8Array.prototype.set.call(n,r,o);else{if(!c.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(n,o)}o+=r.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(e,t,i,n,o){if(z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||i>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=i)return 0;if(n>=o)return-1;if(t>=i)return 1;if(this===e)return 0;for(var r=(o>>>=0)-(n>>>=0),s=(i>>>=0)-(t>>>=0),a=Math.min(r,s),l=this.slice(n,o),d=e.slice(t,i),u=0;u<a;++u)if(l[u]!==d[u]){r=l[u],s=d[u];break}return r<s?-1:s<r?1:0},c.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},c.prototype.indexOf=function(e,t,i){return v(this,e,t,i,!0)},c.prototype.lastIndexOf=function(e,t,i){return v(this,e,t,i,!1)},c.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var o=this.length-t;if((void 0===i||i>o)&&(i=o),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return y(this,e,t,i);case"utf8":case"utf-8":return C(this,e,t,i);case"ascii":case"latin1":case"binary":return w(this,e,t,i);case"base64":return _(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function D(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(127&e[o]);return n}function T(e,t,i){var n="";i=Math.min(e.length,i);for(var o=t;o<i;++o)n+=String.fromCharCode(e[o]);return n}function M(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var o="",r=t;r<i;++r)o+=H[e[r]];return o}function B(e,t,i){for(var n=e.slice(t,i),o="",r=0;r<n.length-1;r+=2)o+=String.fromCharCode(n[r]+256*n[r+1]);return o}function I(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,i,n,o,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function P(e,t,i,n,o,r){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function O(e,t,i,n,r){return t=+t,i>>>=0,r||P(e,0,i,4),o.write(e,t,i,n,23,4),i+4}function R(e,t,i,n,r){return t=+t,i>>>=0,r||P(e,0,i,8),o.write(e,t,i,n,52,8),i+8}c.prototype.slice=function(e,t){var i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var n=this[e],o=1,r=0;++r<t&&(o*=256);)n+=this[e+r]*o;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var n=this[e],o=1,r=0;++r<t&&(o*=256);)n+=this[e+r]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||I(e,t,this.length);for(var n=t,o=1,r=this[e+--n];n>0&&(o*=256);)r+=this[e+--n]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||L(this,e,t,i,Math.pow(2,8*i)-1,0);var o=1,r=0;for(this[t]=255&e;++r<i&&(o*=256);)this[t+r]=e/o&255;return t+i},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,i,n){e=+e,t>>>=0,i>>>=0,n||L(this,e,t,i,Math.pow(2,8*i)-1,0);var o=i-1,r=1;for(this[t+o]=255&e;--o>=0&&(r*=256);)this[t+o]=e/r&255;return t+i},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*i-1);L(this,e,t,i,o-1,-o)}var r=0,s=1,a=0;for(this[t]=255&e;++r<i&&(s*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+i},c.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*i-1);L(this,e,t,i,o-1,-o)}var r=i-1,s=1,a=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+i},c.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,i){return O(this,e,t,!0,i)},c.prototype.writeFloatBE=function(e,t,i){return O(this,e,t,!1,i)},c.prototype.writeDoubleLE=function(e,t,i){return R(this,e,t,!0,i)},c.prototype.writeDoubleBE=function(e,t,i){return R(this,e,t,!1,i)},c.prototype.copy=function(e,t,i,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var o=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),o},c.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var r;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(r=t;r<i;++r)this[r]=e;else{var s=c.isBuffer(e)?e:c.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<i-t;++r)this[r+t]=s[r%a]}return this};var N=/[^+/0-9A-Za-z-_]/g;function F(e,t){var i;t=t||1/0;for(var n=e.length,o=null,r=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!o){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&r.push(239,191,189);continue}o=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189),o=i;continue}i=65536+(o-55296<<10|i-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function j(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,i,n){for(var o=0;o<n&&!(o+i>=t.length||o>=e.length);++o)t[o+i]=e[o];return o}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var H=function(){for(var e="0123456789abcdef",t=new Array(256),i=0;i<16;++i)for(var n=16*i,o=0;o<16;++o)t[n+o]=e[i]+e[o];return t}()},30500:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)){if(i.length){var s=o.apply(null,i);s&&e.push(s)}}else if("object"===r){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var a in i)n.call(i,a)&&i[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}()},2464:e=>{e.exports=function(e,t,i){return((i=window.getComputedStyle)?i(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},5491:function(e,t){var i="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();!function(e){!function(t){var i="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),r="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}}))}function f(e){var t=new FileReader,i=g(t);return t.readAsArrayBuffer(e),i}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,i,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,i=g(t=new FileReader),t.readAsText(e),i;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),i=new Array(t.length),n=0;n<t.length;n++)i[n]=String.fromCharCode(t[n]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=l(e),t=d(t);var i=this.map[e];this.map[e]=i?i+", "+t:t},h.prototype.delete=function(e){delete this.map[l(e)]},h.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},h.prototype.set=function(e,t){this.map[l(e)]=d(t)},h.prototype.forEach=function(e,t){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(t,this.map[i],i,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,i){e.push(i)})),u(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,i){e.push([i,t])})),u(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(e,t){var i,n,o=(t=t||{}).body;if(e instanceof A){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),v.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),o=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function C(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})},b.call(A.prototype),b.call(C.prototype),C.prototype.clone=function(){return new C(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},C.error=function(){var e=new C(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];C.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new C(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var i=Error(e);this.stack=i.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,i){return new Promise((function(n,r){var s=new A(e,i);if(s.signal&&s.signal.aborted)return r(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,i={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var i=e.split(":"),n=i.shift().trim();if(n){var o=i.join(":").trim();t.append(n,o)}})),t)};i.url="responseURL"in a?a.responseURL:i.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new C(o,i))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=h,e.Request=A,e.Response=C),t.Headers=h,t.Request=A,t.Response=C,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},7638:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);n&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},87167:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},34663:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),r="/*# ".concat(o," */");return[t].concat([r]).join("\n")}return[t].join("\n")}},33770:function(e,t,i){var n;!function(o){"use strict";var r,s,a,c=(r=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,function(e,t,i,n){if(1!==arguments.length||"string"!==(null===(o=e)?"null":void 0===o?"undefined":"object"!=typeof o?typeof o:Array.isArray(o)?"array":{}.toString.call(o).slice(8,-1).toLowerCase())||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var o,d=(t=String(c.masks[t]||t||c.masks.default)).slice(0,4);"UTC:"!==d&&"GMT:"!==d||(t=t.slice(4),i=!0,"GMT:"===d&&(n=!0));var u=i?"getUTC":"get",h=e[u+"Date"](),p=e[u+"Day"](),g=e[u+"Month"](),f=e[u+"FullYear"](),m=e[u+"Hours"](),b=e[u+"Minutes"](),v=e[u+"Seconds"](),A=e[u+"Milliseconds"](),y=i?0:e.getTimezoneOffset(),C=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var i=new Date(t.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);var n=t.getTimezoneOffset()-i.getTimezoneOffset();t.setHours(t.getHours()-n);var o=(t-i)/6048e5;return 1+Math.floor(o)}(e),w=function(e){var t=e.getDay();return 0===t&&(t=7),t}(e),_={d:h,dd:l(h),ddd:c.i18n.dayNames[p],dddd:c.i18n.dayNames[p+7],m:g+1,mm:l(g+1),mmm:c.i18n.monthNames[g],mmmm:c.i18n.monthNames[g+12],yy:String(f).slice(2),yyyy:f,h:m%12||12,hh:l(m%12||12),H:m,HH:l(m),M:b,MM:l(b),s:v,ss:l(v),l:l(A,3),L:l(Math.round(A/10)),t:m<12?c.i18n.timeNames[0]:c.i18n.timeNames[1],tt:m<12?c.i18n.timeNames[2]:c.i18n.timeNames[3],T:m<12?c.i18n.timeNames[4]:c.i18n.timeNames[5],TT:m<12?c.i18n.timeNames[6]:c.i18n.timeNames[7],Z:n?"GMT":i?"UTC":(String(e).match(s)||[""]).pop().replace(a,""),o:(y>0?"-":"+")+l(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:C,N:w};return t.replace(r,(function(e){return e in _?_[e]:e.slice(1,e.length-1)}))});function l(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}c.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(n=function(){return c}.call(t,i,t,e))||(e.exports=n)}()},34804:e=>{var t=1e3,i=60*t,n=60*i,o=24*n;function r(e,t,i,n){var o=t>=1.5*i;return Math.round(e/i)+" "+n+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var s=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*i;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=o?r(a,c,o,"day"):c>=n?r(a,c,n,"hour"):c>=i?r(a,c,i,"minute"):c>=t?r(a,c,t,"second"):a+" ms"):function(e){var r=Math.abs(e);return r>=o?Math.round(e/o)+"d":r>=n?Math.round(e/n)+"h":r>=i?Math.round(e/i)+"m":r>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3847:(e,t,i)=>{var n=i(18533);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=i(51311)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},51311:(e,t,i)=>{e.exports=function(e){function t(e){let i,o,r,s=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),r=o-(i||o);n.diff=r,n.prev=i,n.curr=o,i=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((i,o)=>{if("%%"===i)return"%";s++;const r=t.formatters[o];if("function"==typeof r){const t=e[s];i=r.call(n,t),e.splice(s,1),s--}return i})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,r=t.enabled(e)),r),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,i){const n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(i=0;i<o;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let i,n;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=i(34804),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((i=>{t[i]=e[i]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t}},38976:e=>{"use strict";var t="%[a-f0-9]{2}",i=new RegExp("("+t+")|([^%]+?)","gi"),n=new RegExp("("+t+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var i=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(i),o(n))}function r(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(i)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},i=n.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var o=r(i[0]);o!==i[0]&&(t[i[0]]=o)}i=n.exec(e)}t["%C2"]="�";for(var s=Object.keys(t),a=0;a<s.length;a++){var c=s[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},75303:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((i=e,Array.isArray(i)?[]:{}),e,t):e;var i}function o(e,t,i){return e.concat(t).map((function(e){return n(e,i)}))}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,i,c){(c=c||{}).arrayMerge=c.arrayMerge||o,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=n;var l=Array.isArray(i);return l===Array.isArray(e)?l?c.arrayMerge(e,i,c):function(e,t,i){var o={};return i.isMergeableObject(e)&&r(e).forEach((function(t){o[t]=n(e[t],i)})),r(t).forEach((function(r){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(s(e,r)&&i.isMergeableObject(t[r])?o[r]=function(e,t){if(!t.customMerge)return a;var i=t.customMerge(e);return"function"==typeof i?i:a}(r,i)(e[r],t[r],i):o[r]=n(t[r],i))})),o}(e,i,c):n(i,c)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,i){return a(e,i,t)}),{})};var c=a;e.exports=c},96200:function(e){var t;t=function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){"use strict";t.__esModule=!0,t.canonicalize=t.convertChangesToXML=t.convertChangesToDMP=t.merge=t.parsePatch=t.applyPatches=t.applyPatch=t.createPatch=t.createTwoFilesPatch=t.structuredPatch=t.diffArrays=t.diffJson=t.diffCss=t.diffSentences=t.diffTrimmedLines=t.diffLines=t.diffWordsWithSpace=t.diffWords=t.diffChars=t.Diff=void 0;var n,o=(n=i(1))&&n.__esModule?n:{default:n},r=i(2),s=i(3),a=i(5),c=i(6),l=i(7),d=i(8),u=i(9),h=i(10),p=i(11),g=i(13),f=i(14),m=i(16),b=i(17);t.Diff=o.default,t.diffChars=r.diffChars,t.diffWords=s.diffWords,t.diffWordsWithSpace=s.diffWordsWithSpace,t.diffLines=a.diffLines,t.diffTrimmedLines=a.diffTrimmedLines,t.diffSentences=c.diffSentences,t.diffCss=l.diffCss,t.diffJson=d.diffJson,t.diffArrays=u.diffArrays,t.structuredPatch=f.structuredPatch,t.createTwoFilesPatch=f.createTwoFilesPatch,t.createPatch=f.createPatch,t.applyPatch=h.applyPatch,t.applyPatches=h.applyPatches,t.parsePatch=p.parsePatch,t.merge=g.merge,t.convertChangesToDMP=m.convertChangesToDMP,t.convertChangesToXML=b.convertChangesToXML,t.canonicalize=d.canonicalize},function(e,t){"use strict";function i(){}function n(e,t,i,n,o){for(var r=0,s=t.length,a=0,c=0;r<s;r++){var l=t[r];if(l.removed){if(l.value=e.join(n.slice(c,c+l.count)),c+=l.count,r&&t[r-1].added){var d=t[r-1];t[r-1]=t[r],t[r]=d}}else{if(!l.added&&o){var u=i.slice(a,a+l.count);u=u.map((function(e,t){var i=n[c+t];return i.length>e.length?i:e})),l.value=e.join(u)}else l.value=e.join(i.slice(a,a+l.count));a+=l.count,l.added||(c+=l.count)}}var h=t[s-1];return s>1&&"string"==typeof h.value&&(h.added||h.removed)&&e.equals("",h.value)&&(t[s-2].value+=h.value,t.pop()),t}t.__esModule=!0,t.default=i,i.prototype={diff:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.callback;"function"==typeof i&&(o=i,i={}),this.options=i;var r=this;function s(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var a=(t=this.removeEmpty(this.tokenize(t))).length,c=e.length,l=1,d=a+c,u=[{newPos:-1,components:[]}],h=this.extractCommon(u[0],t,e,0);if(u[0].newPos+1>=a&&h+1>=c)return s([{value:this.join(t),count:t.length}]);function p(){for(var i=-1*l;i<=l;i+=2){var o=void 0,d=u[i-1],h=u[i+1],p=(h?h.newPos:0)-i;d&&(u[i-1]=void 0);var g=d&&d.newPos+1<a,f=h&&0<=p&&p<c;if(g||f){if(!g||f&&d.newPos<h.newPos?(o={newPos:(m=h).newPos,components:m.components.slice(0)},r.pushComponent(o.components,void 0,!0)):((o=d).newPos++,r.pushComponent(o.components,!0,void 0)),p=r.extractCommon(o,t,e,i),o.newPos+1>=a&&p+1>=c)return s(n(r,o.components,t,e,r.useLongestToken));u[i]=o}else u[i]=void 0}var m;l++}if(o)!function e(){setTimeout((function(){if(l>d)return o();p()||e()}),0)}();else for(;l<=d;){var g=p();if(g)return g}},pushComponent:function(e,t,i){var n=e[e.length-1];n&&n.added===t&&n.removed===i?e[e.length-1]={count:n.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon:function(e,t,i,n){for(var o=t.length,r=i.length,s=e.newPos,a=s-n,c=0;s+1<o&&a+1<r&&this.equals(t[s+1],i[a+1]);)s++,a++,c++;return c&&e.components.push({count:c}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}}},function(e,t,i){"use strict";t.__esModule=!0,t.characterDiff=void 0,t.diffChars=function(e,t,i){return r.diff(e,t,i)};var n,o=(n=i(1))&&n.__esModule?n:{default:n},r=t.characterDiff=new o.default},function(e,t,i){"use strict";t.__esModule=!0,t.wordDiff=void 0,t.diffWords=function(e,t,i){return i=(0,r.generateOptions)(i,{ignoreWhitespace:!0}),c.diff(e,t,i)},t.diffWordsWithSpace=function(e,t,i){return c.diff(e,t,i)};var n,o=(n=i(1))&&n.__esModule?n:{default:n},r=i(4),s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,c=t.wordDiff=new o.default;c.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!a.test(e)&&!a.test(t)},c.tokenize=function(e){for(var t=e.split(/(\s+|\b)/),i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&s.test(t[i])&&s.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t}},function(e,t){"use strict";t.__esModule=!0,t.generateOptions=function(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}},function(e,t,i){"use strict";t.__esModule=!0,t.lineDiff=void 0,t.diffLines=function(e,t,i){return s.diff(e,t,i)},t.diffTrimmedLines=function(e,t,i){var n=(0,r.generateOptions)(i,{ignoreWhitespace:!0});return s.diff(e,t,n)};var n,o=(n=i(1))&&n.__esModule?n:{default:n},r=i(4),s=t.lineDiff=new o.default;s.tokenize=function(e){var t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(var n=0;n<i.length;n++){var o=i[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t}},function(e,t,i){"use strict";t.__esModule=!0,t.sentenceDiff=void 0,t.diffSentences=function(e,t,i){return r.diff(e,t,i)};var n,o=(n=i(1))&&n.__esModule?n:{default:n},r=t.sentenceDiff=new o.default;r.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(e,t,i){"use strict";t.__esModule=!0,t.cssDiff=void 0,t.diffCss=function(e,t,i){return r.diff(e,t,i)};var n,o=(n=i(1))&&n.__esModule?n:{default:n},r=t.cssDiff=new o.default;r.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)}},function(e,t,i){"use strict";t.__esModule=!0,t.jsonDiff=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.diffJson=function(e,t,i){return c.diff(e,t,i)},t.canonicalize=l;var o,r=(o=i(1))&&o.__esModule?o:{default:o},s=i(5),a=Object.prototype.toString,c=t.jsonDiff=new r.default;function l(e,t,i,o,r){t=t||[],i=i||[],o&&(e=o(r,e));var s=void 0;for(s=0;s<t.length;s+=1)if(t[s]===e)return i[s];var c=void 0;if("[object Array]"===a.call(e)){for(t.push(e),c=new Array(e.length),i.push(c),s=0;s<e.length;s+=1)c[s]=l(e[s],t,i,o,r);return t.pop(),i.pop(),c}if(e&&e.toJSON&&(e=e.toJSON()),"object"===(void 0===e?"undefined":n(e))&&null!==e){t.push(e),c={},i.push(c);var d=[],u=void 0;for(u in e)e.hasOwnProperty(u)&&d.push(u);for(d.sort(),s=0;s<d.length;s+=1)c[u=d[s]]=l(e[u],t,i,o,u);t.pop(),i.pop()}else c=e;return c}c.useLongestToken=!0,c.tokenize=s.lineDiff.tokenize,c.castInput=function(e){var t=this.options,i=t.undefinedReplacement,n=t.stringifyReplacer,o=void 0===n?function(e,t){return void 0===t?i:t}:n;return"string"==typeof e?e:JSON.stringify(l(e,null,null,o),o,"  ")},c.equals=function(e,t){return r.default.prototype.equals.call(c,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))}},function(e,t,i){"use strict";t.__esModule=!0,t.arrayDiff=void 0,t.diffArrays=function(e,t,i){return r.diff(e,t,i)};var n,o=(n=i(1))&&n.__esModule?n:{default:n},r=t.arrayDiff=new o.default;r.tokenize=function(e){return e.slice()},r.join=r.removeEmpty=function(e){return e}},function(e,t,i){"use strict";t.__esModule=!0,t.applyPatch=s,t.applyPatches=function(e,t){"string"==typeof e&&(e=(0,o.parsePatch)(e));var i=0;!function n(){var o=e[i++];if(!o)return t.complete();t.loadFile(o,(function(e,i){if(e)return t.complete(e);var r=s(i,o,t);t.patched(o,r,(function(e){if(e)return t.complete(e);n()}))}))}()};var n,o=i(11),r=(n=i(12))&&n.__esModule?n:{default:n};function s(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t&&(t=(0,o.parsePatch)(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var n=e.split(/\r\n|[\n\v\f\r\x85]/),s=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,c=i.compareLine||function(e,t,i,n){return t===n},l=0,d=i.fuzzFactor||0,u=0,h=0,p=void 0,g=void 0;function f(e,t){for(var i=0;i<e.lines.length;i++){var o=e.lines[i],r=o.length>0?o[0]:" ",s=o.length>0?o.substr(1):o;if(" "===r||"-"===r){if(!c(t+1,n[t],r,s)&&++l>d)return!1;t++}}return!0}for(var m=0;m<a.length;m++){for(var b=a[m],v=n.length-b.oldLines,A=0,y=h+b.oldStart-1,C=(0,r.default)(y,u,v);void 0!==A;A=C())if(f(b,y+A)){b.offset=h+=A;break}if(void 0===A)return!1;u=b.offset+b.oldStart+b.oldLines}for(var w=0,_=0;_<a.length;_++){var S=a[_],E=S.oldStart+S.offset+w-1;w+=S.newLines-S.oldLines,E<0&&(E=0);for(var k=0;k<S.lines.length;k++){var x=S.lines[k],D=x.length>0?x[0]:" ",T=x.length>0?x.substr(1):x,M=S.linedelimiters[k];if(" "===D)E++;else if("-"===D)n.splice(E,1),s.splice(E,1);else if("+"===D)n.splice(E,0,T),s.splice(E,0,M),E++;else if("\\"===D){var B=S.lines[k-1]?S.lines[k-1][0]:null;"+"===B?p=!0:"-"===B&&(g=!0)}}}if(p)for(;!n[n.length-1];)n.pop(),s.pop();else g&&(n.push(""),s.push("\n"));for(var I=0;I<n.length-1;I++)n[I]=n[I]+s[I];return n.join("")}},function(e,t){"use strict";t.__esModule=!0,t.parsePatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.split(/\r\n|[\n\v\f\r\x85]/),n=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=[],r=0;function s(){var e={};for(o.push(e);r<i.length;){var n=i[r];if(/^(\-\-\-|\+\+\+|@@)\s/.test(n))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(n);s&&(e.index=s[1]),r++}for(a(e),a(e),e.hunks=[];r<i.length;){var l=i[r];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(l))break;if(/^@@/.test(l))e.hunks.push(c());else{if(l&&t.strict)throw new Error("Unknown line "+(r+1)+" "+JSON.stringify(l));r++}}}function a(e){var t=/^(---|\+\+\+)\s+(.*)$/.exec(i[r]);if(t){var n="---"===t[1]?"old":"new",o=t[2].split("\t",2),s=o[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),e[n+"FileName"]=s,e[n+"Header"]=(o[1]||"").trim(),r++}}function c(){for(var e=r,o=i[r++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+o[1],oldLines:+o[2]||1,newStart:+o[3],newLines:+o[4]||1,lines:[],linedelimiters:[]},a=0,c=0;r<i.length&&!(0===i[r].indexOf("--- ")&&r+2<i.length&&0===i[r+1].indexOf("+++ ")&&0===i[r+2].indexOf("@@"));r++){var l=0==i[r].length&&r!=i.length-1?" ":i[r][0];if("+"!==l&&"-"!==l&&" "!==l&&"\\"!==l)break;s.lines.push(i[r]),s.linedelimiters.push(n[r]||"\n"),"+"===l?a++:"-"===l?c++:" "===l&&(a++,c++)}if(a||1!==s.newLines||(s.newLines=0),c||1!==s.oldLines||(s.oldLines=0),t.strict){if(a!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(e+1));if(c!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(e+1))}return s}for(;r<i.length;)s();return o}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t,i){var n=!0,o=!1,r=!1,s=1;return function a(){if(n&&!r){if(o?s++:n=!1,e+s<=i)return s;r=!0}if(!o)return r||(n=!0),t<=e-s?-s++:(o=!0,a())}}},function(e,t,i){"use strict";t.__esModule=!0,t.calcLineCount=a,t.merge=function(e,t,i){e=c(e,i),t=c(t,i);var n={};(e.index||t.index)&&(n.index=e.index||t.index),(e.newFileName||t.newFileName)&&(l(e)?l(t)?(n.oldFileName=d(n,e.oldFileName,t.oldFileName),n.newFileName=d(n,e.newFileName,t.newFileName),n.oldHeader=d(n,e.oldHeader,t.oldHeader),n.newHeader=d(n,e.newHeader,t.newHeader)):(n.oldFileName=e.oldFileName,n.newFileName=e.newFileName,n.oldHeader=e.oldHeader,n.newHeader=e.newHeader):(n.oldFileName=t.oldFileName||e.oldFileName,n.newFileName=t.newFileName||e.newFileName,n.oldHeader=t.oldHeader||e.oldHeader,n.newHeader=t.newHeader||e.newHeader)),n.hunks=[];for(var o=0,r=0,s=0,a=0;o<e.hunks.length||r<t.hunks.length;){var g=e.hunks[o]||{oldStart:1/0},f=t.hunks[r]||{oldStart:1/0};if(u(g,f))n.hunks.push(h(g,s)),o++,a+=g.newLines-g.oldLines;else if(u(f,g))n.hunks.push(h(f,a)),r++,s+=f.newLines-f.oldLines;else{var m={oldStart:Math.min(g.oldStart,f.oldStart),oldLines:0,newStart:Math.min(g.newStart+s,f.oldStart+a),newLines:0,lines:[]};p(m,g.oldStart,g.lines,f.oldStart,f.lines),r++,o++,n.hunks.push(m)}}return n};var n=i(14),o=i(11),r=i(15);function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function a(e){var t=w(e.lines),i=t.oldLines,n=t.newLines;void 0!==i?e.oldLines=i:delete e.oldLines,void 0!==n?e.newLines=n:delete e.newLines}function c(e,t){if("string"==typeof e){if(/^@@/m.test(e)||/^Index:/m.test(e))return(0,o.parsePatch)(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return(0,n.structuredPatch)(void 0,void 0,t,e)}return e}function l(e){return e.newFileName&&e.newFileName!==e.oldFileName}function d(e,t,i){return t===i?t:(e.conflict=!0,{mine:t,theirs:i})}function u(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}function h(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}function p(e,t,i,n,o){var r={offset:t,lines:i,index:0},c={offset:n,lines:o,index:0};for(b(e,r,c),b(e,c,r);r.index<r.lines.length&&c.index<c.lines.length;){var l=r.lines[r.index],d=c.lines[c.index];if("-"!==l[0]&&"+"!==l[0]||"-"!==d[0]&&"+"!==d[0])if("+"===l[0]&&" "===d[0]){var u;(u=e.lines).push.apply(u,s(A(r)))}else if("+"===d[0]&&" "===l[0]){var h;(h=e.lines).push.apply(h,s(A(c)))}else"-"===l[0]&&" "===d[0]?f(e,r,c):"-"===d[0]&&" "===l[0]?f(e,c,r,!0):l===d?(e.lines.push(l),r.index++,c.index++):m(e,A(r),A(c));else g(e,r,c)}v(e,r),v(e,c),a(e)}function g(e,t,i){var n=A(t),o=A(i);if(y(n)&&y(o)){var a,c;if((0,r.arrayStartsWith)(n,o)&&C(i,n,n.length-o.length))return void(a=e.lines).push.apply(a,s(n));if((0,r.arrayStartsWith)(o,n)&&C(t,o,o.length-n.length))return void(c=e.lines).push.apply(c,s(o))}else if((0,r.arrayEqual)(n,o)){var l;return void(l=e.lines).push.apply(l,s(n))}m(e,n,o)}function f(e,t,i,n){var o,r=A(t),a=function(e,t){for(var i=[],n=[],o=0,r=!1,s=!1;o<t.length&&e.index<e.lines.length;){var a=e.lines[e.index],c=t[o];if("+"===c[0])break;if(r=r||" "!==a[0],n.push(c),o++,"+"===a[0])for(s=!0;"+"===a[0];)i.push(a),a=e.lines[++e.index];c.substr(1)===a.substr(1)?(i.push(a),e.index++):s=!0}if("+"===(t[o]||"")[0]&&r&&(s=!0),s)return i;for(;o<t.length;)n.push(t[o++]);return{merged:n,changes:i}}(i,r);a.merged?(o=e.lines).push.apply(o,s(a.merged)):m(e,n?a:r,n?r:a)}function m(e,t,i){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:i})}function b(e,t,i){for(;t.offset<i.offset&&t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n),t.offset++}}function v(e,t){for(;t.index<t.lines.length;){var i=t.lines[t.index++];e.lines.push(i)}}function A(e){for(var t=[],i=e.lines[e.index][0];e.index<e.lines.length;){var n=e.lines[e.index];if("-"===i&&"+"===n[0]&&(i="+"),i!==n[0])break;t.push(n),e.index++}return t}function y(e){return e.reduce((function(e,t){return e&&"-"===t[0]}),!0)}function C(e,t,i){for(var n=0;n<i;n++){var o=t[t.length-i+n].substr(1);if(e.lines[e.index+n]!==" "+o)return!1}return e.index+=i,!0}function w(e){var t=0,i=0;return e.forEach((function(e){if("string"!=typeof e){var n=w(e.mine),o=w(e.theirs);void 0!==t&&(n.oldLines===o.oldLines?t+=n.oldLines:t=void 0),void 0!==i&&(n.newLines===o.newLines?i+=n.newLines:i=void 0)}else void 0===i||"+"!==e[0]&&" "!==e[0]||i++,void 0===t||"-"!==e[0]&&" "!==e[0]||t++})),{oldLines:t,newLines:i}}},function(e,t,i){"use strict";t.__esModule=!0,t.structuredPatch=r,t.createTwoFilesPatch=s,t.createPatch=function(e,t,i,n,o,r){return s(e,e,t,i,n,o,r)};var n=i(5);function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function r(e,t,i,r,s,a,c){c||(c={}),void 0===c.context&&(c.context=4);var l=(0,n.diffLines)(i,r,c);function d(e){return e.map((function(e){return" "+e}))}l.push({value:"",lines:[]});for(var u=[],h=0,p=0,g=[],f=1,m=1,b=function(e){var t=l[e],n=t.lines||t.value.replace(/\n$/,"").split("\n");if(t.lines=n,t.added||t.removed){var s;if(!h){var a=l[e-1];h=f,p=m,a&&(g=c.context>0?d(a.lines.slice(-c.context)):[],h-=g.length,p-=g.length)}(s=g).push.apply(s,o(n.map((function(e){return(t.added?"+":"-")+e})))),t.added?m+=n.length:f+=n.length}else{if(h)if(n.length<=2*c.context&&e<l.length-2){var b;(b=g).push.apply(b,o(d(n)))}else{var v,A=Math.min(n.length,c.context);(v=g).push.apply(v,o(d(n.slice(0,A))));var y={oldStart:h,oldLines:f-h+A,newStart:p,newLines:m-p+A,lines:g};if(e>=l.length-2&&n.length<=c.context){var C=/\n$/.test(i),w=/\n$/.test(r);0!=n.length||C?C&&w||g.push("\\ No newline at end of file"):g.splice(y.oldLines,0,"\\ No newline at end of file")}u.push(y),h=0,p=0,g=[]}f+=n.length,m+=n.length}},v=0;v<l.length;v++)b(v);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:a,hunks:u}}function s(e,t,i,n,o,s,a){var c=r(e,t,i,n,o,s,a),l=[];e==t&&l.push("Index: "+e),l.push("==================================================================="),l.push("--- "+c.oldFileName+(void 0===c.oldHeader?"":"\t"+c.oldHeader)),l.push("+++ "+c.newFileName+(void 0===c.newHeader?"":"\t"+c.newHeader));for(var d=0;d<c.hunks.length;d++){var u=c.hunks[d];l.push("@@ -"+u.oldStart+","+u.oldLines+" +"+u.newStart+","+u.newLines+" @@"),l.push.apply(l,u.lines)}return l.join("\n")+"\n"}},function(e,t){"use strict";function i(e,t){if(t.length>e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}t.__esModule=!0,t.arrayEqual=function(e,t){return e.length===t.length&&i(e,t)},t.arrayStartsWith=i},function(e,t){"use strict";t.__esModule=!0,t.convertChangesToDMP=function(e){for(var t=[],i=void 0,n=void 0,o=0;o<e.length;o++)n=(i=e[o]).added?1:i.removed?-1:0,t.push([n,i.value]);return t}},function(e,t){"use strict";t.__esModule=!0,t.convertChangesToXML=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.added?t.push("<ins>"):n.removed&&t.push("<del>"),t.push(n.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")),n.added?t.push("</ins>"):n.removed&&t.push("</del>")}return t.join("")}}])},e.exports=t()},74367:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,i){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,i)}function i(e,n,o){return i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,i,n){var o=[null];o.push.apply(o,i);var r=new(Function.bind.apply(e,o));return n&&t(r,n.prototype),r},i.apply(null,arguments)}function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var r=Object.hasOwnProperty,s=Object.setPrototypeOf,a=Object.isFrozen,c=Object.getPrototypeOf,l=Object.getOwnPropertyDescriptor,d=Object.freeze,u=Object.seal,h=Object.create,p="undefined"!=typeof Reflect&&Reflect,g=p.apply,f=p.construct;g||(g=function(e,t,i){return e.apply(t,i)}),d||(d=function(e){return e}),u||(u=function(e){return e}),f||(f=function(e,t){return i(e,n(t))});var m,b=D(Array.prototype.forEach),v=D(Array.prototype.pop),A=D(Array.prototype.push),y=D(String.prototype.toLowerCase),C=D(String.prototype.toString),w=D(String.prototype.match),_=D(String.prototype.replace),S=D(String.prototype.indexOf),E=D(String.prototype.trim),k=D(RegExp.prototype.test),x=(m=TypeError,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return f(m,t)});function D(e){return function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return g(e,t,n)}}function T(e,t,i){var n;i=null!==(n=i)&&void 0!==n?n:y,s&&s(e,null);for(var o=t.length;o--;){var r=t[o];if("string"==typeof r){var c=i(r);c!==r&&(a(t)||(t[o]=c),r=c)}e[r]=!0}return e}function M(e){var t,i=h(null);for(t in e)!0===g(r,e,[t])&&(i[t]=e[t]);return i}function B(e,t){for(;null!==e;){var i=l(e,t);if(i){if(i.get)return D(i.get);if("function"==typeof i.value)return D(i.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var I=d(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=d(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=d(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),O=d(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),R=d(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),N=d(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=d(["#text"]),j=d(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),W=d(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),z=d(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=d(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=u(/<%[\w\W]*|[\w\W]*%>/gm),K=u(/\${[\w\W]*}/gm),G=u(/^data-[\-\w.\u00B7-\uFFFF]/),$=u(/^aria-[\-\w]+$/),q=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=u(/^(?:\w+script|data):/i),Q=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=u(/^html$/i),Z=function(){return"undefined"==typeof window?null:window};return function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),o=function(e){return t(e)};if(o.version="2.4.7",o.removed=[],!i||!i.document||9!==i.document.nodeType)return o.isSupported=!1,o;var r=i.document,s=i.document,a=i.DocumentFragment,c=i.HTMLTemplateElement,l=i.Node,u=i.Element,h=i.NodeFilter,p=i.NamedNodeMap,g=void 0===p?i.NamedNodeMap||i.MozNamedAttrMap:p,f=i.HTMLFormElement,m=i.DOMParser,D=i.trustedTypes,J=u.prototype,ee=B(J,"cloneNode"),te=B(J,"nextSibling"),ie=B(J,"childNodes"),ne=B(J,"parentNode");if("function"==typeof c){var oe=s.createElement("template");oe.content&&oe.content.ownerDocument&&(s=oe.content.ownerDocument)}var re=function(t,i){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var n=null,o="data-tt-policy-suffix";i.currentScript&&i.currentScript.hasAttribute(o)&&(n=i.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}}(D,r),se=re?re.createHTML(""):"",ae=s,ce=ae.implementation,le=ae.createNodeIterator,de=ae.createDocumentFragment,ue=ae.getElementsByTagName,he=r.importNode,pe={};try{pe=M(s).documentMode?s.documentMode:{}}catch(e){}var ge={};o.isSupported="function"==typeof ne&&ce&&void 0!==ce.createHTMLDocument&&9!==pe;var fe,me,be=H,ve=V,Ae=K,ye=G,Ce=$,we=Y,_e=Q,Se=q,Ee=null,ke=T({},[].concat(n(I),n(L),n(P),n(R),n(F))),xe=null,De=T({},[].concat(n(j),n(W),n(z),n(U))),Te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Me=null,Be=null,Ie=!0,Le=!0,Pe=!1,Oe=!0,Re=!1,Ne=!1,Fe=!1,je=!1,We=!1,ze=!1,Ue=!1,He=!0,Ve=!1,Ke=!0,Ge=!1,$e={},qe=null,Ye=T({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Qe=null,Xe=T({},["audio","video","img","source","image","track"]),Ze=null,Je=T({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",it="http://www.w3.org/1999/xhtml",nt=it,ot=!1,rt=null,st=T({},[et,tt,it],C),at=["application/xhtml+xml","text/html"],ct=null,lt=s.createElement("form"),dt=function(e){return e instanceof RegExp||e instanceof Function},ut=function(t){ct&&ct===t||(t&&"object"===e(t)||(t={}),t=M(t),fe=fe=-1===at.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===fe?C:y,Ee="ALLOWED_TAGS"in t?T({},t.ALLOWED_TAGS,me):ke,xe="ALLOWED_ATTR"in t?T({},t.ALLOWED_ATTR,me):De,rt="ALLOWED_NAMESPACES"in t?T({},t.ALLOWED_NAMESPACES,C):st,Ze="ADD_URI_SAFE_ATTR"in t?T(M(Je),t.ADD_URI_SAFE_ATTR,me):Je,Qe="ADD_DATA_URI_TAGS"in t?T(M(Xe),t.ADD_DATA_URI_TAGS,me):Xe,qe="FORBID_CONTENTS"in t?T({},t.FORBID_CONTENTS,me):Ye,Me="FORBID_TAGS"in t?T({},t.FORBID_TAGS,me):{},Be="FORBID_ATTR"in t?T({},t.FORBID_ATTR,me):{},$e="USE_PROFILES"in t&&t.USE_PROFILES,Ie=!1!==t.ALLOW_ARIA_ATTR,Le=!1!==t.ALLOW_DATA_ATTR,Pe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Re=t.SAFE_FOR_TEMPLATES||!1,Ne=t.WHOLE_DOCUMENT||!1,We=t.RETURN_DOM||!1,ze=t.RETURN_DOM_FRAGMENT||!1,Ue=t.RETURN_TRUSTED_TYPE||!1,je=t.FORCE_BODY||!1,He=!1!==t.SANITIZE_DOM,Ve=t.SANITIZE_NAMED_PROPS||!1,Ke=!1!==t.KEEP_CONTENT,Ge=t.IN_PLACE||!1,Se=t.ALLOWED_URI_REGEXP||Se,nt=t.NAMESPACE||it,Te=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&dt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&dt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Te.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(Le=!1),ze&&(We=!0),$e&&(Ee=T({},n(F)),xe=[],!0===$e.html&&(T(Ee,I),T(xe,j)),!0===$e.svg&&(T(Ee,L),T(xe,W),T(xe,U)),!0===$e.svgFilters&&(T(Ee,P),T(xe,W),T(xe,U)),!0===$e.mathMl&&(T(Ee,R),T(xe,z),T(xe,U))),t.ADD_TAGS&&(Ee===ke&&(Ee=M(Ee)),T(Ee,t.ADD_TAGS,me)),t.ADD_ATTR&&(xe===De&&(xe=M(xe)),T(xe,t.ADD_ATTR,me)),t.ADD_URI_SAFE_ATTR&&T(Ze,t.ADD_URI_SAFE_ATTR,me),t.FORBID_CONTENTS&&(qe===Ye&&(qe=M(qe)),T(qe,t.FORBID_CONTENTS,me)),Ke&&(Ee["#text"]=!0),Ne&&T(Ee,["html","head","body"]),Ee.table&&(T(Ee,["tbody"]),delete Me.tbody),d&&d(t),ct=t)},ht=T({},["mi","mo","mn","ms","mtext"]),pt=T({},["foreignobject","desc","title","annotation-xml"]),gt=T({},["title","style","font","a","script"]),ft=T({},L);T(ft,P),T(ft,O);var mt=T({},R);T(mt,N);var bt=function(e){A(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=se}catch(t){e.remove()}}},vt=function(e,t){try{A(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){A(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!xe[e])if(We||ze)try{bt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},At=function(e){var t,i;if(je)e="<remove></remove>"+e;else{var n=w(e,/^[\r\n\t ]+/);i=n&&n[0]}"application/xhtml+xml"===fe&&nt===it&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=re?re.createHTML(e):e;if(nt===it)try{t=(new m).parseFromString(o,fe)}catch(e){}if(!t||!t.documentElement){t=ce.createDocument(nt,"template",null);try{t.documentElement.innerHTML=ot?se:o}catch(e){}}var r=t.body||t.documentElement;return e&&i&&r.insertBefore(s.createTextNode(i),r.childNodes[0]||null),nt===it?ue.call(t,Ne?"html":"body")[0]:Ne?t.documentElement:r},yt=function(e){return le.call(e.ownerDocument||e,e,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},Ct=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},wt=function(e,t,i){ge[e]&&b(ge[e],(function(e){e.call(o,t,i,ct)}))},_t=function(e){var t,i;if(wt("beforeSanitizeElements",e,null),(i=e)instanceof f&&("string"!=typeof i.nodeName||"string"!=typeof i.textContent||"function"!=typeof i.removeChild||!(i.attributes instanceof g)||"function"!=typeof i.removeAttribute||"function"!=typeof i.setAttribute||"string"!=typeof i.namespaceURI||"function"!=typeof i.insertBefore||"function"!=typeof i.hasChildNodes))return bt(e),!0;if(k(/[\u0080-\uFFFF]/,e.nodeName))return bt(e),!0;var n=me(e.nodeName);if(wt("uponSanitizeElement",e,{tagName:n,allowedTags:Ee}),e.hasChildNodes()&&!Ct(e.firstElementChild)&&(!Ct(e.content)||!Ct(e.content.firstElementChild))&&k(/<[/\w]/g,e.innerHTML)&&k(/<[/\w]/g,e.textContent))return bt(e),!0;if("select"===n&&k(/<template/i,e.innerHTML))return bt(e),!0;if(!Ee[n]||Me[n]){if(!Me[n]&&Et(n)){if(Te.tagNameCheck instanceof RegExp&&k(Te.tagNameCheck,n))return!1;if(Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))return!1}if(Ke&&!qe[n]){var r=ne(e)||e.parentNode,s=ie(e)||e.childNodes;if(s&&r)for(var a=s.length-1;a>=0;--a)r.insertBefore(ee(s[a],!0),te(e))}return bt(e),!0}return e instanceof u&&!function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:nt,tagName:"template"});var i=y(e.tagName),n=y(t.tagName);return!!rt[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===it?"svg"===i:t.namespaceURI===et?"svg"===i&&("annotation-xml"===n||ht[n]):Boolean(ft[i]):e.namespaceURI===et?t.namespaceURI===it?"math"===i:t.namespaceURI===tt?"math"===i&&pt[n]:Boolean(mt[i]):e.namespaceURI===it?!(t.namespaceURI===tt&&!pt[n])&&!(t.namespaceURI===et&&!ht[n])&&!mt[i]&&(gt[i]||!ft[i]):!("application/xhtml+xml"!==fe||!rt[e.namespaceURI]))}(e)?(bt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!k(/<\/no(script|embed|frames)/i,e.innerHTML)?(Re&&3===e.nodeType&&(t=e.textContent,t=_(t,be," "),t=_(t,ve," "),t=_(t,Ae," "),e.textContent!==t&&(A(o.removed,{element:e.cloneNode()}),e.textContent=t)),wt("afterSanitizeElements",e,null),!1):(bt(e),!0)},St=function(e,t,i){if(He&&("id"===t||"name"===t)&&(i in s||i in lt))return!1;if(Le&&!Be[t]&&k(ye,t));else if(Ie&&k(Ce,t));else if(!xe[t]||Be[t]){if(!(Et(e)&&(Te.tagNameCheck instanceof RegExp&&k(Te.tagNameCheck,e)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(e))&&(Te.attributeNameCheck instanceof RegExp&&k(Te.attributeNameCheck,t)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(t))||"is"===t&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&k(Te.tagNameCheck,i)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(i))))return!1}else if(Ze[t]);else if(k(Se,_(i,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(i,"data:")||!Qe[e])if(Pe&&!k(we,_(i,_e,"")));else if(i)return!1;return!0},Et=function(e){return e.indexOf("-")>0},kt=function(t){var i,n,r,s;wt("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:xe};for(s=a.length;s--;){var l=i=a[s],d=l.name,u=l.namespaceURI;if(n="value"===d?i.value:E(i.value),r=me(d),c.attrName=r,c.attrValue=n,c.keepAttr=!0,c.forceKeepAttr=void 0,wt("uponSanitizeAttribute",t,c),n=c.attrValue,!c.forceKeepAttr&&(vt(d,t),c.keepAttr))if(Oe||!k(/\/>/i,n)){Re&&(n=_(n,be," "),n=_(n,ve," "),n=_(n,Ae," "));var h=me(t.nodeName);if(St(h,r,n)){if(!Ve||"id"!==r&&"name"!==r||(vt(d,t),n="user-content-"+n),re&&"object"===e(D)&&"function"==typeof D.getAttributeType)if(u);else switch(D.getAttributeType(h,r)){case"TrustedHTML":n=re.createHTML(n);break;case"TrustedScriptURL":n=re.createScriptURL(n)}try{u?t.setAttributeNS(u,d,n):t.setAttribute(d,n),v(o.removed)}catch(e){}}}else vt(d,t)}wt("afterSanitizeAttributes",t,null)}},xt=function e(t){var i,n=yt(t);for(wt("beforeSanitizeShadowDOM",t,null);i=n.nextNode();)wt("uponSanitizeShadowNode",i,null),_t(i)||(i.content instanceof a&&e(i.content),kt(i));wt("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(t){var n,s,c,d,u,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((ot=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Ct(t)){if("function"!=typeof t.toString)throw x("toString is not a function");if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}if(!o.isSupported){if("object"===e(i.toStaticHTML)||"function"==typeof i.toStaticHTML){if("string"==typeof t)return i.toStaticHTML(t);if(Ct(t))return i.toStaticHTML(t.outerHTML)}return t}if(Fe||ut(h),o.removed=[],"string"==typeof t&&(Ge=!1),Ge){if(t.nodeName){var p=me(t.nodeName);if(!Ee[p]||Me[p])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof l)1===(s=(n=At("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?n=s:n.appendChild(s);else{if(!We&&!Re&&!Ne&&-1===t.indexOf("<"))return re&&Ue?re.createHTML(t):t;if(!(n=At(t)))return We?null:Ue?se:""}n&&je&&bt(n.firstChild);for(var g=yt(Ge?t:n);c=g.nextNode();)3===c.nodeType&&c===d||_t(c)||(c.content instanceof a&&xt(c.content),kt(c),d=c);if(d=null,Ge)return t;if(We){if(ze)for(u=de.call(n.ownerDocument);n.firstChild;)u.appendChild(n.firstChild);else u=n;return(xe.shadowroot||xe.shadowrootmod)&&(u=he.call(r,u,!0)),u}var f=Ne?n.outerHTML:n.innerHTML;return Ne&&Ee["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&k(X,n.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+f),Re&&(f=_(f,be," "),f=_(f,ve," "),f=_(f,Ae," ")),re&&Ue?re.createHTML(f):f},o.setConfig=function(e){ut(e),Fe=!0},o.clearConfig=function(){ct=null,Fe=!1},o.isValidAttribute=function(e,t,i){ct||ut({});var n=me(e),o=me(t);return St(n,o,i)},o.addHook=function(e,t){"function"==typeof t&&(ge[e]=ge[e]||[],A(ge[e],t))},o.removeHook=function(e){if(ge[e])return v(ge[e])},o.removeHooks=function(e){ge[e]&&(ge[e]=[])},o.removeAllHooks=function(){ge={}},o}()}()},64351:e=>{"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var n,o,r;if(Array.isArray(t)){if((n=t.length)!=i.length)return!1;for(o=n;0!=o--;)if(!e(t[o],i[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((n=(r=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(i,r[o]))return!1;for(o=n;0!=o--;){var s=r[o];if(!e(t[s],i[s]))return!1}return!0}return t!=t&&i!=i}},38377:e=>{"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i,n="boolean"==typeof t.cycles&&t.cycles,o=t.cmp&&(i=t.cmp,function(e){return function(t,n){var o={key:t,value:e[t]},r={key:n,value:e[n]};return i(o,r)}}),r=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var i,s;if(Array.isArray(t)){for(s="[",i=0;i<t.length;i++)i&&(s+=","),s+=e(t[i])||"null";return s+"]"}if(null===t)return"null";if(-1!==r.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=r.push(t)-1,c=Object.keys(t).sort(o&&o(t));for(s="",i=0;i<c.length;i++){var l=c[i],d=e(t[l]);d&&(s&&(s+=","),s+=JSON.stringify(l)+":"+d)}return r.splice(a,1),"{"+s+"}"}}(e)}},32197:function(e,t,i){var n,o;o=this,void 0===(n=function(){return o.FileIcons=function(){this||i.g;var e={directoryName:{},directoryPath:{},fileName:{},filePath:{},interpreter:{},scope:{},language:{},signature:{}},t=function(e,t){this.index=e,this.icon=t[0],this.colour=t[1],this.match=t[2],this.priority=t[3]||1,this.matchPath=t[4]||!1,this.interpreter=t[5]||null,this.scope=t[6]||null,this.lang=t[7]||null,this.signature=t[8]||null};t.prototype.getClass=function(e,t){return t=void 0!==t&&t,null===(e=void 0!==e?e:null)||null===this.colour[0]?t?[this.icon]:this.icon:t?[this.icon,this.colour[e]]:this.icon+" "+this.colour[e]};var n=function(e){this.directoryIcons=this.read(e[0]),this.fileIcons=this.read(e[1]),this.binaryIcon=this.matchScope("source.asm"),this.executableIcon=this.matchInterpreter("bash")};n.prototype.read=function(e){var i=e[0],n=e[1];return i=i.map((function(e,i){return new t(i,e)})),n=n.map((function(e){return e.map((function(e){return i[e]}))})),{byName:i,byInterpreter:n[0],byLanguage:n[1],byPath:n[2],byScope:n[3],bySignature:n[4]}},n.prototype.matchName=function(t,i){var n=(i=void 0!==i&&i)?this.cache.directoryName:e.fileName,o=i?this.directoryIcons.byName:this.fileIcons.byName;if(n[t])return n[t];for(var r in o){var s=o[r];if(s.match.test(t))return n[t]=s}return null},n.prototype.matchPath=function(t,i){var n=(i=void 0!==i&&i)?e.directoryName:e.fileName,o=i?this.directoryIcons.byPath:this.fileIcons.byPath;if(n[name])return n[name];for(var r in o){var s=o[r];if(s.match.test(t))return n[t]=s}return null},n.prototype.matchLanguage=function(t){if(e.language[t])return e.language[t];for(var i in this.fileIcons.byLanguage){var n=this.fileIcons.byLanguage[i];if(n.lang.test(t))return e.language[t]=n}return null},n.prototype.matchScope=function(t){if(e.scope[t])return e.scope[t];for(var i in this.fileIcons.byScope){var n=this.fileIcons.byScope[i];if(n.scope.test(t))return e.scope[t]=n}return null},n.prototype.matchInterpreter=function(t){if(e.interpreter[t])return e.interpreter[t];for(var i in this.fileIcons.byInterpreter){var n=this.fileIcons.byInterpreter[i];if(n.interpreter.test(t))return e.interpreter[t]=n}return null},n.prototype.matchSignature=function(e){};var o=function(e){this.db=new n(e)};return o.prototype.getClass=function(e){var t=this.db.matchName(e);return t?t.getClass():null},o.prototype.getClassWithColor=function(e){var t=this.db.matchName(e);return t?t.getClass(0):null},new o([[[["arttext-icon",["dark-purple","dark-purple"],/\.artx$/i],["atom-icon",["dark-green","dark-green"],/^\.atom$/],["bower-icon",["medium-yellow","medium-orange"],/^bower[-_]components$/],["dropbox-icon",["medium-blue","medium-blue"],/^(?:Dropbox|\.dropbox\.cache)$/],["emacs-icon",["medium-purple","medium-purple"],/^\.emacs\.d$/],["dylib-icon",[null,null],/\.framework$/i],["git-icon",["medium-red","medium-red"],/\.git$/],["github-icon",[null,null],/^\.github$/],["meteor-icon",["dark-orange","dark-orange"],/^\.meteor$/],["node-icon",["medium-green","medium-green"],/^node_modules$/],["package-icon",[null,null],/^\.bundle$/i],["svn-icon",[null,null],/^\.svn$/i],["textmate-icon",[null,null],/\.tmBundle$/i],["vagrant-icon",["medium-cyan","medium-cyan"],/\.vagrant$/i],["appstore-icon",[null,null],/\.xcodeproj$/i]],[[],[],[],[],[]]],[[["binary-icon",["dark-green","dark-green"],/\.swp$/i,4],["link-icon",["medium-blue","medium-blue"],/\.lnk$/i,3],["angular-icon",["medium-red","medium-red"],/^angular[^.]*\.js$/i,2],["ant-icon",["dark-pink","dark-pink"],/^ant\.xml$|\.ant$/i,2],["apache-icon",["medium-red","medium-red"],/^(?:apache2?|httpd).conf$/i,2],["apache-icon",["dark-green","dark-green"],/\.vhost$/i,2],["apache-icon",["medium-green","medium-green"],/\.thrift$/i,2],["appcelerator-icon",["medium-red","medium-red"],/^appcelerator\.js$/i,2],["appveyor-icon",["medium-blue","medium-blue"],/^appveyor\.yml$/i,2],["archlinux-icon",["dark-purple","dark-purple"],/^\.install$/,2],["archlinux-icon",["dark-maroon","dark-maroon"],/^\.SRCINFO$/,2],["archlinux-icon",["dark-yellow","dark-yellow"],/^pacman\.conf$/,2],["archlinux-icon",["light-yellow","light-yellow"],/^pamac\.conf$/,2],["archlinux-icon",["dark-cyan","dark-cyan"],/^PKGBUILD$/,2],["archlinux-icon",["light-yellow","light-yellow"],/yaourtrc$/i,2],["backbone-icon",["dark-blue","dark-blue"],/^backbone(?:[-.]min|dev)?\.js$/i,2],["boot-icon",["medium-green","dark-green"],/^Makefile\.boot$/i,2],["bootstrap-icon",["medium-yellow","dark-yellow"],/^(?:custom\.)?bootstrap\S*\.js$/i,2],["bootstrap-icon",["medium-blue","medium-blue"],/^(?:custom\.)?bootstrap\S*\.css$/i,2],["bootstrap-icon",["dark-blue","dark-blue"],/^(?:custom\.)?bootstrap\S*\.less$/i,2],["bootstrap-icon",["light-pink","light-pink"],/^(?:custom\.)?bootstrap\S*\.scss$/i,2],["bootstrap-icon",["medium-green","medium-green"],/^(?:custom\.)?bootstrap\S*\.styl$/i,2],["bower-icon",["medium-yellow","medium-orange"],/^(?:\.bowerrc|bower\.json|Bowerfile)$/i,2],["brakeman-icon",["medium-red","medium-red"],/brakeman\.yml$/i,2],["brakeman-icon",["dark-red","dark-red"],/^brakeman\.ignore$/i,2],["broccoli-icon",["medium-green","medium-green"],/^Brocfile\./i,2],["package-icon",["light-orange","light-orange"],/Cargo\.toml$/i,2],["package-icon",["dark-orange","dark-orange"],/Cargo\.lock$/i,2],["chai-icon",["medium-red","dark-red"],/^chai\.(?:[jt]sx?|es6?|coffee)$/i,2],["chartjs-icon",["dark-pink","dark-pink"],/^Chart\.js$/i,2],["circleci-icon",["medium-green","medium-green"],/^circle\.yml$/i,2],["cc-icon",["medium-green","medium-green"],/\.codeclimate\.yml$/i,2],["codecov-icon",["dark-pink","dark-pink"],/^codecov\.ya?ml$/i,2],["coffee-icon",["medium-cyan","medium-cyan"],/\.coffee\.ecr$/i,2],["coffee-icon",["medium-red","medium-red"],/\.coffee\.erb$/i,2],["compass-icon",["medium-red","medium-red"],/^_?(?:compass|lemonade)\.scss$/i,2],["composer-icon",["medium-yellow","medium-yellow"],/^composer\.(?:json|lock)$/i,2],["composer-icon",["dark-blue","dark-blue"],/^composer\.phar$/i,2],["cordova-icon",["light-blue","light-blue"],/^cordova(?:[^.]*\.|-(?:\d\.)+)js$/i,2],["d3-icon",["medium-orange","medium-orange"],/^d3(?:\.v\d+)?[^.]*\.js$/i,2],["database-icon",["medium-red","medium-red"],/^METADATA\.pb$/,2],["database-icon",["medium-red","medium-red"],/\.git[\/\\](?:.*[\/\\])?(?:HEAD|ORIG_HEAD|packed-refs|logs[\/\\](?:.+[\/\\])?[^\/\\]+)$/,2,!0],["docker-icon",["dark-blue","dark-blue"],/^(?:Dockerfile|docker-compose)|\.docker(?:file|ignore)$/i,2,!1,,/\.dockerfile$/i,/^Docker$/i],["docker-icon",["dark-orange","dark-orange"],/^docker-sync\.yml$/i,2],["dojo-icon",["light-red","light-red"],/^dojo\.js$/i,2],["ember-icon",["medium-red","medium-red"],/^ember(?:\.|(?:-[^.]+)?-(?:\d+\.)+(?:debug\.)?)js$/i,2],["eslint-icon",["medium-purple","medium-purple"],/\.eslint(?:cache|ignore)$/i,2],["eslint-icon",["light-purple","light-purple"],/\.eslintrc(?:\.(?:js|json|ya?ml))?$/i,2],["extjs-icon",["light-green","light-green"],/\bExtjs(?:-ext)?\.js$/i,2],["fabfile-icon",["medium-blue","medium-blue"],/^fabfile\.py$/i,2],["fuelux-icon",["medium-orange","dark-orange"],/^fuelux(?:\.min)?\.(?:css|js)$/i,2],["gear-icon",["medium-blue","medium-blue"],/\.indent\.pro$/i,2],["grunt-icon",["medium-yellow","medium-yellow"],/gruntfile\.js$/i,2],["grunt-icon",["medium-maroon","medium-maroon"],/gruntfile\.coffee$/i,2],["gulp-icon",["medium-red","medium-red"],/gulpfile\.js$|gulpfile\.babel\.js$/i,2],["gulp-icon",["medium-maroon","medium-maroon"],/gulpfile\.coffee$/i,2],["html5-icon",["medium-cyan","medium-cyan"],/\.html?\.ecr$/i,2],["html5-icon",["medium-red","medium-red"],/\.(?:html?\.erb|rhtml)$/i,2,!1,,/\.html\.erb$/i,/^HTML$/i],["ionic-icon",["medium-blue","medium-blue"],/^ionic\.project$/,2],["js-icon",["medium-cyan","medium-cyan"],/\.js\.ecr$/i,2],["js-icon",["medium-red","medium-red"],/\.js\.erb$/i,2],["jquery-icon",["dark-blue","dark-blue"],/^jquery(?:[-.](?:min|latest|\d\.\d+(?:\.\d+)?))*\.(?:[jt]sx?|es6?|coffee|map)$/i,2],["jqueryui-icon",["dark-blue","dark-blue"],/^jquery(?:[-_.](?:ui[-_.](?:custom|dialog-?\w*)|effects)(?:\.[^.]*)?|[-.]?ui(?:-\d\.\d+(?:\.\d+)?)?(?:\.\w+)?)(?:[-_.]?min|dev)?\.(?:[jt]sx?|es6?|coffee|map|s?css|less|styl)$/i,2],["karma-icon",["medium-cyan","medium-cyan"],/^karma\.conf\.js$/i,2],["karma-icon",["medium-maroon","medium-maroon"],/^karma\.conf\.coffee$/i,2],["knockout-icon",["medium-red","medium-red"],/^knockout[-.](?:\d+\.){3}(?:debug\.)?js$/i,2],["leaflet-icon",["medium-green","medium-green"],/^leaflet\.(?:draw-src|draw|spin|coordinates-(?:\d+\.)\d+\.\d+\.src)\.(?:js|css)$|^wicket-leaflet\.js$/i,2],["lein-icon",[null,null],/project\.clj$/i,2],["manpage-icon",["dark-green","dark-green"],/^tmac\.|^(?:mmn|mmt)$/i,2],["marko-icon",["medium-blue","medium-blue"],/\.marko$/i,2,!1,/^marko$/,/\.marko$/i,/^mark[0o]$/i],["marko-icon",["medium-maroon","medium-maroon"],/\.marko\.js$/i,2],["materialize-icon",["light-red","light-red"],/^materialize(?:\.min)?\.(?:js|css)$/i,2],["mathjax-icon",["dark-green","dark-green"],/^MathJax[^.]*\.js$/i,2],["mocha-icon",["medium-maroon","medium-maroon"],/^mocha\.(?:[jt]sx?|es6?|coffee)$/i,2],["mocha-icon",["medium-red","medium-red"],/^mocha\.(?:s?css|less|styl)$/i,2],["mocha-icon",["light-maroon","light-maroon"],/mocha\.opts$/i,2],["modernizr-icon",["medium-red","medium-red"],/^modernizr(?:[-\.]custom|-\d\.\d+)(?:\.\d+)?\.js$/i,2],["mootools-icon",["medium-purple","medium-purple"],/^mootools[^.]*\d+\.\d+(?:.\d+)?[^.]*\.js$/i,2],["neko-icon",["dark-orange","dark-orange"],/^run\.n$/,2],["newrelic-icon",["medium-cyan","medium-cyan"],/^newrelic\.yml/i,2],["nginx-icon",["dark-green","dark-green"],/^nginx\.conf$/i,2],["shuriken-icon",["dark-cyan","dark-cyan"],/\.ninja\.d$/i,2],["nodemon-icon",["medium-green","medium-green"],/^nodemon\.json$|^\.nodemonignore$/i,2],["normalize-icon",["medium-red","medium-red"],/^normalize\.(?:css|less|scss|styl)$/i,2],["npm-icon",["medium-red","medium-red"],/^(?:package\.json|\.npmignore|\.?npmrc|npm-debug\.log|npm-shrinkwrap\.json)$/i,2],["postcss-icon",["medium-yellow","dark-yellow"],/\bpostcss\.config\.js$/i,2],["protractor-icon",["medium-red","medium-red"],/^protractor\.conf\./i,2],["pug-icon",["medium-orange","medium-orange"],/^\.pug-lintrc/i,2],["raphael-icon",["medium-orange","medium-orange"],/^raphael(?:\.min|\.no-deps)*\.js$/i,2],["react-icon",["dark-blue","dark-blue"],/^react(?:-[^.]*)?\.js$/i,2],["react-icon",["medium-blue","dark-blue"],/\.react\.js$/i,2],["book-icon",["medium-blue","medium-blue"],/^README(?:\b|_)|^(?:licen[sc]es?|(?:read|readme|click|delete|keep|test)\.me)$|\.(?:readme|1st)$/i,2],["book-icon",["dark-blue","dark-blue"],/^(?:notice|bugs|changes|change[-_]?log(?:[-._]?\d+)?|contribute|contributing|contributors|copying|hacking|history|install|maintainers|manifest|more\.stuff|projects|revision|terms|thanks)$/i,2],["requirejs-icon",["medium-blue","medium-blue"],/^require(?:[-.]min|dev)?\.js$/i,2],["clojure-icon",["medium-maroon","dark-maroon"],/^riemann\.config$/i,2],["rollup-icon",["medium-red","medium-red"],/^rollup\.config\./i,2],["ruby-icon",["light-green","light-green"],/_spec\.rb$/i,2],["scrutinizer-icon",["dark-blue","dark-blue"],/\.scrutinizer\.yml$/i,2],["sencha-icon",["light-green","light-green"],/^sencha(?:\.min)?\.js$/i,2],["snapsvg-icon",["medium-cyan","medium-cyan"],/^snap\.svg(?:[-.]min)?\.js$/i,2],["sourcemap-icon",["medium-blue","medium-blue"],/\.css\.map$/i,2],["sourcemap-icon",["medium-yellow","dark-yellow"],/\.js\.map$/i,2],["stylelint-icon",["medium-purple","medium-purple"],/^\.stylelintrc(?:\.|$)/i,2],["stylelint-icon",["medium-yellow","dark-yellow"],/^stylelint\.config\.js$/i,2],["stylelint-icon",["dark-blue","dark-blue"],/\.stylelintignore$/i,2],["toc-icon",["medium-cyan","dark-cyan"],/\.toc$/i,2,!1,,/\.toc$/i,/^Table of Contents$/i],["calc-icon",["medium-maroon","medium-maroon"],/\.8x[pk](?:\.txt)?$/i,2,!1,,,,/^\*\*TI[789]\d\*\*/],["travis-icon",["medium-red","medium-red"],/^\.travis/i,2],["typedoc-icon",["dark-purple","dark-purple"],/^typedoc\.json$/i,2],["typings-icon",["medium-maroon","medium-maroon"],/^typings\.json$/i,2],["uikit-icon",["medium-blue","medium-blue"],/^uikit(?:\.min)?\.js$/i,2],["webpack-icon",["medium-blue","medium-blue"],/webpack\.config\.|^webpackfile\.js$/i,2],["wercker-icon",["medium-purple","medium-purple"],/^wercker\.ya?ml$/i,2],["yarn-icon",["medium-blue","medium-blue"],/^yarn\.lock$/i,2],["yeoman-icon",["medium-cyan","medium-cyan"],/\.yo-rc\.json$/i,2],["yui-icon",["dark-blue","dark-blue"],/^(?:yahoo-|yui)[^.]*\.js$/i,2],["emacs-icon",["medium-red","medium-red"],/\.gnus$/i,1.5],["emacs-icon",["dark-green","dark-green"],/\.viper$/i,1.5],["emacs-icon",["dark-blue","dark-blue"],/^Cask$/,1.5],["emacs-icon",["medium-blue","medium-blue"],/^Project\.ede$/i,1.5],["_1c-icon",["medium-red","medium-red"],/\.bsl$/i,,!1,,/\.bsl$/i,/^1C$|^1[\W_ \t]?C[\W_ \t]?Enterprise$/i],["_1c-icon",["dark-orange","dark-orange"],/\.sdbl$/i,,!1,,/\.sdbl$/i,/^1C$|^1[\W_ \t]?C[\W_ \t]?Query$/i],["_1c-icon",["dark-red","dark-red"],/\.os$/i],["_1c-alt-icon",["medium-red","dark-red"],/\.mdo$/i],["abap-icon",["medium-orange","medium-orange"],/\.abap$/i,,!1,,/\.abp$/i,/^ABAP$/i],["as-icon",["medium-blue","medium-blue"],/\.swf$/i],["as-icon",["medium-red","medium-red"],/\.as$/i,,!1,,/\.(?:flex-config|actionscript(?:\.\d+)?)$/i,/^ActionScript$|^(?:ActionScript\s*3|as3)$/i],["as-icon",["medium-yellow","dark-yellow"],/\.jsfl$/i],["as-icon",["dark-red","dark-red"],/\.swc$/i],["ada-icon",["medium-blue","medium-blue"],/\.(?:ada|adb|ads)$/i,,!1,,/\.ada$/i,/^Ada$|^(?:ada95|ada2005)$/i],["ae-icon",["dark-pink","dark-pink"],/\.aep$/i],["ae-icon",["dark-purple","dark-purple"],/\.aet$/i],["ai-icon",["medium-orange","medium-orange"],/\.ai$/i],["ai-icon",["dark-orange","dark-orange"],/\.ait$/i],["indesign-icon",["dark-pink","dark-pink"],/\.indd$|\.idml$/i],["indesign-icon",["medium-purple","medium-purple"],/\.indl$/i],["indesign-icon",["dark-purple","dark-purple"],/\.indt$|\.inx$/i],["indesign-icon",["dark-blue","dark-blue"],/\.indb$/i],["psd-icon",["medium-blue","medium-blue"],/\.psd$/i,,!1,,,,/^8BPS/],["psd-icon",["dark-purple","dark-purple"],/\.psb$/i],["premiere-icon",["dark-purple","dark-purple"],/\.prproj$/i],["premiere-icon",["medium-maroon","medium-maroon"],/\.prel$/i],["premiere-icon",["medium-purple","medium-purple"],/\.psq$/i],["alloy-icon",["medium-red","medium-red"],/\.als$/i,,!1,,/\.alloy$/i,/^Alloy$/i],["alpine-icon",["dark-blue","dark-blue"],/(?:\.|^)APKBUILD$/],["ampl-icon",["dark-maroon","dark-maroon"],/\.ampl$/i,,!1,,/\.ampl$/i,/^AMPL$/i],["sun-icon",["medium-yellow","dark-yellow"],/\.ansiweatherrc$/i],["antlr-icon",["medium-red","medium-red"],/\.g$/i,,!1,/^antlr$/,/\.antlr$/i,/^antlr$/i],["antlr-icon",["medium-orange","medium-orange"],/\.g4$/i],["apache-icon",["dark-red","dark-red"],/\.apacheconf$/i,,!1,,/\.apache-config$/i,/^Apache$|^(?:aconf|ApacheConf)$/i],["apache-icon",["medium-purple","medium-purple"],/apache2[\\\/]magic$/i,,!0],["api-icon",["medium-blue","medium-blue"],/\.apib$/i,,!1,,/\.apib$/i,/^API Blueprint$/i],["apl-icon",["dark-cyan","dark-cyan"],/\.apl$/i,,!1,/^apl$/,/\.apl$/i,/^apl$/i],["apl-icon",["medium-maroon","medium-maroon"],/\.apl\.history$/i],["apple-icon",["medium-purple","medium-purple"],/\.(?:applescript|scpt)$/i,,!1,/^osascript$/,/\.applescript$/i,/^Apple$|^[0o]sascript$/i],["arc-icon",["medium-blue","medium-blue"],/\.arc$/i],["arduino-icon",["dark-cyan","dark-cyan"],/\.ino$/i,,!1,,/\.arduino$/i,/^Arduino$/i],["asciidoc-icon",["medium-blue","medium-blue"],/\.(?:ad|adoc|asc|asciidoc)$/i,,!1,,/\.asciidoc$/i,/^AsciiDoc$/i],["asp-icon",["dark-blue","dark-blue"],/\.asp$/i,,!1,,/\.asp$/i,/^[Aa][Ss][Pp][\W_ \t]?[Nn][Ee][Tt]$|^aspx(?:-vb)?$/],["asp-icon",["medium-maroon","medium-maroon"],/\.asax$/i],["asp-icon",["dark-green","dark-green"],/\.ascx$/i],["asp-icon",["medium-green","medium-green"],/\.ashx$/i],["asp-icon",["dark-cyan","dark-cyan"],/\.asmx$/i],["asp-icon",["medium-purple","medium-purple"],/\.aspx$/i],["asp-icon",["medium-cyan","medium-cyan"],/\.axd$/i],["eclipse-icon",["medium-maroon","medium-maroon"],/\.aj$/i],["binary-icon",["medium-red","medium-red"],/\.(?:l?a|[ls]?o|out|s|a51|n?asm|axf|elf|prx|puff|was[mt]|z80)$|\.rpy[bc]$/i,,!1,,/(?:^|\.)(?:a[rs]m|x86|z80|lc-?3|cpu12|x86asm|m68k|assembly|avr(?:dis)?asm|dasm)(?:\.|$)/i,/^Assembly$|^n?asm$/i],["binary-icon",["dark-blue","dark-blue"],/\.agc$|\.d-objdump$/i,,!1,,/\.source\.agc$/i,/^Assembly$|^(?:Virtual\s*)?AGC$|^Apollo(?:[-_\s]*11)?\s*Guidance\s*Computer$/i],["binary-icon",["dark-green","dark-green"],/\.ko$/i],["binary-icon",["medium-blue","medium-blue"],/\.lst$/i,,!1,/^lst-cpu12$/,/\.lst-cpu12$/i,/^Assembly$|^lst[\W_ \t]?cpu12$/i],["binary-icon",["dark-orange","dark-orange"],/\.(?:(?:c(?:[+px]{2}?)?-?)?objdump|bsdiff|bin|dat|pak|pdb)$/i],["binary-icon",["medium-orange","medium-orange"],/\.gcode|\.gco/i],["binary-icon",["dark-purple","dark-purple"],/\.py[co]$/i],["binary-icon",[null,null],/\.DS_Store$/i],["ats-icon",["medium-red","medium-red"],/\.dats$/i,,!1,,/\.ats$/i,/^ATS$|^ats2$/i],["ats-icon",["medium-blue","medium-blue"],/\.hats$/i],["ats-icon",["dark-yellow","dark-yellow"],/\.sats$/i],["audacity-icon",["medium-yellow","medium-yellow"],/\.aup$/i],["audio-icon",["medium-red","medium-red"],/\.mp3$/i,,!1,,,,/^\xFF\xFB|^ID3/],["audio-icon",["dark-yellow","dark-yellow"],/\.wav$/i,,!1,,,,/^RIFF(?!.+WEBP)/],["audio-icon",["dark-cyan","dark-cyan"],/\.(?:aac|ac3|m4p)$/i,,!1,,,,/^\x0Bw/],["audio-icon",["medium-purple","medium-purple"],/\.aif[fc]?$/i,,!1,,,,/^FORM.{4}AIFF/],["audio-icon",["medium-cyan","medium-cyan"],/\.au$/i,,!1,,,,/^\.snd|^dns\./],["audio-icon",["dark-red","dark-red"],/\.flac$/i,,!1,,,,/^fLaC/],["audio-icon",["medium-red","medium-red"],/\.f4[ab]$/i,,!1,,,,/^FLV\x01\x04/],["audio-icon",["medium-cyan","medium-cyan"],/\.m4a$/i,,!1,,,,/^.{4}ftypM4A/],["audio-icon",["dark-green","dark-green"],/\.(?:mpc|mp\+)$/i,,!1,,,,/^MPCK/],["audio-icon",["dark-orange","dark-orange"],/\.oga$/i],["audio-icon",["dark-maroon","dark-maroon"],/\.opus$/i,,!1,,,,/OpusHead/],["audio-icon",["dark-blue","dark-blue"],/\.r[am]$/i,,!1,,,,/^\.RMF/],["audio-icon",["medium-blue","medium-blue"],/\.wma$/i],["augeas-icon",["dark-orange","dark-orange"],/\.aug$/i],["ahk-icon",["dark-blue","dark-blue"],/\.ahk$/i,,!1,/^ahk$/,/\.ahk$/i,/^AutoHotkey$|^ahk$/i],["ahk-icon",["dark-purple","dark-purple"],/\.ahkl$/i],["autoit-icon",["medium-purple","medium-purple"],/\.au3$/i,,!1,,/(?:^|\.)autoit(?:\.|$)/i,/^AutoIt$|^(?:AutoIt3|AutoItScript|au3)$/i],["terminal-icon",["medium-blue","medium-blue"],/\.awk$/i,,!1,/^awk$/,/\.awk$/i,/^awk$/i],["terminal-icon",["medium-red","medium-red"],/\.gawk$/i,,!1,/^gawk$/,/\.gawk$/i,/^AWK$|^gawk$/i],["terminal-icon",["medium-maroon","medium-maroon"],/\.mawk$/i,,!1,/^mawk$/,/\.mawk$/i,/^AWK$|^mawk$/i],["terminal-icon",["dark-green","dark-green"],/\.nawk$/i,,!1,/^nawk$/,/\.nawk$/i,/^AWK$|^nawk$/i],["terminal-icon",["dark-cyan","dark-cyan"],/\.auk$/i],["babel-icon",["medium-yellow","medium-yellow"],/\.(?:babelrc|languagebabel|babel)$/i],["babel-icon",["dark-yellow","dark-yellow"],/\.babelignore$/i],["bibtex-icon",["medium-red","dark-red"],/\.cbx$/i],["bibtex-icon",["medium-orange","dark-orange"],/\.bbx$/i],["bibtex-icon",["medium-yellow","dark-yellow"],/\.bib$/i,,!1,/^bibtex$/,/\.bibtex$/i,/^bibtex$/i],["bibtex-icon",["medium-green","dark-green"],/\.bst$/i],["gnu-icon",["medium-red","medium-red"],/\.bison$/i,,!1,,/\.bison$/i,/^Bison$/i],["blender-icon",["medium-orange","medium-orange"],/\.blend$/i],["blender-icon",["dark-orange","dark-orange"],/\.blend\d+$/i],["blender-icon",["dark-blue","dark-blue"],/\.bphys$/i],["bluespec-icon",["dark-blue","dark-blue"],/\.bsv$/i,,!1,,/\.bsv$/i,/^Bluespec$/i],["boo-icon",["medium-green","medium-green"],/\.boo$/i,,!1,,/\.boo(?:\.unity)?$/i,/^Boo$/i],["boot-icon",[null,null],/\.boot$/i],["brain-icon",["dark-pink","dark-pink"],/\.bf?$/i,,!1,,/\.(?:bf|brainfuck)$/i,/^Brainfuck$|^(?:bf|Brainf\**ck)$/i],["brew-icon",["medium-orange","medium-orange"],/^Brewfile$/],["bro-icon",["dark-cyan","dark-cyan"],/\.bro$/i,,!1,,/\.bro$/i,/^Bro$/i],["byond-icon",["medium-blue","medium-blue"],/\.dm$/i,,!1,,/\.dm$/i,/^BYOND$|^(?:DM|Dream\s*Maker(?:\s*Script)?)$/i],["c-icon",["medium-blue","medium-blue"],/\.c$/i,,!1,/^tcc$/,/\.c$/i,/^C$/i],["c-icon",["medium-purple","medium-purple"],/\.h$|\.cats$/i],["c-icon",["medium-green","medium-green"],/\.idc$/i],["c-icon",["medium-maroon","medium-maroon"],/\.w$/i],["c-icon",["dark-blue","dark-blue"],/\.nc$/i],["c-icon",["medium-cyan","medium-cyan"],/\.upc$/i],["csharp-icon",["medium-blue","dark-blue"],/\.cs$/i,,!1,,/\.cs$/i,/^C#$|^c\s*sharp$/i],["csscript-icon",["dark-green","dark-green"],/\.csx$/i,,!1,,/\.csx$/i,/^C#-Script$/i],["cpp-icon",["medium-blue","dark-blue"],/\.c[+px]{2}$|\.cc$/i,,!1,,/\.cpp$/i,/^C\+\+$|c[-_]?pp|cplusplus/i],["cpp-icon",["medium-purple","dark-purple"],/\.h[+px]{2}$/i],["cpp-icon",["medium-orange","dark-orange"],/\.[it]pp$/i],["cpp-icon",["medium-red","dark-red"],/\.(?:tcc|inl)$/i],["cabal-icon",["medium-cyan","medium-cyan"],/\.cabal$/i,,!1,,/\.cabal$/i,/^Cabal$/i],["cake-icon",["medium-yellow","medium-yellow"],/\.cake$/i,,!1,,/\.cake$/i,/^Cake$/i],["cakefile-icon",["medium-red","medium-red"],/^Cakefile$/],["cakephp-icon",["medium-red","medium-red"],/\.ctp$/i],["ceylon-icon",["medium-orange","medium-orange"],/\.ceylon$/i],["chapel-icon",["medium-green","medium-green"],/\.chpl$/i,,!1,,/\.chapel$/i,/^Chapel$|^chpl$/i],["chrome-icon",["medium-red","medium-red"],/\.crx$/i,,!1,,,,/^Cr24/],["chuck-icon",["medium-green","medium-green"],/\.ck$/i,,!1,,/\.chuck$/i,/^ChucK$/i],["cirru-icon",["medium-pink","dark-pink"],/\.cirru$/i,,!1,,/\.cirru$/i,/^Cirru$/i],["clarion-icon",["medium-orange","medium-orange"],/\.clw$/i,,!1,,/\.clarion$/i,/^Clarion$/i],["clean-icon",["dark-cyan","dark-cyan"],/\.icl$/i,,!1,/^clean$/,/\.clean$/i,/^clean$/i],["clean-icon",["medium-cyan","medium-cyan"],/\.dcl$/i],["clean-icon",["medium-blue","medium-blue"],/\.abc$/i],["click-icon",["medium-yellow","medium-yellow"],/\.click$/i,,!1,,/\.click$/i,/^Click$|^Click!$/i],["clips-icon",["dark-green","dark-green"],/\.clp$/i,,!1,,/\.clips$/i,/^CLIPS$/i],["clojure-icon",["medium-blue","dark-blue"],/\.clj$/i,,!1,/^clojure$/,/\.clojure$/i,/^cl[0o]jure$/i],["clojure-icon",["medium-purple","dark-purple"],/\.cl2$/i],["clojure-icon",["medium-green","dark-green"],/\.cljc$/i],["clojure-icon",["medium-red","dark-red"],/\.cljx$|\.hic$/i],["cljs-icon",["medium-blue","dark-blue"],/\.cljs(?:\.hl|cm)?$/i],["cmake-icon",["medium-green","medium-green"],/\.cmake$/i,,!1,/^cmake$/,/\.cmake$/i,/^cmake$/i],["cmake-icon",["medium-red","medium-red"],/^CMakeLists\.txt$/],["coffee-icon",["medium-maroon","medium-maroon"],/\.coffee$/i,,!1,/^coffee$/,/\.coffee$/i,/^CoffeeScript$|^Coffee(?:-Script)?$/i],["coffee-icon",["dark-maroon","dark-maroon"],/\.cjsx$/i],["coffee-icon",["light-maroon","light-maroon"],/\.litcoffee$/i,,!1,/^litcoffee$/,/\.litcoffee$/i,/^CoffeeScript$|^litc[0o]ffee$/i],["coffee-icon",["medium-blue","medium-blue"],/\.iced$/i],["cf-icon",["light-cyan","light-cyan"],/\.cfc$/i,,!1,,/\.cfscript$/i,/^ColdFusion$|^(?:CFC|CFScript)$/i],["cf-icon",["medium-cyan","medium-cyan"],/\.cfml?$/i,,!1,,/\.cfml?$/i,/^ColdFusion$|^(?:cfml?|ColdFusion\s*HTML)$/i],["khronos-icon",["medium-orange","medium-orange"],/\.dae$/i],["cl-icon",["medium-orange","medium-orange"],/\.cl$/i,,!1,/^(?:c?lisp|sbcl|[ec]cl)$/,/\.common-lisp$/i,/^Common Lisp$|^c?lisp$/i],["cp-icon",["medium-maroon","medium-maroon"],/\.cp$/i],["cp-icon",["dark-red","dark-red"],/\.cps$/i],["zip-icon",[null,null],/\.(?:zip|z|xz)$/i,,!1,,,,/^(?:\x50\x4B(?:\x03\x04|\x05\x06|\x07|\x08)|\x1F[\x9D\xA0]|BZh|RNC[\x01\x02]|\xD0\xCF\x11\xE0)/],["zip-icon",["medium-blue","medium-blue"],/\.rar$/i,,!1,,,,/^Rar!\x1A\x07\x01?\0/],["zip-icon",["dark-blue","dark-blue"],/\.t?gz$|\.tar$|\.whl$/i,,!1,,,,/^\x1F\x8B/],["zip-icon",["medium-maroon","medium-maroon"],/\.(?:lzo?|lzma|tlz|tar\.lzma)$/i,,!1,,,,/^LZIP/],["zip-icon",["medium-maroon","medium-maroon"],/\.7z$/i,,!1,,,,/^7z\xBC\xAF\x27\x1C/],["zip-icon",["medium-red","medium-red"],/\.apk$|\.gem$/i],["zip-icon",["dark-cyan","dark-cyan"],/\.bz2$/i],["zip-icon",["medium-blue","medium-blue"],/\.iso$/i,,!1,,,,/^\x45\x52\x02\0{3}|^\x8B\x45\x52\x02/],["zip-icon",["medium-orange","medium-orange"],/\.xpi$/i],["zip-icon",["medium-green","medium-green"],/\.epub$/i],["zip-icon",["dark-pink","dark-pink"],/\.jar$/i],["zip-icon",["medium-purple","medium-purple"],/\.war$/i],["zip-icon",["dark-orange","dark-orange"],/\.xar$/i,,!1,,,,/^xar!/],["zip-icon",["light-orange","light-orange"],/\.egg$/i],["config-icon",["medium-yellow","medium-yellow"],/\.(?:ini|desktop|directory|cfg|conf|prefs)$/i,,!1,,/\.ini$/i,/^d[0o]sini$/i],["config-icon",["medium-purple","medium-purple"],/\.properties$/i,,!1,,/\.java-properties$/i],["config-icon",["medium-green","medium-green"],/\.toml$|\.opts$/i],["config-icon",["dark-red","dark-red"],/\.ld$/i],["config-icon",["medium-red","medium-red"],/\.lds$|\.reek$/i],["config-icon",["dark-blue","dark-blue"],/\.terminal$/i],["config-icon",["medium-orange","medium-orange"],/^ld\.script$/i],["config-icon",["dark-red","dark-red"],/\.git[\/\\](?:config|info[\/\\]\w+)$/,,!0],["config-icon",["dark-orange","dark-orange"],/^\/(?:private\/)?etc\/(?:[^\/]+\/)*[^\/]*\.(?:cf|conf|ini)(?:\.default)?$/i,,!0],["config-icon",["medium-maroon","medium-maroon"],/^\/(?:private\/)?etc\/(?:aliases|auto_(?:home|master)|ftpusers|group|gettytab|hosts(?:\.equiv)?|manpaths|networks|paths|protocols|services|shells|sudoers|ttys)$/i,,!0],["coq-icon",["medium-maroon","medium-maroon"],/\.coq$/i,,!1,,/\.coq$/i,/^Coq$/i],["creole-icon",["medium-blue","medium-blue"],/\.creole$/i,,!1,,/\.creole$/i,/^Creole$/i],["crystal-icon",["medium-cyan","medium-cyan"],/\.e?cr$/i,,!1,/^crystal$/,/\.crystal$/i,/^Crystal$/i],["csound-icon",["medium-maroon","medium-maroon"],/\.orc$/i,,!1,,/\.csound$/i,/^Csound$|^cs[0o]und[\W_ \t]?[0o]rc$/i],["csound-icon",["dark-orange","dark-orange"],/\.udo$/i],["csound-icon",["dark-maroon","dark-maroon"],/\.csd$/i,,!1,,/\.csound-document$/i,/^Csound$|^cs[0o]und[\W_ \t]?csd$/i],["csound-icon",["dark-blue","dark-blue"],/\.sco$/i,,!1,,/\.csound-score$/i,/^Csound$|^cs[0o]und[\W_ \t]?sc[0o]$/i],["css3-icon",["medium-blue","medium-blue"],/\.css$/i,,!1,/^css$/,/\.css$/i,/^css$/i],["css3-icon",["dark-blue","dark-blue"],/\.less$/i,,!1,/^less$/,/\.less$/i,/^CSS$|^less$/i],["cucumber-icon",["medium-green","medium-green"],/\.feature$/i,,!1,,/(?:^|\.)(?:gherkin\.feature|cucumber\.steps)(?:\.|$)/i,/^Cucumber$|^gherkin$/i],["nvidia-icon",["medium-green","medium-green"],/\.cu$/i,,!1,,/\.cuda(?:-c\+\+)?$/i,/^CUDA$/i],["nvidia-icon",["dark-green","dark-green"],/\.cuh$/i],["cython-icon",["medium-orange","medium-orange"],/\.pyx$/i,,!1,,/\.cython$/i,/^Cython$|^pyrex$/i],["cython-icon",["medium-blue","medium-blue"],/\.pxd$/i],["cython-icon",["dark-blue","dark-blue"],/\.pxi$/i],["dlang-icon",["medium-red","medium-red"],/\.di?$/i,,!1,,/\.d$/i,/^D$/i],["yang-icon",["medium-red","medium-red"],/\.dnh$/i,,!1,,/\.danmakufu$/i,/^Danmakufu$/i],["darcs-icon",["medium-green","medium-green"],/\.d(?:arcs)?patch$/i],["dart-icon",["medium-cyan","medium-cyan"],/\.dart$/i,,!1,/^dart$/,/\.dart$/i,/^Dart$/i],["dashboard-icon",["medium-orange","medium-orange"],/\.s[kl]im$/i,,!1,/^slim$/,/\.slim$/i,/^slim$/i],["dashboard-icon",["medium-green","medium-green"],/\.cpuprofile$/i],["database-icon",["medium-yellow","medium-yellow"],/\.(?:h|geo|topo)?json$/i],["database-icon",["light-red","light-red"],/\.ya?ml$/i],["database-icon",["medium-maroon","medium-maroon"],/\.cson$|\.ston$|^mime\.types$/i],["database-icon",["dark-yellow","dark-yellow"],/\.json5$/i,,!1,/^json5$/,/\.json5$/i,/^js[0o]n5$/i],["database-icon",["medium-red","medium-red"],/\.http$|\.pot?$/i],["database-icon",["medium-orange","medium-orange"],/\.ndjson$|\.pytb$/i,,!1,,/\.python\.traceback$/i],["database-icon",["light-blue","light-blue"],/\.fea$/i,,!1,,/\.opentype$/i,/^afdk[0o]$/i],["database-icon",["medium-purple","medium-purple"],/\.json\.eex$|\.edn$/i],["database-icon",["dark-cyan","dark-cyan"],/\.proto$/i,,!1,,/\.protobuf$/i,/^(?:protobuf|Protocol\s*Buffers?)$/i],["database-icon",["dark-blue","dark-blue"],/\.pydeps$|\.rviz$/i],["database-icon",["dark-purple","dark-purple"],/\.eam\.fs$/i],["database-icon",["medium-pink","medium-pink"],/\.qml$/i],["database-icon",["dark-pink","dark-pink"],/\.qbs$/i],["database-icon",["medium-cyan","medium-cyan"],/\.ttl$/i,,!1,,/\.turtle$/i],["database-icon",["medium-blue","medium-blue"],/\.syntax$/i],["database-icon",["dark-red","dark-red"],/[\/\\](?:magic[\/\\]Magdir|file[\/\\]magic)[\/\\][-.\w]+$|lib[\\\/]icons[\\\/]\.icondb\.js$/i,,!0],["dbase-icon",["medium-red","medium-red"],/\.dbf$/i],["debian-icon",["medium-red","medium-red"],/\.deb$/i],["debian-icon",["dark-cyan","dark-cyan"],/^control$/],["debian-icon",["medium-cyan","medium-cyan"],/^rules$/],["diff-icon",["medium-orange","medium-orange"],/\.diff$/i,,!1,,/\.diff$/i,/^Diff$|^udiff$/i],["earth-icon",["medium-blue","medium-blue"],/\.zone$/i],["earth-icon",["medium-green","medium-green"],/\.arpa$/i],["earth-icon",["dark-blue","dark-blue"],/^CNAME$/],["doxygen-icon",["medium-blue","medium-blue"],/^Doxyfile$/,,!1,,/\.doxygen$/i,/^Doxyfile$/i],["dyalog-icon",["medium-orange","medium-orange"],/\.dyalog$/i,,!1,/^dyalog$/],["dylib-icon",["medium-cyan","medium-cyan"],/\.(?:dylib|bundle)$/i],["e-icon",["medium-green","medium-green"],/\.E$/,,!1,/^rune$/],["eagle-icon",["medium-red","medium-red"],/\.sch$/i],["eagle-icon",["dark-red","dark-red"],/\.brd$/i],["ec-icon",["dark-blue","dark-blue"],/\.ec$/i,,!1,/^ec$/,/\.ec$/i,/^ec$/i],["ec-icon",["dark-purple","dark-purple"],/\.eh$/i],["ecere-icon",["medium-blue","medium-blue"],/\.epj$/i],["eclipse-icon",["dark-blue","dark-blue"],/\.c?project$/],["eclipse-icon",["medium-red","medium-red"],/\.classpath$/i],["editorconfig-icon",["medium-orange","medium-orange"],/\.editorconfig$/i,,!1,,/\.editorconfig$/i,/^EditorConfig$/i],["eiffel-icon",["medium-cyan","medium-cyan"],/\.e$/,,!1,,/\.eiffel$/i,/^Eiffel$/i],["elixir-icon",["dark-purple","dark-purple"],/\.ex$/i,,!1,/^elixir$/,/\.elixir$/i,/^elixir$/i],["elixir-icon",["medium-purple","medium-purple"],/\.(?:exs|eex)$/i],["elixir-icon",["light-purple","light-purple"],/mix\.exs?$/i],["elm-icon",["medium-blue","medium-blue"],/\.elm$/i,,!1,,/\.elm$/i,/^Elm$/i],["emacs-icon",["medium-purple","medium-purple"],/(?:^|\.)(?:el|_?emacs|spacemacs|emacs\.desktop|abbrev[-_]defs)$/i,,!1,/^emacs$/,/\.emacs\.lisp$/i,/^Emacs Lisp$|^elisp$/i],["emacs-icon",["dark-purple","dark-purple"],/(?:^|\.)(?:elc|eld)$/i,,!1,,,,/^;ELC\x17\0{3}/],["at-icon",["medium-red","dark-red"],/^(?:authors|owners)$/i],["em-icon",["medium-red","medium-red"],/\.emberscript$/i,,!1,,/\.ember(?:script)?$/i,/^EmberScript$/i],["mustache-icon",["medium-blue","medium-blue"],/\.em(?:blem)?$/i,,!1,,/\.emblem$/i,/^Emblem$/i],["eq-icon",["medium-orange","medium-orange"],/\.eq$/i,,!1,,/\.eq$/i,/^EQ$/i],["erlang-icon",["medium-red","medium-red"],/\.erl$/i,,!1,/^escript$/,/\.erlang$/i,/^Erlang$/i],["erlang-icon",["dark-red","dark-red"],/\.beam$/i],["erlang-icon",["medium-maroon","medium-maroon"],/\.hrl$/i],["erlang-icon",["medium-green","medium-green"],/\.xrl$/i],["erlang-icon",["dark-green","dark-green"],/\.yrl$/i],["erlang-icon",["dark-maroon","dark-maroon"],/\.app\.src$/i],["factor-icon",["medium-orange","medium-orange"],/\.factor$/i,,!1,,/\.factor$/i,/^Factor$/i],["factor-icon",["dark-orange","dark-orange"],/\.factor-rc$/i],["factor-icon",["medium-red","medium-red"],/\.factor-boot-rc$/i],["fancy-icon",["dark-blue","dark-blue"],/\.fy$/i,,!1,/^fancy$/,/\.fancy$/i,/^fancy$/i],["fancy-icon",["medium-blue","medium-blue"],/\.fancypack$/i],["fancy-icon",["medium-green","medium-green"],/^Fakefile$/],["fantom-icon",["medium-blue","medium-blue"],/\.fan$/i,,!1,,/\.fan(?:tom)?$/i,/^Fantom$/i],["fbx-icon",["medium-maroon","medium-maroon"],/\.fbx$/i],["finder-icon",["medium-blue","medium-blue"],/^Icon\r$/],["finder-icon",["dark-blue","dark-blue"],/\.rsrc$/i],["flow-icon",["medium-orange","medium-orange"],/\.(?:flowconfig|js\.flow)$/i],["flux-icon",["medium-blue","medium-blue"],/\.fx$/i],["flux-icon",["dark-blue","dark-blue"],/\.flux$/i],["font-icon",["dark-blue","dark-blue"],/\.woff2$/i,,!1,,,,/^wOF2/],["font-icon",["medium-blue","medium-blue"],/\.woff$/i,,!1,,,,/^wOFF/],["font-icon",["light-green","light-green"],/\.eot$/i,,!1,,,,/^.{34}LP/],["font-icon",["dark-green","dark-green"],/\.ttc$/i,,!1,,,,/^ttcf/],["font-icon",["medium-green","medium-green"],/\.ttf$/i,,!1,,,,/^\0\x01\0{3}/],["font-icon",["dark-yellow","dark-yellow"],/\.otf$/i,,!1,,,,/^OTTO.*\0/],["font-icon",["dark-red","dark-red"],/\.pfb$/i],["font-icon",["medium-red","medium-red"],/\.pfm$/i],["ff-icon",["medium-orange","medium-orange"],/\.pe$/i,,!1,/^fontforge$/,/\.source\.fontforge$/i,/^FontForge$|^pfaedit$/i],["ff-icon",["dark-blue","dark-blue"],/\.sfd$/i,,!1,,/\.text\.sfd$/i,/^FontForge$/i],["fortran-icon",["medium-maroon","medium-maroon"],/\.f$/i,,!1,,/\.fortran\.?(?:modern|punchcard)?$/i,/^Fortran$/i],["fortran-icon",["medium-green","medium-green"],/\.f90$/i,,!1,,/\.fortran\.free$/i,/^Fortran$/i],["fortran-icon",["medium-red","medium-red"],/\.f03$/i],["fortran-icon",["medium-blue","medium-blue"],/\.f08$/i],["fortran-icon",["medium-maroon","medium-maroon"],/\.f77$/i,,!1,,/\.fortran\.fixed$/i,/^Fortran$/i],["fortran-icon",["dark-pink","dark-pink"],/\.f95$/i],["fortran-icon",["dark-cyan","dark-cyan"],/\.for$/i],["fortran-icon",["dark-yellow","dark-yellow"],/\.fpp$/i],["freemarker-icon",["medium-blue","medium-blue"],/\.ftl$/i,,!1,,/\.ftl$/i,/^FreeMarker$|^ftl$/i],["frege-icon",["dark-red","dark-red"],/\.fr$/i],["fsharp-icon",["medium-blue","medium-blue"],/\.fs[xi]?$/i,,!1,,/\.fsharp$/i,/^FSharp$|^f#$/i],["gml-icon",["medium-green","medium-green"],/\.gml$/i],["gams-icon",["dark-red","dark-red"],/\.gms$/i,,!1,,/\.gams(?:-lst)?$/i,/^GAMS$/i],["gap-icon",["medium-yellow","dark-yellow"],/\.gap$/i,,!1,/^gap$/,/\.gap$/i,/^gap$/i],["gap-icon",["dark-blue","dark-blue"],/\.gi$/i],["gap-icon",["medium-orange","medium-orange"],/\.tst$/i],["gdb-icon",["medium-green","dark-green"],/\.gdb$/i,,!1,/^gdb$/,/\.gdb$/i,/^gdb$/i],["gdb-icon",["medium-cyan","dark-cyan"],/gdbinit$/i],["godot-icon",["medium-blue","medium-blue"],/\.gd$/i,,!1,,/\.gdscript$/i,/^GDScript$/i],["gear-icon",["medium-red","medium-red"],/^\.htaccess$|\.yardopts$/i],["gear-icon",["medium-orange","medium-orange"],/^\.htpasswd$/i],["gear-icon",["dark-green","dark-green"],/^\.env\.|\.pairs$/i],["gear-icon",["dark-yellow","dark-yellow"],/^\.lesshintrc$/i],["gear-icon",["medium-yellow","medium-yellow"],/^\.csscomb\.json$|\.csslintrc$|\.jsbeautifyrc$|\.jshintrc$|\.jscsrc$/i],["gear-icon",["medium-maroon","medium-maroon"],/\.coffeelintignore$|\.codoopts$/i],["gear-icon",["medium-blue","medium-blue"],/\.module$/i],["gear-icon",["dark-blue","dark-blue"],/\.arcconfig$|\.python-version$/i],["gear-icon",["dark-orange","dark-orange"],/\.lintstagedrc$/i],["gears-icon",["dark-orange","dark-orange"],/\.dll$/i,,!1,,,,/^PMOCCMOC/],["code-icon",["medium-blue","medium-blue"],/\.xml$|\.config$|\.4th$|\.cocci$|\.dyl$|\.dylan$|\.ecl$|\.forth$|\.launch$|\.manifest$|\.menu$|\.srdf$|\.st$|\.ui$|\.wsf$|\.x3d$|\.xaml$/i,,!1,,,,/^<\?xml /],["code-icon",["dark-red","dark-red"],/\.rdf$|\.capnp$|\.dotsettings$|\.flex$|\.fsh$|\.fsproj$|\.prw$|\.xproj$/i,,!1,,/\.capnp$/i],["code-icon",["medium-blue","medium-blue"],/^_service$/],["code-icon",["medium-red","medium-red"],/^configure\.ac$|\.ML$/],["code-icon",["medium-green","medium-green"],/^Settings\.StyleCop$/],["code-icon",["medium-green","medium-green"],/\.abnf$|\.ditaval$|\.storyboard$|\.xmi$|\.yacc$/i,,!1,/^abnf$/,/\.abnf$/i,/^abnf$/i],["code-icon",["medium-purple","medium-purple"],/\.aepx$|\.dita$|\.grace$|\.lid$|\.nproj$/i],["code-icon",["dark-cyan","dark-cyan"],/\.agda$|\.plist$|\.wisp$|\.xlf$|\.xslt$/i,,!1,,/\.plist$/i],["code-icon",["medium-orange","medium-orange"],/\.appxmanifest$|\.befunge$|\.fun$|\.muf$|\.xul$/i],["code-icon",["medium-cyan","medium-cyan"],/\.ash$|\.asn1?$|\.lagda$|\.lex$|\.props$|\.resx$|\.smt2$|\.vsh$|\.xsl$|\.yy$/i,,!1,/^xsl$/,/\.xsl$/i],["code-icon",["dark-blue","dark-blue"],/\.axml$|\.bmx$|\.brs$|\.ccxml$|\.clixml$|\.fth$|\.intr$|\.mdpolicy$|\.mtml$|\.myt$|\.xsd$/i,,!1,/^brightscript$/,/\.brightscript$/i],["code-icon",["medium-maroon","medium-maroon"],/\.bnf$|\.cbl$|\.cob$|\.cobol$|\.fxml$/i,,!1,/^bnf$/,/\.bnf$/i,/^bnf$/i],["code-icon",["dark-maroon","dark-maroon"],/\.ccp$|\.cpy$|\.mxml$/i],["code-icon",["medium-red","medium-red"],/\.ch$|\.cw$|\.ebnf$|\.iml$|\.jflex$|\.m4$|\.mask$|\.mumps$|\.prg$|\.pt$|\.rl$|\.sml$|\.targets$|\.webidl$|\.wsdl$|\.xacro$|\.xliff$/i,,!1,/^ebnf$/,/\.ebnf$/i],["code-icon",["dark-pink","dark-pink"],/\.ct$|\.zcml$/i],["code-icon",["dark-green","dark-green"],/\.cy$|\.eclxml$|\.ivy$|\.sed$|\.tml$|\.y$/i],["code-icon",["dark-purple","dark-purple"],/\.ditamap$|\.frt$|\.lp$|\.omgrofl$|\.osm$|\.wxs$|\.xib$/i],["code-icon",["medium-pink","medium-pink"],/\.filters$|\.lol$|\.pig$/i],["code-icon",["dark-orange","dark-orange"],/\.grxml$|\.urdf$/i],["code-icon",["medium-yellow","medium-yellow"],/\.jelly$/i],["code-icon",["dark-yellow","dark-yellow"],/\.jsproj$|\.ohm$|\.sgml?$/i,,!1,/^ohm$/,/\.ohm$/i],["code-icon",["dark-blue","dark-blue"],/\.mq[45h]$/i,,!1,,/(?:^|\.)mq[45](?=\.|$)/i],["code-icon",["light-green","light-green"],/\.odd$/i],["code-icon",["light-blue","light-blue"],/\.psc1$|\.smt$/i,,!1,/boolector|cvc4|mathsat5|opensmt|smtinterpol|smt-rat|stp|verit|yices2|z3/,/\.smt$/i],["code-icon",["light-cyan","light-cyan"],/\.scxml$/i],["code-icon",["light-maroon","light-maroon"],/\.sig$|\.wxl$/i],["code-icon",["light-orange","light-orange"],/\.ux$|\.wxi$/i],["code-icon",["light-purple","light-purple"],/\.vxml$/i],["genshi-icon",["medium-red","medium-red"],/\.kid$/i,,!1,,/\.genshi$/i,/^Genshi$|^xml\+(?:genshi|kid)$/i],["gentoo-icon",["dark-cyan","dark-cyan"],/\.ebuild$/i,,!1,,/\.ebuild$/i,/^Gentoo$/i],["gentoo-icon",["medium-blue","medium-blue"],/\.eclass$/i],["git-icon",["medium-red","medium-red"],/^\.git|^\.keep$|\.mailmap$/i,,!1,,/\.git-(?:commit|config|rebase)$/i,/^Git$/i],["git-commit-icon",["medium-red","medium-red"],/^COMMIT_EDITMSG$/],["git-merge-icon",["medium-red","medium-red"],/^MERGE_(?:HEAD|MODE|MSG)$/],["glade-icon",["medium-green","medium-green"],/\.glade$/i],["pointwise-icon",["medium-blue","medium-blue"],/\.glf$/i],["glyphs-icon",["medium-green","medium-green"],/\.glyphs$/i],["gn-icon",["dark-blue","dark-blue"],/\.gn$/i,,!1,/^gn$/,/\.gn$/i,/^gn$/i],["gn-icon",["medium-blue","medium-blue"],/\.gni$/i],["gnu-icon",["medium-red","dark-red"],/\.(?:gnu|gplv[23])$/i],["graph-icon",["medium-red","medium-red"],/\.(?:gp|plo?t|gnuplot)$/i,,!1,/^gnuplot$/,/\.gnuplot$/i,/^Gnuplot$/i],["go-icon",["medium-blue","medium-blue"],/\.go$/i,,!1,,/\.go(?:template)?$/i,/^Go$/i],["golo-icon",["medium-orange","medium-orange"],/\.golo$/i,,!1,,/\.golo$/i,/^Golo$/i],["gosu-icon",["medium-blue","medium-blue"],/\.gs$/i,,!1,,/\.gosu(?:\.\d+)?$/i,/^Gosu$/i],["gosu-icon",["medium-green","medium-green"],/\.gst$/i],["gosu-icon",["dark-green","dark-green"],/\.gsx$/i],["gosu-icon",["dark-blue","dark-blue"],/\.vark$/i],["gradle-icon",["medium-blue","medium-blue"],/\.gradle$/i,,!1,,/\.gradle$/i,/^Gradle$/i],["gradle-icon",["dark-purple","dark-purple"],/gradlew$/i],["gf-icon",["medium-red","medium-red"],/\.gf$/i],["graphql-icon",["medium-pink","medium-pink"],/\.graphql$/i,,!1,,/\.graphql$/i,/^GraphQL$/i],["graphql-icon",["medium-purple","medium-purple"],/\.gql$/i],["graphviz-icon",["medium-blue","medium-blue"],/\.gv$/i,,!1,,/\.dot$/i,/^Graphviz$/i],["graphviz-icon",["dark-cyan","dark-cyan"],/\.dot$/i],["groovy-icon",["light-blue","light-blue"],/\.(?:groovy|grt|gtpl|gsp|gvy)$/i,,!1,/^groovy$/,/\.groovy$/i,/^Groovy$|^gsp$/i],["hack-icon",["medium-orange","medium-orange"],/\.hh$/i,,!1,,/\.hack$/i,/^Hack$/i],["haml-icon",["medium-yellow","medium-yellow"],/\.haml$/i,,!1,/^haml$/,/\.haml$/i,/^haml$/i],["haml-icon",["medium-maroon","medium-maroon"],/\.hamlc$/i,,!1,/^hamlc$/,/\.hamlc$/i,/^Haml$|^hamlc$/i],["harbour-icon",["dark-blue","dark-blue"],/\.hb$/i,,!1,,/\.harbour$/i,/^Harbour$/i],["hashicorp-icon",["dark-purple","dark-purple"],/\.hcl$/i,,!1,,/(?:^|\.)(?:hcl|hashicorp)(?:\.|$)/i,/^Hashicorp Configuration Language$/i],["haskell-icon",["medium-purple","medium-purple"],/\.hs$/i,,!1,/^runhaskell$/,/\.source\.haskell$/i,/^Haskell$/i],["haskell-icon",["medium-blue","medium-blue"],/\.hsc$/i,,!1,,/\.hsc2hs$/i,/^Haskell$/i],["haskell-icon",["dark-purple","dark-purple"],/\.c2hs$/i,,!1,,/\.c2hs$/i,/^Haskell$|^C2hs(?:\s*Haskell)?$/i],["haskell-icon",["dark-blue","dark-blue"],/\.lhs$/i,,!1,,/\.latex\.haskell$/i,/^Haskell$|^(?:lhaskell|lhs|Literate\s*Haskell)$/i],["haxe-icon",["medium-orange","medium-orange"],/\.hx(?:[sm]l|)?$/,,!1,,/(?:^|\.)haxe(?:\.\d+)?$/i,/^Haxe$/i],["heroku-icon",["medium-purple","medium-purple"],/^Procfile$/],["heroku-icon",["light-purple","light-purple"],/\.buildpacks$/i],["heroku-icon",["dark-purple","dark-purple"],/^\.vendor_urls$/],["html5-icon",["medium-orange","medium-orange"],/\.x?html?$/i,,!1,,/\.html\.basic$/i,/^HTML$|^(?:xhtml|htm)$/i],["html5-icon",["medium-red","medium-red"],/\.cshtml$|\.latte$/i,,!1,/^latte$/,/\.latte$/i],["html5-icon",["medium-green","medium-green"],/\.ejs$|\.kit$|\.swig$/i,,!1,/^swig$/,/\.swig$/i],["html5-icon",["dark-blue","dark-blue"],/\.gohtml$|\.phtml$/i,,!1,/^gohtml$/,/\.gohtml$/i,/^HTML$|^g[0o]html$/i],["html5-icon",["medium-purple","medium-purple"],/\.html\.eex$|\.jsp$/i,,!1,,/\.jsp$/i],["html5-icon",["medium-cyan","medium-cyan"],/\.shtml$/i],["html5-icon",["dark-red","dark-red"],/\.scaml$/i,,!1,/^scaml$/,/\.scaml$/i,/^HTML$|^scaml$/i],["html5-icon",["medium-red","medium-red"],/\.vash$/i,,!1,/^vash$/,/\.vash$/i,/^HTML$|^vash$/i],["html5-icon",["medium-blue","medium-blue"],/\.dtml$/i,,!1,/^dtml$/,/\.dtml$/i,/^HTML$|^dtml$/i],["hy-icon",["dark-blue","dark-blue"],/\.hy$/i,,!1,,/\.hy$/i,/^Hy$|^hylang$/i],["idl-icon",["medium-blue","medium-blue"],/\.dlm$/i,,!1,,/\.idl$/i,/^IDL$/i],["idris-icon",["dark-red","dark-red"],/\.idr$/i,,!1,,/\.(?:idris|ipkg)$/i,/^Idris$/i],["idris-icon",["medium-maroon","medium-maroon"],/\.lidr$/i],["igorpro-icon",["dark-red","dark-red"],/\.ipf$/i],["image-icon",["medium-orange","medium-orange"],/\.a?png$|\.svgz$/i,,!1,,,,/^.PNG\r\n\x1A\n/],["image-icon",["medium-yellow","medium-yellow"],/\.gif$|\.ora$|\.sgi$/i,,!1,,,,/^GIF8[97]a/],["image-icon",["medium-green","medium-green"],/\.jpg$/i,,!1,,,,/^\xFF\xD8\xFF[\xDB\xE0\xE1]|(?:JFIF|Exif)\0|^\xCF\x84\x01|^\xFF\xD8.+\xFF\xD9$/],["image-icon",["medium-blue","medium-blue"],/\.ico$/i,,!1,,,,/^\0{2}\x01\0/],["image-icon",["dark-blue","dark-blue"],/\.webp$|\.iff$|\.lbm$|\.liff$|\.nrrd$|\.pcx$|\.vsdx?$/i,,!1,,,,/^RIFF.{4}WEBPVP8/],["image-icon",["medium-red","medium-red"],/\.bmp$/i,,!1,,,,/^BM/],["image-icon",["medium-red","medium-red"],/\.bpg$/i,,!1,,,,/^BPG\xFB/],["image-icon",["medium-orange","medium-orange"],/\.cin$/i,,!1,,,,/^\x80\x2A\x5F\xD7/],["image-icon",["dark-green","dark-green"],/\.cd5$/i,,!1,,,,/^_CD5\x10\0/],["image-icon",["light-yellow","light-yellow"],/\.cpc$/i],["image-icon",["medium-orange","medium-orange"],/\.cr2$/i,,!1,,,,/^II\*\0\x10\0{3}CR/],["image-icon",["medium-pink","medium-pink"],/\.dcm$|\.mpo$|\.pbm$/i,,!1,,,,/^.{128}DICM/],["image-icon",["dark-green","dark-green"],/\.dds$/i,,!1,,,,/^DDS \|\0{3}/],["image-icon",["medium-purple","medium-purple"],/\.djvu?$|\.pxr$/i,,!1,,,,/^AT&TFORM/],["image-icon",["dark-orange","dark-orange"],/\.dpx$|\.raw$/i,,!1,,,,/^(?:SDPX|XPDS)/],["image-icon",["light-blue","light-blue"],/\.ecw$|\.sct$/i],["image-icon",["dark-yellow","dark-yellow"],/\.exr$/i,,!1,,,,/^v\/1\x01/],["image-icon",["medium-cyan","medium-cyan"],/\.fits?$|\.fts$/i,,!1,,,,/^SIMPLE  =/],["image-icon",["dark-red","dark-red"],/\.flif$|\.hdp$|\.heic$|\.heif$|\.jxr$|\.wdp$/i,,!1,,,,/^FLIF/],["image-icon",["medium-blue","medium-blue"],/\.hdr$/i,,!1,,,,/^#\?RADIANCE\n/],["image-icon",["medium-pink","medium-pink"],/\.icns$/i,,!1,,,,/^icns/],["image-icon",["dark-green","dark-green"],/\.(?:jp[f2xm]|j2c|mj2)$/i,,!1,,,,/^\0{3}\fjP {2}/],["image-icon",["dark-cyan","dark-cyan"],/\.jps$/i],["image-icon",["medium-orange","medium-orange"],/\.mng$/i,,!1,,,,/^.MNG\r\n\x1A\n/],["image-icon",["light-red","light-red"],/\.pgf$/i],["image-icon",["light-purple","light-purple"],/\.pict$/i],["image-icon",["dark-orange","dark-orange"],/\.tga$/i,,!1,,,,/TRUEVISION-XFILE\.\0$/],["image-icon",["medium-red","medium-red"],/\.tiff?$/i,,!1,,,,/^II\x2A\0|^MM\0\x2A/],["image-icon",["dark-maroon","dark-maroon"],/\.wbm$/i],["inform7-icon",["medium-blue","medium-blue"],/\.ni$/i,,!1,,/\.inform-?7?$/i,/^Inform 7$|^i7$/i],["inform7-icon",["dark-blue","dark-blue"],/\.i7x$/i],["inno-icon",["dark-blue","dark-blue"],/\.iss$/i,,!1,,/\.inno$/i,/^Inno Setup$/i],["io-icon",["dark-purple","dark-purple"],/\.io$/i,,!1,/^io$/,/^source\.io$/i,/^Io$/i],["ioke-icon",["medium-red","medium-red"],/\.ik$/i,,!1,/^ioke$/],["isabelle-icon",["dark-red","dark-red"],/\.thy$/i,,!1,,/\.isabelle\.theory$/i,/^Isabelle$/i],["isabelle-icon",["dark-blue","dark-blue"],/^ROOT$/],["j-icon",["light-blue","light-blue"],/\.ijs$/i,,!1,/^jconsole$/,/\.j$/i,/^J$/i],["jade-icon",["medium-red","medium-red"],/\.jade$/i,,!1,,/\.jade$/i,/^Jade$/i],["jake-icon",["medium-maroon","dark-maroon"],/^Jakefile$/],["jake-icon",["medium-yellow","dark-yellow"],/\.jake$/i],["java-icon",["medium-purple","medium-purple"],/\.java$/i,,!1,,/\.java$/i,/^Java$/i],["js-icon",["medium-yellow","dark-yellow"],/\.js$|\.es6$|\.es$/i,,!1,/^(?:node|iojs)$/,/\.js$/i,/^JavaScript$|^(?:js|node)$/i],["js-icon",["medium-orange","dark-orange"],/\._js$/i],["js-icon",["medium-maroon","dark-maroon"],/\.jsb$|\.dust$/i],["js-icon",["medium-blue","dark-blue"],/\.jsm$|\.mjs$|\.xsjslib$/i],["js-icon",["medium-green","dark-green"],/\.jss$/i],["js-icon",["medium-pink","dark-pink"],/\.sjs$/i],["js-icon",["medium-red","dark-red"],/\.ssjs$/i],["js-icon",["medium-purple","dark-purple"],/\.xsjs$/i],["jenkins-icon",["medium-red","dark-red"],/^Jenkinsfile$/],["jinja-icon",["dark-red","dark-red"],/\.jinja$/i,,!1,,/\.jinja$/i,/^Jinja$|^(?:django|htmldjango|html\+django\/jinja|html\+jinja)$/i],["jinja-icon",["medium-red","medium-red"],/\.jinja2$/i],["jsonld-icon",["medium-blue","medium-blue"],/\.jsonld$/i],["sql-icon",["medium-blue","medium-blue"],/\.jq$/i,,!1,,/\.jq$/i,/^JSONiq$/i],["jsx-icon",["medium-blue","dark-blue"],/\.jsx$/i,,!1,,/\.jsx$/i,/^JSX$/i],["julia-icon",["medium-purple","medium-purple"],/\.jl$/i,,!1,,/\.julia$/i,/^Julia$/i],["jupyter-icon",["dark-orange","dark-orange"],/\.ipynb$/i,,!1,,/\.ipynb$/i,/^(?:ipynb|(?:Jupyter|IPython)\s*Notebook)$/i],["jupyter-icon",["dark-cyan","dark-cyan"],/^Notebook$/],["keynote-icon",["medium-blue","medium-blue"],/\.keynote$/i],["keynote-icon",["dark-blue","dark-blue"],/\.knt$/i],["kivy-icon",["dark-maroon","dark-maroon"],/\.kv$/i,,!1,,/\.kv$/i,/^Kivy$/i],["earth-icon",["medium-green","medium-green"],/\.kml$/i],["kotlin-icon",["dark-blue","dark-blue"],/\.kt$/i,,!1,/^kotlin$/,/\.kotlin$/i,/^k[0o]tlin$/i],["kotlin-icon",["medium-blue","medium-blue"],/\.ktm$/i],["kotlin-icon",["medium-orange","medium-orange"],/\.kts$/i],["krl-icon",["medium-blue","medium-blue"],/\.krl$/i,,!1,,/\.krl$/i,/^KRL$/i],["labview-icon",["dark-blue","dark-blue"],/\.lvproj$/i],["laravel-icon",["medium-orange","medium-orange"],/\.blade\.php$/i,,!1,,/\.php\.blade$/i,/^Laravel$/i],["lasso-icon",["dark-blue","dark-blue"],/\.lasso$|\.las$/i,,!1,,/\.lasso$/i,/^Lasso$|^lass[0o]script$/i],["lasso-icon",["medium-blue","medium-blue"],/\.lasso8$/i],["lasso-icon",["medium-purple","medium-purple"],/\.lasso9$/i],["lasso-icon",["medium-red","medium-red"],/\.ldml$/i],["lean-icon",["dark-purple","dark-purple"],/\.lean$/i,,!1,/^lean$/,/\.lean$/i,/^lean$/i],["lean-icon",["dark-red","dark-red"],/\.hlean$/i],["lfe-icon",["dark-red","dark-red"],/\.lfe$/i],["lightwave-icon",["medium-red","medium-red"],/\.lwo$/i],["lightwave-icon",["medium-blue","medium-blue"],/\.lws$/i],["lisp-icon",["medium-red","medium-red"],/\.lsp$/i,,!1,/^newlisp$/,/\.newlisp$/i,/^Lisp$|^newlisp$/i],["lisp-icon",["dark-red","dark-red"],/\.lisp$/i,,!1,/^lisp$/,/\.lisp$/i,/^lisp$/i],["lisp-icon",["medium-maroon","medium-maroon"],/\.l$|\.nl$/i,,!1,/picolisp|pil/],["lisp-icon",["medium-blue","medium-blue"],/\.ny$|\.sexp$/i],["lisp-icon",["medium-purple","medium-purple"],/\.podsl$/i],["ls-icon",["medium-blue","medium-blue"],/\.ls$/i,,!1,,/\.livescript$/i,/^LiveScript$|^(?:ls|live-script)$/i],["ls-icon",["dark-blue","dark-blue"],/\._ls$/i],["ls-icon",["medium-green","medium-green"],/^Slakefile$/],["llvm-icon",["dark-green","dark-green"],/\.ll$/i,,!1,/^llvm$/,/\.llvm$/i,/^llvm$/i],["llvm-icon",["medium-yellow","dark-yellow"],/\.clang-format$/i],["mobile-icon",["dark-blue","dark-blue"],/\.xm$/i,,!1,/^logos$/,/\.logos$/i,/^l[0o]g[0o]s$/i],["mobile-icon",["dark-red","dark-red"],/\.xi$/i],["logtalk-icon",["medium-red","medium-red"],/\.(?:logtalk|lgt)$/i,,!1,,/\.logtalk$/i,/^Logtalk$/i],["lookml-icon",["medium-purple","medium-purple"],/\.lookml$/i],["lsl-icon",["medium-cyan","medium-cyan"],/\.lsl$/i,,!1,/^lsl$/,/\.lsl$/i,/^lsl$/i],["lsl-icon",["dark-cyan","dark-cyan"],/\.lslp$/i],["lua-icon",["medium-blue","medium-blue"],/\.lua$/i,,!1,/^lua$/,/\.lua$/i,/^lua$/i],["lua-icon",["dark-blue","dark-blue"],/\.pd_lua$/i],["lua-icon",["dark-purple","dark-purple"],/\.rbxs$/i],["lua-icon",["dark-red","dark-red"],/\.wlua$/i],["checklist-icon",["medium-yellow","medium-yellow"],/^Makefile|^makefile$/,,!1,/^make$/,/\.makefile$/i,/^Makefile$|^(?:bsdmake|make|mf)$/i],["checklist-icon",["medium-yellow","medium-yellow"],/\.(?:mk|mak|make)$|^mkfile$/i],["checklist-icon",["medium-red","medium-red"],/^BSDmakefile$|\.am$/i],["checklist-icon",["medium-green","medium-green"],/^GNUmakefile$/i],["checklist-icon",["medium-blue","medium-blue"],/^Kbuild$/],["checklist-icon",["dark-blue","dark-blue"],/\.bb$/i],["checklist-icon",["dark-blue","dark-blue"],/^DEPS$/],["checklist-icon",["medium-blue","medium-blue"],/\.mms$/i],["checklist-icon",["light-blue","light-blue"],/\.mmk$/i],["checklist-icon",["dark-purple","dark-purple"],/\.pri$/i],["mako-icon",["dark-blue","dark-blue"],/\.mak?o$/i,,!1,,/\.mako$/i,/^Mako$/i],["manpage-icon",["dark-green","dark-green"],/\.(?:1(?:[bcmsx]|has|in)?|[24568]|3(?:avl|bsm|3c|in|m|qt|x)?|7(?:d|fs|i|ipp|m|p)?|9[efps]?|chem|eqn|groff|man|mandoc|mdoc|me|mom|n|nroff|pic|tmac|tmac-u|tr|troff)$/i,,!1,/man|mandoc|(?:[gnt]|dit)roff/i,/\.[gt]?roff$/i,/^Manual Page$|^(?:[gtn]?roff|manpage)$/i,/^\.TH[ \t]+(?:\S+)|^'\\" [tre]+(?=\s|$)/],["manpage-icon",["dark-maroon","dark-maroon"],/\.(?:rnh|rno|roff|run|runoff)$/i,,!1,/^runoff$/,/\.runoff$/i,/^Manual Page$|^run[0o]ff$/i],["mapbox-icon",["medium-cyan","medium-cyan"],/\.mss$/i,,!1,,/\.mss$/i,/^Mapbox$|^Carto(?:CSS)?$/i],["markdown-icon",["medium-blue","medium-blue"],/\.(?:md|mdown|markdown|mkd|mkdown|mkdn|rmd|ron)$/i,,!1,,/\.gfm$/i,/^Markdown$/i],["mathematica-icon",["dark-red","dark-red"],/\.mathematica$|\.nbp$/i,,!1,,/\.mathematica$/i,/^Mathematica$|^mma$/i],["mathematica-icon",["medium-red","medium-red"],/\.cdf$/i],["mathematica-icon",["medium-orange","medium-orange"],/\.ma$/i],["mathematica-icon",["medium-maroon","medium-maroon"],/\.mt$/i],["mathematica-icon",["dark-orange","dark-orange"],/\.nb$/i],["mathematica-icon",["medium-yellow","medium-yellow"],/\.wl$/i],["mathematica-icon",["dark-yellow","dark-yellow"],/\.wlt$/i],["matlab-icon",["medium-yellow","medium-yellow"],/\.matlab$/i,,!1,,/\.(?:matlab|octave)$/i,/^MATLAB$|^[0o]ctave$/i],["max-icon",["dark-purple","dark-purple"],/\.maxpat$/i],["max-icon",["medium-red","medium-red"],/\.maxhelp$/i],["max-icon",["medium-blue","medium-blue"],/\.maxproj$/i],["max-icon",["medium-purple","medium-purple"],/\.mxt$/i],["max-icon",["medium-green","medium-green"],/\.pat$/i],["maxscript-icon",["dark-blue","dark-blue"],/\.ms$/i,,!1,,/\.maxscript$/i,/^MAXScript$/i],["maxscript-icon",["dark-purple","dark-purple"],/\.mcr$/i],["maxscript-icon",["medium-red","medium-red"],/\.mce$/i],["maxscript-icon",["dark-cyan","dark-cyan"],/\.max$/i],["maxscript-icon",["medium-cyan","medium-cyan"],/\.3ds$/i],["maya-icon",["dark-cyan","dark-cyan"],/\.mb$/i],["maya-icon",["dark-blue","dark-blue"],/\.mel$/i],["maya-icon",["dark-purple","dark-purple"],/\.mcf[ip]$/i],["mediawiki-icon",["medium-yellow","medium-yellow"],/\.mediawiki$/i,,!1,/^mediawiki$/,/\.mediawiki$/i,/^mediawiki$/i],["mediawiki-icon",["medium-orange","medium-orange"],/\.wiki$/i],["bullhorn-icon",["medium-orange","medium-orange"],/^\.mention-bot$/i],["mercury-icon",["medium-cyan","medium-cyan"],/\.moo$/i,,!1,/^mmi$/,/\.mercury$/i,/^Mercury$/i],["metal-icon",["dark-cyan","dark-cyan"],/\.metal$/i],["access-icon",["dark-maroon","dark-maroon"],/\.accda$/i],["access-icon",["medium-maroon","medium-maroon"],/\.accdb$/i],["access-icon",["medium-green","medium-green"],/\.accde$/i],["access-icon",["medium-red","medium-red"],/\.accdr$/i],["access-icon",["dark-red","dark-red"],/\.accdt$/i],["access-icon",["light-maroon","light-maroon"],/\.adn$|\.laccdb$/i],["access-icon",["dark-purple","dark-purple"],/\.mdw$/i],["excel-icon",["dark-orange","dark-orange"],/\.xls$/i],["excel-icon",["dark-green","dark-green"],/\.xlsx$/i],["excel-icon",["medium-green","medium-green"],/\.xlsm$/i],["excel-icon",["medium-red","medium-red"],/\.xlsb$/i],["excel-icon",["dark-cyan","dark-cyan"],/\.xlt$/i],["onenote-icon",["dark-purple","dark-purple"],/\.one$/i],["powerpoint-icon",["dark-red","dark-red"],/\.pps$/i],["powerpoint-icon",["medium-orange","medium-orange"],/\.ppsx$/i],["powerpoint-icon",["dark-orange","dark-orange"],/\.ppt$/i],["powerpoint-icon",["medium-red","medium-red"],/\.pptx$/i],["powerpoint-icon",["medium-maroon","medium-maroon"],/\.potm$/i],["powerpoint-icon",["dark-green","dark-green"],/\.mpp$/i],["word-icon",["medium-blue","medium-blue"],/\.doc$/i],["word-icon",["dark-blue","dark-blue"],/\.docx$/i],["word-icon",["medium-maroon","medium-maroon"],/\.docm$/i],["word-icon",["dark-cyan","dark-cyan"],/\.docxml$/i],["word-icon",["dark-maroon","dark-maroon"],/\.dotm$/i],["word-icon",["medium-cyan","medium-cyan"],/\.dotx$/i],["word-icon",["medium-orange","medium-orange"],/\.wri$/i],["minecraft-icon",["dark-green","dark-green"],/^mcmod\.info$/i,,!1,,/\.forge-config$/i,/^Minecraft$/i],["mirah-icon",["medium-blue","medium-blue"],/\.dr?uby$/g,,!1,/^mirah$/,/\.mirah$/i,/^mirah$/i],["mirah-icon",["light-blue","light-blue"],/\.mir(?:ah)?$/g],["model-icon",["medium-red","medium-red"],/\.obj$/i,,!1,,/\.wavefront\.obj$/i],["model-icon",["dark-blue","dark-blue"],/\.mtl$/i,,!1,,/\.wavefront\.mtl$/i],["model-icon",["dark-green","dark-green"],/\.stl$/i],["model-icon",["medium-orange","medium-orange"],/\.u3d$/i],["circle-icon",["light-red","light-red"],/\.mo$/i,,!1,,/\.modelica(?:script)?$/i,/^Modelica$/i],["modula2-icon",["medium-blue","medium-blue"],/\.mod$/i,,!1,,/(?:^|\.)modula-?2(?:\.|$)/i,/^Modula-2$/i],["modula2-icon",["medium-green","medium-green"],/\.def$/i],["modula2-icon",["medium-red","medium-red"],/\.m2$/i],["monkey-icon",["medium-maroon","medium-maroon"],/\.monkey$/i,,!1,,/\.monkey$/i,/^Monkey$/i],["moon-icon",["medium-yellow","medium-yellow"],/\.moon$/i,,!1,/^moon$/,/\.moon$/i,/^MoonScript$/i],["mruby-icon",["medium-red","medium-red"],/\.mrb$/i,,!1,/^mruby$/],["msql-icon",["medium-purple","medium-purple"],/\.dsql$/i],["mupad-icon",["medium-red","medium-red"],/\.mu$/i],["music-icon",["medium-orange","medium-orange"],/\.chord$/i],["music-icon",["dark-blue","dark-blue"],/\.midi?$/i,,!1,,,,/^MThd/],["music-icon",["medium-green","medium-green"],/\.ly$/i,,!1,,/\.(?:At)?lilypond-/i,/^Lily\s*Pond$/i],["music-icon",["dark-green","dark-green"],/\.ily$/i],["music-icon",["dark-red","dark-red"],/\.pd$/i],["mustache-icon",["medium-orange","medium-orange"],/\.(?:hbs|handlebars|mustache)$/i,,!1,,/(?:^|\.)(?:mustache|handlebars)(?:\.|$)/i,/^Mustache$|^(?:hbs|htmlbars|handlebars)$/i],["nant-icon",["medium-orange","medium-orange"],/\.build$/i,,!1,,/\.nant-build$/i,/^NAnt$/i],["earth-icon",["medium-green","medium-green"],/\.ncl$/i,,!1,,/\.ncl$/i,/^NCAR Command Language \(NCL\)$/i],["neko-icon",["medium-orange","medium-orange"],/\.neko$/i,,!1,/^neko$/,/\.neko$/i,/^nek[0o]$/i],["amx-icon",["medium-blue","medium-blue"],/\.axs$/i],["amx-icon",["dark-blue","dark-blue"],/\.axi$/i],["netlogo-icon",["medium-red","medium-red"],/\.nlogo$/i],["nginx-icon",["medium-green","medium-green"],/\.nginxconf$/i,,!1,,/\.nginx$/i,/^NGINX$|^nginx[\W_ \t]?c[0o]nfigurati[0o]n[\W_ \t]?file$/i],["nib-icon",["dark-orange","dark-orange"],/\.nib$/i],["nimrod-icon",["medium-green","medium-green"],/\.nim(?:rod)?$/i,,!1,,/\.nim$/i,/^Nimrod$/i],["shuriken-icon",["medium-blue","medium-blue"],/\.ninja$/i,,!1,/^ninja$/,/\.ninja$/i,/^ninja$/i],["nit-icon",["dark-green","dark-green"],/\.nit$/i,,!1,,/\.nit$/i,/^Nit$/i],["nix-icon",["medium-cyan","medium-cyan"],/\.nix$/i,,!1,,/\.nix$/i,/^Nix$|^nix[0o]s$/i],["nmap-icon",["dark-blue","dark-blue"],/\.nse$/i,,!1,,/\.nmap$/i,/^Nmap$/i],["node-icon",["medium-green","medium-green"],/\.njs$|\.nvmrc$/i],["node-icon",["dark-green","dark-green"],/\.node-version$/i],["nsis-icon",["medium-purple","medium-purple"],/\.nsi$/i,,!1,/^nsis$/,/\.nsis$/i,/^nsis$/i],["nsis-icon",["dark-cyan","dark-cyan"],/\.nsh$/i],["recycle-icon",["light-green","light-green"],/\.nu$/i,,!1,/^nush$/,/\.nu$/i,/^Nu$|^nush$/i],["recycle-icon",["dark-green","dark-green"],/^Nukefile$/],["nuget-icon",["medium-blue","medium-blue"],/\.nuspec$/i],["nuget-icon",["dark-purple","dark-purple"],/\.pkgproj$/i],["numpy-icon",["dark-blue","dark-blue"],/\.numpy$/i],["numpy-icon",["medium-blue","medium-blue"],/\.numpyw$/i],["numpy-icon",["medium-orange","medium-orange"],/\.numsc$/i],["nunjucks-icon",["dark-green","dark-green"],/\.(?:nunjucks|njk)$/i],["objc-icon",["medium-blue","medium-blue"],/\.mm?$/i,,!1,,/\.objc(?:pp)?$/i,/^Objective-C$|^(?:Obj-?C|ObjectiveC)(?:\+\+)?$/i],["objc-icon",["dark-red","dark-red"],/\.pch$/i],["objc-icon",["dark-green","dark-green"],/\.x$/i],["objj-icon",["dark-orange","dark-orange"],/\.j$/i,,!1,,/\.objj$/i,/^Objective-J$|^(?:Obj-?J|ObjectiveJ)$/i],["objj-icon",["dark-red","dark-red"],/\.sj$/i],["ocaml-icon",["medium-orange","medium-orange"],/\.ml$/i,,!1,/ocaml(?:run|script)?/,/\.ocaml$/i,/^OCaml$/i],["ocaml-icon",["dark-orange","dark-orange"],/\.mli$/i],["ocaml-icon",["medium-red","medium-red"],/\.eliom$/i],["ocaml-icon",["dark-red","dark-red"],/\.eliomi$/i],["ocaml-icon",["medium-green","medium-green"],/\.ml4$/i],["ocaml-icon",["dark-green","dark-green"],/\.mll$/i,,!1,/^ocamllex$/,/\.ocamllex$/i,/^OCaml$|^[0o]camllex$/i],["ocaml-icon",["dark-yellow","dark-yellow"],/\.mly$/i,,!1,/^menhir$/,/\.menhir$/i,/^OCaml$|^menhir$/i],["ooc-icon",["medium-green","medium-green"],/\.ooc$/i,,!1,,/\.ooc$/i,/^OOC$/i],["opa-icon",["medium-blue","medium-blue"],/\.opa$/i,,!1,,/\.opa$/i,/^Opa$/i],["opencl-icon",["medium-red","medium-red"],/\.opencl$/i,,!1,,/\.opencl$/i,/^OpenCL$/i],["progress-icon",["medium-red","medium-red"],/\.p$/i,,!1,,/\.abl$/i,/^OpenEdge ABL$|^(?:progress|openedge|abl)$/i],["openoffice-icon",["medium-blue","medium-blue"],/\.odt$/i],["openoffice-icon",["dark-blue","dark-blue"],/\.ott$/i],["openoffice-icon",["dark-purple","dark-purple"],/\.fodt$/i],["openoffice-icon",["medium-green","medium-green"],/\.ods$/i],["openoffice-icon",["dark-green","dark-green"],/\.ots$/i],["openoffice-icon",["dark-cyan","dark-cyan"],/\.fods$/i],["openoffice-icon",["medium-purple","medium-purple"],/\.odp$/i],["openoffice-icon",["dark-pink","dark-pink"],/\.otp$/i],["openoffice-icon",["medium-pink","medium-pink"],/\.fodp$/i],["openoffice-icon",["medium-red","medium-red"],/\.odg$/i],["openoffice-icon",["dark-red","dark-red"],/\.otg$/i],["openoffice-icon",["dark-orange","dark-orange"],/\.fodg$/i],["openoffice-icon",["medium-maroon","medium-maroon"],/\.odf$/i],["openoffice-icon",["light-pink","light-pink"],/\.odb$/i],["scad-icon",["medium-orange","medium-orange"],/\.scad$/i,,!1,,/\.scad$/i,/^OpenSCAD$/i],["scad-icon",["medium-yellow","medium-yellow"],/\.jscad$/i],["org-icon",["dark-green","dark-green"],/\.org$/i],["osx-icon",["medium-red","medium-red"],/\.dmg$/i,,!1,,,,/^\x78\x01\x73\x0D\x62\x62\x60/],["ox-icon",["medium-cyan","dark-cyan"],/\.ox$/i,,!1,,/\.ox$/i,/^Ox$/i],["ox-icon",["medium-green","dark-green"],/\.oxh$/i],["ox-icon",["medium-blue","dark-blue"],/\.oxo$/i],["oxygene-icon",["medium-cyan","dark-cyan"],/\.oxygene$/i,,!1,,/\.oxygene$/i,/^Oxygene$/i],["oz-icon",["medium-yellow","medium-yellow"],/\.oz$/i,,!1,,/\.oz$/i,/^Oz$/i],["pan-icon",["medium-red","medium-red"],/\.pan$/i],["papyrus-icon",["medium-green","medium-green"],/\.psc$/i,,!1,,/(?:^|\.)(?:papyrus\.skyrim|compiled-?papyrus|papyrus-assembly)(?:\.|$)/i,/^Papyrus$/i],["parrot-icon",["medium-green","medium-green"],/\.parrot$/i,,!1,/^parrot$/],["parrot-icon",["dark-green","dark-green"],/\.pasm$/i,,!1,,/\.parrot\.pasm$/i,/^Parrot$|^pasm$/i],["parrot-icon",["dark-blue","dark-blue"],/\.pir$/i,,!1,,/\.parrot\.pir$/i,/^Parrot$|^pir$/i],["pascal-icon",["medium-purple","medium-purple"],/\.pas(?:cal)?$/i,,!1,/pascal|instantfpc/,/\.pascal$/i,/^Pascal$/i],["pascal-icon",["medium-blue","medium-blue"],/\.dfm$/i],["pascal-icon",["dark-blue","dark-blue"],/\.dpr$/i],["pascal-icon",["dark-purple","dark-purple"],/\.lpr$/i],["patch-icon",["medium-green","medium-green"],/\.patch$/i],["pawn-icon",["medium-orange","medium-orange"],/\.pwn$/i,,!1,,/\.pwn$/i,/^PAWN$/i],["pdf-icon",["medium-red","medium-red"],/\.pdf$/i,,!1,,,,/^%PDF/],["perl-icon",["medium-blue","medium-blue"],/\.p(?:er)?l$|\.t$/i,,!1,/^perl$/,/\.perl$/i,/^perl$/i],["perl-icon",["dark-purple","dark-purple"],/\.ph$/i],["perl-icon",["medium-purple","medium-purple"],/\.plx$/i],["perl-icon",["dark-blue","dark-blue"],/\.pm$/i],["perl-icon",["medium-red","medium-red"],/\.(?:psgi|xs)$/i],["perl6-icon",["medium-purple","medium-purple"],/\.pl6$/i,,!1,/^perl6$/,/(?:^|\.)perl6(?:fe)?(?=\.|$)/,/^(?:pl6|Perl\s*6)$/i],["perl6-icon",["light-blue","light-blue"],/\.[tp]6$|\.6pl$/i],["perl6-icon",["dark-pink","dark-pink"],/\.(?:pm6|p6m)$/i],["perl6-icon",["dark-cyan","dark-cyan"],/\.6pm$/i],["perl6-icon",["dark-purple","dark-purple"],/\.nqp$/i],["perl6-icon",["medium-blue","medium-blue"],/\.p6l$/i],["perl6-icon",["dark-green","dark-green"],/\.pod6$/i],["perl6-icon",["medium-green","medium-green"],/^Rexfile$/],["phalcon-icon",["medium-cyan","medium-cyan"],/\.volt$/i,,!1,,/\.volt$/i,/^Phalcon$/i],["php-icon",["dark-blue","dark-blue"],/\.php(?:[st\d]|_cs)?$/i,,!1,/^php$/,/\.php$/i,/^PHP$/i,/^<\?php/],["php-icon",["dark-green","dark-green"],/^Phakefile/],["pickle-icon",["dark-cyan","dark-cyan"],/\.pkl$/i],["pike-icon",["dark-cyan","dark-cyan"],/\.pike$/i,,!1,/^pike$/],["pike-icon",["medium-blue","medium-blue"],/\.pmod$/i],["sql-icon",["medium-red","medium-red"],/\.(?:pls|pck|pks|plb|plsql|pkb)$/i,,!1,,/\.plsql(?:\.oracle)?(?:\.|$)/i,/^PLSQL$/i],["pod-icon",["dark-blue","dark-blue"],/\.pod$/i],["pogo-icon",["medium-orange","dark-orange"],/\.pogo$/i,,!1,,/\.pogoscript$/i,/^PogoScript$/i],["pony-icon",["light-maroon","light-maroon"],/\.pony$/i,,!1,,/\.pony$/i,/^Pony$/i],["postcss-icon",["dark-red","dark-red"],/\.p(?:ost)?css$/i,,!1,/^postcss$/,/\.postcss$/i,/^p[0o]stcss$/i],["postcss-icon",["dark-pink","dark-pink"],/\.sss$/i,,!1,/^sugarss$/,/\.sugarss$/i,/^PostCSS$|^sugarss$/i],["postcss-icon",["medium-orange","dark-orange"],/\.postcssrc$/i],["postscript-icon",["medium-red","medium-red"],/\.ps$/i,,!1,,/\.postscript$/i,/^PostScript$|^p[0o]stscr$/i,/^%!PS/],["postscript-icon",["medium-orange","medium-orange"],/\.eps$/i],["postscript-icon",["dark-blue","dark-blue"],/\.pfa$/i],["postscript-icon",["medium-green","medium-green"],/\.afm$/i],["povray-icon",["dark-blue","dark-blue"],/\.pov$/i],["powerbuilder-icon",["medium-blue","medium-blue"],/\.pbl$|\.sra$/i],["powerbuilder-icon",["dark-blue","dark-blue"],/\.pbt$/i],["powerbuilder-icon",["medium-red","medium-red"],/\.srw$/i],["powerbuilder-icon",["medium-orange","medium-orange"],/\.sru$/i],["powerbuilder-icon",["medium-maroon","medium-maroon"],/\.srp$/i],["powerbuilder-icon",["medium-purple","medium-purple"],/\.srj$/i],["powershell-icon",["medium-blue","medium-blue"],/\.ps1$/i,,!1,,/\.powershell$/i,/^PowerShell$|^p[0o]sh$/i],["powershell-icon",["dark-blue","dark-blue"],/\.psd1$/i],["powershell-icon",["medium-purple","medium-purple"],/\.psm1$/i],["powershell-icon",["dark-purple","dark-purple"],/\.ps1xml$/i],["print-icon",["dark-cyan","dark-cyan"],/\.ppd$/i],["processing-icon",["dark-blue","dark-blue"],/\.pde$/i,,!1,,/\.processing$/i,/^Processing$/i],["prolog-icon",["medium-blue","medium-blue"],/\.pro$/i,,!1,/^swipl$/,/\.prolog$/i,/^Prolog$/i],["prolog-icon",["medium-cyan","medium-cyan"],/\.prolog$/i],["prolog-icon",["medium-purple","medium-purple"],/\.yap$/i,,!1,/^yap$/],["propeller-icon",["medium-orange","medium-orange"],/\.spin$/i,,!1,,/\.spin$/i,/^Propeller Spin$/i],["pug-icon",["medium-red","medium-red"],/\.pug$/i,,!1,,/\.pug$/i,/^Pug$/i],["puppet-icon",["medium-purple","medium-purple"],/\.pp$/i,,!1,/^puppet$/,/\.puppet$/i,/^puppet$/i],["puppet-icon",["dark-blue","dark-blue"],/Modulefile$/i],["purebasic-icon",["medium-red","medium-red"],/\.pb$/i,,!1,/^purebasic$/,/\.purebasic$/i,/^purebasic$/i],["purebasic-icon",["dark-orange","dark-orange"],/\.pbi$/i],["purescript-icon",["dark-purple","dark-purple"],/\.purs$/i,,!1,,/\.purescript$/i,/^PureScript$/i],["python-icon",["dark-blue","dark-blue"],/\.py$|\.bzl$|\.py3$|\.?(?:pypirc|pythonrc|python-venv)$/i,,!1,/python[\d.]*/,/\.python$/i,/^Python$|^rusth[0o]n$/i],["python-icon",["medium-blue","medium-blue"],/\.ipy$/i],["python-icon",["dark-green","dark-green"],/\.isolate$|\.gypi$|\.pyt$/i],["python-icon",["medium-orange","medium-orange"],/\.pep$|\.pyde$/i,,!1,/^pep8$/,/\.pep8$/i,/^Python$|^pep8$/i],["python-icon",["medium-green","medium-green"],/\.gyp$/i],["python-icon",["dark-purple","dark-purple"],/\.pyp$/i],["python-icon",["medium-maroon","medium-maroon"],/\.pyw$/i],["python-icon",["dark-pink","dark-pink"],/\.tac$/i],["python-icon",["dark-red","dark-red"],/\.wsgi$/i],["python-icon",["medium-yellow","dark-yellow"],/\.xpy$/i],["python-icon",["medium-pink","medium-pink"],/\.rpy$/i,,!1,,/\.renpy$/i,/^Python$|^Ren'?Py$/i],["python-icon",["dark-green","dark-green"],/^(?:BUCK|BUILD|SConstruct|SConscript)$/],["python-icon",["medium-green","medium-green"],/^(?:Snakefile|WATCHLISTS)$/],["python-icon",["dark-maroon","dark-maroon"],/^wscript$/],["r-icon",["medium-blue","medium-blue"],/\.(?:r|Rprofile|rsx|rd)$/i,,!1,/^Rscript$/,/\.r$/i,/^R$|^(?:Rscript|splus|Rlang)$/i],["racket-icon",["medium-red","medium-red"],/\.rkt$/i,,!1,/^racket$/,/\.racket$/i,/^racket$/i],["racket-icon",["medium-blue","medium-blue"],/\.rktd$/i],["racket-icon",["light-red","light-red"],/\.rktl$/i],["racket-icon",["dark-blue","dark-blue"],/\.scrbl$/i,,!1,/^scribble$/,/\.scribble$/i,/^Racket$|^scribble$/i],["raml-icon",["medium-cyan","medium-cyan"],/\.raml$/i,,!1,,/\.raml$/i,/^RAML$/i],["rascal-icon",["medium-yellow","medium-yellow"],/\.rsc$/i,,!1,,/\.rascal$/i,/^Rascal$/i],["rdoc-icon",["medium-red","medium-red"],/\.rdoc$/i,,!1,,/\.rdoc$/i,/^RDoc$/i],["xojo-icon",["medium-green","medium-green"],/\.rbbas$/i],["xojo-icon",["dark-green","dark-green"],/\.rbfrm$/i],["xojo-icon",["dark-cyan","dark-cyan"],/\.rbmnu$/i],["xojo-icon",["medium-cyan","medium-cyan"],/\.rbres$/i],["xojo-icon",["medium-blue","medium-blue"],/\.rbtbar$/i],["xojo-icon",["dark-blue","dark-blue"],/\.rbuistate$/i],["reason-icon",["medium-red","medium-red"],/\.re$/i,,!1,/^reason$/,/\.reason$/i,/^reas[0o]n$/i],["reason-icon",["medium-orange","medium-orange"],/\.rei$/i],["rebol-icon",["dark-green","dark-green"],/\.reb(?:ol)?$/i,,!1,/^rebol$/,/\.rebol$/i,/^reb[0o]l$/i],["rebol-icon",["dark-red","dark-red"],/\.r2$/i],["rebol-icon",["dark-blue","dark-blue"],/\.r3$/i],["red-icon",["medium-red","medium-red"],/\.red$/i,,!1,,/\.red$/i,/^Red$|^red\/?system$/i],["red-icon",["light-red","light-red"],/\.reds$/i],["red-hat-icon",["medium-red","medium-red"],/\.rpm$/i],["red-hat-icon",["dark-red","dark-red"],/\.spec$/i],["regex-icon",["medium-green","medium-green"],/\.regexp?$/i,,!1,,/(?:\.|^)regexp?(?:\.|$)/i,/^RegExp$/i],["android-icon",["dark-maroon","dark-maroon"],/\.rsh$/i],["rst-icon",["dark-blue","dark-blue"],/\.re?st(?:\.txt)?$/i,,!1,,/\.restructuredtext$/i,/^reStructuredText$|^re?st$/i],["rexx-icon",["medium-red","medium-red"],/\.rexx?$/i,,!1,/rexx|regina/i,/\.rexx$/i,/^REXX$/i],["rexx-icon",["medium-blue","medium-blue"],/\.pprx$/i],["riot-icon",["medium-red","medium-red"],/\.tag$/i,,!1,,/\.riot$/i,/^RiotJS$/i],["robot-icon",["medium-purple","medium-purple"],/\.robot$/i],["clojure-icon",["medium-red","medium-red"],/\.rg$/i],["rss-icon",["medium-orange","medium-orange"],/\.rss$/i],["ruby-icon",["medium-red","medium-red"],/\.(?:rb|ru|ruby|erb|gemspec|god|mspec|pluginspec|podspec|rabl|rake|opal)$|^\.?(?:irbrc|gemrc|pryrc|rspec|ruby-(?:gemset|version))$/i,,!1,/(?:mac|j)?ruby|rake|rbx/,/\.ruby$/i,/^Ruby$|^(?:rbx?|rake|jruby|macruby)$/i],["ruby-icon",["medium-red","medium-red"],/^(?:Appraisals|(?:Rake|Gem|[bB]uild|Berks|Cap|Danger|Deliver|Fast|Guard|Jar|Maven|Pod|Puppet|Snap)file(?:\.lock)?)$|^rails$/],["ruby-icon",["dark-red","dark-red"],/\.(?:jbuilder|rbuild|rb[wx]|builder)$/i],["ruby-icon",["dark-yellow","dark-yellow"],/\.watchr$/i],["rust-icon",["medium-maroon","medium-maroon"],/\.rs$/i,,!1,/^rust$/,/\.rust$/i,/^rust$/i],["rust-icon",["light-maroon","light-maroon"],/\.rlib$/i],["sage-icon",["medium-blue","medium-blue"],/\.sage$/i,,!1,/^sage$/,/\.sage$/i,/^sage$/i],["sage-icon",["dark-blue","dark-blue"],/\.sagews$/i],["saltstack-icon",["medium-blue","dark-blue"],/\.sls$/i,,!1,,/\.salt$/i,/^SaltStack$|^Salt(?:State)?$/i],["sas-icon",["medium-blue","medium-blue"],/\.sas$/i,,!1,,/\.sas$/i,/^SAS$/i],["sass-icon",["light-pink","light-pink"],/\.scss$/i,,!1,/^scss$/,/\.scss$/i,/^Sass$|^scss$/i],["sass-icon",["dark-pink","dark-pink"],/\.sass$/i,,!1,/^sass$/,/\.sass$/i,/^sass$/i],["sbt-icon",["dark-purple","dark-purple"],/\.sbt$/i],["scala-icon",["medium-red","medium-red"],/\.(?:sc|scala)$/i,,!1,/^scala$/,/\.scala$/i,/^Scala$/i],["scheme-icon",["medium-red","medium-red"],/\.scm$/i,,!1,/guile|bigloo|chicken/,/\.scheme$/i,/^Scheme$/i],["scheme-icon",["medium-blue","medium-blue"],/\.sld$/i],["scheme-icon",["medium-purple","medium-purple"],/\.sps$/i],["scilab-icon",["dark-purple","dark-purple"],/\.sci$/i,,!1,/^scilab$/,/\.scilab$/i,/^scilab$/i],["scilab-icon",["dark-blue","dark-blue"],/\.sce$/i],["scilab-icon",["dark-cyan","dark-cyan"],/\.tst$/i],["secret-icon",[null,null],/\.secret$/i],["self-icon",["dark-blue","dark-blue"],/\.self$/i,,!1,,/\.self$/i,/^Self$/i],["graph-icon",["light-red","light-red"],/\.csv$/i,,!1,,/(?:^|\.)csv(?:\.semicolon)?(?:\.|$)/i],["graph-icon",["light-green","light-green"],/\.(?:tab|tsv)$/i],["graph-icon",["medium-green","medium-green"],/\.dif$/i],["graph-icon",["medium-cyan","medium-cyan"],/\.slk$/i],["sf-icon",["light-orange","light-orange"],/\.sfproj$/i],["terminal-icon",["medium-purple","medium-purple"],/\.(?:sh|rc|bats|bash|tool|install|command)$/i,,!1,/bash|sh|zsh|rc/,/\.shell$/i,/^(?:sh|shell|Shell-?Script|Bash)$/i],["terminal-icon",["dark-purple","dark-purple"],/^(?:\.?bash(?:rc|[-_]?(?:profile|login|logout|history|prompt))|_osc|config|install-sh|PKGBUILD)$/i],["terminal-icon",["dark-yellow","dark-yellow"],/\.ksh$/i],["terminal-icon",["medium-yellow","dark-yellow"],/\.sh-session$/i,,!1,,/\.shell-session$/i,/^(?:Bash|Shell|Sh)[-\s]*(?:Session|Console)$/i],["terminal-icon",["medium-blue","medium-blue"],/\.zsh(?:-theme|_history)?$|^\.?(?:antigen|zpreztorc|zlogin|zlogout|zprofile|zshenv|zshrc)$|\.tmux$/i],["terminal-icon",["medium-green","medium-green"],/\.fish$|^\.fishrc$|\.tcsh$/i,,!1,/^fish$/,/\.fish$/i,/^fish$/i],["terminal-icon",["medium-red","medium-red"],/\.inputrc$/i],["terminal-icon",["medium-red","medium-red"],/^(?:configure|config\.(?:guess|rpath|status|sub)|depcomp|libtool|compile)$/],["terminal-icon",["dark-purple","dark-purple"],/^\/(?:private\/)?etc\/(?:[^\/]+\/)*(?:profile$|nanorc$|rc\.|csh\.)/i,,!0],["terminal-icon",["medium-yellow","medium-yellow"],/\.csh$/i],["shen-icon",["dark-cyan","dark-cyan"],/\.shen$/i],["shopify-icon",["medium-green","medium-green"],/\.liquid$/i],["sigils-icon",["dark-red","dark-red"],/\.sigils$/i],["silverstripe-icon",["medium-blue","medium-blue"],/\.ss$/i,,!1,,/(?:^|\.)ss(?:template)?(?:\.|$)/i,/^SilverStripe$/i],["sketch-icon",["medium-orange","medium-orange"],/\.sketch$/i],["slash-icon",["dark-blue","dark-blue"],/\.sl$/i,,!1,,/\.slash$/i,/^Slash$/i],["android-icon",["medium-green","medium-green"],/\.smali$/i,,!1,,/\.smali$/i,/^Smali$/i],["smarty-icon",["medium-yellow","dark-yellow"],/\.tpl$/i,,!1,,/\.smarty$/i,/^Smarty$/i],["snyk-icon",["dark-purple","dark-purple"],/\.snyk$/i],["clojure-icon",["medium-yellow","dark-yellow"],/\.(?:sma|sp)$/i,,!1,,/\.sp$/i,/^SourcePawn$|^s[0o]urcem[0o]d$/i],["sparql-icon",["medium-blue","medium-blue"],/\.sparql$/i,,!1,,/\.rq$/i,/^SPARQL$/i],["sparql-icon",["dark-blue","dark-blue"],/\.rq$/i],["sqf-icon",["dark-maroon","dark-maroon"],/\.sqf$/i,,!1,/^sqf$/,/\.sqf$/i,/^sqf$/i],["sqf-icon",["dark-red","dark-red"],/\.hqf$/i],["sql-icon",["medium-orange","medium-orange"],/\.(?:my)?sql$/i,,!1,/^sql$/,/\.sql$/i,/^sql$/i],["sql-icon",["medium-blue","medium-blue"],/\.ddl$/i],["sql-icon",["medium-green","medium-green"],/\.udf$/i],["sql-icon",["dark-cyan","dark-cyan"],/\.viw$/i],["sql-icon",["dark-blue","dark-blue"],/\.prc$/i],["sql-icon",["medium-purple","medium-purple"],/\.db2$/i],["sqlite-icon",["medium-blue","medium-blue"],/\.sqlite$/i],["sqlite-icon",["dark-blue","dark-blue"],/\.sqlite3$/i],["sqlite-icon",["medium-purple","medium-purple"],/\.db$/i],["sqlite-icon",["dark-purple","dark-purple"],/\.db3$/i],["squirrel-icon",["medium-maroon","medium-maroon"],/\.nut$/i,,!1,,/\.nut$/i,/^Squirrel$/i],["key-icon",["medium-yellow","medium-yellow"],/\.pub$/i],["key-icon",["medium-orange","medium-orange"],/\.pem$/i],["key-icon",["medium-blue","medium-blue"],/\.key$|\.crt$/i],["key-icon",["medium-purple","medium-purple"],/\.der$/i],["key-icon",["medium-red","medium-red"],/^id_rsa/],["key-icon",["medium-green","medium-green"],/\.glyphs\d*License$|^git-credential-osxkeychain$/i],["key-icon",["dark-green","dark-green"],/^(?:master\.)?passwd$/i],["stan-icon",["medium-red","medium-red"],/\.stan$/i,,!1,,/\.stan$/i,/^Stan$/i],["stata-icon",["medium-blue","medium-blue"],/\.do$/i,,!1,/^stata$/,/\.stata$/i,/^stata$/i],["stata-icon",["dark-blue","dark-blue"],/\.ado$/i],["stata-icon",["light-blue","light-blue"],/\.doh$/i],["stata-icon",["medium-cyan","medium-cyan"],/\.ihlp$/i],["stata-icon",["dark-cyan","dark-cyan"],/\.mata$/i,,!1,/^mata$/,/\.mata$/i,/^Stata$|^mata$/i],["stata-icon",["light-cyan","light-cyan"],/\.matah$/i],["stata-icon",["medium-purple","medium-purple"],/\.sthlp$/i],["storyist-icon",["medium-blue","medium-blue"],/\.story$/i],["strings-icon",["medium-red","medium-red"],/\.strings$/i,,!1,,/\.strings$/i,/^Strings$/i],["stylus-icon",["medium-green","medium-green"],/\.styl$/i,,!1,,/\.stylus$/i,/^Stylus$/i],["sublime-icon",["medium-orange","medium-orange"],/\.(?:stTheme|sublime[-_](?:build|commands|completions|keymap|macro|menu|mousemap|project|settings|theme|workspace|metrics|session|snippet))$/i],["sublime-icon",["dark-orange","dark-orange"],/\.sublime-syntax$/i],["scd-icon",["medium-red","medium-red"],/\.scd$/i,,!1,/sclang|scsynth/,/\.supercollider$/i,/^SuperCollider$/i],["svg-icon",["dark-yellow","dark-yellow"],/\.svg$/i,,!1,,/\.svg$/i,/^SVG$/i],["swift-icon",["medium-green","medium-green"],/\.swift$/i,,!1,,/\.swift$/i,/^Swift$/i],["sysverilog-icon",["medium-blue","dark-blue"],/\.sv$/i],["sysverilog-icon",["medium-green","dark-green"],/\.svh$/i],["sysverilog-icon",["medium-cyan","dark-cyan"],/\.vh$/i],["tag-icon",["medium-blue","medium-blue"],/\.?c?tags$/i],["tag-icon",["medium-red","medium-red"],/\.gemtags/i],["tcl-icon",["dark-orange","dark-orange"],/\.tcl$/i,,!1,/tclsh|wish/,/\.tcl$/i,/^Tcl$/i],["tcl-icon",["medium-orange","medium-orange"],/\.adp$/i],["tcl-icon",["medium-red","medium-red"],/\.tm$/i],["coffee-icon",["medium-orange","medium-orange"],/\.tea$/i,,!1,,/\.tea$/i,/^Tea$/i],["tt-icon",["medium-blue","medium-blue"],/\.tt2?$/i],["tt-icon",["medium-purple","medium-purple"],/\.tt3$/i],["tern-icon",["medium-blue","medium-blue"],/\.tern-project$/i],["terraform-icon",["dark-purple","dark-purple"],/\.tf(?:vars)?$/i,,!1,,/\.terra(?:form)?$/i,/^Terraform$/i],["tex-icon",["medium-blue","dark-blue"],/\.tex$|\.ltx$|\.lbx$/i,,!1,,/(?:^|\.)latex(?:\.|$)/i,/^TeX$|^latex$/i],["tex-icon",["medium-green","dark-green"],/\.aux$|\.ins$/i],["tex-icon",["medium-red","dark-red"],/\.sty$|\.texi$/i,,!1,,/(?:^|\.)tex(?:\.|$)/i,/^TeX$/i],["tex-icon",["medium-maroon","dark-maroon"],/\.dtx$/i],["tex-icon",["medium-orange","dark-orange"],/\.cls$|\.mkiv$|\.mkvi$|\.mkii$/i],["text-icon",["medium-blue","medium-blue"],/\.te?xt$|\.irclog$|\.uot$/i,,!1,,,,/^\xEF\xBB\xBF|^\xFF\xFE/],["text-icon",["medium-maroon","medium-maroon"],/\.log$|^Terminal[-_\s]Saved[-_\s]Output$|\.brf$/i],["text-icon",["dark-red","dark-red"],/\.git[\/\\]description$/,,!0],["text-icon",["medium-red","medium-red"],/\.err$|\.no$|^(?:bug-report|fdl|for-release|tests)$/i],["text-icon",["dark-red","dark-red"],/\.rtf$|\.uof$/i],["text-icon",["dark-blue","dark-blue"],/\.i?nfo$/i],["text-icon",["dark-purple","dark-purple"],/\.abt$|\.sub$/i],["text-icon",["dark-orange","dark-orange"],/\.ans$/i],["text-icon",["medium-yellow","medium-yellow"],/\.etx$/i],["text-icon",["medium-orange","medium-orange"],/\.msg$/i],["text-icon",["medium-purple","medium-purple"],/\.srt$|\.uop$/i],["text-icon",["medium-cyan","medium-cyan"],/\.(?:utxt|utf8)$/i],["text-icon",["medium-green","medium-green"],/\.weechatlog$|\.uos$/i],["textile-icon",["medium-orange","medium-orange"],/\.textile$/i,,!1,,/\.textile$/i,/^Textile$/i],["textmate-icon",["dark-green","dark-green"],/\.tmcg$/i],["textmate-icon",["dark-purple","dark-purple"],/\.tmLanguage$/i],["textmate-icon",["medium-blue","medium-blue"],/\.tmCommand$/i],["textmate-icon",["dark-blue","dark-blue"],/\.tmPreferences$/i],["textmate-icon",["dark-orange","dark-orange"],/\.tmSnippet$/i],["textmate-icon",["medium-pink","medium-pink"],/\.tmTheme$/i],["textmate-icon",["medium-maroon","medium-maroon"],/\.tmMacro$/i],["textmate-icon",["medium-orange","medium-orange"],/\.yaml-tmlanguage$/i],["textmate-icon",["medium-purple","medium-purple"],/\.JSON-tmLanguage$/i],["thor-icon",["medium-orange","medium-orange"],/\.thor$/i],["thor-icon",["dark-orange","dark-orange"],/^Thorfile$/i],["tsx-icon",["light-blue","light-blue"],/\.tsx$/i,,!1,,/\.tsx$/i,/^TSX$/i],["turing-icon",["medium-red","medium-red"],/\.tu$/i,,!1,,/\.turing$/i,/^Turing$/i],["twig-icon",["medium-green","medium-green"],/\.twig$/i,,!1,,/\.twig$/i,/^Twig$/i],["txl-icon",["medium-orange","medium-orange"],/\.txl$/i,,!1,,/\.txl$/i,/^TXL$/i],["ts-icon",["medium-blue","medium-blue"],/\.ts$/i,,!1,,/\.ts$/i,/^(?:ts|Type[-\s]*Script)$/i],["unity3d-icon",["dark-blue","dark-blue"],/\.anim$/i,,!1,/^shaderlab$/,/\.shaderlab$/i,/^Unity3D$|^shaderlab$/i],["unity3d-icon",["dark-green","dark-green"],/\.asset$/i],["unity3d-icon",["medium-red","medium-red"],/\.mat$/i],["unity3d-icon",["dark-red","dark-red"],/\.meta$/i],["unity3d-icon",["dark-cyan","dark-cyan"],/\.prefab$/i],["unity3d-icon",["medium-blue","medium-blue"],/\.unity$/i],["unity3d-icon",["medium-maroon","medium-maroon"],/\.unityproj$/i],["uno-icon",["dark-blue","dark-blue"],/\.uno$/i],["unreal-icon",[null,null],/\.uc$/i,,!1,,/\.uc$/i,/^UnrealScript$/i],["link-icon",["dark-blue","dark-blue"],/\.url$/i],["urweb-icon",["medium-maroon","medium-maroon"],/\.ur$/i,,!1,,/\.ur$/i,/^UrWeb$|^Ur(?:\/Web)?$/i],["urweb-icon",["dark-blue","dark-blue"],/\.urs$/i],["vagrant-icon",["medium-cyan","medium-cyan"],/^Vagrantfile$/i],["gnome-icon",["medium-purple","medium-purple"],/\.vala$/i,,!1,/^vala$/,/\.vala$/i,/^vala$/i],["gnome-icon",["dark-purple","dark-purple"],/\.vapi$/i],["varnish-icon",["dark-blue","dark-blue"],/\.vcl$/i,,!1,,/(?:^|\.)(?:varnish|vcl)(?:\.|$)/i,/^VCL$/i],["verilog-icon",["dark-green","dark-green"],/\.v$/i,,!1,/^verilog$/,/\.verilog$/i,/^veril[0o]g$/i],["verilog-icon",["medium-red","medium-red"],/\.veo$/i],["vhdl-icon",["dark-green","dark-green"],/\.vhdl$/i,,!1,/^vhdl$/,/\.vhdl$/i,/^vhdl$/i],["vhdl-icon",["medium-green","medium-green"],/\.vhd$/i],["vhdl-icon",["dark-blue","dark-blue"],/\.vhf$/i],["vhdl-icon",["medium-blue","medium-blue"],/\.vhi$/i],["vhdl-icon",["dark-purple","dark-purple"],/\.vho$/i],["vhdl-icon",["medium-purple","medium-purple"],/\.vhs$/i],["vhdl-icon",["dark-red","dark-red"],/\.vht$/i],["vhdl-icon",["dark-orange","dark-orange"],/\.vhw$/i],["video-icon",["medium-blue","medium-blue"],/\.3gpp?$/i,,!1,,,,/^.{4}ftyp3g/],["video-icon",["dark-blue","dark-blue"],/\.(?:mp4|m4v|h264)$/i,,!1,,,,/^.{4}ftyp/],["video-icon",["medium-blue","medium-blue"],/\.avi$/i,,!1,,,,/^MLVI/],["video-icon",["medium-cyan","medium-cyan"],/\.mov$/i,,!1,,,,/^.{4}moov/],["video-icon",["medium-purple","medium-purple"],/\.mkv$/i,,!1,,,,/^\x1AEß£\x93B\x82\x88matroska/],["video-icon",["medium-red","medium-red"],/\.flv$/i,,!1,,,,/^FLV\x01/],["video-icon",["dark-blue","dark-blue"],/\.webm$/i,,!1,,,,/^\x1A\x45\xDF\xA3/],["video-icon",["medium-red","medium-red"],/\.mpe?g$/i,,!1,,,,/^\0{2}\x01[\xB3\xBA]/],["video-icon",["dark-purple","dark-purple"],/\.(?:asf|wmv)$/i,,!1,,,,/^0&²u\x8EfÏ\x11¦Ù\0ª\0bÎl/],["video-icon",["medium-orange","medium-orange"],/\.(?:ogm|og[gv])$/i,,!1,,,,/^OggS/],["vim-icon",["medium-green","medium-green"],/\.(?:vim|n?vimrc)$/i,,!1,/Vim?/i,/\.viml$/i,/^(?:VimL?|NVim|Vim\s*Script)$/i],["vim-icon",["dark-green","dark-green"],/^[gn_]?vim(?:rc|info)$/i],["vs-icon",["medium-blue","medium-blue"],/\.(?:vba?|fr[mx]|bas)$/i,,!1,,/\.vbnet$/i,/^Visual Studio$|^vb\.?net$/i],["vs-icon",["medium-red","medium-red"],/\.vbhtml$/i],["vs-icon",["medium-green","medium-green"],/\.vbs$/i],["vs-icon",["dark-blue","dark-blue"],/\.csproj$/i],["vs-icon",["dark-red","dark-red"],/\.vbproj$/i],["vs-icon",["dark-purple","dark-purple"],/\.vcx?proj$/i],["vs-icon",["dark-green","dark-green"],/\.vssettings$/i],["vs-icon",["medium-maroon","medium-maroon"],/\.builds$/i],["vs-icon",["medium-orange","medium-orange"],/\.sln$/i],["vue-icon",["light-green","light-green"],/\.vue$/i,,!1,,/\.vue$/i,/^Vue$/i],["owl-icon",["dark-blue","dark-blue"],/\.owl$/i],["windows-icon",["medium-purple","medium-purple"],/\.bat$|\.cmd$/i,,!1,,/(?:^|\.)(?:bat|dosbatch)(?:\.|$)/i,/^(?:bat|(?:DOS|Win)?Batch)$/i],["windows-icon",[null,null],/\.(?:exe|com|msi)$/i],["windows-icon",["medium-blue","medium-blue"],/\.reg$/i],["x10-icon",["light-maroon","light-maroon"],/\.x10$/i,,!1,,/\.x10$/i,/^X10$|^xten$/i],["x11-icon",["medium-orange","medium-orange"],/\.X(?:authority|clients|initrc|profile|resources|session-errors|screensaver)$/i],["xmos-icon",["medium-orange","medium-orange"],/\.xc$/i],["appstore-icon",["medium-blue","medium-blue"],/\.(?:pbxproj|pbxuser|mode\dv\3|xcplugindata|xcrequiredplugins)$/i],["xojo-icon",["medium-green","medium-green"],/\.xojo_code$/i],["xojo-icon",["medium-blue","medium-blue"],/\.xojo_menu$/i],["xojo-icon",["medium-red","medium-red"],/\.xojo_report$/i],["xojo-icon",["dark-green","dark-green"],/\.xojo_script$/i],["xojo-icon",["dark-purple","dark-purple"],/\.xojo_toolbar$/i],["xojo-icon",["dark-cyan","dark-cyan"],/\.xojo_window$/i],["xpages-icon",["medium-blue","medium-blue"],/\.xsp-config$/i],["xpages-icon",["dark-blue","dark-blue"],/\.xsp\.metadata$/i],["xmos-icon",["dark-blue","dark-blue"],/\.xpl$/i],["xmos-icon",["medium-purple","medium-purple"],/\.xproc$/i],["sql-icon",["dark-red","dark-red"],/\.(?:xquery|xq|xql|xqm|xqy)$/i,,!1,,/\.xq$/i,/^XQuery$/i],["xtend-icon",["dark-purple","dark-purple"],/\.xtend$/i,,!1,,/\.xtend$/i,/^Xtend$/i],["yang-icon",["medium-yellow","medium-yellow"],/\.yang$/i,,!1,,/\.yang$/i,/^YANG$/i],["zbrush-icon",["dark-purple","dark-purple"],/\.zpr$/i],["zephir-icon",["medium-pink","medium-pink"],/\.zep$/i],["zimpl-icon",["medium-orange","medium-orange"],/\.(?:zimpl|zmpl|zpl)$/i],["apple-icon",["medium-blue","medium-blue"],/^com\.apple\./,.5],["apache-icon",["medium-red","medium-red"],/^httpd\.conf/i,0],["checklist-icon",["medium-yellow","medium-yellow"],/TODO/,0],["config-icon",[null,null],/config|settings|option|pref/i,0],["doge-icon",["medium-yellow","medium-yellow"],/\.djs$/i,0,!1,,/\.dogescript$/i,/^Dogescript$/i],["gear-icon",[null,null],/^\./,0],["book-icon",["medium-blue","medium-blue"],/\b(?:changelog|copying(?:v?\d)?|install|read[-_]?me)\b|^licen[sc]es?[-._]/i,0],["book-icon",["dark-blue","dark-blue"],/^news(?:[-_.]?[-\d]+)?$/i,0],["v8-icon",["medium-blue","medium-blue"],/^(?:[dv]8|v8[-_.][^.]*|mksnapshot|mkpeephole)$/i,0]],[[69,147,152,154,169,192,195,196,197,198,204,217,239,244,249,251,253,258,287,292,293,303,304,309,331,333,336,343,347,353,362,380,395,398,416,420,421,422,424,431,434,448,451,465,467,468,471,480,481,482,485,486,487,525,526,529,534,555,565,570,571,572,578,580,584,586,590,601,602,626,629,658,669,670,681,688,694,696,709,714,715,745,748,755,760,769,772,778,779,798,800,803,805,808,811,822,823,826,836,838,848,854,858,860,864,865,867,868,871,881,886,903,905,924,928,936,944,987,1e3,1003,1005,1023],[42,57,69,105,120,121,124,126,129,143,145,147,149,151,152,154,156,157,158,166,167,169,174,192,194,195,196,197,198,204,206,210,211,213,215,216,217,223,224,225,229,230,234,236,237,238,239,242,243,244,249,251,253,255,256,258,275,285,286,287,288,290,291,292,293,294,295,297,300,301,303,304,309,312,314,326,330,336,341,342,343,346,347,350,351,352,353,359,362,365,380,381,382,383,386,390,392,394,395,398,400,416,422,439,440,442,448,451,452,453,454,458,461,463,465,466,467,468,469,470,471,472,473,474,475,479,482,485,486,487,488,489,490,522,524,525,527,529,530,533,534,543,546,547,548,549,553,555,558,560,561,565,570,571,575,578,580,582,584,586,590,600,601,602,603,604,605,612,618,626,629,657,658,664,665,668,669,675,678,679,680,681,685,687,688,689,690,691,694,696,704,707,709,714,715,716,717,718,719,734,738,741,742,744,746,747,748,753,755,760,768,769,774,776,777,778,779,781,792,797,798,801,802,803,805,807,808,811,818,822,823,826,827,828,829,836,838,841,845,847,848,850,854,858,860,862,863,864,865,867,868,871,875,881,884,886,894,896,897,898,900,901,903,905,915,923,924,928,932,933,936,937,938,944,947,951,952,954,970,982,983,984,985,986,987,995,997,1e3,1002,1003,1005,1023,1025,1034,1036,1039,1053,1054,1055,1063],[41,150,282,283,284,321,889,959],[42,57,69,105,120,121,124,126,129,143,145,147,149,151,152,154,156,157,158,166,167,169,174,192,194,195,196,197,198,204,206,210,211,213,215,216,217,223,224,225,229,230,234,236,237,238,239,242,243,244,249,251,253,255,256,258,275,276,285,286,287,288,290,291,292,293,294,295,297,300,301,303,304,309,311,312,314,319,326,330,336,341,342,343,346,347,350,351,352,353,359,362,365,380,381,382,383,386,390,392,394,395,398,400,412,416,418,420,421,422,424,431,432,434,439,440,442,448,451,452,453,454,458,461,463,465,466,467,468,469,470,471,472,473,474,475,479,480,481,482,483,485,486,487,488,489,490,522,524,525,527,529,530,533,534,543,546,547,548,549,553,555,558,560,561,565,570,571,575,578,580,582,584,586,590,600,601,602,603,604,605,612,618,626,629,657,658,660,661,664,665,668,669,675,678,679,680,681,685,687,688,689,690,691,694,696,704,707,709,714,715,716,717,718,719,734,738,741,742,744,746,747,748,753,755,760,768,769,774,776,777,778,779,781,792,797,798,801,802,803,805,807,808,811,818,822,823,826,827,828,829,836,838,841,845,847,848,850,854,858,860,862,863,864,865,867,868,871,875,876,881,884,886,894,896,897,898,900,901,903,905,915,923,924,928,932,933,936,937,938,944,947,951,952,954,970,982,983,984,985,986,987,995,997,1e3,1002,1003,1005,1023,1025,1034,1036,1039,1053,1054,1055,1063],[106,138,178,179,180,181,182,183,184,185,186,188,189,235,261,262,263,264,265,268,273,348,372,373,374,375,376,377,410,411,493,494,495,496,497,498,499,500,501,503,504,505,506,507,509,510,511,512,513,514,516,519,520,601,674,737,754,769,781,957,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022]]]])}()}.apply(t,[]))||(e.exports=n)},37311:e=>{"use strict";e.exports=()=>/[<>:"\/\\|?*\x00-\x1F]/g,e.exports.windowsNames=()=>/^(con|prn|aux|nul|com[0-9]|lpt[0-9])$/i},10009:e=>{"use strict";e.exports=function(e,t){for(var i={},n=Object.keys(e),o=Array.isArray(t),r=0;r<n.length;r++){var s=n[r],a=e[s];(o?-1!==t.indexOf(s):t(s,a,e))&&(i[s]=a)}return i}},92551:e=>{var t;t={},e.exports=t,t.simpleFilter=function(e,i){return i.filter((function(i){return t.test(e,i)}))},t.test=function(e,i){return null!==t.match(e,i)},t.match=function(e,t,i){i=i||{};var n,o=0,r=[],s=t.length,a=0,c=0,l=i.pre||"",d=i.post||"",u=i.caseSensitive&&t||t.toLowerCase();e=i.caseSensitive&&e||e.toLowerCase();for(var h=0;h<s;h++)n=t[h],u[h]===e[o]?(n=l+n+d,o+=1,c+=1+c):c=0,a+=c,r[r.length]=n;return o===e.length?(a=u===e?1/0:a,{rendered:r.join(""),score:a}):null},t.filter=function(e,i,n){return i&&0!==i.length?"string"!=typeof e?i:(n=n||{},i.reduce((function(i,o,r,s){var a=o;n.extract&&(a=n.extract(o));var c=t.match(e,a,n);return null!=c&&(i[i.length]={string:c.rendered,score:c.score,index:r,original:o}),i}),[]).sort((function(e,t){return t.score-e.score||e.index-t.index}))):[]}},91325:(e,t,i)=>{"use strict";var n=i(60970),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return n.isMemo(e)?s:a[e.$$typeof]||o}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var l=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,i,n){if("string"!=typeof i){if(g){var o=p(i);o&&o!==g&&e(t,o,n)}var s=d(i);u&&(s=s.concat(u(i)));for(var a=c(t),f=c(i),m=0;m<s.length;++m){var b=s[m];if(!(r[b]||n&&n[b]||f&&f[b]||a&&a[b])){var v=h(i,b);try{l(t,b,v)}catch(e){}}}}return t}},17886:(e,t,i)=>{"use strict";i.r(t),i.d(t,{deleteDB:()=>m,openDB:()=>f,unwrap:()=>g,wrap:()=>p});const n=(e,t)=>t.some((t=>e instanceof t));let o,r;const s=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap;let u={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return p(e[t])},has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(r||(r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(g(this),e),p(s.get(this))}:function(...e){return p(t.apply(g(this),e))}:function(e,...i){const n=t.call(g(this),e,...i);return c.set(n,e.sort?e.sort():[e]),p(n)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",r),e.removeEventListener("abort",r)},o=()=>{t(),n()},r=()=>{i(e.error),n()};e.addEventListener("complete",o),e.addEventListener("error",r),e.addEventListener("abort",r)}));a.set(e,t)}(e),n(e,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,u):e);var t}function p(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,i)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",r)},o=()=>{t(p(e.result)),n()},r=()=>{i(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",r)}));return t.then((t=>{t instanceof IDBCursor&&s.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(l.has(e))return l.get(e);const t=h(e);return t!==e&&(l.set(e,t),d.set(t,e)),t}const g=e=>d.get(e);function f(e,t,{blocked:i,upgrade:n,blocking:o}={}){const r=indexedDB.open(e,t),s=p(r);return n&&r.addEventListener("upgradeneeded",(e=>{n(p(r.result),e.oldVersion,e.newVersion,p(r.transaction))})),i&&r.addEventListener("blocked",(()=>i())),o&&s.then((e=>e.addEventListener("versionchange",o))).catch((()=>{})),s}function m(e,{blocked:t}={}){const i=indexedDB.deleteDatabase(e);return t&&i.addEventListener("blocked",(()=>t())),p(i).then((()=>{}))}const b=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],A=new Map;function y(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(A.get(t))return A.get(t);const i=t.replace(/FromIndex$/,""),n=t!==i,o=v.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!b.includes(i))return;const r=async function(e,...t){const r=this.transaction(e,o?"readwrite":"readonly");let s=r.store;n&&(s=s.index(t.shift()));const a=s[i](...t);return o&&await r.done,a};return A.set(t,r),r}var C;C=u,u={get:(e,t,i)=>y(e,t)||C.get(e,t,i),has:(e,t)=>!!y(e,t)||C.has(e,t)}},4215:(e,t)=>{t.read=function(e,t,i,n,o){var r,s,a=8*o-n-1,c=(1<<a)-1,l=c>>1,d=-7,u=i?o-1:0,h=i?-1:1,p=e[t+u];for(u+=h,r=p&(1<<-d)-1,p>>=-d,d+=a;d>0;r=256*r+e[t+u],u+=h,d-=8);for(s=r&(1<<-d)-1,r>>=-d,d+=n;d>0;s=256*s+e[t+u],u+=h,d-=8);if(0===r)r=1-l;else{if(r===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),r-=l}return(p?-1:1)*s*Math.pow(2,r-n)},t.write=function(e,t,i,n,o,r){var s,a,c,l=8*r-o-1,d=(1<<l)-1,u=d>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:r-1,g=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+u>=1?h/c:h*Math.pow(2,1-u))*c>=2&&(s++,c/=2),s+u>=d?(a=0,s=d):s+u>=1?(a=(t*c-1)*Math.pow(2,o),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,o),s=0));o>=8;e[i+p]=255&a,p+=g,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[i+p]=255&s,p+=g,s/=256,l-=8);e[i+p-g]|=128*f}},65650:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AsyncContainerModule:()=>Ye,BindingScopeEnum:()=>b,BindingTypeEnum:()=>v,Container:()=>$e,ContainerModule:()=>qe,LazyServiceIdentifer:()=>$,METADATA_KEY:()=>ft,MetadataReader:()=>R,TargetTypeEnum:()=>A,createTaggedDecorator:()=>Ze,decorate:()=>tt,getServiceIdentifierAsString:()=>j,id:()=>C,inject:()=>st,injectable:()=>it,interfaces:()=>ht,multiBindToService:()=>he,multiInject:()=>lt,named:()=>ot,namedConstraint:()=>Le,optional:()=>at,postConstruct:()=>pt,preDestroy:()=>gt,tagged:()=>nt,taggedConstraint:()=>Ie,targetName:()=>dt,traverseAncerstors:()=>Be,typeConstraint:()=>Pe,unmanaged:()=>ct});var n={};i.r(n),i.d(n,{DESIGN_PARAM_TYPES:()=>p,INJECT_TAG:()=>c,MULTI_INJECT_TAG:()=>l,NAMED_TAG:()=>o,NAME_TAG:()=>r,NON_CUSTOM_TAG_KEYS:()=>m,OPTIONAL_TAG:()=>a,PARAM_TYPES:()=>h,POST_CONSTRUCT:()=>g,PRE_DESTROY:()=>f,TAGGED:()=>d,TAGGED_PROP:()=>u,UNMANAGED_TAG:()=>s});var o="named",r="name",s="unmanaged",a="optional",c="inject",l="multi_inject",d="inversify:tagged",u="inversify:tagged_props",h="inversify:paramtypes",p="design:paramtypes",g="post_construct",f="pre_destroy",m=[c,l,r,s,o,a],b={Request:"Request",Singleton:"Singleton",Transient:"Transient"},v={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},A={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"},y=0;function C(){return y++}var w=function(){function e(e,t){this.id=C(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=v.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===b.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.onDeactivation=this.onDeactivation,t.cache=this.cache,t},e}(),_="Cannot apply @injectable decorator multiple times.",S="Metadata key was used more than once in a parameter:",E="NULL argument",k="Key Not Found",x="Ambiguous match found for serviceIdentifier:",D="No matching bindings found for serviceIdentifier:",T="Missing required @injectable annotation in:",M="Missing required @inject or @multiInject annotation in:",B="Circular dependency found:",I="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},P=function(e,t){return"onDeactivation() error in class "+e+": "+t},O="Maximum call stack size exceeded",R=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(h,e),userGeneratedMetadata:Reflect.getMetadata(d,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(u,e)||[]},e}(),N={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};function F(e){return e instanceof RangeError||e.message===O}function j(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function W(e,t,i){var n="",o=i(e,t);return 0!==o.length&&(n="\nRegistered bindings:",o.forEach((function(e){var t="Object";null!==e.implementationType&&(t=H(e.implementationType)),n=n+"\n "+t,e.constraint.metaData&&(n=n+" - "+e.constraint.metaData)}))),n}function z(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||z(e.parentRequest,t))}function U(e){e.childRequests.forEach((function(e){if(z(e,e.serviceIdentifier)){var t=function(e){return function e(t,i){void 0===i&&(i=[]);var n=j(t.serviceIdentifier);return i.push(n),null!==t.parentRequest?e(t.parentRequest,i):i}(e).reverse().join(" --\x3e ")}(e);throw new Error(B+" "+t)}U(e)}))}function H(e){if(e.name)return e.name;var t=e.toString(),i=t.match(/^function\s*([^\s(]+)/);return i?i[1]:"Anonymous function: "+t}var V=function(){function e(e){this.id=C(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}(),K=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===o?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},e}(),G=function(e,t){this.parentContext=e,this.rootRequest=t},$=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}(),q=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,i=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},i)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}(),Y=function(){function e(e,t,i,n){this.id=C(),this.type=e,this.serviceIdentifier=i;var r="symbol"==typeof t?t.toString().slice(7,-1):t;this.name=new q(r||""),this.identifier=t,this.metadata=new Array;var s=null;"string"==typeof n?s=new K(o,n):n instanceof K&&(s=n),null!==s&&this.metadata.push(s)}return e.prototype.hasTag=function(e){for(var t=0,i=this.metadata;t<i.length;t++)if(i[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(l)},e.prototype.matchesArray=function(e){return this.matchesTag(l)(e)},e.prototype.isNamed=function(){return this.hasTag(o)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return m.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(a)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===o}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return m.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(o)(e)},e.prototype.matchesTag=function(e){var t=this;return function(i){for(var n=0,o=t.metadata;n<o.length;n++){var r=o[n];if(r.key===e&&r.value===i)return!0}return!1}},e}(),Q=function(e,t,i){if(i||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};function X(e,t,i,n){var o=e.getConstructorMetadata(i),r=o.compilerGeneratedMetadata;if(void 0===r)throw new Error(T+" "+t+".");var s=o.userGeneratedMetadata,a=Object.keys(s),c=0===i.length&&a.length>0,l=a.length>i.length,d=function(e,t,i,n,o){for(var r=[],s=0;s<o;s++){var a=Z(s,e,t,i,n);null!==a&&r.push(a)}return r}(n,t,r,s,c||l?a.length:i.length),u=ee(e,i,t);return Q(Q([],d,!0),u,!0)}function Z(e,t,i,n,o){var r=o[e.toString()]||[],s=ie(r),a=!0!==s.unmanaged,c=n[e];if((c=s.inject||s.multiInject||c)instanceof $&&(c=c.unwrap()),a){if(!t&&(c===Object||c===Function||void 0===c))throw new Error(M+" argument "+e+" in class "+i+".");var l=new Y(A.ConstructorArgument,s.targetName,c);return l.metadata=r,l}return null}function J(e,t,i,n){var o=e||t;if(void 0===o){var r=T+" for property "+String(i)+" in class "+n+".";throw new Error(r)}return o}function ee(e,t,i){for(var n=e.getPropertiesMetadata(t),o=[],r=Object.getOwnPropertySymbols(n),s=0,a=Object.keys(n).concat(r);s<a.length;s++){var c=a[s],l=n[c],d=ie(l),u=d.targetName||c,h=J(d.inject,d.multiInject,c,i),p=new Y(A.ClassProperty,u,h);p.metadata=l,o.push(p)}var g=Object.getPrototypeOf(t.prototype).constructor;if(g!==Object){var f=ee(e,g,i);o=Q(Q([],o,!0),f,!0)}return o}function te(e,t){var i=Object.getPrototypeOf(t.prototype).constructor;if(i!==Object){var n=X(e,H(i),i,!0),o=n.map((function(e){return e.metadata.filter((function(e){return e.key===s}))})),r=[].concat.apply([],o).length,a=n.length-r;return a>0?a:te(e,i)}return 0}function ie(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[c],multiInject:t[l],targetName:t[r],unmanaged:t[s]}}var ne=function(){function e(e,t,i,n,o){this.id=C(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=i,this.target=o,this.childRequests=[],this.bindings=Array.isArray(n)?n:[n],this.requestScope=null===i?new Map:null}return e.prototype.addChildRequest=function(t,i,n){var o=new e(t,this.parentContext,this,i,n);return this.childRequests.push(o),o},e}();function oe(e){return e._bindingDictionary}function re(e,t,i,n,o){var r,s=ae(i.container,o.serviceIdentifier);return s.length===N.NoBindingsAvailable&&i.container.options.autoBindInjectable&&"function"==typeof o.serviceIdentifier&&e.getConstructorMetadata(o.serviceIdentifier).compilerGeneratedMetadata&&(i.container.bind(o.serviceIdentifier).toSelf(),s=ae(i.container,o.serviceIdentifier)),r=t?s:s.filter((function(e){var t=new ne(e.serviceIdentifier,i,n,e,o);return e.constraint(t)})),function(e,t,i,n){switch(t.length){case N.NoBindingsAvailable:if(i.isOptional())return t;var o=j(e),r=D;throw r+=function(e,t){if(t.isTagged()||t.isNamed()){var i="",n=t.getNamedTag(),o=t.getCustomTags();return null!==n&&(i+=n.toString()+"\n"),null!==o&&o.forEach((function(e){i+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+i}return" "+e}(o,i),r+=W(n,o,ae),new Error(r);case N.OnlyOneBindingAvailable:return t;case N.MultipleBindingsAvailable:default:if(i.isArray())return t;throw o=j(e),r=x+" "+o,r+=W(n,o,ae),new Error(r)}}(o.serviceIdentifier,r,o,i.container),r}function se(e,t,i,n,o,r){var s,a;if(null===o){s=re(e,t,n,null,r),a=new ne(i,n,null,s,r);var c=new G(n,a);n.addPlan(c)}else s=re(e,t,n,o,r),a=o.addChildRequest(r.serviceIdentifier,s,r);s.forEach((function(t){var i=null;if(r.isArray())i=a.addChildRequest(t.serviceIdentifier,t,r);else{if(t.cache)return;i=a}if(t.type===v.Instance&&null!==t.implementationType){var o=function(e,t){return X(e,H(t),t,!1)}(e,t.implementationType);if(!n.container.options.skipBaseClassChecks){var s=te(e,t.implementationType);if(o.length<s){var c=L(H(t.implementationType));throw new Error(c)}}o.forEach((function(t){se(e,!1,t.serviceIdentifier,n,i,t)}))}}))}function ae(e,t){var i=[],n=oe(e);return n.hasKey(t)?i=n.get(t):null!==e.parent&&(i=ae(e.parent,t)),i}function ce(e){return("object"==typeof e&&null!==e||"function"==typeof e)&&"function"==typeof e.then}function le(e){return!!ce(e)||Array.isArray(e)&&e.some(ce)}var de,ue=function(e,t){return i=void 0,n=void 0,r=function(){var i,n;return function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t];case 1:return i=o.sent(),e.cache=i,[3,3];case 2:throw n=o.sent(),e.cache=null,e.activated=!1,n;case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{c(r.next(e))}catch(e){t(e)}}function a(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(s,a)}c((r=r.apply(i,n||[])).next())}));var i,n,o,r};!function(e){e.DynamicValue="toDynamicValue",e.Factory="toFactory",e.Provider="toProvider"}(de||(de={}));var he=function(e){return function(t){return function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];return i.forEach((function(i){return e.bind(i).toService(t)}))}}},pe=function(){return pe=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},pe.apply(this,arguments)},ge=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},fe=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},me=function(e,t,i){if(i||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};function be(e){var t,i=new((t=e.constr).bind.apply(t,me([void 0],e.constructorInjections,!1)));return e.propertyRequests.forEach((function(t,n){var o=t.target.identifier,r=e.propertyInjections[n];i[o]=r})),i}function ve(e){return ge(this,void 0,void 0,(function(){var t,i,n,o;return fe(this,(function(r){for(t=[],i=0,n=e;i<n.length;i++)o=n[i],Array.isArray(o)?t.push(Promise.all(o)):t.push(o);return[2,Promise.all(t)]}))}))}function Ae(e,t){var i=function(e,t){var i,n,o,r;if(Reflect.hasMetadata(g,e)){var s=Reflect.getMetadata(g,e);try{return null===(n=(i=t)[s.value])||void 0===n?void 0:n.call(i)}catch(t){throw new Error((o=e.name,r=t.message,"@postConstruct error in class "+o+": "+r))}}}(e,t);return ce(i)?i.then((function(){return t})):t}var ye=function(e){return function(t){t.parentContext.setCurrentRequest(t);var i=t.bindings,n=t.childRequests,o=t.target&&t.target.isArray(),r=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(o&&r)return n.map((function(t){return ye(e)(t)}));if(!t.target.isOptional()||0!==i.length){var s=i[0];return Se(e,t,s)}}},Ce=function(e,t){var i=function(e){switch(e.type){case v.Factory:return{factory:e.factory,factoryType:de.Factory};case v.Provider:return{factory:e.provider,factoryType:de.Provider};case v.DynamicValue:return{factory:e.dynamicValue,factoryType:de.DynamicValue};default:throw new Error("Unexpected factory type "+e.type)}}(e);return function(n,o){try{return i.factory.bind(e)(t)}catch(e){throw F(e)&&(e=new Error((r=i.factoryType,s=t.currentRequest.serviceIdentifier.toString(),"It looks like there is a circular dependency in one of the '"+r+"' bindings. Please investigate bindings withservice identifier '"+s+"'."))),e}var r,s}()},we=function(e,t,i){var n,o=t.childRequests;switch(function(e){var t=null;switch(e.type){case v.ConstantValue:case v.Function:t=e.cache;break;case v.Constructor:case v.Instance:t=e.implementationType;break;case v.DynamicValue:t=e.dynamicValue;break;case v.Provider:t=e.provider;break;case v.Factory:t=e.factory}if(null===t){var i=j(e.serviceIdentifier);throw new Error("Invalid binding type: "+i)}}(i),i.type){case v.ConstantValue:case v.Function:n=i.cache;break;case v.Constructor:n=i.implementationType;break;case v.Instance:n=function(e,t,i,n){!function(e,t){e.scope!==b.Singleton&&function(e,t){var i="Class cannot be instantiated in "+(e.scope===b.Request?"request":"transient")+" scope.";if("function"==typeof e.onDeactivation)throw new Error(P(t.name,i));if(Reflect.hasMetadata(f,t))throw new Error("@preDestroy error in class "+t.name+": "+i)}(e,t)}(e,t);var o=function(e,t,i){var n;if(t.length>0){var o=function(e,t){return e.reduce((function(e,i){var n=t(i);return i.target.type===A.ConstructorArgument?e.constructorInjections.push(n):(e.propertyRequests.push(i),e.propertyInjections.push(n)),e.isAsync||(e.isAsync=le(n)),e}),{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}(t,i),r=pe(pe({},o),{constr:e});n=o.isAsync?function(e){return ge(this,void 0,void 0,(function(){var t,i;return fe(this,(function(n){switch(n.label){case 0:return[4,ve(e.constructorInjections)];case 1:return t=n.sent(),[4,ve(e.propertyInjections)];case 2:return i=n.sent(),[2,be(pe(pe({},e),{constructorInjections:t,propertyInjections:i}))]}}))}))}(r):be(r)}else n=new e;return n}(t,i,n);return ce(o)?o.then((function(e){return Ae(t,e)})):Ae(t,o)}(i,i.implementationType,o,ye(e));break;default:n=Ce(i,t.parentContext)}return n},_e=function(e,t,i){var n=function(e,t){return t.scope===b.Singleton&&t.activated?t.cache:t.scope===b.Request&&e.has(t.id)?e.get(t.id):null}(e,t);return null!==n||function(e,t,i){t.scope===b.Singleton&&function(e,t){e.cache=t,e.activated=!0,ce(t)&&ue(e,t)}(t,i),t.scope===b.Request&&function(e,t,i){e.has(t.id)||e.set(t.id,i)}(e,t,i)}(e,t,n=i()),n},Se=function(e,t,i){return _e(e,i,(function(){var n=we(e,t,i);return ce(n)?n.then((function(e){return Ee(t,i,e)})):Ee(t,i,n)}))};function Ee(e,t,i){var n,o=ke(e.parentContext,t,i),r=Me(e.parentContext.container),s=r.next();do{n=s.value;var a=e.parentContext,c=e.serviceIdentifier,l=Te(n,c);o=ce(o)?De(l,a,o):xe(l,a,o),s=r.next()}while(!0!==s.done&&!oe(n).hasKey(e.serviceIdentifier));return o}var ke=function(e,t,i){return"function"==typeof t.onActivation?t.onActivation(e,i):i},xe=function(e,t,i){for(var n=e.next();!n.done;){if(ce(i=n.value(t,i)))return De(e,t,i);n=e.next()}return i},De=function(e,t,i){return n=void 0,o=void 0,s=function(){var n,o;return function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(r){switch(r.label){case 0:return[4,i];case 1:n=r.sent(),o=e.next(),r.label=2;case 2:return o.done?[3,4]:[4,o.value(t,n)];case 3:return n=r.sent(),o=e.next(),[3,2];case 4:return[2,n]}}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,a)}c((s=s.apply(n,o||[])).next())}));var n,o,r,s},Te=function(e,t){var i=e._activations;return i.hasKey(t)?i.get(t).values():[].values()},Me=function(e){for(var t=[e],i=e.parent;null!==i;)t.push(i),i=i.parent;return{next:function(){var e=t.pop();return void 0!==e?{done:!1,value:e}:{done:!0,value:void 0}}}},Be=function(e,t){var i=e.parentRequest;return null!==i&&(!!t(i)||Be(i,t))},Ie=function(e){return function(t){var i=function(i){return null!==i&&null!==i.target&&i.target.matchesTag(e)(t)};return i.metaData=new K(e,t),i}},Le=Ie(o),Pe=function(e){return function(t){var i=null;if(null!==t){if(i=t.bindings[0],"string"==typeof e)return i.serviceIdentifier===e;var n=t.bindings[0].implementationType;return e===n}return!1}},Oe=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new Re(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=Le(e),new Re(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e&&null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new Re(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=Ie(e)(t),new Re(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return null!==t&&Pe(e)(t.parentRequest)},new Re(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Le(e)(t.parentRequest)},new Re(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(i){return null!==i&&Ie(e)(t)(i.parentRequest)},new Re(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&Be(t,Pe(e))},new Re(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return null!==t&&!Be(t,Pe(e))},new Re(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&Be(t,Le(e))},new Re(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return null!==t&&!Be(t,Le(e))},new Re(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(i){return null!==i&&Be(i,Ie(e)(t))},new Re(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(i){return null!==i&&!Be(i,Ie(e)(t))},new Re(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&Be(t,e)},new Re(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return null!==t&&!Be(t,e)},new Re(this._binding)},e}(),Re=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new Oe(this._binding)},e.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new Oe(this._binding)},e}(),Ne=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Oe(this._binding),this._bindingOnSyntax=new Re(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),Fe=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=b.Request,new Ne(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=b.Singleton,new Ne(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=b.Transient,new Ne(this._binding)},e}(),je=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Oe(this._binding),this._bindingOnSyntax=new Re(this._binding),this._bindingInSyntax=new Fe(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},e}(),We=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=v.Instance,this._binding.implementationType=e,new je(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error("The toSelf function can only be applied when a constructor is used as service identifier");var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=v.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=b.Singleton,new Ne(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=v.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new je(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=v.Constructor,this._binding.implementationType=e,this._binding.scope=b.Singleton,new Ne(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=v.Factory,this._binding.factory=e,this._binding.scope=b.Singleton,new Ne(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error("Value provided to function binding must be a function!");var t=this.toConstantValue(e);return this._binding.type=v.Function,this._binding.scope=b.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=v.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=b.Singleton,new Ne(this._binding)},e.prototype.toAutoNamedFactory=function(e){return this._binding.type=v.Factory,this._binding.factory=function(t){return function(i){return t.container.getNamed(e,i)}},new Ne(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=v.Provider,this._binding.provider=e,this._binding.scope=b.Singleton,new Ne(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}(),ze=function(){function e(){}return e.of=function(t,i,n,o,r){var s=new e;return s.bindings=t,s.middleware=i,s.deactivations=o,s.activations=n,s.moduleActivationStore=r,s},e}(),Ue=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(E);if(null==t)throw new Error(E);var i=this._map.get(e);void 0!==i?i.push(t):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(E);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(k)},e.prototype.remove=function(e){if(null==e)throw new Error(E);if(!this._map.delete(e))throw new Error(k)},e.prototype.removeIntersection=function(e){var t=this;this.traverse((function(i,n){var o=e.hasKey(i)?e.get(i):void 0;if(void 0!==o){var r=n.filter((function(e){return!o.some((function(t){return e===t}))}));t._setValue(i,r)}}))},e.prototype.removeByCondition=function(e){var t=this,i=[];return this._map.forEach((function(n,o){for(var r=[],s=0,a=n;s<a.length;s++){var c=a[s];e(c)?i.push(c):r.push(c)}t._setValue(o,r)})),i},e.prototype.hasKey=function(e){if(null==e)throw new Error(E);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,i){e.forEach((function(e){return t.add(i,"object"==typeof(n=e)&&null!==n&&"clone"in n&&"function"==typeof n.clone?e.clone():e);var n}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,i){e(i,t)}))},e.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},e}(),He=function(){function e(){this._map=new Map}return e.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},e.prototype.addDeactivation=function(e,t,i){this._getModuleActivationHandlers(e).onDeactivations.add(t,i)},e.prototype.addActivation=function(e,t,i){this._getModuleActivationHandlers(e).onActivations.add(t,i)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,i){t._map.set(i,{onActivations:e.onActivations.clone(),onDeactivations:e.onDeactivations.clone()})})),t},e.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return void 0===t&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},e.prototype._getEmptyHandlersStore=function(){return{onActivations:new Ue,onDeactivations:new Ue}},e}(),Ve=function(){return Ve=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ve.apply(this,arguments)},Ke=function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Ge=function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},$e=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error("Invalid Container constructor argument. Container options must be an object.");if(void 0===t.defaultScope)t.defaultScope=b.Transient;else if(t.defaultScope!==b.Singleton&&t.defaultScope!==b.Transient&&t.defaultScope!==b.Request)throw new Error("Invalid Container option. Default scope must be a string ('singleton' or 'transient').");if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error("Invalid Container option. Auto bind injectable must be a boolean");if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error("Invalid Container option. Skip base check must be a boolean");this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=C(),this._bindingDictionary=new Ue,this._snapshots=[],this._middleware=null,this._activations=new Ue,this._deactivations=new Ue,this.parent=null,this._metadataReader=new R,this._moduleActivationStore=new He}return e.merge=function(t,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r=new e,s=function(e,t,i){if(i||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([t,i],n,!0).map((function(e){return oe(e)})),a=oe(r);return s.forEach((function(e){var t;t=a,e.traverse((function(e,i){i.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))})),r},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=this._getContainerModuleHelpersFactory(),n=0,o=e;n<o.length;n++){var r=o[n],s=i(r.id);r.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction,s.unbindAsyncFunction,s.onActivationFunction,s.onDeactivationFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ke(this,void 0,void 0,(function(){var t,i,n,o,r;return Ge(this,(function(s){switch(s.label){case 0:t=this._getContainerModuleHelpersFactory(),i=0,n=e,s.label=1;case 1:return i<n.length?(o=n[i],r=t(o.id),[4,o.registry(r.bindFunction,r.unbindFunction,r.isboundFunction,r.rebindFunction,r.unbindAsyncFunction,r.onActivationFunction,r.onDeactivationFunction)]):[3,4];case 2:s.sent(),s.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];t.forEach((function(t){var i=e._removeModuleBindings(t.id);e._deactivateSingletons(i),e._removeModuleHandlers(t.id)}))},e.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ke(this,void 0,void 0,(function(){var t,i,n,o;return Ge(this,(function(r){switch(r.label){case 0:t=0,i=e,r.label=1;case 1:return t<i.length?(n=i[t],o=this._removeModuleBindings(n.id),[4,this._deactivateSingletonsAsync(o)]):[3,4];case 2:r.sent(),this._removeModuleHandlers(n.id),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))},e.prototype.bind=function(e){var t=this.options.defaultScope||b.Transient,i=new w(e,t);return this._bindingDictionary.add(e,i),new We(i)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.rebindAsync=function(e){return Ke(this,void 0,void 0,(function(){return Ge(this,(function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}}))}))},e.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},e.prototype.unbindAsync=function(e){return Ke(this,void 0,void 0,(function(){var t;return Ge(this,(function(i){switch(i.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:i.sent(),i.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}}))}))},e.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse((function(t,i){e._deactivateSingletons(i)})),this._bindingDictionary=new Ue},e.prototype.unbindAllAsync=function(){return Ke(this,void 0,void 0,(function(){var e,t=this;return Ge(this,(function(i){switch(i.label){case 0:return e=[],this._bindingDictionary.traverse((function(i,n){e.push(t._deactivateSingletonsAsync(n))})),[4,Promise.all(e)];case 1:return i.sent(),this._bindingDictionary=new Ue,[2]}}))}))},e.prototype.onActivation=function(e,t){this._activations.add(e,t)},e.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,o,t)},e.prototype.isBoundTagged=function(e,t,i){var n=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),r=function(e,t,i,n){var o=new Y(A.Variable,"",t,new K(i,n)),r=new V(e);return new ne(t,r,null,[],o)}(this,e,t,i);n=o.some((function(e){return e.constraint(r)}))}return!n&&this.parent&&(n=this.parent.isBoundTagged(e,t,i)),n},e.prototype.snapshot=function(){this._snapshots.push(ze.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error("No snapshot available to restore.");this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},e.prototype.createChild=function(t){var i=new e(t||this.options);return i.parent=this,i},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),i)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},e.prototype.getAsync=function(e){return Ke(this,void 0,void 0,(function(){var t;return Ge(this,(function(i){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]}))}))},e.prototype.getTagged=function(e,t,i){var n=this._getNotAllArgs(e,!1,t,i);return this._getButThrowIfAsync(n)},e.prototype.getTaggedAsync=function(e,t,i){return Ke(this,void 0,void 0,(function(){var n;return Ge(this,(function(o){return n=this._getNotAllArgs(e,!1,t,i),[2,this._get(n)]}))}))},e.prototype.getNamed=function(e,t){return this.getTagged(e,o,t)},e.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,o,t)},e.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},e.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},e.prototype.getAllTagged=function(e,t,i){var n=this._getNotAllArgs(e,!0,t,i);return this._getButThrowIfAsync(n)},e.prototype.getAllTaggedAsync=function(e,t,i){var n=this._getNotAllArgs(e,!0,t,i);return this._getAll(n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,o,t)},e.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,o,t)},e.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var i=this.get(e);return t||this.unbind(e),i},e.prototype._preDestroy=function(e,t){if(Reflect.hasMetadata(f,e))return t[Reflect.getMetadata(f,e).value]()},e.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},e.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition((function(t){return t.moduleId===e}))},e.prototype._deactivate=function(e,t){var i=this,n=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if(ce(o))return this._handleDeactivationError(o.then((function(){return i._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,n)})),n)}var r=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,n);if(ce(r))return this._handleDeactivationError(r,n)}catch(e){throw new Error(P(n.name,e.message))}},e.prototype._handleDeactivationError=function(e,t){return Ke(this,void 0,void 0,(function(){var i;return Ge(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e];case 1:return n.sent(),[3,3];case 2:throw i=n.sent(),new Error(P(t.name,i.message));case 3:return[2]}}))}))},e.prototype._deactivateContainer=function(e,t){for(var i=this,n=t.next();n.value;){var o=n.value(e);if(ce(o))return o.then((function(){return i._deactivateContainerAsync(e,t)}));n=t.next()}},e.prototype._deactivateContainerAsync=function(e,t){return Ke(this,void 0,void 0,(function(){var i;return Ge(this,(function(n){switch(n.label){case 0:i=t.next(),n.label=1;case 1:return i.value?[4,i.value(e)]:[3,3];case 2:return n.sent(),i=t.next(),[3,1];case 3:return[2]}}))}))},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},i=function(i){return function(n){var o=e.rebind(n);return t(o,i),o}},n=function(t){return function(i,n){e._moduleActivationStore.addActivation(t,i,n),e.onActivation(i,n)}},o=function(t){return function(i,n){e._moduleActivationStore.addDeactivation(t,i,n),e.onDeactivation(i,n)}};return function(r){return{bindFunction:(s=r,function(i){var n=e.bind(i);return t(n,s),n}),isboundFunction:function(t){return e.isBound(t)},onActivationFunction:n(r),onDeactivationFunction:o(r),rebindFunction:i(r),unbindFunction:function(t){return e.unbind(t)},unbindAsyncFunction:function(t){return e.unbindAsync(t)}};var s}},e.prototype._getAll=function(e){return Promise.all(this._get(e))},e.prototype._get=function(e){var t=Ve(Ve({},e),{contextInterceptor:function(e){return e},targetType:A.Variable});if(this._middleware){var i=this._middleware(t);if(null==i)throw new Error("Invalid return type in middleware. Middleware must return!");return i}return this._planAndResolve()(t)},e.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if(le(t))throw new Error("You are attempting to construct '"+e.serviceIdentifier+"' in a synchronous way\n but it has asynchronous dependencies.");return t},e.prototype._getAllArgs=function(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}},e.prototype._getNotAllArgs=function(e,t,i,n){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:i,value:n}},e.prototype._planAndResolve=function(){var e=this;return function(t){var i=function(e,t,i,n,o,r,s,a){void 0===a&&(a=!1);var d=new V(t),u=function(e,t,i,n,o,r){var s=new K(e?l:c,i),a=new Y(t,"",i,s);if(void 0!==o){var d=new K(o,r);a.metadata.push(d)}return a}(i,n,o,0,r,s);try{return se(e,a,o,d,null,u),d}catch(e){throw F(e)&&U(d.plan.rootRequest),e}}(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return function(e){return ye(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}(i=t.contextInterceptor(i))}},e.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return ce(e.cache)?e.cache.then((function(i){return t._deactivate(e,i)})):this._deactivate(e,e.cache)},e.prototype._deactivateSingletons=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(ce(this._deactivateIfSingleton(n)))throw new Error("Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)")}},e.prototype._deactivateSingletonsAsync=function(e){return Ke(this,void 0,void 0,(function(){var t=this;return Ge(this,(function(i){switch(i.label){case 0:return[4,Promise.all(e.map((function(e){return t._deactivateIfSingleton(e)})))];case 1:return i.sent(),[2]}}))}))},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,i){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,i)},e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,i){return Ke(this,void 0,void 0,(function(){return Ge(this,(function(n){switch(n.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,i)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},e.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error("Could not unbind serviceIdentifier: "+j(e))}},e.prototype._bindingDeactivationAndPreDestroy=function(e,t,i){var n=this;if("function"==typeof e.onDeactivation){var o=e.onDeactivation(t);if(ce(o))return o.then((function(){return n._preDestroy(i,t)}))}return this._preDestroy(i,t)},e.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,i){return Ke(this,void 0,void 0,(function(){return Ge(this,(function(n){switch(n.label){case 0:return"function"!=typeof e.onDeactivation?[3,2]:[4,e.onDeactivation(t)];case 1:n.sent(),n.label=2;case 2:return[4,this._preDestroy(i,t)];case 3:return n.sent(),[2]}}))}))},e}(),qe=function(e){this.id=C(),this.registry=e},Ye=function(e){this.id=C(),this.registry=e};function Qe(e,t,i,n){!function(e){if(void 0!==e)throw new Error(I)}(t),Xe(d,e,i.toString(),n)}function Xe(e,t,i,n){var o=function(e){var t=[];if(Array.isArray(e)){var i=function(e){for(var t=new Set,i=0,n=e;i<n.length;i++){var o=n[i];if(t.has(o))return o;t.add(o)}}((t=e).map((function(e){return e.key})));if(void 0!==i)throw new Error(S+" "+i.toString())}else t=[e];return t}(n),r={};Reflect.hasOwnMetadata(e,t)&&(r=Reflect.getMetadata(e,t));var s=r[i];if(void 0===s)s=[];else for(var a=function(e){if(o.some((function(t){return t.key===e.key})))throw new Error(S+" "+e.key.toString())},c=0,l=s;c<l.length;c++)a(l[c]);s.push.apply(s,o),r[i]=s,Reflect.defineMetadata(e,r,t)}function Ze(e){return function(t,i,n){"number"==typeof n?Qe(t,i,n,e):function(e,t,i){if(void 0!==e.prototype)throw new Error(I);Xe(u,e.constructor,t,i)}(t,i,e)}}function Je(e,t){Reflect.decorate(e,t)}function et(e,t){return function(i,n){t(i,n,e)}}function tt(e,t,i){"number"==typeof i?Je([et(i,e)],t):"string"==typeof i?Reflect.decorate([e],t,i):Je([e],t)}function it(){return function(e){if(Reflect.hasOwnMetadata(h,e))throw new Error(_);var t=Reflect.getMetadata(p,e)||[];return Reflect.defineMetadata(h,t,e),e}}function nt(e,t){return Ze(new K(e,t))}function ot(e){return Ze(new K(o,e))}function rt(e){return function(t){return function(i,n,o){if(void 0===t){var r="function"==typeof i?i.name:i.constructor.name;throw new Error(function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."}(r))}return Ze(new K(e,t))(i,n,o)}}}var st=rt(c);function at(){return Ze(new K(a,!0))}function ct(){return function(e,t,i){Qe(e,t,i,new K(s,!0))}}var lt=rt(l);function dt(e){return function(t,i,n){Qe(t,i,n,new K(r,e))}}function ut(e,t){return function(){return function(i,n){var o=new K(e,n);if(Reflect.hasOwnMetadata(e,i.constructor))throw new Error(t);Reflect.defineMetadata(e,o,i.constructor)}}}var ht,pt=ut(g,"Cannot apply @postConstruct decorator multiple times in the same class"),gt=ut(f,"Cannot apply @preDestroy decorator multiple times in the same class");ht||(ht={});var ft=n},49976:(e,t,i)=>{var n=i(18533);e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!(void 0===n||"object"!=typeof n.versions||!n.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},42797:(e,t,i)=>{e.exports=i(56858)},68877:(e,t)=>{t.BIG5_TYPICAL_DISTRIBUTION_RATIO=.75,t.BIG5_TABLE_SIZE=5376,t.Big5CharToFreqOrder=[1,1801,1506,255,1431,198,9,82,6,5008,177,202,3681,1256,2821,110,3814,33,3274,261,76,44,2114,16,2946,2187,1176,659,3971,26,3451,2653,1198,3972,3350,4202,410,2215,302,590,361,1964,8,204,58,4510,5009,1932,63,5010,5011,317,1614,75,222,159,4203,2417,1480,5012,3555,3091,224,2822,3682,3,10,3973,1471,29,2787,1135,2866,1940,873,130,3275,1123,312,5013,4511,2052,507,252,682,5014,142,1915,124,206,2947,34,3556,3204,64,604,5015,2501,1977,1978,155,1991,645,641,1606,5016,3452,337,72,406,5017,80,630,238,3205,1509,263,939,1092,2654,756,1440,1094,3453,449,69,2987,591,179,2096,471,115,2035,1844,60,50,2988,134,806,1869,734,2036,3454,180,995,1607,156,537,2907,688,5018,319,1305,779,2145,514,2379,298,4512,359,2502,90,2716,1338,663,11,906,1099,2553,20,2441,182,532,1716,5019,732,1376,4204,1311,1420,3206,25,2317,1056,113,399,382,1950,242,3455,2474,529,3276,475,1447,3683,5020,117,21,656,810,1297,2300,2334,3557,5021,126,4205,706,456,150,613,4513,71,1118,2037,4206,145,3092,85,835,486,2115,1246,1426,428,727,1285,1015,800,106,623,303,1281,5022,2128,2359,347,3815,221,3558,3135,5023,1956,1153,4207,83,296,1199,3093,192,624,93,5024,822,1898,2823,3136,795,2065,991,1554,1542,1592,27,43,2867,859,139,1456,860,4514,437,712,3974,164,2397,3137,695,211,3037,2097,195,3975,1608,3559,3560,3684,3976,234,811,2989,2098,3977,2233,1441,3561,1615,2380,668,2077,1638,305,228,1664,4515,467,415,5025,262,2099,1593,239,108,300,200,1033,512,1247,2078,5026,5027,2176,3207,3685,2682,593,845,1062,3277,88,1723,2038,3978,1951,212,266,152,149,468,1899,4208,4516,77,187,5028,3038,37,5,2990,5029,3979,5030,5031,39,2524,4517,2908,3208,2079,55,148,74,4518,545,483,1474,1029,1665,217,1870,1531,3138,1104,2655,4209,24,172,3562,900,3980,3563,3564,4519,32,1408,2824,1312,329,487,2360,2251,2717,784,2683,4,3039,3351,1427,1789,188,109,499,5032,3686,1717,1790,888,1217,3040,4520,5033,3565,5034,3352,1520,3687,3981,196,1034,775,5035,5036,929,1816,249,439,38,5037,1063,5038,794,3982,1435,2301,46,178,3278,2066,5039,2381,5040,214,1709,4521,804,35,707,324,3688,1601,2554,140,459,4210,5041,5042,1365,839,272,978,2262,2580,3456,2129,1363,3689,1423,697,100,3094,48,70,1231,495,3139,2196,5043,1294,5044,2080,462,586,1042,3279,853,256,988,185,2382,3457,1698,434,1084,5045,3458,314,2625,2788,4522,2335,2336,569,2285,637,1817,2525,757,1162,1879,1616,3459,287,1577,2116,768,4523,1671,2868,3566,2526,1321,3816,909,2418,5046,4211,933,3817,4212,2053,2361,1222,4524,765,2419,1322,786,4525,5047,1920,1462,1677,2909,1699,5048,4526,1424,2442,3140,3690,2600,3353,1775,1941,3460,3983,4213,309,1369,1130,2825,364,2234,1653,1299,3984,3567,3985,3986,2656,525,1085,3041,902,2001,1475,964,4527,421,1845,1415,1057,2286,940,1364,3141,376,4528,4529,1381,7,2527,983,2383,336,1710,2684,1846,321,3461,559,1131,3042,2752,1809,1132,1313,265,1481,1858,5049,352,1203,2826,3280,167,1089,420,2827,776,792,1724,3568,4214,2443,3281,5050,4215,5051,446,229,333,2753,901,3818,1200,1557,4530,2657,1921,395,2754,2685,3819,4216,1836,125,916,3209,2626,4531,5052,5053,3820,5054,5055,5056,4532,3142,3691,1133,2555,1757,3462,1510,2318,1409,3569,5057,2146,438,2601,2910,2384,3354,1068,958,3043,461,311,2869,2686,4217,1916,3210,4218,1979,383,750,2755,2627,4219,274,539,385,1278,1442,5058,1154,1965,384,561,210,98,1295,2556,3570,5059,1711,2420,1482,3463,3987,2911,1257,129,5060,3821,642,523,2789,2790,2658,5061,141,2235,1333,68,176,441,876,907,4220,603,2602,710,171,3464,404,549,18,3143,2398,1410,3692,1666,5062,3571,4533,2912,4534,5063,2991,368,5064,146,366,99,871,3693,1543,748,807,1586,1185,22,2263,379,3822,3211,5065,3212,505,1942,2628,1992,1382,2319,5066,380,2362,218,702,1818,1248,3465,3044,3572,3355,3282,5067,2992,3694,930,3283,3823,5068,59,5069,585,601,4221,497,3466,1112,1314,4535,1802,5070,1223,1472,2177,5071,749,1837,690,1900,3824,1773,3988,1476,429,1043,1791,2236,2117,917,4222,447,1086,1629,5072,556,5073,5074,2021,1654,844,1090,105,550,966,1758,2828,1008,1783,686,1095,5075,2287,793,1602,5076,3573,2603,4536,4223,2948,2302,4537,3825,980,2503,544,353,527,4538,908,2687,2913,5077,381,2629,1943,1348,5078,1341,1252,560,3095,5079,3467,2870,5080,2054,973,886,2081,143,4539,5081,5082,157,3989,496,4224,57,840,540,2039,4540,4541,3468,2118,1445,970,2264,1748,1966,2082,4225,3144,1234,1776,3284,2829,3695,773,1206,2130,1066,2040,1326,3990,1738,1725,4226,279,3145,51,1544,2604,423,1578,2131,2067,173,4542,1880,5083,5084,1583,264,610,3696,4543,2444,280,154,5085,5086,5087,1739,338,1282,3096,693,2871,1411,1074,3826,2445,5088,4544,5089,5090,1240,952,2399,5091,2914,1538,2688,685,1483,4227,2475,1436,953,4228,2055,4545,671,2400,79,4229,2446,3285,608,567,2689,3469,4230,4231,1691,393,1261,1792,2401,5092,4546,5093,5094,5095,5096,1383,1672,3827,3213,1464,522,1119,661,1150,216,675,4547,3991,1432,3574,609,4548,2690,2402,5097,5098,5099,4232,3045,0,5100,2476,315,231,2447,301,3356,4549,2385,5101,233,4233,3697,1819,4550,4551,5102,96,1777,1315,2083,5103,257,5104,1810,3698,2718,1139,1820,4234,2022,1124,2164,2791,1778,2659,5105,3097,363,1655,3214,5106,2993,5107,5108,5109,3992,1567,3993,718,103,3215,849,1443,341,3357,2949,1484,5110,1712,127,67,339,4235,2403,679,1412,821,5111,5112,834,738,351,2994,2147,846,235,1497,1881,418,1993,3828,2719,186,1100,2148,2756,3575,1545,1355,2950,2872,1377,583,3994,4236,2581,2995,5113,1298,3699,1078,2557,3700,2363,78,3829,3830,267,1289,2100,2002,1594,4237,348,369,1274,2197,2178,1838,4552,1821,2830,3701,2757,2288,2003,4553,2951,2758,144,3358,882,4554,3995,2759,3470,4555,2915,5114,4238,1726,320,5115,3996,3046,788,2996,5116,2831,1774,1327,2873,3997,2832,5117,1306,4556,2004,1700,3831,3576,2364,2660,787,2023,506,824,3702,534,323,4557,1044,3359,2024,1901,946,3471,5118,1779,1500,1678,5119,1882,4558,165,243,4559,3703,2528,123,683,4239,764,4560,36,3998,1793,589,2916,816,626,1667,3047,2237,1639,1555,1622,3832,3999,5120,4e3,2874,1370,1228,1933,891,2084,2917,304,4240,5121,292,2997,2720,3577,691,2101,4241,1115,4561,118,662,5122,611,1156,854,2386,1316,2875,2,386,515,2918,5123,5124,3286,868,2238,1486,855,2661,785,2216,3048,5125,1040,3216,3578,5126,3146,448,5127,1525,5128,2165,4562,5129,3833,5130,4242,2833,3579,3147,503,818,4001,3148,1568,814,676,1444,306,1749,5131,3834,1416,1030,197,1428,805,2834,1501,4563,5132,5133,5134,1994,5135,4564,5136,5137,2198,13,2792,3704,2998,3149,1229,1917,5138,3835,2132,5139,4243,4565,2404,3580,5140,2217,1511,1727,1120,5141,5142,646,3836,2448,307,5143,5144,1595,3217,5145,5146,5147,3705,1113,1356,4002,1465,2529,2530,5148,519,5149,128,2133,92,2289,1980,5150,4003,1512,342,3150,2199,5151,2793,2218,1981,3360,4244,290,1656,1317,789,827,2365,5152,3837,4566,562,581,4004,5153,401,4567,2252,94,4568,5154,1399,2794,5155,1463,2025,4569,3218,1944,5156,828,1105,4245,1262,1394,5157,4246,605,4570,5158,1784,2876,5159,2835,819,2102,578,2200,2952,5160,1502,436,3287,4247,3288,2836,4005,2919,3472,3473,5161,2721,2320,5162,5163,2337,2068,23,4571,193,826,3838,2103,699,1630,4248,3098,390,1794,1064,3581,5164,1579,3099,3100,1400,5165,4249,1839,1640,2877,5166,4572,4573,137,4250,598,3101,1967,780,104,974,2953,5167,278,899,253,402,572,504,493,1339,5168,4006,1275,4574,2582,2558,5169,3706,3049,3102,2253,565,1334,2722,863,41,5170,5171,4575,5172,1657,2338,19,463,2760,4251,606,5173,2999,3289,1087,2085,1323,2662,3e3,5174,1631,1623,1750,4252,2691,5175,2878,791,2723,2663,2339,232,2421,5176,3001,1498,5177,2664,2630,755,1366,3707,3290,3151,2026,1609,119,1918,3474,862,1026,4253,5178,4007,3839,4576,4008,4577,2265,1952,2477,5179,1125,817,4254,4255,4009,1513,1766,2041,1487,4256,3050,3291,2837,3840,3152,5180,5181,1507,5182,2692,733,40,1632,1106,2879,345,4257,841,2531,230,4578,3002,1847,3292,3475,5183,1263,986,3476,5184,735,879,254,1137,857,622,1300,1180,1388,1562,4010,4011,2954,967,2761,2665,1349,592,2134,1692,3361,3003,1995,4258,1679,4012,1902,2188,5185,739,3708,2724,1296,1290,5186,4259,2201,2202,1922,1563,2605,2559,1871,2762,3004,5187,435,5188,343,1108,596,17,1751,4579,2239,3477,3709,5189,4580,294,3582,2955,1693,477,979,281,2042,3583,643,2043,3710,2631,2795,2266,1031,2340,2135,2303,3584,4581,367,1249,2560,5190,3585,5191,4582,1283,3362,2005,240,1762,3363,4583,4584,836,1069,3153,474,5192,2149,2532,268,3586,5193,3219,1521,1284,5194,1658,1546,4260,5195,3587,3588,5196,4261,3364,2693,1685,4262,961,1673,2632,190,2006,2203,3841,4585,4586,5197,570,2504,3711,1490,5198,4587,2633,3293,1957,4588,584,1514,396,1045,1945,5199,4589,1968,2449,5200,5201,4590,4013,619,5202,3154,3294,215,2007,2796,2561,3220,4591,3221,4592,763,4263,3842,4593,5203,5204,1958,1767,2956,3365,3712,1174,452,1477,4594,3366,3155,5205,2838,1253,2387,2189,1091,2290,4264,492,5206,638,1169,1825,2136,1752,4014,648,926,1021,1324,4595,520,4596,997,847,1007,892,4597,3843,2267,1872,3713,2405,1785,4598,1953,2957,3103,3222,1728,4265,2044,3714,4599,2008,1701,3156,1551,30,2268,4266,5207,2027,4600,3589,5208,501,5209,4267,594,3478,2166,1822,3590,3479,3591,3223,829,2839,4268,5210,1680,3157,1225,4269,5211,3295,4601,4270,3158,2341,5212,4602,4271,5213,4015,4016,5214,1848,2388,2606,3367,5215,4603,374,4017,652,4272,4273,375,1140,798,5216,5217,5218,2366,4604,2269,546,1659,138,3051,2450,4605,5219,2254,612,1849,910,796,3844,1740,1371,825,3845,3846,5220,2920,2562,5221,692,444,3052,2634,801,4606,4274,5222,1491,244,1053,3053,4275,4276,340,5223,4018,1041,3005,293,1168,87,1357,5224,1539,959,5225,2240,721,694,4277,3847,219,1478,644,1417,3368,2666,1413,1401,1335,1389,4019,5226,5227,3006,2367,3159,1826,730,1515,184,2840,66,4607,5228,1660,2958,246,3369,378,1457,226,3480,975,4020,2959,1264,3592,674,696,5229,163,5230,1141,2422,2167,713,3593,3370,4608,4021,5231,5232,1186,15,5233,1079,1070,5234,1522,3224,3594,276,1050,2725,758,1126,653,2960,3296,5235,2342,889,3595,4022,3104,3007,903,1250,4609,4023,3481,3596,1342,1681,1718,766,3297,286,89,2961,3715,5236,1713,5237,2607,3371,3008,5238,2962,2219,3225,2880,5239,4610,2505,2533,181,387,1075,4024,731,2190,3372,5240,3298,310,313,3482,2304,770,4278,54,3054,189,4611,3105,3848,4025,5241,1230,1617,1850,355,3597,4279,4612,3373,111,4280,3716,1350,3160,3483,3055,4281,2150,3299,3598,5242,2797,4026,4027,3009,722,2009,5243,1071,247,1207,2343,2478,1378,4613,2010,864,1437,1214,4614,373,3849,1142,2220,667,4615,442,2763,2563,3850,4028,1969,4282,3300,1840,837,170,1107,934,1336,1883,5244,5245,2119,4283,2841,743,1569,5246,4616,4284,582,2389,1418,3484,5247,1803,5248,357,1395,1729,3717,3301,2423,1564,2241,5249,3106,3851,1633,4617,1114,2086,4285,1532,5250,482,2451,4618,5251,5252,1492,833,1466,5253,2726,3599,1641,2842,5254,1526,1272,3718,4286,1686,1795,416,2564,1903,1954,1804,5255,3852,2798,3853,1159,2321,5256,2881,4619,1610,1584,3056,2424,2764,443,3302,1163,3161,5257,5258,4029,5259,4287,2506,3057,4620,4030,3162,2104,1647,3600,2011,1873,4288,5260,4289,431,3485,5261,250,97,81,4290,5262,1648,1851,1558,160,848,5263,866,740,1694,5264,2204,2843,3226,4291,4621,3719,1687,950,2479,426,469,3227,3720,3721,4031,5265,5266,1188,424,1996,861,3601,4292,3854,2205,2694,168,1235,3602,4293,5267,2087,1674,4622,3374,3303,220,2565,1009,5268,3855,670,3010,332,1208,717,5269,5270,3603,2452,4032,3375,5271,513,5272,1209,2882,3376,3163,4623,1080,5273,5274,5275,5276,2534,3722,3604,815,1587,4033,4034,5277,3605,3486,3856,1254,4624,1328,3058,1390,4035,1741,4036,3857,4037,5278,236,3858,2453,3304,5279,5280,3723,3859,1273,3860,4625,5281,308,5282,4626,245,4627,1852,2480,1307,2583,430,715,2137,2454,5283,270,199,2883,4038,5284,3606,2727,1753,761,1754,725,1661,1841,4628,3487,3724,5285,5286,587,14,3305,227,2608,326,480,2270,943,2765,3607,291,650,1884,5287,1702,1226,102,1547,62,3488,904,4629,3489,1164,4294,5288,5289,1224,1548,2766,391,498,1493,5290,1386,1419,5291,2056,1177,4630,813,880,1081,2368,566,1145,4631,2291,1001,1035,2566,2609,2242,394,1286,5292,5293,2069,5294,86,1494,1730,4039,491,1588,745,897,2963,843,3377,4040,2767,2884,3306,1768,998,2221,2070,397,1827,1195,1970,3725,3011,3378,284,5295,3861,2507,2138,2120,1904,5296,4041,2151,4042,4295,1036,3490,1905,114,2567,4296,209,1527,5297,5298,2964,2844,2635,2390,2728,3164,812,2568,5299,3307,5300,1559,737,1885,3726,1210,885,28,2695,3608,3862,5301,4297,1004,1780,4632,5302,346,1982,2222,2696,4633,3863,1742,797,1642,4043,1934,1072,1384,2152,896,4044,3308,3727,3228,2885,3609,5303,2569,1959,4634,2455,1786,5304,5305,5306,4045,4298,1005,1308,3728,4299,2729,4635,4636,1528,2610,161,1178,4300,1983,987,4637,1101,4301,631,4046,1157,3229,2425,1343,1241,1016,2243,2570,372,877,2344,2508,1160,555,1935,911,4047,5307,466,1170,169,1051,2921,2697,3729,2481,3012,1182,2012,2571,1251,2636,5308,992,2345,3491,1540,2730,1201,2071,2406,1997,2482,5309,4638,528,1923,2191,1503,1874,1570,2369,3379,3309,5310,557,1073,5311,1828,3492,2088,2271,3165,3059,3107,767,3108,2799,4639,1006,4302,4640,2346,1267,2179,3730,3230,778,4048,3231,2731,1597,2667,5312,4641,5313,3493,5314,5315,5316,3310,2698,1433,3311,131,95,1504,4049,723,4303,3166,1842,3610,2768,2192,4050,2028,2105,3731,5317,3013,4051,1218,5318,3380,3232,4052,4304,2584,248,1634,3864,912,5319,2845,3732,3060,3865,654,53,5320,3014,5321,1688,4642,777,3494,1032,4053,1425,5322,191,820,2121,2846,971,4643,931,3233,135,664,783,3866,1998,772,2922,1936,4054,3867,4644,2923,3234,282,2732,640,1372,3495,1127,922,325,3381,5323,5324,711,2045,5325,5326,4055,2223,2800,1937,4056,3382,2224,2255,3868,2305,5327,4645,3869,1258,3312,4057,3235,2139,2965,4058,4059,5328,2225,258,3236,4646,101,1227,5329,3313,1755,5330,1391,3314,5331,2924,2057,893,5332,5333,5334,1402,4305,2347,5335,5336,3237,3611,5337,5338,878,1325,1781,2801,4647,259,1385,2585,744,1183,2272,4648,5339,4060,2509,5340,684,1024,4306,5341,472,3612,3496,1165,3315,4061,4062,322,2153,881,455,1695,1152,1340,660,554,2154,4649,1058,4650,4307,830,1065,3383,4063,4651,1924,5342,1703,1919,5343,932,2273,122,5344,4652,947,677,5345,3870,2637,297,1906,1925,2274,4653,2322,3316,5346,5347,4308,5348,4309,84,4310,112,989,5349,547,1059,4064,701,3613,1019,5350,4311,5351,3497,942,639,457,2306,2456,993,2966,407,851,494,4654,3384,927,5352,1237,5353,2426,3385,573,4312,680,921,2925,1279,1875,285,790,1448,1984,719,2168,5354,5355,4655,4065,4066,1649,5356,1541,563,5357,1077,5358,3386,3061,3498,511,3015,4067,4068,3733,4069,1268,2572,3387,3238,4656,4657,5359,535,1048,1276,1189,2926,2029,3167,1438,1373,2847,2967,1134,2013,5360,4313,1238,2586,3109,1259,5361,700,5362,2968,3168,3734,4314,5363,4315,1146,1876,1907,4658,2611,4070,781,2427,132,1589,203,147,273,2802,2407,898,1787,2155,4071,4072,5364,3871,2803,5365,5366,4659,4660,5367,3239,5368,1635,3872,965,5369,1805,2699,1516,3614,1121,1082,1329,3317,4073,1449,3873,65,1128,2848,2927,2769,1590,3874,5370,5371,12,2668,45,976,2587,3169,4661,517,2535,1013,1037,3240,5372,3875,2849,5373,3876,5374,3499,5375,2612,614,1999,2323,3877,3110,2733,2638,5376,2588,4316,599,1269,5377,1811,3735,5378,2700,3111,759,1060,489,1806,3388,3318,1358,5379,5380,2391,1387,1215,2639,2256,490,5381,5382,4317,1759,2392,2348,5383,4662,3878,1908,4074,2640,1807,3241,4663,3500,3319,2770,2349,874,5384,5385,3501,3736,1859,91,2928,3737,3062,3879,4664,5386,3170,4075,2669,5387,3502,1202,1403,3880,2969,2536,1517,2510,4665,3503,2511,5388,4666,5389,2701,1886,1495,1731,4076,2370,4667,5390,2030,5391,5392,4077,2702,1216,237,2589,4318,2324,4078,3881,4668,4669,2703,3615,3504,445,4670,5393,5394,5395,5396,2771,61,4079,3738,1823,4080,5397,687,2046,935,925,405,2670,703,1096,1860,2734,4671,4081,1877,1367,2704,3389,918,2106,1782,2483,334,3320,1611,1093,4672,564,3171,3505,3739,3390,945,2641,2058,4673,5398,1926,872,4319,5399,3506,2705,3112,349,4320,3740,4082,4674,3882,4321,3741,2156,4083,4675,4676,4322,4677,2408,2047,782,4084,400,251,4323,1624,5400,5401,277,3742,299,1265,476,1191,3883,2122,4324,4325,1109,205,5402,2590,1e3,2157,3616,1861,5403,5404,5405,4678,5406,4679,2573,107,2484,2158,4085,3507,3172,5407,1533,541,1301,158,753,4326,2886,3617,5408,1696,370,1088,4327,4680,3618,579,327,440,162,2244,269,1938,1374,3508,968,3063,56,1396,3113,2107,3321,3391,5409,1927,2159,4681,3016,5410,3619,5411,5412,3743,4682,2485,5413,2804,5414,1650,4683,5415,2613,5416,5417,4086,2671,3392,1149,3393,4087,3884,4088,5418,1076,49,5419,951,3242,3322,3323,450,2850,920,5420,1812,2805,2371,4328,1909,1138,2372,3885,3509,5421,3243,4684,1910,1147,1518,2428,4685,3886,5422,4686,2393,2614,260,1796,3244,5423,5424,3887,3324,708,5425,3620,1704,5426,3621,1351,1618,3394,3017,1887,944,4329,3395,4330,3064,3396,4331,5427,3744,422,413,1714,3325,500,2059,2350,4332,2486,5428,1344,1911,954,5429,1668,5430,5431,4089,2409,4333,3622,3888,4334,5432,2307,1318,2512,3114,133,3115,2887,4687,629,31,2851,2706,3889,4688,850,949,4689,4090,2970,1732,2089,4335,1496,1853,5433,4091,620,3245,981,1242,3745,3397,1619,3746,1643,3326,2140,2457,1971,1719,3510,2169,5434,3246,5435,5436,3398,1829,5437,1277,4690,1565,2048,5438,1636,3623,3116,5439,869,2852,655,3890,3891,3117,4092,3018,3892,1310,3624,4691,5440,5441,5442,1733,558,4692,3747,335,1549,3065,1756,4336,3748,1946,3511,1830,1291,1192,470,2735,2108,2806,913,1054,4093,5443,1027,5444,3066,4094,4693,982,2672,3399,3173,3512,3247,3248,1947,2807,5445,571,4694,5446,1831,5447,3625,2591,1523,2429,5448,2090,984,4695,3749,1960,5449,3750,852,923,2808,3513,3751,969,1519,999,2049,2325,1705,5450,3118,615,1662,151,597,4095,2410,2326,1049,275,4696,3752,4337,568,3753,3626,2487,4338,3754,5451,2430,2275,409,3249,5452,1566,2888,3514,1002,769,2853,194,2091,3174,3755,2226,3327,4339,628,1505,5453,5454,1763,2180,3019,4096,521,1161,2592,1788,2206,2411,4697,4097,1625,4340,4341,412,42,3119,464,5455,2642,4698,3400,1760,1571,2889,3515,2537,1219,2207,3893,2643,2141,2373,4699,4700,3328,1651,3401,3627,5456,5457,3628,2488,3516,5458,3756,5459,5460,2276,2092,460,5461,4701,5462,3020,962,588,3629,289,3250,2644,1116,52,5463,3067,1797,5464,5465,5466,1467,5467,1598,1143,3757,4342,1985,1734,1067,4702,1280,3402,465,4703,1572,510,5468,1928,2245,1813,1644,3630,5469,4704,3758,5470,5471,2673,1573,1534,5472,5473,536,1808,1761,3517,3894,3175,2645,5474,5475,5476,4705,3518,2929,1912,2809,5477,3329,1122,377,3251,5478,360,5479,5480,4343,1529,551,5481,2060,3759,1769,2431,5482,2930,4344,3330,3120,2327,2109,2031,4706,1404,136,1468,1479,672,1171,3252,2308,271,3176,5483,2772,5484,2050,678,2736,865,1948,4707,5485,2014,4098,2971,5486,2737,2227,1397,3068,3760,4708,4709,1735,2931,3403,3631,5487,3895,509,2854,2458,2890,3896,5488,5489,3177,3178,4710,4345,2538,4711,2309,1166,1010,552,681,1888,5490,5491,2972,2973,4099,1287,1596,1862,3179,358,453,736,175,478,1117,905,1167,1097,5492,1854,1530,5493,1706,5494,2181,3519,2292,3761,3520,3632,4346,2093,4347,5495,3404,1193,2489,4348,1458,2193,2208,1863,1889,1421,3331,2932,3069,2182,3521,595,2123,5496,4100,5497,5498,4349,1707,2646,223,3762,1359,751,3121,183,3522,5499,2810,3021,419,2374,633,704,3897,2394,241,5500,5501,5502,838,3022,3763,2277,2773,2459,3898,1939,2051,4101,1309,3122,2246,1181,5503,1136,2209,3899,2375,1446,4350,2310,4712,5504,5505,4351,1055,2615,484,3764,5506,4102,625,4352,2278,3405,1499,4353,4103,5507,4104,4354,3253,2279,2280,3523,5508,5509,2774,808,2616,3765,3406,4105,4355,3123,2539,526,3407,3900,4356,955,5510,1620,4357,2647,2432,5511,1429,3766,1669,1832,994,928,5512,3633,1260,5513,5514,5515,1949,2293,741,2933,1626,4358,2738,2460,867,1184,362,3408,1392,5516,5517,4106,4359,1770,1736,3254,2934,4713,4714,1929,2707,1459,1158,5518,3070,3409,2891,1292,1930,2513,2855,3767,1986,1187,2072,2015,2617,4360,5519,2574,2514,2170,3768,2490,3332,5520,3769,4715,5521,5522,666,1003,3023,1022,3634,4361,5523,4716,1814,2257,574,3901,1603,295,1535,705,3902,4362,283,858,417,5524,5525,3255,4717,4718,3071,1220,1890,1046,2281,2461,4107,1393,1599,689,2575,388,4363,5526,2491,802,5527,2811,3903,2061,1405,2258,5528,4719,3904,2110,1052,1345,3256,1585,5529,809,5530,5531,5532,575,2739,3524,956,1552,1469,1144,2328,5533,2329,1560,2462,3635,3257,4108,616,2210,4364,3180,2183,2294,5534,1833,5535,3525,4720,5536,1319,3770,3771,1211,3636,1023,3258,1293,2812,5537,5538,5539,3905,607,2311,3906,762,2892,1439,4365,1360,4721,1485,3072,5540,4722,1038,4366,1450,2062,2648,4367,1379,4723,2593,5541,5542,4368,1352,1414,2330,2935,1172,5543,5544,3907,3908,4724,1798,1451,5545,5546,5547,5548,2936,4109,4110,2492,2351,411,4111,4112,3637,3333,3124,4725,1561,2674,1452,4113,1375,5549,5550,47,2974,316,5551,1406,1591,2937,3181,5552,1025,2142,3125,3182,354,2740,884,2228,4369,2412,508,3772,726,3638,996,2433,3639,729,5553,392,2194,1453,4114,4726,3773,5554,5555,2463,3640,2618,1675,2813,919,2352,2975,2353,1270,4727,4115,73,5556,5557,647,5558,3259,2856,2259,1550,1346,3024,5559,1332,883,3526,5560,5561,5562,5563,3334,2775,5564,1212,831,1347,4370,4728,2331,3909,1864,3073,720,3910,4729,4730,3911,5565,4371,5566,5567,4731,5568,5569,1799,4732,3774,2619,4733,3641,1645,2376,4734,5570,2938,669,2211,2675,2434,5571,2893,5572,5573,1028,3260,5574,4372,2413,5575,2260,1353,5576,5577,4735,3183,518,5578,4116,5579,4373,1961,5580,2143,4374,5581,5582,3025,2354,2355,3912,516,1834,1454,4117,2708,4375,4736,2229,2620,1972,1129,3642,5583,2776,5584,2976,1422,577,1470,3026,1524,3410,5585,5586,432,4376,3074,3527,5587,2594,1455,2515,2230,1973,1175,5588,1020,2741,4118,3528,4737,5589,2742,5590,1743,1361,3075,3529,2649,4119,4377,4738,2295,895,924,4378,2171,331,2247,3076,166,1627,3077,1098,5591,1232,2894,2231,3411,4739,657,403,1196,2377,542,3775,3412,1600,4379,3530,5592,4740,2777,3261,576,530,1362,4741,4742,2540,2676,3776,4120,5593,842,3913,5594,2814,2032,1014,4121,213,2709,3413,665,621,4380,5595,3777,2939,2435,5596,2436,3335,3643,3414,4743,4381,2541,4382,4744,3644,1682,4383,3531,1380,5597,724,2282,600,1670,5598,1337,1233,4745,3126,2248,5599,1621,4746,5600,651,4384,5601,1612,4385,2621,5602,2857,5603,2743,2312,3078,5604,716,2464,3079,174,1255,2710,4122,3645,548,1320,1398,728,4123,1574,5605,1891,1197,3080,4124,5606,3081,3082,3778,3646,3779,747,5607,635,4386,4747,5608,5609,5610,4387,5611,5612,4748,5613,3415,4749,2437,451,5614,3780,2542,2073,4388,2744,4389,4125,5615,1764,4750,5616,4390,350,4751,2283,2395,2493,5617,4391,4126,2249,1434,4127,488,4752,458,4392,4128,3781,771,1330,2396,3914,2576,3184,2160,2414,1553,2677,3185,4393,5618,2494,2895,2622,1720,2711,4394,3416,4753,5619,2543,4395,5620,3262,4396,2778,5621,2016,2745,5622,1155,1017,3782,3915,5623,3336,2313,201,1865,4397,1430,5624,4129,5625,5626,5627,5628,5629,4398,1604,5630,414,1866,371,2595,4754,4755,3532,2017,3127,4756,1708,960,4399,887,389,2172,1536,1663,1721,5631,2232,4130,2356,2940,1580,5632,5633,1744,4757,2544,4758,4759,5634,4760,5635,2074,5636,4761,3647,3417,2896,4400,5637,4401,2650,3418,2815,673,2712,2465,709,3533,4131,3648,4402,5638,1148,502,634,5639,5640,1204,4762,3649,1575,4763,2623,3783,5641,3784,3128,948,3263,121,1745,3916,1110,5642,4403,3083,2516,3027,4132,3785,1151,1771,3917,1488,4133,1987,5643,2438,3534,5644,5645,2094,5646,4404,3918,1213,1407,2816,531,2746,2545,3264,1011,1537,4764,2779,4405,3129,1061,5647,3786,3787,1867,2897,5648,2018,120,4406,4407,2063,3650,3265,2314,3919,2678,3419,1955,4765,4134,5649,3535,1047,2713,1266,5650,1368,4766,2858,649,3420,3920,2546,2747,1102,2859,2679,5651,5652,2e3,5653,1111,3651,2977,5654,2495,3921,3652,2817,1855,3421,3788,5655,5656,3422,2415,2898,3337,3266,3653,5657,2577,5658,3654,2818,4135,1460,856,5659,3655,5660,2899,2978,5661,2900,3922,5662,4408,632,2517,875,3923,1697,3924,2296,5663,5664,4767,3028,1239,580,4768,4409,5665,914,936,2075,1190,4136,1039,2124,5666,5667,5668,5669,3423,1473,5670,1354,4410,3925,4769,2173,3084,4137,915,3338,4411,4412,3339,1605,1835,5671,2748,398,3656,4413,3926,4138,328,1913,2860,4139,3927,1331,4414,3029,937,4415,5672,3657,4140,4141,3424,2161,4770,3425,524,742,538,3085,1012,5673,5674,3928,2466,5675,658,1103,225,3929,5676,5677,4771,5678,4772,5679,3267,1243,5680,4142,963,2250,4773,5681,2714,3658,3186,5682,5683,2596,2332,5684,4774,5685,5686,5687,3536,957,3426,2547,2033,1931,2941,2467,870,2019,3659,1746,2780,2781,2439,2468,5688,3930,5689,3789,3130,3790,3537,3427,3791,5690,1179,3086,5691,3187,2378,4416,3792,2548,3188,3131,2749,4143,5692,3428,1556,2549,2297,977,2901,2034,4144,1205,3429,5693,1765,3430,3189,2125,1271,714,1689,4775,3538,5694,2333,3931,533,4417,3660,2184,617,5695,2469,3340,3539,2315,5696,5697,3190,5698,5699,3932,1988,618,427,2651,3540,3431,5700,5701,1244,1690,5702,2819,4418,4776,5703,3541,4777,5704,2284,1576,473,3661,4419,3432,972,5705,3662,5706,3087,5707,5708,4778,4779,5709,3793,4145,4146,5710,153,4780,356,5711,1892,2902,4420,2144,408,803,2357,5712,3933,5713,4421,1646,2578,2518,4781,4782,3934,5714,3935,4422,5715,2416,3433,752,5716,5717,1962,3341,2979,5718,746,3030,2470,4783,4423,3794,698,4784,1893,4424,3663,2550,4785,3664,3936,5719,3191,3434,5720,1824,1302,4147,2715,3937,1974,4425,5721,4426,3192,823,1303,1288,1236,2861,3542,4148,3435,774,3938,5722,1581,4786,1304,2862,3939,4787,5723,2440,2162,1083,3268,4427,4149,4428,344,1173,288,2316,454,1683,5724,5725,1461,4788,4150,2597,5726,5727,4789,985,894,5728,3436,3193,5729,1914,2942,3795,1989,5730,2111,1975,5731,4151,5732,2579,1194,425,5733,4790,3194,1245,3796,4429,5734,5735,2863,5736,636,4791,1856,3940,760,1800,5737,4430,2212,1508,4792,4152,1894,1684,2298,5738,5739,4793,4431,4432,2213,479,5740,5741,832,5742,4153,2496,5743,2980,2497,3797,990,3132,627,1815,2652,4433,1582,4434,2126,2112,3543,4794,5744,799,4435,3195,5745,4795,2113,1737,3031,1018,543,754,4436,3342,1676,4796,4797,4154,4798,1489,5746,3544,5747,2624,2903,4155,5748,5749,2981,5750,5751,5752,5753,3196,4799,4800,2185,1722,5754,3269,3270,1843,3665,1715,481,365,1976,1857,5755,5756,1963,2498,4801,5757,2127,3666,3271,433,1895,2064,2076,5758,602,2750,5759,5760,5761,5762,5763,3032,1628,3437,5764,3197,4802,4156,2904,4803,2519,5765,2551,2782,5766,5767,5768,3343,4804,2905,5769,4805,5770,2864,4806,4807,1221,2982,4157,2520,5771,5772,5773,1868,1990,5774,5775,5776,1896,5777,5778,4808,1897,4158,318,5779,2095,4159,4437,5780,5781,485,5782,938,3941,553,2680,116,5783,3942,3667,5784,3545,2681,2783,3438,3344,2820,5785,3668,2943,4160,1747,2944,2983,5786,5787,207,5788,4809,5789,4810,2521,5790,3033,890,3669,3943,5791,1878,3798,3439,5792,2186,2358,3440,1652,5793,5794,5795,941,2299,208,3546,4161,2020,330,4438,3944,2906,2499,3799,4439,4811,5796,5797,5798,2522,1613,4812,5799,3345,3945,2523,5800,4162,5801,1637,4163,2471,4813,3946,5802,2500,3034,3800,5803,5804,2195,4814,5805,2163,5806,5807,5808,5809,5810,5811,5812,5813,5814,5815,5816,5817,5818,5819,5820,5821,5822,5823,5824,5825,5826,5827,5828,5829,5830,5831,5832,5833,5834,5835,5836,5837,5838,5839,5840,5841,5842,5843,5844,5845,5846,5847,5848,5849,5850,5851,5852,5853,5854,5855,5856,5857,5858,5859,5860,5861,5862,5863,5864,5865,5866,5867,5868,5869,5870,5871,5872,5873,5874,5875,5876,5877,5878,5879,5880,5881,5882,5883,5884,5885,5886,5887,5888,5889,5890,5891,5892,5893,5894,5895,5896,5897,5898,5899,5900,5901,5902,5903,5904,5905,5906,5907,5908,5909,5910,5911,5912,5913,5914,5915,5916,5917,5918,5919,5920,5921,5922,5923,5924,5925,5926,5927,5928,5929,5930,5931,5932,5933,5934,5935,5936,5937,5938,5939,5940,5941,5942,5943,5944,5945,5946,5947,5948,5949,5950,5951,5952,5953,5954,5955,5956,5957,5958,5959,5960,5961,5962,5963,5964,5965,5966,5967,5968,5969,5970,5971,5972,5973,5974,5975,5976,5977,5978,5979,5980,5981,5982,5983,5984,5985,5986,5987,5988,5989,5990,5991,5992,5993,5994,5995,5996,5997,5998,5999,6e3,6001,6002,6003,6004,6005,6006,6007,6008,6009,6010,6011,6012,6013,6014,6015,6016,6017,6018,6019,6020,6021,6022,6023,6024,6025,6026,6027,6028,6029,6030,6031,6032,6033,6034,6035,6036,6037,6038,6039,6040,6041,6042,6043,6044,6045,6046,6047,6048,6049,6050,6051,6052,6053,6054,6055,6056,6057,6058,6059,6060,6061,6062,6063,6064,6065,6066,6067,6068,6069,6070,6071,6072,6073,6074,6075,6076,6077,6078,6079,6080,6081,6082,6083,6084,6085,6086,6087,6088,6089,6090,6091,6092,6093,6094,6095,6096,6097,6098,6099,6100,6101,6102,6103,6104,6105,6106,6107,6108,6109,6110,6111,6112,6113,6114,6115,6116,6117,6118,6119,6120,6121,6122,6123,6124,6125,6126,6127,6128,6129,6130,6131,6132,6133,6134,6135,6136,6137,6138,6139,6140,6141,6142,6143,6144,6145,6146,6147,6148,6149,6150,6151,6152,6153,6154,6155,6156,6157,6158,6159,6160,6161,6162,6163,6164,6165,6166,6167,6168,6169,6170,6171,6172,6173,6174,6175,6176,6177,6178,6179,6180,6181,6182,6183,6184,6185,6186,6187,6188,6189,6190,6191,6192,6193,6194,6195,6196,6197,6198,6199,6200,6201,6202,6203,6204,6205,6206,6207,6208,6209,6210,6211,6212,6213,6214,6215,6216,6217,6218,6219,6220,6221,6222,6223,3670,6224,6225,6226,6227,6228,6229,6230,6231,6232,6233,6234,6235,6236,6237,6238,6239,6240,6241,6242,6243,6244,6245,6246,6247,6248,6249,6250,6251,6252,6253,6254,6255,6256,6257,6258,6259,6260,6261,6262,6263,6264,6265,6266,6267,6268,6269,6270,6271,6272,6273,6274,6275,6276,6277,6278,6279,6280,6281,6282,6283,6284,6285,4815,6286,6287,6288,6289,6290,6291,6292,4816,6293,6294,6295,6296,6297,6298,6299,6300,6301,6302,6303,6304,6305,6306,6307,6308,6309,6310,6311,4817,4818,6312,6313,6314,6315,6316,6317,6318,4819,6319,6320,6321,6322,6323,6324,6325,6326,6327,6328,6329,6330,6331,6332,6333,6334,6335,6336,6337,4820,6338,6339,6340,6341,6342,6343,6344,6345,6346,6347,6348,6349,6350,6351,6352,6353,6354,6355,6356,6357,6358,6359,6360,6361,6362,6363,6364,6365,6366,6367,6368,6369,6370,6371,6372,6373,6374,6375,6376,6377,6378,6379,6380,6381,6382,6383,6384,6385,6386,6387,6388,6389,6390,6391,6392,6393,6394,6395,6396,6397,6398,6399,6400,6401,6402,6403,6404,6405,6406,6407,6408,6408x2ZQ+eytSe/蚑{rv"ݓk7np0VDA(3 ^v`ʓ'O{jѳ'X|7n\S O~#޿{E #m͛z}|ƽ]ҀBf7¾>D[L==Y@JZ}x9 K]a56y15	bK/ pJh4vȝQnq]eÛsgWR=tC,,\Dv'02'ݸ)E}(-VQ20q.D^BiP=YehVY@!E"&=)u?(?J423+6ox}xC%`ӳ1e~=;hR?}jpI@ld tϜ%\$ y - <+-g&I*.]F5?cqͪ|IRDy=>!ӾFo%EW|؇QF)qd0q-e,!uomu}wKXշ:kOCˠKZ4+Fh:U&+Kc5
"hȬReoӏ?EMnw*z;et,`BxɰyYȰU{Mux4PPHshl2*g.6r2@T41}?4ҐnM$e4KpV pYNS) #3M^j)gỲ̘Bmh6t	 c}॓ 6H#G5Kup2}Ն+t|z 8YR&aLW k7 ཭f #T%PUF4*2&T^&ej?S3\!gd+t*t#
(bKۗ3w~V-PjҼF;=;oR37r:XVks8f .Qá˴V9N E )d sU}]7/}Ϻ	Se G țR2Ou|'`6oONNz?8p`̹W8.8/erO=V-Z\Ɗ9)峥(G?pTsAz)FZH!lIEG92 CJHf3ΥD#c븏E0{iUn rJ m|ݯw(ݫ2k4dZHj4%_ #^m`UzCGϛle{n}{uPJ~˷msޞOe2cRʭi`YCnӱ:n3d4jrmcs!gt\ѹ9?4UwerjUyϲxboFZ\ 0z+w fʚHfwNג⤁3K ^x=aP<z}i(Jd(pT>5PY]QZ=jPu/Ë'ѩj@!}5$~׺Ra3y=,;[`}CL]:d߆H ) ٪Yk|g=B*+z7*2$ڏ^D} C!"R9k2ԙz}:5lfyVoۤ?T۳lT@d7ރOk:eɅX;姢왖7ܤ%j {+L> VQV]r:\ߥg ^IJ{Aϸ26|Syr<)&c9^"eBI0Q:aTƚ98jqG߼$Ed(ΖF"L 72 <Jܖ~Tz,j[2դ?8z},;[|Ps(hٶÑW_'G5h+
#cٽ L(Ƶnܼ&/^ﭷP Cyij13|Q(o|'z|Ж3g:d~n
R4_3٭\ҵ:mK՗ڸ% S4!'0NmeG K=%c;x0p-w ~x,@d_ݑo|d{$SPeјx1@1Xխ(Q1 9j\ve!9]ܖFkWKh]Z{WcGm2~zZF#yz@%MWa*{~<#q>$q3w%P; P7A1?ó 
Q`OmY>Kz7ybb LuFNٓVTsI-+״?W5}`w!ioYCUK_!9Vα<w~C'&S%p2   ~>	%5s|\Z[CW|.e/deSQq瓏XcpsV{CE_eQ[M~QmcҠbhˠc7~񂞘]O?λ?ӀV+	h%~H4@ 3괢Ӎz'@!/up6C2E?40#㸾 ظ'sGm8,Jy;nVrnRֱ)ZHb ; Pr-x|ʖFhi}y(m,u`+9
 07i1*39WȖp
<M#*1@[Be{MrrCl\{e=ӁJm  pNAV)Q   ^ MQEk yXؤS? U:wfVT)T<o&yK+jh{/n>57-K(^)ߡƍߤ @c )/ހI)gR@ ^pS㯧% 7b,njd6"]Mjگ](>ssF>q3>YbSK@  7V3Ӛ@m&{Gu҇$@:O<_c( ~>152IOyo7|dn
iTXą zq2d3ǀS9.t&R|} 9б/ޑR>զG3?d1Rs9֭TcFf<EYH+rߐ[hdVG '~)+k,6f26KPJߔ":ׄzYWnȬ:S=1@8=L??7&~犠.&jFs
LrsyĀ$:si6eۖ;rʡ\rIv۲>nKz@$ P|^ 8הoSw͞׺ˮ.S
}0uzZ$_K`: fC ea9o=.Жޮ*kج׭nSn|=__u8:G|XÓ@!5e{>+{#ilcz%3G-dxl<;^OV`bNs#S\棉g'n4'͆tMi!
gP4Qr~:V_9q 0dLRٳCepRcQK?u''9ۺ: ^s YE]ֽ<}n2V݃ijƉ:6s>(\SJL)4sF0كvMARw^23V0f XDvg9zv&N
85ۂ-)j[ZfM }$͡20sr
Y,}^P
xQ/w.EG
$ǿ6Stؗ{?~O~TƝ2lmC3R=@+T~ӟ*M+JHAܲ ";o(Ԥ-? 4Yhp ]d?=:R%i?)hL<d%u󡿴=RABNdf1hL_[(o]pO Dղ'pABzjGu,6Ye
Yᴥ^JYٷAA b<X{!`q	doޔ^*w+dv*щ̋Q"1`3E<	fHnM9ɰvMf;wDn_Eg[Ç:>tLx&;pYCؘLPYu,)e @}Vl*+IR49 OgbPw3c8?W]u>%^r~>ʩ[H*8Q>lxgϞ_+1'g}_	hqf`[,ߐ>eE nkO3 ÜYYSҠ3zb
%3)+8oDN^6Zke~Lm &pL5`I  Q7ژi铂{`¦ ѿP<BCyͷZueB9
|>x)E^D%kfs>uةy69So W^vL|"^,Tku%cP@kUH9h cC`\ {
 #Kѱ
Bk  Ñ8= ́MCebjBfm5w?"!¶ 2<FdG3FQa֑MS``#BG?w N %z k {fU|%r-pv;n5$ iT< 8h `|āϦb"2;PФmqNp7?Jhy⍭J7>qN 
O7/B#?N4 pj$Zs=b~b0$XP}5`',&
%f].*7RPs# ùhASC>KR,(z!Y{Lg 㻔gPYILa[	*$q!Ót:k4CDҪ9璂a#rUA񲞯R2 |p9mW\ (Hx!m7V(g,Z4X-"1V:6Djp\ip6$i" b*\fG2=b8\89ɐn ,v_^-BƓk}^yL־ .m"߷":Cz՚T~= 5~@Uy37?/<'fMNJ6nU42rrz&E~Pk>Ń|xA^:ݝ-AO:;J˰qmXGN8Ը\5m`l0F9(܍[ est2g3ށA!E(+sWѺϳRűxhg(5NiKR+Brcd>]KWUkVeWdG	t&:E?KLx gp}c?LE]&$D@t8ҍt֏hth:({ZQӬY1edF|mo2cR}Nc|0񚩌ǖǔG1]vVΙ
s/ψ6z9o\/	cW eH,ZWOSas;Si<9+֧8I 9{)}8`\rŵ6qezËT?xo@<^(P!)@S-rrr&3k;,K;w2\Bȳmԫڮsݎ#˷
{O}t"TŞ#MQPBPLny)wG!Ȇl<'n3  (":Rh5`8Ѿ#a@
}D!pgg[ kU?wl?[ePjjF2d#h@CҬ@OT"r_@?c<8kw޼(t˸@QVAQF0s/z=i,V}1^?M<k`SԵ!C7J*Je^& /~b&%L h`;㡴Ǐwm;ݎfOd0>ÀJ!g	VÌoe-olRѰ-ǽ<H~MY[:p+O.>xPe]dB_yˀ_~^g= D! `:1ep[W@MUB8]Rˆx8<t=|8% 9۩~$@}ϛwu8ޗ<U+~E٣ ̌z\8c ss핗Djhxd6?59lhr?hW!6m3速xН)SK|^GFȡB /ZM p!  	PIDAT d޾@ .f2FQFlERk+b5BQ!vKƣ[oɉloF#lo'ѯ|^ޖ*x2E}H)o5ikE`.йֲUɯüG9;s،^ T+jj{rm#ם# ?_p!5[w 'f z\0(-a6E ff$h:U(`0Dl t;!`yǫx& @-> :A	34PN7u©q$HaC }>wO7nŋ
 7[_) Ū[AJiM9奓9AHSe)Cv }*w7!\N(:FVg+\20qnY` !oTyIo^<U}M dinf|Vz!I׵) ,KN=e2c6l !/~lWe !::8SB>h~]1Rf8)7ƖeGj\g,OyIȔ9)
q^T*刮E <zUn8tQ6fՌ~$a}ȾoV:K2gV7 3Y?ّ4'ԁSwW%M3߃3Gk/~4/}UߓގiI x$m~ .!m}u@AP鱼oV74H53تTKHkJmZ2h;[h)ae	QܺpA.˕ۑt;-i"xruf[vfY0X!JT *9eVG(PCY71jZxyWac0^R
LEH6)B#6O2ӾZNV9=Aُ_KkE"i5s&8UD^_F;/.=_??>t~9= 'lIaȴŹkԚ3Hhfg"m٢_3?Љ23[dl?Utk!@N_ܓ*Vg83RmMA s2tIb_~~Ѫ=|,g {y y!g WЅu ?2+L6'sZXؖ? }\ut͋&{LܴV2uwБ9jYS:T杽c?e[m	QjZ`?fFXol^|GONg?Pޑ}D-h*vKw[>i'Y}<dԘe#B=x _:o+\E'遴ki5hՖz("㮜ӣ<:-D>~D>= cly}? s]2b6@FfRfBf-î@8pG	 "fsSCaкv~;ȡ=~q>ګ3BƁPnnK}aٴxhgK3)c 0%A\$E߻S5f~ ],*j@D8NQ30n71u;SS׫K`RDñ[[??{w_rv[uF``r 5(8aHs,E#i/7iMoɰ}K:kp@Adw8~cuO
ϑco}KΏYu.:ʔ|n6"s򇾷t"\YO`v9 /TsK{h	\pTb/#?/ a܆ 8/^[n	0hˤZf ߭#]B_
MG2bvdR+]C)دAhj5`]2J:ñ2zV:䱛>>sB/
}oJ@boס(	_^,} }
[NGjw{VzTqk]92:J؄=l|,5[wHu">`B?lj6gn4wAd?%P^BNjX8OU@oz@0_hIKm=f@ f}$ў	
{m?p:    IENDB`